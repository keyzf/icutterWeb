webpackJsonp([0],{1362:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),r=i.n(n),a=i(70),o=i.n(a),s=i(1366),l=(i.n(s),i(1400)),c=(i.n(l),i(1402)),u=(i.n(c),i(1380)),h=(i.n(u),i(1405)),d=(i.n(h),i(1406)),p=(i.n(d),i(1372)),f=(i.n(p),i(52)),m=i(1416),g=(i.n(m),i(84)),v=i(511),y=i(1417),b=i(1391),_=i(1379),A=i(1371),E=i(160),w=i(161),x=i(1459),T=i(1495),S=i(1424),C=i(1393),k=i(1373),O=i(1367),P=i(1389),j=i(1412),I=i(540),M=i(1497),R=i.n(M),D=i(1498),L=i.n(D),N=i(518),B=i.n(N),F=i(1499),U=i(1500),z=i(1501),H=i(1502),V=i(1604),G=i(1605),q=i(1606),W=i(1629),Y=i(1388),X=i(1630),Q=f.o.Option,K=2,Z=10,J=90,$="0",ee=0,te="",ie="",ne="",re=[0,0],ae=!1,oe=[],se=!1,le=0,ce=void 0,ue=!1,he=!1,de=!1,pe=!0,fe=!1,me="",ge="",ve="",ye="",be="",_e="",Ae=function(){},Ee={title:/[^\w\u4E00-\u9FA5\u3008\u3009\u300a\u300b\u3002 \uff0c\u3001\uff1a\uff1b\uff1f\uff01\u2018\u2019\u201c\u201d\u2032.,\ufe51:;?!'"+\-*=<_#$&%^\xb7-\u2014\u2026\/@\uffe5\xa5-\u2026\u221a\u2160\u2161\u2162\u2163\u2164\u2165\u2166\u2167\u2168\u2169\xd7\xf7\xb1\uff0f\u2248\u2261\u2260\uff1c\uff1e\u2264\u2265\u220f\xba\uff05\u2030\u2105\xb0\u2103\u2109\u2033\u33a1\u33a5\u0101\xe1\u01ce\xe0\u014c\xd3\u01d1\xd2\u016b\xfa\u01d4\xf9\u012b\xed\u01d0\xec\u0113\xe9\u011b\xe8\xea\u01d6\u01d8\u01da\u01dc\xfc]/g,title_start:/^[^\w\u4E00-\u9FA5\u300a\u201c]/,label:/[^\w\u4E00-\u9FA5\u3008\u3009\u300a\u300b\u3002\uff0c\u3001\uff1a\uff1b\uff1f\uff01\u2018\u2019\u201c\u201d\u2032.,\ufe51:;?!'"+\-*=<_#$&%^\xb7-\u2014\u2026\/@\uffe5\xa5-\u2026\u221a\u2160\u2161\u2162\u2163\u2164\u2165\u2166\u2167\u2168\u2169\xd7\xf7\xb1\uff0f\u2248\u2261\u2260\uff1c\uff1e\u2264\u2265\u220f\xba\uff05\u2030\u2105\xb0\u2103\u2109\u2033\u33a1\u33a5\u0101\xe1\u01ce\xe0\u014c\xd3\u01d1\xd2\u016b\xfa\u01d4\xf9\u012b\xed\u01d0\xec\u0113\xe9\u011b\xe8\xea\u01d6\u01d8\u01da\u01dc\xfc]/g},we="",xe=document.createElement("img");xe.crossOrigin="anonymous",xe.src=B.a;var Te=document.createElement("canvas"),Se=function(){},Ce=(document.createElement("div"),r.a.createClass({displayName:"Main",getInitialState:function(){return{userInfo:Object(A.a)(),auto_indent:!0,items:[],files:[],fileName:"",label:[],duration:0,paused:!0,record:{},transition:"",path_box:0,meal:{},currentArea:"",currentAreaId:"",theLogoUrl:"",modalVisible:!1,newTemplateVisible:!1,modalType:"video",confirmLoading:!1,themeConfig:{},modalTitle:"\u6dfb\u52a0\u8f68\u9053",modalText:"",message:{},can_publish:!0,themeName:"\u4e3b\u9898\u540d\u79f0",subtitles_config:{current:-1,list:[]},subtitles_show:!1,fullScreen:!1,loadingMedia:!1,saveTemplate:!1,unit_detail:{},loaded:!0,issue:{},used_list:{},screen_scale:"16:9",loadingSnap:{},play_lock:!0,show_shortcut:!1,show_rename:!1,new_name:!1,newTemplateText:"",transToAudio:!1,refreshDialog:"",colophon:{},currentMediaDuration:0,_pathway:[],_ctrl:[],unit_length:10,unit_time:1,unit_scale:1,time_line_start:0,time_line_now:0,newFile:"",delete:"",max_time:50,imgData:"",showCropper:!1,cropperSize:16/9,showSubtitlesStyle:!1}},componentDidMount:function(){var e=this,t=this,i=window.location.href.toLocaleLowerCase();this.initLogo(),"Chrome"!==localStorage.bType&&i.toLocaleLowerCase().indexOf("online")>0&&Object(I.c)("\u63a8\u8350\u4f7f\u7528Chrome");var n=this.props.location.state;if(n){var r=0,a=0,s=0,l={},c="",u="";n.map(function(e,t){[0,1,2,5].indexOf(e.status)>=0?e.times?l[e.times]=e:l[999]=e:3===e.status?c+=e.name+";":4===e.status?u+=e.name+";":l[999]=e}),c&&f.u.warning({duration:null,message:"\u4ee5\u4e0b\u7d20\u6750\u672a\u4e0a\u4f20\u5b8c\u6210\uff0c\u9700\u624b\u52a8\u62fc\u63a5\uff1a",description:c}),u&&f.u.warning({duration:null,message:"\u4ee5\u4e0b\u7d20\u6750\u672a\u5bfc\u5165\u5b8c\u6210\uff0c\u9700\u624b\u52a8\u62fc\u63a5\uff1a",description:u});for(var h in l){var d=l[h],p=d.duration?parseInt(25*d.duration)/25:5,m=!1;"image"===d.media_type?m=!0:d.preview_hls?m=!0:d.media_url&&d.media_url.toLocaleLowerCase().indexOf(".hls")>0&&(m=!0),d.start_time="audio"===d.media_type?a:r,d.end_time=d.start_time+p,d.duration=p,d.start_range=0,d.end_range=p,d.layer="audio"===d.media_type?2:1,d.position=s,d.uploading=m?"can":"cannot",Object(k.a)("","",0,"",d),s++,"audio"===d.media_type?a+=p:r+=p}}this.renderPath("render"),this.shortcutInit(),this.playVideo(),this.save_config("pre"),this.showLoading();var g=Object(k.l)(),v=1;g.video_list.map(function(e,t){e.obj_list.map(function(e,t){v+=1})}),setTimeout(function(){e.closeLoading()},1e3*v),o()(".progress").bind("mousedown",function(i){fe=!0,i.currentTarget===i.target&&ge[0]&&(ge[0].currentTime=(ge[0].duration||0)*i.offsetX/(o()(".progress").width()-2),e.setState({paused:!0}),t.playMedia("once"))}),Object(S.b)(function(t){e.setState({fullScreen:t}),e.exitFullScreen()}),Ae=this.initScrollBar(),o()(".tl-wrapper .pathway-ctrl").sortable({cancel:".no-sor",zIndex:999,helper:"clone",start:function(e,t){var i=Object(k.l)(),n=i.video_list.length-1,r=o()(".pathway-box .pathway").eq(1*t.helper.attr("key"));t.helper.html(t.helper.clone()).attr("vKeys",n).addClass("dragBorder").removeClass("ctrl").css({overflow:"hidden",width:"100%"}).append(r.clone().removeClass("visibility-h")),r.addClass("visibility-h").siblings().removeClass("visibility-h")},change:function(e,t){var i=t.helper.attr("key"),n=t.helper.attr("vKeys"),r=t.placeholder.index(),a=o()(".pathway-box .visibility-h"),s=o()(".pathway-box .pathway"),l=a.index(),c=r>i?r-1:r;i<n&&c<n||i>=n&&c>=n?t.helper.removeClass("dis"):t.helper.addClass("dis"),c>0?c>l?s.eq(c).after(a):s.eq(c-1).after(a):0!==l&&s.eq(0).before(a)},stop:function(e,t){var i=t.item.attr("key"),n=(t.item.attr("vKeys"),o()(".pathway-box .visibility-h")),r=n.index();Object(k.d)(i,r)}}),o()(".pathway-box").sortable({cancel:".pathway-box .pathway",zIndex:999,items:".pathway-ctrl .ctrl"}),Se=function(){"/online"===e.props.history.location.pathname&&(e.setState({path_box:parseFloat(o()(".tl-wrapper").css("width"))-140}),e.refreshRuler(),Ae())},o()(".control-box .path").selectable({cancel:".trans,.trim",filter:".mater-helper",delay:0,distance:3,stop:function(e,i){t.setState({currentArea:t.state.currentArea})}}).bind("click",function(){o()("textarea:focus").blur()}),o()(window).bind("resize",Se),ge="",ce=setInterval(function(){t.save_config("auto")},3e3),o()(".contentMenu").onclick=function(e){window.event?window.event.cancelBubble=!0:e.stopPropagation(),window.event?window.event.returnValue=!1:e.preventDefault()},o()(".source-list").delegate(".can-del","contextmenu",function(e){ve=o()(e.currentTarget),o()(".contentMenu").css({left:e.clientX+o()(document).scrollLeft(),top:e.clientY+o()(document).scrollTop(),display:"block"}),window.event?window.event.cancelBubble=!0:e.stopPropagation(),window.event?window.event.returnValue=!1:e.preventDefault()}).delegate(".mater","mousedown",function(i){var n=o()(i.currentTarget);if(!n.hasClass("current")){n.addClass("current").siblings().removeClass("current");var r=n.attr("data-mediaType"),a=n.attr("data-mediaId"),s=n.attr("data-previewMp4"),l=n.attr("data-previewHls"),c=n.attr("data-audioPreviewImg"),u=n.attr("data-transType"),h=n.attr("data-subType"),d=n.attr("data-mediaUrl"),p=n.attr("data-previewMp3"),f=n.attr("data-thumbnail"),m=n.attr("data-uploading"),g=n.attr("data-buffer"),v=(n.attr("data-videoPreviewImg"),1*n.attr("data-duration")),y={obj_type:r,obj_id:a||"",special:{preview_hls:l||"",preview_mp3:p||"",preview_mp4:s||"",media_url:d||"",trans_type:u,sub_type:h,uploading:m,buffer:g,audio_preview_img:c||"",thumbnail:f||""}};if(ge&&ge[0].pause&&(ge[0].pause(),ge[0].currentTime=0),ge=Object(k.u)(y),!ge[0])return void(ge="");e.setState({paused:!0}),e.playMedia("once"),t.setState({currentMediaDuration:Object(w.j)(v)})}});var y=(o()(".material"),o()(".control .pathway-box")),b=o()("#playBtn");o()(".observation .reveal #player-container").resizable({aspectRatio:16/9,minHeight:270,maxHeight:document.body.scrollHeight-360,maxWidth:.6*document.body.scrollWidth,handles:"w",create:function(e,t){var i=document.body.scrollHeight-360,n=document.body.scrollWidth/32*9;i=i>n?n:i,o()(e.target).css({width:i/9*16+"px",height:i+"px"}),o()(e.target).find(".ui-resizable-w").attr("title",Object(E.a)("main","resizePreviewWindow")),o()(".main-area .control").css({top:i+120}),o()("#player-container").css({height:i,width:i/9*16}),o()(".unit-detail .unit-right").css({width:i/9*16+"px",height:document.body.scrollHeight-i+"px"})},resize:function(e,i){t.state.showCropper=!1,o()(".observation .reveal #player-container").css("left",""),o()(".main-area .control").css({top:i.size.height+125}),o()("#player-container").css({height:i.size.height,width:i.size.width}),o()(".unit-detail .unit-right").css({height:document.body.scrollHeight-i.size.height,width:i.size.width})},stop:function(e,i){t.playVideo()}}),o()(".main-area .line").draggable({axis:"x",cancel:".clip",snapTolerance:30,drag:function(e,i){var n=i.offset.left-o()(".path").offset().left;t.set_time_line_now(n)},containment:"parent"}),y.droppable({accept:".mater,.mater-helper",scope:"maters",tolerance:"pointer",scroll:!0,activeClass:"custom-state-active",over:function(e,t){t.helper.addClass("license")},out:function(e,t){t.helper.removeClass("license"),t.draggable.draggable("option","grid",!1)},drop:function(e,i){var n=this;if(!(i.helper.find(".red").length>0)&&(!i.helper.find(".yellow").length||i.helper.find(".yellow").hasClass("focused"))){var r=i.helper.find(".mater-helper");if(r&&r.length){var a=0;if(!(Math.round((r.offset().top-o()(this).offset().top)/36)<0)){var s=0,l=0;r.map(function(e,i){var c=r.eq(e),u=(c.attr("data-duration"),1*c.attr("data-startTime")),h=1*c.attr("data-endTime"),d=1*c.attr("data-position"),p=c.offset(),f=p.left-o()(n).offset().left-t.state.time_line_start,m=Math.round(f/t.state.unit_length*t.state.unit_time*25)/25,g=Math.round((p.top-o()(n).offset().top)/36);if(t.state.auto_indent){var v=Object(k.l)("temp"),y=[],b=v.video_list.length,_=v.audio_list.length;if(g<0)return;if(g<=b?(g=Math.min(b-1,g),y=v.video_list[g].obj_list):g<=b+_?(g-=1,y=v.audio_list[g-b].obj_list):g-=1,d+1<y.length){var A=y[d+1].start_time;Math.abs(m-u+h-A)<t.state.unit_time/1&&(m=A-h+u)}if(d>-1&&y[d]){var E=y[d].end_time;Math.abs(E-m)<t.state.unit_time/1&&(m=E)}else-1===d&&Math.abs(m)<t.state.unit_time/1&&(m=0);var w=1*g.toFixed(0);if(s===w){if(d>-1&&y[d]){var x=y[d].end_time;l=Math.max(l,x)}Math.abs(m-l)<t.state.unit_time/1&&(m=l),l=1*(m-u+h).toFixed(2)}else s=w,l=1*(m-u+h).toFixed(2)}var T=m-u+h;c.attr({"data-startTime":1*m.toFixed(2),"data-endTime":1*(m-u+h).toFixed(2),"data-layer":1*g.toFixed(0)}),T>t.state.max_time&&(a=T)});var c=i.helper.find(".yellow.focused");if(c.length>0){o()(".clipChoose").css({left:e.clientX+o()(document).scrollLeft(),top:e.clientY+o()(document).scrollTop(),display:"block"});var u=i.helper.clone();u.css({}),o()(".temp-yellow").append(u);var h=o()(".clipChoose >span");return void(c.hasClass("onlyChoose")?(h.eq(0).attr({disabled:"disabled"}).addClass("dis"),h.eq(1).attr({disabled:""}).removeClass("dis")):c.hasClass("replace")?(h.eq(0).attr({disabled:"disabled"}).addClass("dis"),h.eq(1).attr({disabled:"disabled"}).addClass("dis")):(h.eq(0).attr({disabled:""}).removeClass("dis"),h.eq(1).attr({disabled:""}).removeClass("dis")))}Object(k.a)(r,"",t.state.auto_indent?t.state.unit_time/t.state.unit_length:0),a>t.state.max_time&&(t.setState({unit_scale:a*t.state.unit_scale/t.state.max_time}),t.setState({max_time:a+50}),o()(".zoom-bar").slider("option","value",t.state.unit_scale),t.initPathWidth(),Ae())}}}}}),b.on("click",function(){if(t.state.play_lock){if(t.state.play_lock=!1,ge)t.playMedia();else{var e=Object(k.n)(),i=t.state.time_line_now-t.state.time_line_start,n=i/t.state.unit_length*t.state.unit_time;e.e&&e.e-n<1/60+.04&&(console.info(e.s,t.state.time_line_start),n=e.s,t.set_time_line_now(n/t.state.unit_time*t.state.unit_length+t.state.time_line_start)),t.setState({paused:!t.state.paused}),t.playVideo("goOn")}ie=setTimeout(function(){t.state.play_lock=!0},40)}else clearTimeout(ie),ie=setTimeout(function(){t.state.play_lock=!0},40)}),o()(".control").delegate(".add-subtitle","click",function(){pe&&(pe=!1,e.subtitles_change(),setTimeout(function(){pe=!0},400))})},openColophon:function(){this.setState({colophon:{show:!0,layer:1,position:1}})},closeColophon:function(){this.setState({colophon:{}})},recyleUnit:function(){var e=o()("#player-container").find(".recycle");e.droppable({accept:".mater-helper",scope:"maters",over:function(t,i){e.addClass("pass")},out:function(t,i){e.removeClass("pass")},drop:function(t,i){e.removeClass("pass"),e.removeClass("show");var n=i.draggable;Object(k.h)(1*n.attr("data-layer"),1*n.attr("data-position")+1)}})},show_shortcut:function(){var e=this;this.setState({show_shortcut:{setting:"show",title:"\u91cd\u547d\u540d",close:function(){e.setState({show_shortcut:""})},form:r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("input",{id:"rename",style:{width:"280px",float:"none"},type:"text"})),r.a.createElement("li",null,r.a.createElement("span",{className:"btn",onClick:function(){}},Object(E.a)("main","confirm")),r.a.createElement("span",{className:"btn",onClick:function(){e.setState({show_shortcut:""})}},Object(E.a)("main","cancel"))))}})},show_rename:function(e){this.setState({new_name:e,show_rename:!0})},addNewPath:function(){this.state.confirmLoading=!1,this.setState({modalVisible:!0})},onOk:function(){this.setState({confirmLoading:!0}),Object(k.b)(this.state.modalType,this.state.modalText||("video"===this.state.modalType?"\u56fe\u50cf\u8f68":"\u97f3\u9891\u8f68")),this.state.modalText="",this.state.modalType="video",this.setState({modalVisible:!1})},clip:function(){var e=this.state.time_line_now-this.state.time_line_start,t=e/this.state.unit_length*this.state.unit_time;Object(k.g)(t)},shear:function(){this.deleteUnit("shear")},deleteUnit:function(e){if(!o()(".textEdit")[0]){this.setState({showCropper:!1}),this.playVideo(),this.state.unit_detail.show&&this.setState({unit_detail:{}});var t=o()(".pathway").find(".focused"),i=o()(".pathway").find(".ui-selected.mater-helper");if(t.hasClass("mater-helper"))Object(k.h)(t,e);else if(t.hasClass("trans")){var n=t.parents(".mater-helper").eq(0),r=t.hasClass("trans-end")?"end":"start";Object(k.h)(n,r)}else i.length?Object(k.i)(i,e):this.state.subtitles_config.current>=0&&o()(".subtitles-path").find(".current").length>0&&Object(C.k)([o()(".subtitles-path").find(".current").attr("name")]);o()(".focus").css({display:"none"})}},crop:function(e){this.state.unit_detail.show&&this.setState({unit_detail:{}});var t=o()(".pathway").find(".focused");if(t.length)if(t&&t[0]&&t[0].attributes){var i=t[0].attributes["data-mediatype"].value;if("video"===i||"image"===i){var n=t[0].attributes["data-mediaid"].value,r=t[0].attributes["data-layer"].value,a=Object(k.p)()[n+"_"+r];if(a&&e)a.crop=e;else{this.setState({showCropper:!0});var s=1*t[0].attributes["data-starttime"].value,l=1*t[0].attributes["data-endtime"].value,c=(this.state.time_line_now-this.state.time_line_start)/this.state.unit_length*this.state.unit_time;if(c<s||c>l){var u=t.offset().left-140;this.set_time_line_now(u+.12/this.state.unit_time*this.state.unit_length,!0)}this.cropperDraw(a,n+"_"+r)}}else f.t.info("\u6587\u4ef6\u683c\u5f0f\u4e0d\u652f\u6301\u88c1\u526a\uff01\uff01\uff01")}else f.t.info("\u8bf7\u9009\u62e9\u89c6\u9891\uff01\uff01\uff01")},setShowCropper:function(e){this.setState({showCropper:e}),this.playVideo()},trans_audio_to_text:function(){var e=o()(".pathway").find(".focused");if(e.length){var t=e.attr("data-mediaType"),i=e.attr("data-mediaId"),n=e.attr("data-startRange"),r=e.attr("data-endRange"),a=e.attr("data-startTime"),s=e.attr("data-endTime");if("audio"===t||"video"===t){for(var l in y.d)if("text"===y.d[l].type)return void f.u.warning({duration:5,message:"\u8bf7\u7a0d\u540e",description:"\u5df2\u7ecf\u6709\u8bed\u97f3\u8f6c\u6587\u5b57\u4efb\u52a1\u5728\u6267\u884c"});Object(g.a)("get_media_status",{media_id:i},function(e){e&&1===e[0].status?(f.t.info("\u5df2\u4e0b\u53d1\u8bed\u97f3\u8f6c\u6587\u5b57\u4efb\u52a1\uff0c\u8bf7\u7a0d\u540e"),Object(g.a)("trans_audio_to_text",{materialId:i,start:n,end:r,projectId:$},function(e){y.d[e.taskId]={taskId:e.taskId,type:"text",start_time:a,end_time:s,project_id:$}},function(){},"all")):f.t.info("\u8bf7\u7b49\u5f85\u7d20\u6750\u8f6c\u7801\u5b8c\u6210\u540e\u518d\u6267\u884c\u8bed\u97f3\u8f6c\u6587\u5b57")})}else f.t.info("\u6240\u9009\u7d20\u6750\u7c7b\u578b\u4e0d\u6b63\u786e")}},enterUnitDetail:function(){var e=this;this.setState({showCropper:!1}),this.playVideo();var t=o()(".pathway").find(".focused");if(t.hasClass("mater-subtitle")){var i=t.offset().left-140;this.set_time_line_now(i+.12/this.state.unit_time*this.state.unit_length),o()(".material-top li").eq(5).click(),setTimeout(function(){o()(".material-main-left li").eq(0).click(),e.playVideo()})}else if(t.hasClass("mater-helper"))this.setState({unit_detail:{show:!0,layer:1*t.attr("data-layer"),position:1*t.attr("data-position")}});else if(t.hasClass("trans")){var n=t.parents(".mater-helper").eq(0),a=t.hasClass("trans-end")?"end":"start",s=Math.round(100*t.attr("data-duration"))/100,l=t.attr("data-transName");this.setState({transition:{setting:"show",type:"transition",width:400,height:160,title:l||Object(E.a)("main","transitions"),close:function(){e.setState({transition:""})},form:r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("span",null,Object(E.a)("main","duration"),"\uff1a"),r.a.createElement("input",{id:"trans-duration",onChange:function(e){},type:"text"})),r.a.createElement("li",null,r.a.createElement("button",{className:"btn-s",onClick:function(){var t=o()("#trans-duration").val().trim();return!t||isNaN(t)?void f.t.info("\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u8f6c\u573a\u65f6\u957f"):t>10?void f.t.info("\u8f6c\u573a\u65f6\u957f\u6700\u957f10\u79d2"):t<1?void f.t.info("\u8f6c\u573a\u65f6\u957f\u6700\u77ed1\u79d2"):(t=parseFloat(t),t=t>10?10:t<1?1:Math.ceil(25*t)/25,Object(k.E)(1*n.attr("data-layer"),1*n.attr("data-position")+1,a,t),void e.setState({transition:""}))}},Object(E.a)("main","confirm")),r.a.createElement("button",{className:"btn-s",onClick:function(){e.setState({transition:""})}},Object(E.a)("main","cancel"))))}}),setTimeout(function(){o()("#trans-duration").val(s)})}o()(".focus").css({display:"none"})},closeUnitDetail:function(){this.setState({unit_detail:{}})},joinClip:function(){var e=o()(".temp-yellow").find(".yellow");e.hasClass("onlyChoose")||e.hasClass("replace")||(e.length>0&&Object(k.a)(e.eq(0)),o()(".path .hidden").remove(),o()(".temp-yellow").empty(),o()(".clipChoose").css({display:"none"}))},joinInsert:function(){var e=o()(".temp-yellow").find(".yellow");e.hasClass("replace")||(e.length>0&&Object(k.a)(e.eq(0),"insert"),o()(".path .hidden").remove(),o()(".temp-yellow").empty(),o()(".clipChoose").css({display:"none"}))},replaceUnit:function(){var e=o()(".temp-yellow").find(".yellow");e.length>0&&Object(k.a)(e.eq(0),"replace"),o()(".path .hidden").remove(),o()(".temp-yellow").empty(),o()(".clipChoose").css({display:"none"})},fullReveal:function(){o()(".reveal").appendTo(".full-cnt"),this.playVideo(),this.state.fullScreen||Object(S.a)(),o()("body").css({overflow:"hidden"})},exitFullScreen:function(){this.state.fullScreen||0===o()(".full-cnt .reveal").length||0!==o()(".observation .reveal").length||(o()(".reveal").appendTo(".observation"),this.playVideo(),o()(".observation .reveal").length>1&&o()(".observation .reveal").eq(1).remove(),o()("body").css({overflow:"auto"}))},initLogo:function(){var e=document.getElementById("stagerLogo"),t=document.createElement("canvas"),i=t.getContext("2d");t.width=e.width,t.height=e.height,me=t,e.onload=function(){setTimeout(function(){t.width=e.width,t.height=e.height,i.drawImage(e,0,0),i.font="36px FZShuSong-Z01S",i.textAlign="center",i.shadowBlur=2,i.textAlign="left",i.shadowColor="black",i.fillStyle="#fff",i.fillText(localStorage.user_id||"123456",188,142),me=t})}},closeIssue:function(){this.setState({issue:{}}),o()(".reveal").appendTo(".observation"),o()("#editor").css("display","block"),o()(".onlineTop > .tab").css("display","inline-flex"),o()(".onlineTop > .p-a").find(".projectName").css("display","inline-flex"),o()(".onlineTop > .p-a").find(".goBack").html("<span class='ico iconfont icon-fanhui m-0-5'></span>\u9000\u51fa"),o()(".onlineTop > .p-a").find(".goBack").css({margin:"0 20px",color:"#ffd100"}),o()(".pathway-box .pathway").css("margin-left",0),Se(),this.state.time_line_start=0,this.set_time_now(0)},issue_config:function(){var e=this;ee?this.saveAsTempPro(!0):this.save_config("save",function(){e._issue_config()})},_issue_config:function(){var e=this;this.closeUnitDetail();var t=Object(k.l)("clone");if(!(t.duration<1)){o()("#editor").css("display","none"),o()(".onlineTop > .tab").css("display","none"),o()(".onlineTop > .p-a").find(".projectName").css("display","none"),o()(".onlineTop > .p-a").find(".goBack").html("<span class='ico iconfont icon-shangyibu m-10'></span>\u8fd4\u56de\u64cd\u4f5c\u53f0"),o()(".onlineTop > .p-a").find(".goBack").css({"margin-left":"88px"});var i=this,n=document.createElement("img"),r=document.createElement("canvas"),a=r.getContext("2d");n.crossOrigin="anonymous",t.project_id=$,t.video_list.map(function(t,i){t.obj_list.map(function(t,o){t.special,"text"===t.obj_type&&("animation"===t.special.sub_type?(e.text_flame_text(t,b.l[t.obj_id+"_"+i]),t.special.svg1="",t.special.svg=""):(n.src=t.special.svg1,r.width=t.special.position_w,r.height=t.special.position_h,a.drawImage(n,0,0,r.width,r.height),t.special.svg=r.toDataURL("image/png").replace(/^data:image\/\w+;base64,/,"")))})}),t.auto_indent=this.state.auto_indent,i.setState({issue:{show:!0,layer:0,name:Object(k.l)().name,label:Object(k.l)().label,description:Object(k.l)().description,project_id:$,position:0}});var s=o()(".reveal");s.appendTo(".vision"),o()(".vision").css("height",.45*document.body.scrollWidth/16*9+36+"px"),ue=!0,s.hasClass("vertical")?t.aspect="9:16":s.hasClass("vertical-11")?t.aspect="1:1":s.hasClass("vertical-43")?t.aspect="4:3":t.aspect="16:9",Object(g.a)("save_project_config",JSON.stringify(t),function(t){$=t.project_id||"879879870",e.state.can_publish=t.can_publish||!0,ue=!1,i.setState({issue:{show:i.state.issue.show||!0,layer:0,issue:!0,project_id:$,position:0}}),o()(".reveal").appendTo(".vision"),o()(".vision").css("height",.45*document.body.scrollWidth/16*9+36+"px")},function(){},"info")}},text_flame_text:function(e,t){var i=Object(g.b)(e.special.media_url||e.special.json_url),n=Object(_.b)(),r=[];n.map(function(e,t){r.push({origin:0,fPath:"",fClass:"",fFamily:e.code,fWeight:"",fStyle:"Regular",fName:e.code,ascent:1})}),i.fonts={list:r},i.layers.map(function(t,n){if(5===t.ty){var a=t.t.d.k[0].s;if(e.layers&&e.layers[n]){var o=e.layers[n].s||{};for(var s in a)o[s]&&o[s]!==a[s]&&(a[s]=o[s]);o.f||(console.info("********"),console.info(a.f),a.f=r[0].fName)}else console.info("********"),console.info(a.f),a.f=r[0].fName}else if(0===t.ty){var l=t;i.assets.map(function(t,i){t.id&&t.id===l.refId&&t.layers.map(function(t,i){if(5===t.ty){var n=t.t.d.k[0].s;if(e.layers&&e.layers[i]){var a=e.layers[i].s||{};for(var o in n)a[o]&&a[o]!==n[o]&&(n[o]=a[o]);a.f||(console.info("********"),console.info(n.f),n.f=r[0].fName)}else console.info("********"),console.info(n.f),n.f=r[0].fName}})})}}),e.flame_text=i},set_text_info:function(e){},shortcutInit:function(){document.addEventListener?(document.addEventListener("keydown",this.fnKeyup,!1),document.addEventListener("mousedown",this.mousedown,!1),document.addEventListener("click",this.fnClick,!1),document.addEventListener("mousemove",this.mouseMove,!1),document.addEventListener("mouseup",this.mouseUp,!1)):(document.attachEvent("onkeydown",this.fnKeyup),document.attachEvent("onmousedown",this.mousedown),document.attachEvent("onclick",this.fnClick),document.attachEvent("mousemove",this.mouseMove),document.attachEvent("onmouseup",this.mouseUp))},fnKeyup:function(e){var t=window.event||e;if((t.ctrlKey||t.metaKey)&&t.shiftKey&&83===e.keyCode&&this.down_config(),!this.state.issue.show&&!this.state.show_record){var i=t.target.nodeName;if(("INPUT"!==i||"ant-radio-input"===t.target.className)&&"TEXTAREA"!==i&&("INPUT"!==t.target.nodeName||"ant-radio-input"===t.target.className)&&"ql-editor"!==t.target.className)if(this.state.paused)if(console.info(e.keyCode),(t.ctrlKey||t.metaKey)&&t.shiftKey){switch(e.keyCode){case 90:this.toNext();break;default:return}window.event?window.event.cancelBubble=!0:t.stopPropagation(),window.event?window.event.returnValue=!1:t.preventDefault()}else if(t.ctrlKey||t.metaKey){switch(e.keyCode){case 83:this.save_config();break;case 68:this.shear();break;case 90:this.toPre();break;case 65:this.initRuler();break;case 37:this.time_line_pre(60);break;case 39:this.time_line_next(60);break;case 38:this.time_line_pre(10);break;case 40:this.time_line_next(10);break;case 81:this.state.subtitles_show&&this.subtitles_change();break;default:return}window.event?window.event.cancelBubble=!0:t.stopPropagation(),window.event?window.event.returnValue=!1:t.preventDefault()}else{switch(e.keyCode){case 83:this.clip();break;case 46:case 8:this.deleteUnit();break;case 37:this.time_line_pre(1);break;case 39:this.time_line_next(1);break;case 38:this.time_line_pre(.04);break;case 40:this.time_line_next(.04);break;case 35:this.toEnd();break;case 36:this.toBegin();break;case 189:case 109:o()(".zoom-out").click();break;case 187:case 107:o()(".zoom-in").click();break;case 32:o()("#playBtn").click();break;default:return}window.event?window.event.cancelBubble=!0:t.stopPropagation(),window.event?window.event.returnValue=!1:t.preventDefault()}else 32===e.keyCode&&(o()("#playBtn").click(),window.event?window.event.cancelBubble=!0:t.stopPropagation(),window.event?window.event.returnValue=!1:t.preventDefault())}},mouseUp:function(e){var t=o()(e.target);if(fe=!1,0!==t.parents(".reveal").length||0!==t.parents(".mater").length||t.hasClass("mater")||(o()(".material-main-list .mater").removeClass("current"),ge&&(ge[0].pause&&(ge[0].pause(),ge[0].currentTime=0),ge="",this.playVideo())),(de||he)&&o()(".focused.mater-helper").length){he=!1,de=!1;var i=o()(".focused.mater-helper");Object(k.c)(i)}},fnClick:function(e){var t=window.event||e,i=o()(e.target),n=(e.target.nodeName,i.parents(".mater-helper")),r=i.hasClass("mater-helper"),a=n.length?n:r.length?r:"";(0!==i.parents(".pathway").length||i.hasClass("pathway"))&&(t.ctrlKey||t.metaKey?a?a.hasClass("new-selected")?a.removeClass("new-selected"):a.removeClass("ui-selected"):o()(".pathway .focused").removeClass("focused"):o()(".mater-helper.ui-selected").removeClass("ui-selected"))},mousedown:function(e){var t=window.event||e,i=o()(e.target),n=e.target.nodeName,r=i.parents(".mater-helper"),a=i.hasClass("mater-helper"),s=r.length?r:a.length?a:"";if(("INPUT"!==n||"ant-radio-input"===e.target.className)&&"TEXTAREA"!==n){if(console.info("***99"),0!==i.parents(".reveal").length||0!==i.parents(".mater").length||i.hasClass("mater")||(console.info("***299"),o()(".material-main-list .mater").removeClass("current"),ge&&(ge[0].pause&&(ge[0].pause(),ge[0].currentTime=0),ge="",this.playVideo())),i.parents(".pathway").length,0!==i.parents(".control").length&&(this.closeUnitDetail(),this.setState({showCropper:!1}),this.playVideo()),0===i.parents(".clipChoose").length&&(o()(".temp-yellow").find(".yellow").remove(),o()(".mater-helper.hidden").removeClass("hidden").removeClass("ui-draggable-dragging"),o()(".path .hidden").css({visibility:"visible"}),o()(".clipChoose").css({display:"none"})),0===i.parents(".contentMenu").length&&o()(".contentMenu").hide(),0===i.parents(".focus").length&&i.parents(".control-box").length&&!i.hasClass("focused")&&(o()(".pathway").find(".trans").removeClass("focused"),o()(".focus").css({display:"none"})),0!==i.parents(".reveal").length||0!==i.parents(".unit-detail").length||this.state.issue.show||this.state.show_record||ge||(this.state.paused=!0),0!==i.parents(".focus").length||0!==i.parents(".focused").length||i.hasClass("focused")||o()(".focus").css({display:"none"}),i.hasClass("trimL")?(he=!0,de=!1):i.hasClass("trimR")?(de=!0,he=!1):(he=!1,de=!1),0!==i.parents(".control").length&&(this.state.unit_detail={}),0!==i.parents(".pathway").length||i.hasClass("pathway"))if(t.ctrlKey||t.metaKey)s?s.hasClass("ui-selected")||s.hasClass("focused")||(s.addClass("ui-selected"),s.addClass("new-selected"),o()(".pathway .focused").addClass("ui-selected").removeClass("focused")):o()(".pathway .focused").removeClass("focused");else if(0!==i.parents(".focus").length||0!==i.parents(".unit-detail").length||0!==i.parents(".reveal").length||i.hasClass("trim")||0!==i.parents(".time-line").length||(o()(".pathway").find(".mater-helper").removeClass("focused"),o()(".focus").css({display:"none"})),0!==i.parents(".focused").length||i.hasClass("focused")||o()(".pathway .focused").removeClass("focused"),0!==i.parents(".ui-selected").length||i.hasClass("ui-selected")||o()(".control").find(".ui-selected").removeClass("ui-selected"),0!==i.parents(".mater-helper").length||i.hasClass("mater-helper")){if(i.hasClass("trans"))i.addClass("focused");else{i.hasClass("mater-helper")?i.addClass("focused"):i.parents(".mater-helper").addClass("focused");var l=o()(".pathway").find(".focused");l.hasClass("mater-subtitle")&&Object(C.f)((1*l.attr("data-position")||0)+1)}i.hasClass("mater-helper")||i.parents(".mater-helper");ae===e.target&&this.enterUnitDetail(),ae=e.target,setTimeout(function(){ae=!1},300)}0!==i.parents(".focus").length||0!==i.parents(".focused").length||i.hasClass("focused")||o()(".focus").css({display:"none"}),this.state.showCropper||this.setState({currentArea:this.state.currentArea})}},getSnapshot:function(e,t){var i=this,n=t||1,r=[],a=Object(k.n)(),s=Math.round(Math.random()*a.e);this.set_time_now(s);var l=o()("#sec4-canvas")[0],c=document.createElement("canvas"),u=c.getContext("2d"),h=l.width>l.height;switch(c.width=h?854:480,c.height=480,this.state.screen_scale){case"16:9":c.width=854;break;case"4:3":c.width=640;break;case"1:1":c.width=480;break;case"9:16":c.height=854,c.width=480}this.state.paused=!1,this.setState({loadingSnap:{setting:"show",width:400,status:"loading",height:220,title:Object(E.a)("statement","say25")}}),be=!0,this.playVideo("goOn");var d=setInterval(function(){if(n<1)i.state.loadingSnap={},i.state.newFile={},i.setState({paused:!0}),clearInterval(d),setTimeout(function(){be=!1},300),e(r);else{n-=1;var t="";try{u.drawImage(l,0,0,l.width,l.height,0,0,c.width,c.height),t=c.toDataURL("image/png")}catch(e){}r.push(t),i.state.paused&&i.playVideo("goOn");var o=Math.round(Math.random()*a.e);i.state.time_line_start=0,i.set_time_now(o)}},1e3)},save_config:function(e,t){var i=this;if(this.state.loaded){var n=Object(k.l)("clone"),r=this;n.project_id=$;var a=o()(".reveal");a.hasClass("vertical")?n.aspect="9:16":a.hasClass("vertical-11")?n.aspect="1:1":a.hasClass("vertical-43")?n.aspect="4:3":n.aspect="16:9";var s=window.location.href,l=Object(w.h)(s,"group_id")||"";if(!ue)if(ue=!0,"save"!==e&&Object(k.m)())"auto"!==e?(r.setState({message:{msg:Object(E.a)("main","saved")}}),window.location.hash="#"+$+(l?"?group_id="+l:""),setTimeout(function(){r.setState({message:{}})},1e3),ue=!1,t&&t()):ue=!1;else{if(this.state.issue.show||n.video_list.map(function(e,t){e.obj_list.map(function(e,t){e.special,"text"===e.obj_type&&(e.special.svg1="",e.special.svg="")})}),JSON.stringify(n)===_e||this.state.unit_detail.show)return void(ue=!1);Object(g.a)("save_project_config",JSON.stringify(n),function(e){$=e.project_id,i.state.can_publish=e.can_publish,Object(k.B)(),!i.state.unit_detail.show&&r.setState({message:{}}),window.location.hash="#"+$+(l?"?group_id="+l:""),ue=!1,t&&t()},function(e){_e=JSON.stringify(n),ue=!1,ue=!1})}}},down_config:function(){var e=Object(k.l)(),t=document.createElement("a");t.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(JSON.stringify(e))),t.setAttribute("download","config.json"),t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t)},reSite:function(e){var t=e/this.state.unit_time*this.state.unit_length,i=o()(".pathway-box"),n=i.find(".pathway"),r=n.width();if(r-t>i.width()/2&&t+this.state.time_line_start>i.width()/2){var a=i.width()/2-t;this.state.time_line_start=a,this.set_time_line_now(t+this.state.time_line_start),n.css("marginLeft",Math.floor(a));var s=i.width()-r,l=0===s?0:Math.round(a/s*100);o()(".scroll-bar").slider("value",l),this.refreshRuler()}else if(t+this.state.time_line_start<=0)if(t>i.width()/2){var c=i.width()/2-t;this.state.time_line_start=c,this.set_time_line_now(t+this.state.time_line_start),n.css("marginLeft",Math.floor(c));var u=i.width()-r,h=0===u?0:Math.round(c/u*100);o()(".scroll-bar").slider("value",h),this.refreshRuler()}else this.state.time_line_start=0,this.set_time_line_now(t),n.css("marginLeft",0),o()(".scroll-bar").slider("value",0),this.refreshRuler();else if(t+this.state.time_line_start>=i.width()){var d=i.width()-r;this.state.time_line_start=d,this.set_time_line_now(t+this.state.time_line_start),n.css("marginLeft",Math.floor(d)),o()(".scroll-bar").slider("value",100),this.refreshRuler()}else this.set_time_line_now(t+this.state.time_line_start)},toBegin:function(){this.setState({paused:!0});var e=Object(k.n)();this.reSite(e.s)},toEnd:function(){this.setState({paused:!0});var e=Object(k.n)();this.reSite(e.e)},time_line_next:function(e){var t=Object(k.n)(),i=this.state.time_line_now-this.state.time_line_start,n=i/this.state.unit_length*this.state.unit_time;n+=e||1/60,t.e&&t.e-n>=0&&n>=t.s&&this.set_time_line_now(n/this.state.unit_time*this.state.unit_length+this.state.time_line_start)},time_line_pre:function(e){var t=Object(k.n)(),i=this.state.time_line_now-this.state.time_line_start,n=i/this.state.unit_length*this.state.unit_time;n-=e||1/60,t.e&&t.e-n>=0&&n>=t.s?this.set_time_line_now(n/this.state.unit_time*this.state.unit_length+this.state.time_line_start):this.set_time_line_now(0)},loading_project_id:function(){var e=this;$&&0!==$&&"0"!==$||setTimeout(function(){e.loading_project_id()},1e3)},get_theme:function(e){var t=this;e?Object(g.a)("get_theme_config",{theme_id:e},function(e){t.setState({themeConfig:e}),t.refs.OnlineM.renderData()},function(){t.setState({themeConfig:{}}),t.refs.OnlineM.renderData()},"info"):(this.setState({themeConfig:{}}),setTimeout(function(){t.refs.OnlineM.renderData()}))},set_theme:function(e){var t=this;e?Object(g.a)("get_theme_config",{theme_id:e},function(e){Object(k.D)(e),t.setState({themeConfig:e}),t.refs.OnlineM.renderData()},function(){Object(k.D)({none:!0}),t.setState({themeConfig:{}}),t.refs.OnlineM.renderData()},"info"):(Object(k.D)({none:!0}),this.setState({themeConfig:{}}),setTimeout(function(){t.refs.OnlineM.renderData()}))},refresh_used_list:function(e){var t=e||Object(k.l)(),i={};t&&t.video_list&&t.video_list.map(function(e,t){e.obj_list.map(function(e,t){i[e.obj_id]=!0})}),t&&t.audio_list&&t.audio_list.map(function(e,t){e.obj_list.map(function(e,t){i[e.obj_id]=!0})}),this.setState({used_list:i});var n=JSON.stringify(i);n!==we&&(we=n,this.refs.OnlineM.renderData())},componentWillMount:function(){var e=this,t=window.location.href;Object(y.b)();var i=Object(w.h)(t,"msg");i&&f.t.info(decodeURI(i)),$=Object(w.h)(t,"online")||"0";var n=Object(w.h)(t,"group_id")||"";localStorage.xinhua_group=n,K=2,Z=10,J=90,re=[0,0],Object(k.s)(function(t){o()(".pathway-box .pathway").css("margin-left",e.state.time_line_start||"0px");var i=Object(k.l)();e.state.max_time=i.duration+50,e.refreshRuler(),e.initPathWidth(),e.refresh_used_list(),e.playVideo()}),this.loading_project_id(),Object(A.b)(function(t){e.setState({userInfo:t})}),$&&0!=$?(this.state.loaded=!1,localStorage.projectName="",Object(g.a)("get_project_config",{project_id:$},function(t){$=t.project_id,ee=t.is_template,t.theme_id&&e.get_theme(t.theme_id);var i=Object(C.a)().list;t.text_info=t.text_info||{font_size:50,status:!1,font_color:"ffffff",font_name:"FZShuSong-Z01S",background_color:"000000",alpha:0,position_x:"middle",position_y:0},t.text_info.status=!0,t.text_list=t.text_list||[{name:"\u5b57\u5e55\u8f68",order:1,volume:100,duration:0,update_time:"2017-08-02 12:21:12",lock_track:!1,obj_list:i}],e.state.can_publish=t.can_publish,Object(k.A)(t),e.state.loaded=!0,$=t.project_id;var n=o()(".reveal");switch(e.state.subtitles_show=t.text_info.status,t.aspect){case"16:9":e.state.cropperSize=16/9,e.state.screen_scale="16:9";break;case"4:3":n.addClass("vertical-43"),e.state.cropperSize=4/3,e.state.screen_scale="4:3";break;case"1:1":n.addClass("vertical-11"),e.state.cropperSize=1,e.state.screen_scale="1:1";break;case"9:16":n.addClass("vertical"),e.state.cropperSize=9/16,e.state.screen_scale="9:16"}e.renderPath("return")},function(t){e.renderPath("return")},"info")):(Object(k.l)().name=localStorage.projectName||Object(E.a)("main","MyProject"),this.renderPath("return")),Object(C.h)(function(t){e.state.subtitles_config=t||{current:0,list:[]},Object(k.z)(t)})},componentWillUnmount:function(){_e="",clearInterval(ce),Object(y.a)(),Ae=function(){},Object(C.h)(function(){});var e=Object(k.q)();for(var t in e)e[t].pause&&!e[t].paused&&e[t].pause(),e[t].destroy&&e[t].destroy();Object(k.e)(),we="";var i={userInfo:{},auto_indent:!0,items:[],files:[],fileName:"",duration:0,paused:!0,record:{},path_box:0,meal:{},currentArea:"",currentAreaId:"",transition:"",message:{},can_publish:!0,subtitles_config:{current:0,list:[]},subtitles_show:!1,main_set:!0,fullScreen:!1,themeConfig:{},loadingMedia:!1,unit_detail:{},screen_scale:"16:9",issue:{},loadingSnap:{},refreshDialog:"",currentMediaDuration:0,_pathway:[],_ctrl:[],unit_length:10,unit_time:1,unit_scale:1,time_line_start:0,time_line_now:0,newFile:"",delete:"",max_time:50};for(var n in i)this.state[n]=i[n];o()(window).unbind("resize",Se),document.addEventListener?(document.removeEventListener("keydown",this.fnKeyup,!1),document.removeEventListener("mousedown",this.mousedown,!1),document.removeEventListener("click",this.fnClick,!1),document.removeEventListener("mousemove",this.mouseMove,!1),document.removeEventListener("mouseup",this.mouseUp,!1)):(document.detachEvent("onkeydown",this.fnKeyup),document.detachEvent("onmousedown",this.mousedown),document.detachEvent("onclick",this.fnClick),document.detachEvent("mousemove",this.mouseMove),document.detachEvent("onmouseup",this.mouseUp))},refreshRuler:function(e){var t=Object(k.l)();this.setState({duration:Object(w.j)(t.duration)});var i=o()(".ruler");if(!(i.length<1)){var n=i[0],r=n.getContext("2d");n.width=2*parseFloat(i.css("width")),n.height=2*parseFloat(i.css("height"));var a=this.state.unit_length,s=this.state.unit_scale,l=this.state.unit_time,c=this.state.max_time,u=(this.state.path_box,c/90),h=7/s*u;if(e)for(var d=[.1,.2,.5,1,2,5,10,20,30,60,120,300,600,1200,1800,3600,7200,10800,21600],p=0;p<d.length;p++)if(d[p]>=h){l=d[p]/10;break}var f=-1*Math.floor(this.state.time_line_start)/a*l,m=Math.floor(this.state.time_line_start)%(10*a),g=-1*Math.floor(this.state.time_line_start)/a*l%(10*l);e&&(a=1*(10*s*l/u).toFixed(4),this.setState({unit_time:l}),this.setState({unit_length:a})),r.font="24px Arial",r.beginPath(),r.lineCap="round",r.strokeStyle="#888";for(var v=0;v<=300;v++){r.lineWidth=1;var y=v%5===0?v%10===0?28:31:33,b=Math.ceil(v*a+m);r.moveTo(2*b,2*y),r.lineTo(2*b,70)}r.stroke(),r.beginPath(),r.lineCap="round",r.strokeStyle="#000";for(var _=0;_<=300;_++){r.lineWidth=1;var A=_%5===0?_%10===0?28:30:32,E=Math.ceil(_*a+m);_%10===0&&(r.fillStyle="#999",r.textAlign="center",r.fillText(Object(w.j)(f+l*_-g),2*E,38),r.moveTo(2*E+1,2*A),r.lineTo(2*E+1,70))}r.stroke()}},initPathWidth:function(){var e=this;o()(".pathway").css({width:this.state.max_time*this.state.unit_length/this.state.unit_time}),this.setState({path_box:parseFloat(o()(".tl-wrapper").css("width"))-140}),o()(".pathway .mater-helper").each(function(t,i){Object(j.a)(o()(i),e.state.unit_length,e.state.unit_time,!0),o()(i).hasClass("new")&&e.setDrag(o()(i))})},initScrollBar:function(){function e(){s.width("100%");var e=r.find(".pathway"),t=e.width()-r.width(),i=t/e.width(),n=s.width()-i*s.width();s.find(".ui-slider-handle").css({width:n,"margin-left":-n/2}),l.width("").width(s.width()-n)}function t(){var e=r.find(".pathway"),t=r.width()-e.width(),i="auto"===e.css("margin-left")?0:parseInt(e.css("margin-left")),n=0===t?0:Math.round(i/t*100);s.slider("value",n)}function i(){var e=r.find(".pathway"),t=e.width()+parseInt(e.css("margin-left"),10),i=r.width()-t;if(i>0){n.state.time_line_start;n.state.time_line_start=parseInt(e.css("margin-left"),10)+i,e.css("margin-left",parseInt(e.css("margin-left"),10)+i),n.refreshRuler()}}var n=this,r=o()(".pathway-box"),a=(o()(".pathway"),o()(".zoom-bar").slider({range:"min",value:1,min:1,max:100,step:.1,slide:function(r,a){var o=n.state.unit_scale;n.state.time_line_now=(n.state.time_line_now-n.state.time_line_start)/o*a.value,n.setState({unit_scale:a.value}),n.refreshRuler(!0),n.initPathWidth(),t(),e(),i()}}));o()(".zoom-in").bind("click",function(){if(!se){se=!0,setTimeout(function(){se=!1},300);var r=o()(".zoom-bar").slider("option","value");r>=100||(o()(".zoom-bar").slider("option","value",1*r+.1),n.setState({unit_scale:1*r+.1}),n.refreshRuler(!0),n.initPathWidth(),t(),e(),i())}}),o()(".zoom-out").bind("click",function(){if(!se){se=!0,setTimeout(function(){se=!1},300);var r=o()(".zoom-bar").slider("option","value");r<=1||(o()(".zoom-bar").slider("option","value",1*r-.1),n.setState({unit_scale:1*r-.1}),n.refreshRuler(!0),n.initPathWidth(),t(),e(),i())}}),a.find("span").removeAttr("tabIndex");var s=o()(".scroll-bar").slider({slide:function(e,t){var i=0,a=r.find(".pathway");a.width()>r.width()&&(i=Math.round(t.value/100*(r.width()-a.width()))),a.css("margin-left",i+"px");var o=n.state.time_line_start;n.state.time_line_start=i,n.state.time_line_now=i-o+n.state.time_line_now,n.refreshRuler()}}),l=s.find(".ui-slider-handle").mousedown(function(){s.width(l.width())}).mouseup(function(){s.width("100%")}).removeAttr("tabIndex").wrap("<div class='ui-handle-helper-parent'></div>").parent();return r.css("overflow","hidden"),setTimeout(e,10),function(){t(),e(),i()}},set_time_line_now:function(e,t,i){var n=this;clearTimeout(ne),e<0&&(this.state.time_line_start=this.state.time_line_start-e>0?0:this.state.time_line_start-e,o()(".pathway-box .pathway").css("margin-left",this.state.time_line_start||"0px"),this.refreshRuler(),e=0),this.setState({time_line_now:e}),ne=setTimeout(function(){i||n.playVideo(t||"")},20)},set_time_now:function(e){var t=e/this.state.unit_time*this.state.unit_length+this.state.time_line_start;this.state.time_line_now!==t&&this.set_time_line_now(t)},setDrag:function(e){var t=this,i=o()(".control .pathway-box");e.removeClass("new"),"transition"!==e.attr("data-mediaType")&&e.draggable({appendTo:".flex-column",cancel:".trans,.trim",scope:"maters",scroll:!1,snapMode:"inner",snap:".mater-helper,.pathway",snapTolerance:t.state.auto_indent?10:0,cursor:"move",helper:function(t,i){var n=o()(document.createElement("div")),r=o()(".pathway-box .pathway"),a=!1,s=[];return n.css({marginLeft:"-"+e.css("left")}),r.map(function(t,i){var l=r.eq(t).find(".mater-helper.ui-selected");if(l.length||(l=r.eq(t).find(".mater-helper.focused")),l.length&&l.addClass("ui-draggable-dragging"),l.length&&!a&&(n.css({marginTop:36*-(e.attr("data-layer")-l.attr("data-layer"))+"px"}),a=!0),a){var c=o()(document.createElement("div"));if(c.addClass("drag-layer"),r.eq(t).hasClass("main")&&c.addClass("main"),l.map(function(e,t){c.append(l.eq(e).clone())}),l.length){for(var u=0;u<s.length;u++){var h=o()(document.createElement("div"));h.addClass("drag-layer"),s[u]&&h.addClass("main"),n.append(h)}s=[],n.append(c)}else r.eq(t).hasClass("main")?s.push(!0):s.push(!1)}}),n.find(".ui-selected.focused").removeClass("focused"),n},start:function(e,i){var n=i.helper.find("[data-mediaType=audio]");n.map(function(e,i){Object(j.a)(n.eq(e),t.state.unit_length,t.state.unit_time,"canvas")});var r=i.helper.find(".mater-main");if(r.map(function(e,i){Object(j.a)(r.eq(e),t.state.unit_length,t.state.unit_time,"canvas")}),o()(".focus").css({display:"none"}),!e.altKey){o()(".pathway-box .pathway").find(".mater-helper.ui-selected").addClass("hidden"),o()(e.target).addClass("hidden")}Object(k.j)(i.helper,e.altKey)},drag:function(e,n){if(n.helper.hasClass("license")){var r=n.helper.find(".mater-helper"),a=99999;r.map(function(e,n){var o=r.eq(e),s=o.attr("data-startTime"),l=o.attr("data-endTime"),c=o.offset(),u=c.top-i.offset().top,h=c.left-i.offset().left;a=Math.min(a,h),setTimeout(function(){var e=h-t.state.time_line_start,i=e/t.state.unit_length*t.state.unit_time;Object(k.G)(o,i,i-s+1*l,Math.round(u/36),t.state.auto_indent?t.state.unit_time/t.state.unit_length:0)})}),setTimeout(function(){a>=0&&t.set_time_line_now(a,"recycle")})}},stop:function(e,i){o()(i.helper);t.set_time_line_now(t.state.time_line_now);var n=o()(".pathway-box .mater-helper.ui-selected");n.length||(n=o()(".pathway-box .mater-helper.focused")),o()(i.helper).find(".yellow.focused").length||n.map(function(e,t){var i=n.eq(e);i.hasClass("hidden")&&(i.hasClass("yellow")?i.addClass("hidden"):i.hasClass("red")?i.removeClass("hidden"):i.hasClass("license")?i.remove():i.removeClass("hidden").removeClass("ui-draggable-dragging"))}),o()(i.helper).find(".yellow.focused").length,o()(".flex-column >.ui-draggable-handle").remove()}})},mouseMove:function(e){var t=o()(".focused.mater-helper"),i=t.attr("data-subType");if(fe&&ge){var n=e.clientX+o()(document).scrollLeft()-o()(".progress").offset().left;ge[0]&&(ge[0].currentTime=(ge[0].duration||0)*(n>0?n:0)/(o()(".progress").width()-2)),this.setState({paused:!0}),this.playMedia("once")}if(t.length){var r=e.clientX+o()(document).scrollLeft()-140,a=(r-this.state.time_line_start)/this.state.unit_length*this.state.unit_time;if("animation"===i&&(he=de=!1),(he||de)&&this.set_time_line_now(r),he)Object(k.H)(t,a,"left");else{if(!de)return;Object(k.H)(t,a,"right")}Object(j.a)(t,this.state.unit_length,this.state.unit_time,!0)}},initRuler:function(){var e=this;o()(".zoom-bar").slider("option","value",1),this.setState({unit_scale:1}),setTimeout(function(){e.refreshRuler(!0),setTimeout(function(){e.initPathWidth(),Ae()})})},getMediaShape:function(e,t,i,n){var r=i,a=n,o=0,s=0;"video"===t?(r=e.videoWidth,a=e.videoHeight,ge[4]&&(a/=2)):"image"===t&&(r=e.width,a=e.height);var l=r,c=a;return"text"!==t?(r/a>(i>n?16/9:9/16)?s=(n-a*i/r)/2:o=(i-r*n/a)/2,r=i,a=n):(s=(n-a)/2,o=(i-r)/2,r=i,a=n),{w:r,h:a,x:o,y:s,sw:l,sh:c}},playVideo:function(e,t,i){var n=this;if(ge)return void this.playMedia("once");if("area"===e&&(this.state.currentArea=i,this.state.currentAreaId=t,!this.state.paused)){this.setState({paused:!0});var r=Object(k.q)();for(var a in r)r[a].pause&&!r[a].paused&&r[a].pause();return void setTimeout(function(){n.renderCanvas("single")},100)}if(this.state.paused){var s=Object(k.q)();for(var l in s)s[l].pause&&!s[l].paused&&s[l].pause()}if(this.state.paused||"area"!==e&&e){var c=o()("#sec4-canvas")[0],u=o()("#sec5-canvas")[0];if(u&&this.state.show_record&&(c=u),!c){var h=Object(k.q)();for(var d in h)h[d].pause&&!h[d].paused&&h[d].pause();return void Object(k.f)()}clearTimeout(te);var p=Object(k.q)(),f=Object(k.n)(),m=this.state.time_line_now-this.state.time_line_start,g=1*(m/this.state.unit_length*this.state.unit_time).toFixed(6);if(!this.state.paused&&e){if(this.state.newFile.setting)for(var v in p)p[v].pause&&!p[v].paused&&p[v].pause();else{var y=+new Date,b=y-le;if(b>0&&b<200&&(g+=b/1e3),le=y,f.s&&g<f.s&&(g=f.s),f.e&&f.e-g<.01){for(var _ in p)p[_].pause&&!p[_].paused&&p[_].pause();return void this.setState({paused:!0})}var A=Object(k.r)(g,"",be,this.state.paused);if(A&&(oe=A[0]),A&&A[2]){for(var E in p)p[E].pause&&!p[E].paused&&p[E].readyState>1&&p[E].pause();return setTimeout(function(){n.playVideo(e,t,i)},100),void(ye=setTimeout(function(){n.setState({loadingMedia:!0})},1e3))}clearTimeout(ye);var x=(g<A[1]?A[1]:g)/this.state.unit_time*this.state.unit_length,T=o()(".pathway-box"),S=T.find(".pathway"),C=S.width();if(C-x>T.width()/2&&x+this.state.time_line_start>T.width()/2){var O=T.width()/2-x;this.state.time_line_start=O,this.set_time_line_now(x+this.state.time_line_start),S.css("marginLeft",Math.floor(O));var P=T.width()-C,j=0===P?0:Math.round(O/P*100);o()(".scroll-bar").slider("value",j),this.refreshRuler()}else if(x<=-this.state.time_line_start)if(x>T.width()/2){var I=T.width()/2-x;this.state.time_line_start=I,this.set_time_line_now(x+this.state.time_line_start),S.css("marginLeft",Math.floor(I));var M=T.width()-C,R=0===M?0:Math.round(I/M*100);o()(".scroll-bar").slider("value",R),this.refreshRuler()}else this.state.time_line_start=0,this.set_time_line_now(x),S.css("marginLeft",0),o()(".scroll-bar").slider("value",0),this.refreshRuler();else this.set_time_line_now(x+this.state.time_line_start,"",!0)}Object(w.l)(this.renderCanvas),Object(w.l)(this.playVideo)}else{if(this.state.paused&&("area"===e||!e)){(f.s&&g<=f.s||f.e&&f.e-g<0)&&this.state.unit_detail.show&&(g=f.s+1/60,this.set_time_line_now(g/this.state.unit_time*this.state.unit_length+this.state.time_line_start)),f.s&&g<=f.s?g=f.s+1/60:f.e&&f.e-g<.01&&(g=f.e-1/60);var D=Object(k.r)(g,!0,be,this.state.paused);return D&&(oe=D[0]),this.setState({paused:!0}),void setTimeout(function(){Object(w.l)(n.renderCanvas)},100)}if("recycle"===e)return}te=setTimeout(function(){var e=Object(k.q)();for(var t in e)e[t]&&e[t].pause&&!e[t].paused&&e[t].pause()},40)}},playMedia:function(e){var t=this,i=ge[0],n=ge[1];if(!e||this.state.paused){var r=o()("#sec4-canvas")[0],a=r.getContext("2d"),s="";if(1!==i.readyState&&(r.width=o()(r).width(),r.height=o()(r).height(),a.fillStyle="#000",a.fillRect(0,0,r.width,r.height)),"video"!==n&&"audio"!==n&&!i.lottie||"once"===e||(this.state.paused=!this.state.paused,i.onended=function(){t.setState({paused:!0})}),"audio"===n&&ge[3]){var l=r.height,c=r.width;s=!0,Object(g.a)(ge[3],{},function(e){var t=e.left.length;a.font="14px Arial",a.strokeStyle="#e9e9e9",a.beginPath();for(var i=0;i<=c;i++){var n=Math.floor(t/c*i);a.lineWidth=1,a.strokeStyle="#c6c6c6";var r=e.left[n]||.01,o=e.right[n]||.01;a.moveTo(i,l/2-r*l/4),a.lineTo(i,l/2+1),a.moveTo(i,l/2-o*l/4),a.lineTo(i,l/2+1)}a.stroke()},function(){s=!1})}if(("video"===n||"audio"===n)&&i.readyState<2||"image"===n&&!i.complete)i.readyState<1&&!this.state.loadingMedia&&this.setState({loadingMedia:!0}),this.setState({paused:this.state.paused}),i["video"===n||"audio"===n?"oncanplay":"onload"]=function(){if(t.setState({loadingMedia:!1}),!ge||ge[0]!==i)return i.pause&&i.pause(),void i.lottie;var l=t.getMediaShape(i,n,r.width,r.height);if(e)return i&&!s&&("audio"===n?a.drawImage("audio"===n?xe:i,0,0,r.width,r.height):a.drawImage("audio"===n?xe:i,0,0,l.sw,l.sh,l.x,l.y,l.w-2*l.x,l.h-2*l.y)),void t.setState({paused:!0});i.play&&i.play();!function e(){if(t.state.paused)return i.pause&&i.pause(),void t.setState({paused:!0});if(i&&!s){r.width=o()(r).width(),r.height=o()(r).height(),a.fillStyle="#000",a.fillRect(0,0,r.width,r.height);var l=t.getMediaShape(i,n,r.width,r.height);try{"audio"===n?a.drawImage("audio"===n?xe:i,0,0,r.width,r.height):a.drawImage("audio"===n?xe:i,0,0,l.sw,l.sh,l.x,l.y,l.w-2*l.x,l.h-2*l.y)}catch(e){}}t.setState({paused:!1}),Object(w.l)(e)}()};else{var u=this.getMediaShape(i,n,r.width,r.height);if(e){if(i&&!s)try{"audio"===n?a.drawImage("audio"===n?xe:i,0,0,r.width,r.height):a.drawImage("audio"===n?xe:i,0,0,u.sw,u.sh,u.x,u.y,u.w-2*u.x,u.h-2*u.y)}catch(e){}return void this.setState({paused:!0})}("video"===n||"audio"===n||i.lottie)&&(this.state.paused?i.pause&&i.pause():i.play&&i.play());!function e(){if(t.state.paused){if(i.pause&&i.pause(),i&&!s){r.width=o()(r).width(),r.height=o()(r).height(),a.fillStyle="#000",a.fillRect(0,0,r.width,r.height);var l=t.getMediaShape(i,n,r.width,r.height);"audio"===n?a.drawImage("audio"===n?xe:i,0,0,r.width,r.height):a.drawImage("audio"===n?xe:i,0,0,l.sw,l.sh,l.x,l.y,l.w-2*l.x,l.h-2*l.y)}return void t.setState({paused:!0})}if(i&&!s){r.width=o()(r).width(),r.height=o()(r).height(),a.fillStyle="#000",a.fillRect(0,0,r.width,r.height);var c=t.getMediaShape(i,n,r.width,r.height);"audio"===n?a.drawImage("audio"===n?xe:i,0,0,r.width,r.height):a.drawImage("audio"===n?xe:i,0,0,c.sw,c.sh,c.x,c.y,c.w-2*c.x,c.h-2*c.y)}t.setState({paused:!1}),Object(w.l)(e)}()}}},deleteMedia:function(e,t){var i=this;if(e){if("get_project_material"===t){var n={media_id:e,project_id:$};localStorage.stager&&(n.action=2),Object(O.a)("\u786e\u5b9a\u5c06\u8be5\u7d20\u6750\u4ece\u5a92\u4f53\u4e2d\u5220\u9664\u5417\uff1f",e?"delete_project_material":"",n,function(){i.refs.OnlineM.refreshing()})}else if("get_media_list"===t){var r={media_id:e,action:1};localStorage.stager&&(r.action=2),Object(O.a)("\u786e\u5b9a\u8981\u5220\u9664\u8be5\u7d20\u6750\u5417\uff1f",e?"trash_media":"",r,function(){i.refs.OnlineM.refreshing()})}}else{var a=ve.attr("data-mediaId"),s=ve.attr("data-buffer");if(ve.hasClass("project-mater")){var l={media_id:a,project_id:$};localStorage.stager&&(l.action=2),Object(O.a)("\u786e\u5b9a\u5c06\u8be5\u7d20\u6750\u4ece\u5a92\u4f53\u4e2d\u5220\u9664\u5417\uff1f",a?"delete_project_material":"",l,function(){ve.hide(),(s||0===s)&&v.a.cancel(1*s)})}else{var c={media_id:a,action:1};localStorage.stager&&(c.action=2),Object(O.a)("\u786e\u5b9a\u8981\u5220\u9664\u8be5\u7d20\u6750\u5417\uff1f",a?"trash_media":"",c,function(){ve.hide(),(s||0===s)&&v.a.cancel(1*s)})}o()(".contentMenu").hide()}},showLoading:function(){var e=this;this.setState({newFile:{setting:"show",width:400,status:"loading",height:220,title:" ",close:function(){e.setState({newFile:""})}}})},closeLoading:function(){this.setState({newFile:""})},renderCanvas:function(e){var t=this;if(console.info("render"),"re"!==e||this.state.paused){var i=o()("#sec4-canvas").eq(0),n=i[0],r=o()("#sec3-canvas")[0],a=o()("#sec5-canvas")[0],s=Object(k.q)(),l=Object(k.p)();((this.state.time_line_now-this.state.time_line_start)/this.state.unit_length*this.state.unit_time).toFixed(2);if(a&&this.state.show_record&&(n=a),!n){for(var c in s)s[c].pause&&!s[c].paused&&s[c].pause();return void Object(k.f)()}for(var u=0;u<oe.length;u++){var h=oe[u],d=l[h],p=s[h];if(["video","audio"].includes(d.obj_type)&&(!p||p.readyState<2))return this.setState({loadingMedia:!0}),void setTimeout(function(){t.renderCanvas("re")},100)}this.state.newFile={},this.state.loadingMedia&&this.setState({loadingMedia:!1});var f=o()("#sec4-canvas-show")[0],m=n.getContext("2d"),g=r.getContext("2d"),v=Te.getContext("2d"),y=this.state.time_line_now-this.state.time_line_start,b=1*(y/this.state.unit_length*this.state.unit_time).toFixed(2);n.width=o()(n).width(),n.height=o()(n).height(),r.width=o()(n).width(),r.height=o()(r).height(),Te.width=.9*o()(n).width(),Te.height=o()(r).height(),m.fillStyle="#000",m.fillRect(0,0,n.width,n.height);for(var _=n.height/1080,A=n.height*this.state.cropperSize,E=0;E<oe.length;E++){(function(e){var i=oe[e],a=l[i],c=s[i],u=!1,h=a.crop||{};if(!c)return"continue";var d=A,p=n.height,y=0,E=0,w=0,S=0;if(g.clearRect(0,0,r.width,r.height),"video"===a.obj_type){var C=a.special;C.media_url&&-1!==C.media_url.toLowerCase().indexOf(".gif")&&(u=!0),d=c.videoWidth,p=c.videoHeight,u&&(p/=2)}else if("image"===a.obj_type)d=c.width,p=c.height;else if("text"===a.obj_type)d=a.special.position_w*_,p=a.special.position_h*_,w=a.special.position_x*_,S=a.special.position_y*_;else{if("audio"===a.obj_type)return"continue";d=A,p=n.height}a.obj_type,d/p>t.state.cropperSize?E=(n.height-p*A/d)/2:y=(A-d*n.height/p)/2,d=A,p=n.height;var k=1,O=0,P=1,j=1,I=0,M=0,R=a.transform,D=a.video_fade,L=(a.speed,a.volume,a.pvolume,a.effects),N=a.color,B=a.specialeffect,F=a.delogo,U=a.colorkeying;if(R){var z=a.end_time-a.start_time;switch(R.rotation&&(O=a.transform.rotation),R.flip){case 0:P=1,j=1;break;case 1:P=-1;break;case 2:j=-1;break;case 3:P=-1,j=-1}if(R.start_scale)if(!R.end_scale&&0!==R.end_scale||R.end_scale===R.start_scale)P*=R.start_scale,j*=R.start_scale;else{var H=1*R.start_scale+(R.end_scale-R.start_scale)*(b-a[e].start_time)/z;P*=H,j*=H}if(R.start_position_x||0===R.start_position_x)if(R.end_position_x!==R.start_position_x){var V=1*R.start_position_x+(R.end_position_x-R.start_position_x)*(b-a.start_time)/z;I+=V*_}else I+=R.start_position_x*_;if(R.start_position_y||0===R.start_position_y)if(R.end_position_y!==R.start_position_y){var G=1*R.start_position_y+(R.end_position_y-R.start_position_y)*(b-a.start_time)/z;M+=G*_}else M+=R.start_position_y*_}if(D&&D.length){var q=D[0].visibility,W=D[D.length-1].visibility;if(q!==W){var Y=a.end_time-a.start_time;k=(1*q+(W-q)*(b-a.start_time)/Y)/100}else k=D[0].visibility/100}else k=1;var X="",Q=!1;if(N){var K=1,Z=1,J=1;K=N.brightness<0?N.brightness/100:N.brightness/20,Z=N.contrast<0?N.contrast/100:N.contrast/20,J=N.saturation<0?N.saturation/100:N.saturation/20,X+="hue-rotate("+N.hue+"deg) brightness("+(K+1)+") saturate("+(J+1)+") contrast("+(Z+1)+")"}switch(L){case"negate":X+=" invert(1)";break;case"monochrome":X+=" grayscale(1)";break;case"vintage":X+=" sepia(1)";break;case"blur":X+=" blur(5px)"}if(r.width=d-2*y,r.height=p-2*E,r.width<=0||r.height<=0)return"continue";if((["video","image"].includes(a.obj_type)||"text"===a.obj_type&&c)&&g.drawImage(c,0,0,r.width,r.height),"emboss"===L&&(Object(T.a)(g,r,L),Q=!0),F&&F.length&&F.map(function(e,t){var i=e;i.logo_width&&i.logo_height&&((i.logo_width>1||i.logo_height>1)&&(i.logo_x=1*(i.logo_x/1920).toFixed(4),i.logo_y=1*(i.logo_y/1080).toFixed(4),i.logo_width=1*(i.logo_width/1920).toFixed(4),i.logo_height=1*(i.logo_height/1080).toFixed(4)),Object(T.a)(g,r,"blur",15,15,i.logo_x*r.width,i.logo_y*r.height,i.logo_width*r.width,i.logo_height*r.height,0,0,0,c),Q=!0)}),u){var $=document.createElement("canvas"),ee=$.getContext("2d");$.width=c.videoWidth||$.width,$.height=c.videoHeight||$.height,ee.drawImage(c,0,0,$.width,$.height),g.drawImage($,0,0,c.videoWidth,c.videoHeight/2,0,0,r.width,r.height),Object(T.a)(g,r,"isGif",0,0,0,0,r.width,r.height,0,0,0,$),Q=!0}if(B&&((B.vague_x||B.vague_y)&&(Object(T.a)(g,r,"blur",B.vague_x*n.width/(n.width>n.height?1920:1080),B.vague_y*n.height/(n.width>n.height?1080:1920)),Q=!0),B.logo_width&&B.logo_height&&(Object(T.a)(g,r,"blur",15,15,B.logo_x*r.width,B.logo_y*r.height,B.logo_width*r.width,B.logo_height*r.height),Q=!0)),U){var te=U.select_color,ie=U.sensitivity,ne=U.transparency;te&&(Object(T.a)(g,r,"chroma",0,0,0,0,r.width,r.height,te,ie,ne),Q=!0)}if(m.filter=X||"none",m.setTransform(1,0,0,1,0,0),R&&R.blurred){var re=m.filter;m.filter="blur(10px)",["video","image"].includes(a.obj_type)&&m.drawImage(c,-E/r.height*r.width,-y/r.width*r.height,d+E/r.height*r.width*2,p+y/r.width*r.height*2),m.filter=re}var ae=a.trans_start,se=a.trans_end;if(ae){var le=ae.bind?ae.duration/2:1*ae.duration;if(1*a.start_time+le>b){Q=!0;var ce=(b-(1*a.start_time+le-ae.duration))/ae.duration;ae.bind||(Te.width=r.width,Te.height=r.height,v.clearRect(0,0,r.width,r.height)),r=Object(x.a)(Te,r,r.width,r.height,ce,ae.trans_type)}}if(se){var ue=se.bind?se.duration/2:1*se.duration;if(1*a.end_time-ue<b){Q=!0;var he=(b-(1*a.end_time-ue))/se.duration;if(se.bind)return v.drawImage(r,0,0,r.width,r.height),"continue";Te.width=r.width-100,Te.height=r.height,v.clearRect(0,0,r.width,r.height),r=Object(x.a)(r,Te,r.width,r.height,he,se.trans_type)}}if(m.translate(n.width/2+I,p/2+M),m.rotate(O*Math.PI/180),m.scale(1*j.toFixed(6),1*P.toFixed(6)),m.translate(-n.width/2,-p/2),f&&t.state.unit_detail.show&&i===t.state.currentAreaId){f.height=o()(f).height(),f.width=f/1080*1920;var de=void 0,pe=void 0,fe=Math.abs(P.toFixed(6)),me=Math.abs(j.toFixed(6));de=d/2-me*(d/2-y),pe=p/2-fe*(p/2-E),d/2+me*(d/2-y),p/2+fe*(p/2-E),o()(f).css({left:de+I-(d-n.width)/2+"px",top:pe+M+"px",transform:"rotate("+O+"deg)",width:d-2*de+"px",height:p-2*pe+"px"});var ge="nw-resize",ve="ne-resize",ye="nw-resize",be="ne-resize";switch(Math.round((O+360-22)/45)%4){case 0:ge="nw-resize",ve="ne-resize",ye="nw-resize",be="ne-resize";break;case 1:ge="n-resize",ve="e-resize",ye="n-resize",be="e-resize";break;case 2:ge="ne-resize",ve="nw-resize",ye="ne-resize",be="nw-resize";break;case 3:ge="e-resize",ve="n-resize",ye="e-resize",be="n-resize"}o()(f).find(".l-t").css({cursor:ge}),o()(f).find(".l-b").css({cursor:ve}),o()(f).find(".r-b").css({cursor:ye}),o()(f).find(".r-t").css({cursor:be})}if(m.globalAlpha=k,h&&"{}"!==JSON.stringify(h)){var _e=n.height/1080;h.width*r.width/(h.height*r.height)>16/9?E=(n.height-h.height*r.height*_e*1920/(h.width*r.width))/2:y=(1920*_e-h.width*r.width*n.height/(h.height*r.height))/2,d=1920*_e,p=n.height,(["video","image"].includes(a.obj_type)||"text"===a.obj_type&&c)&&m.drawImage(r,r.width*h.x,r.height*h.y,r.width*h.width,r.height*h.height,y+w-(d-n.width)/2,E+S,d-2*y,p-2*E)}else(["video","image"].includes(a.obj_type)||"text"===a.obj_type&&c)&&m.drawImage(Q?r:c,y+w-(d-n.width)/2,E+S,d-2*y,p-2*E)})(E)}if(this.state.subtitles_show&&!i.hasClass("snapshot")){var w=this.state.subtitles_config.list;if(w.length){var S=Object(k.l)().text_info||{font_size:50,status:!0,font_color:"ffffff",font_name:"FZShuSong-Z01S",background_color:"000000",alpha:0,position_x:"middle",position_y:0},C=S.font_size*_*n.width/A,O="#"+S.font_color,P="#"+S.background_color,j=S.alpha,I=S.position_x,M=S.position_y*_,R="center",D=n.width/2;switch(I){case"left":R="left",D=n.width/20;break;case"middle":R="center";break;case"right":R="right",D=n.width/20*19}m.filter="none",m.setTransform(1,0,0,1,0,0),m.font=C+"px "+S.font_name,m.beginPath(),C*=1.2,w.map(function(e,t){if(e.text&&e.start_time<=b&&e.end_time>=b){var i=e.text.split("\n"),r=o()("#subtitles-show")[0];if(r){var a=e.text.split("").filter(function(e){return"\n"==e}).length+1,s=o()(n).width(),l=C*a;o()(r).width(s),o()(r).height(l),o()(r).css({left:"0px",top:o()(n).height()-l-M+"px"})}m.fillStyle=P,m.globalAlpha=j,m.fillRect(0,n.height-M-i.length*C,n.width,i.length*C),m.lineWidth=1,m.fillStyle=O,m.textAlign=R,m.textBaseline="bottom",m.globalAlpha=1,m.shadowOffsetX=2,m.shadowOffsetY=2,m.shadowBlur=2,m.shadowColor="rgba(0, 0, 0, 1)",i.map(function(e,t){m.fillText(e,D,n.height-M-(i.length-t-1)*C)})}}),m.stroke()}}if(this.state.issue.show&&document.getElementById("theLogoUrl")){m.filter="none";var L=document.getElementById("theLogoUrl");m.setTransform(1,0,0,1,0,0),m.globalAlpha=.8,localStorage.miniMark?m.drawImage(L,.7*n.width,.05*n.height,.25*n.width,L.height/L.width*n.width*.25):m.drawImage(L,.55*n.width,.05*n.height,.4*n.width,L.height/L.width*n.width*.4)}}},transform:function(e){var t=o()(".reveal");switch(t.removeClass("vertical"),t.removeClass("vertical-11"),t.removeClass("vertical-43"),e){case"16:9":this.state.cropperSize=16/9,this.state.screen_scale="16:9";break;case"4:3":t.addClass("vertical-43"),this.state.cropperSize=4/3,this.state.screen_scale="4:3";break;case"1:1":t.addClass("vertical-11"),this.state.cropperSize=1,this.state.screen_scale="1:1";break;case"9:16":t.addClass("vertical"),this.state.cropperSize=9/16,this.state.screen_scale="9:16"}this.save_config("save"),this.playVideo()},clone:function(){this.setState({showCropper:!1}),this.playVideo(),this.state.unit_detail.show&&this.setState({unit_detail:{}});var e=o()(".pathway").find(".focused").eq(0);e.hasClass("mater-helper")&&Object(k.a)(e,"copy")},goBack:function(){if(this.state.issue.show)this.closeIssue(),this.refreshRuler();else{var e="/hub/project";switch(ee){case 0:e="/hub/project";break;case 1:e="/hub/template/mine";break;case 2:e="/hub/template/library"}this.props.history.push(e)}},setTransToAudio:function(e){this.setState({transToAudio:e||!1})},_pause:function(){this.setState({paused:!0})},renderPath:function(e){if("return"===e&&(re[1]=1),"render"===e&&(re[0]=1),re[0]&&re[1]){var t=Object(k.l)();if(t.duration>this.state.max_time){this.state.unit_scale=t.duration*this.state.unit_scale/this.state.max_time,this.state.max_time=t.duration+50;try{o()(".zoom-bar").slider("option","value",this.state.unit_scale)}catch(e){}}Object(k.y)(),Ae(),this.initRuler()}},_setSilence:function(e){be=e},subtitles_change:function(e){if(e);else{var t=(this.state.time_line_now-this.state.time_line_start)/this.state.unit_length*this.state.unit_time;t=Math.max(Math.floor(25*t)/25,0);for(var i=Object(C.a)().list,n=t+5,r=0,a=0;a<i.length;a++){var o=i[a].start_time,s=i[a].end_time;if(t<=o&&t>=r&&o-r>=3){o-r>=5?o-t<5&&(t=o-5,n=o):(t=r,n=o);break}(r=s)>t&&(t=s,n=1*s+5)}Object(C.j)({project_id:$,text_id:"",start_time:t,end_time:n,text:""},!0)}},_record:function(e){be=!0,this.state.show_record=!0,this.setState({record:{show:!0,time:(this.state.time_line_now-this.state.time_line_start)/this.state.unit_length*this.state.unit_time,dir_id:e}})},_closeRecord:function(e,t,i,n,r){e&&Object(k.t)(i,e,n,t,r),this.setState({show_record:!1})},componentWillUpdate:function(){},saveAsTempPro:function(e){var t=Object(k.l)().label;this.state.label=t&&t.join("|")?t:[],this.state.saveTemplate=e,this.setState({newTemplateVisible:!0})},issueTemplate:function(e){var t=this;Object(g.a)("get_project_config",{project_id:e},function(e){e.label=t.state.label;var i=document.createElement("img"),n=document.createElement("canvas"),r=n.getContext("2d");i.crossOrigin="anonymous",e.video_list.map(function(e,a){e.obj_list.map(function(e,o){e.special,"text"===e.obj_type&&("animation"===e.special.sub_type?(t.text_flame_text(e,b.l[e.obj_id+"_"+a]),e.special.svg1="",e.special.svg=""):(i.src=e.special.svg1,n.width=e.special.position_w,n.height=e.special.position_h,r.drawImage(i,0,0,n.width,n.height),e.special.svg=n.toDataURL("image/png").replace(/^data:image\/\w+;base64,/,"")))})}),Object(g.a)("save_project_config",JSON.stringify(e),function(i){Object(g.a)("generate_movie",JSON.stringify({name:e.name,label:t.state.label,project_id:i.project_id,description:e.description||"",language:{empty:!0},out_type:["480P"],thumbnail:"",directory_id:0,plat_user_list:[]}),function(e){f.t.info("\u5408\u6210\u6a21\u677f\u6210\u529f\uff01"),t.closeLoading(),t.setState({newTemplateVisible:!1}),ee&&t.state.saveTemplate&&t.props.history.push("/template/mine")},function(e){f.t.info("\u5408\u6210\u6a21\u677f\u5931\u8d25\uff01"),t.closeLoading(),t.setState({newTemplateVisible:!1})},"info")},function(){f.t.info("\u5408\u6210\u6a21\u677f\u5931\u8d25\uff01"),t.closeLoading(),t.setState({newTemplateVisible:!1})},"info")},function(){f.t.info("\u5408\u6210\u6a21\u677f\u5931\u8d25\uff01"),t.closeLoading(),t.setState({newTemplateVisible:!1})},"info")},createTempPro:function(){var e=this;if(this.state.saveTemplate){if(!this.state.label||0===this.state.label.length)return void f.t.info("\u8bf7\u8f93\u5165\u6807\u7b7e\uff01");this.showLoading(),ee?this.issueTemplate($):Object(g.a)("copy_project",{project_id:$,name:this.state.newTemplateText||"\u6211\u7684\u6a21\u677f",dst_type:1},function(t){e.issueTemplate(t.project_id)},function(){f.t.info("\u4fdd\u5b58\u6a21\u677f\u5931\u8d25\uff01"),e.closeLoading(),e.setState({newTemplateVisible:!1})},"info")}else Object(g.a)("copy_project",{project_id:$,name:this.state.newTemplateText||"\u6211\u7684\u9879\u76ee",dst_type:0},function(t){e.props.history.push("/load"),e.props.history.push("/online#"+t.project_id)},"","info")},toPre:function(){Object(k.w)(),this.get_theme(Object(k.l)().theme_id||"")},toNext:function(){Object(k.v)(),this.get_theme(Object(k.l)().theme_id||"")},getCanvasImg:function(){var e=o()("#sec3-canvas")[0],t=new Image;t.src=e.toDataURL("image/png"),this.state.imgData=o()(t).attr("src")},cropperDraw:function(e,t){var i=this;setTimeout(function(){Object(k.r)(i.state.time_line_now/10,!0,be,i.state.paused)});var n=Object(k.q)(),r=0,a=0,s=0,l=0,c=o()("#sec4-canvas")[0],u=c.getContext("2d"),h=o()("#sec3-canvas")[0],d=h.getContext("2d");"video"===n[t].tagName.toLowerCase()?(r=n[t].videoWidth,a=n[t].videoHeight):"img"===n[t].tagName.toLowerCase()&&(r=n[t].width,a=n[t].height),"text"!==n[t].tagName.toLowerCase()&&(r/a>c.width/c.height?(l=(c.height-a*c.width/r)/2,s=0):(s=(c.width-r*c.height/a)/2,l=0),r=c.width,a=c.height),d.clearRect(0,0,h.width,h.height),u.clearRect(0,0,c.width,c.height),h.width=r-2*s,h.height=a-2*l,c.width=r,c.height=a,u.drawImage(n[t],s,l,r-2*s,a-2*l),d.drawImage(n[t],s,l,r-2*s,a-2*l),this.getCanvasImg()},render:function(){var e=this,t=this.state.showSubtitlesStyle&&!this.state.colophon.show&&!this.state.unit_detail.show;return r.a.createElement("div",{className:"flex-column"},r.a.createElement("img",{style:{display:"none"},id:"logoImg",src:R.a,alt:""}),r.a.createElement("img",{style:{display:"none"},id:"stagerLogo",src:L.a,alt:""}),r.a.createElement(F.a,{issueConfig:this.issue_config,saveConfig:function(){},fullScreen:this.state.fullScreen,goBack:this.goBack,getConfigStatus:k.o,is_template:ee,show_shortcut:function(){e.show_shortcut()},show_rename:function(t){e.show_rename(t)},project_id:$,saveAsTempPro:this.saveAsTempPro,openColophon:this.openColophon,history:this.props.history,guide:this.guide,pre:this.toPre,next:this.toNext,userInfo:this.state.userInfo}),r.a.createElement("div",{id:"editor",className:"main-area"},r.a.createElement("div",{style:{height:"50px"}}," "),r.a.createElement("div",{className:"observation"},r.a.createElement("div",{className:"material"},r.a.createElement(q.a,{ref:"OnlineM",setTransToAudio:this.setTransToAudio,transToAudio:this.state.transToAudio,history:this.props.history,deleteMedia:this.deleteMedia,unit_time:this.state.unit_time,unit_length:this.state.unit_length,group_id:localStorage.team||localStorage.xinhua_group||"",showLoading:this.showLoading,project_id:$,subtitles_config:this.state.subtitles_config,closeLoading:this.closeLoading,used_list:this.state.used_list,set_theme:this.set_theme,theme_config:this.state.themeConfig,set_time_line_now:this.set_time_line_now,subtitles_change:this.subtitles_change,playVideo:this.playVideo,set_text_info:this.set_text_info,auto_indent:this.state.auto_indent,location:this.props.location,record:this._record,time_line_start:this.state.time_line_start,setShowSubtitlesStyle:function(t){e.setState({showSubtitlesStyle:t})}}),r.a.createElement(H.a,{playVideo:this.playVideo,close:this.closeUnitDetail,set_time_now:this.set_time_now,unit_detail:this.state.unit_detail}),r.a.createElement(V.a,{playVideo:this.playVideo,close:this.closeColophon,set_time_now:this.set_time_now,project_id:$,history:this.props.history,colophon:this.state.colophon})),r.a.createElement("div",{className:"reveal"},r.a.createElement("div",{id:"player-container"},r.a.createElement("canvas",{id:"sec3-canvas",width:"480",height:"270"}," "),r.a.createElement("canvas",{id:"sec4-canvas",width:"480",height:"270"}," "),this.state.unit_detail.show&&!this.state.colophon.show?r.a.createElement("div",{className:"sec-box"},r.a.createElement("div",{id:"sec4-canvas-show"},r.a.createElement("div",{className:"l-t"}," "),r.a.createElement("div",{className:"l-b"}," "),r.a.createElement("div",{className:"r-t"}," "),r.a.createElement("div",{className:"r-b"}," "))):"",r.a.createElement("div",{className:"sec-box",style:{display:t?"":"none"}},r.a.createElement("div",{id:"subtitles-show"},r.a.createElement("div",{className:"l-t"}," "),r.a.createElement("div",{className:"l-b"}," "),r.a.createElement("div",{className:"r-t"}," "),r.a.createElement("div",{className:"r-b"}," "))),this.state.loadingMedia?r.a.createElement("div",{className:"card"},r.a.createElement(P.a,null)):"",this.state.showCropper?r.a.createElement(X.a,{imgData:this.state.imgData,crop:this.crop,setShowCropper:this.setShowCropper,cropSize:this.state.cropperSize}):"",r.a.createElement("div",{className:"progress",style:!ge||"video"!==ge[1]&&"audio"!==ge[1]?{zIndex:-1,bottom:"-35px"}:{zIndex:2}},r.a.createElement("span",{style:{left:ge?ge[0].currentTime/ge[0].duration*99+"%":0,height:ge&&"audio"===ge[1]?"1000px":"100%"}}," ")," "),r.a.createElement("div",{className:"recycle"}," ")),r.a.createElement("div",{className:"control-bar",onClick:function(){e.setState({showCropper:!1}),e.playVideo()}},r.a.createElement("div",{className:"time-cnt"},ge?r.a.createElement("span",null,Object(w.j)(ge[0].currentTime||0)):r.a.createElement("span",null,Object(w.j)((this.state.time_line_now-this.state.time_line_start)/this.state.unit_length*this.state.unit_time)),r.a.createElement("span",null,"/"),ge?r.a.createElement("span",null,Object(w.j)(ge[0].duration||("image"===ge[1]?0:this.state.currentMediaDuration))):r.a.createElement("span",null,this.state.duration)),r.a.createElement("div",{className:"play-cnt"},r.a.createElement("span",{title:Object(E.a)("main","toStart")+"\uff08Home\uff09",className:"ico iconfont icon-houtui",onClick:function(){e.toBegin()}},"  "),r.a.createElement("span",{title:Object(E.a)("main","pause/play")+"\uff08Space\uff09",id:"playBtn",className:"ico iconfont icon-"+(this.state.paused?"bofang":"zanting")},"  "),r.a.createElement("span",{title:Object(E.a)("main","toEnd")+"\uff08End\uff09",className:"ico iconfont icon-qianjin",onClick:function(){e.toEnd()}},"  ")),r.a.createElement("div",{className:"full-ctrl"},r.a.createElement(f.o,{className:"screen-scale",value:this.state.screen_scale,size:"small",style:{width:90},onChange:function(t){e.transform(t)}},r.a.createElement(Q,{value:"16:9"},r.a.createElement("span",{className:"icon iconfont icon--2"}," "),"16:9"),r.a.createElement(Q,{value:"4:3"},r.a.createElement("span",{className:"icon iconfont icon--"}," "),"4:3"),r.a.createElement(Q,{value:"1:1"},r.a.createElement("span",{className:"icon iconfont icon--1"}," "),"1:1"),r.a.createElement(Q,{value:"9:16"},r.a.createElement("span",{className:"icon iconfont icon--3"}," "),"9:16")),r.a.createElement("span",{title:Object(E.a)("main","fullScreenPlay"),className:"fullScreen ico iconfont icon-quanping",onClick:this.fullReveal}))))),r.a.createElement(U.a,{getConfigStatus:k.o,setTransToAudio:this.setTransToAudio,transToAudio:this.state.transToAudio,is_template:ee,show_shortcut:function(){e.show_shortcut()},shear:this.shear,initRuler:this.initRuler,clip:this.clip,clone:this.clone,enterUnitDetail:this.enterUnitDetail,deleteUnit:this.deleteUnit,set_theme:this.set_theme,themeConfig:this.state.themeConfig,trans_audio_to_text:this.trans_audio_to_text,crop:this.crop,setShowCropper:this.setShowCropper,duration:this.state.duration,history:this.props.history,pre:this.toPre,next:this.toNext}),r.a.createElement("div",{className:"control"},r.a.createElement("div",{className:"control-box"},r.a.createElement("div",{className:"timer"},r.a.createElement("div",{className:"pathway-ctrl"},r.a.createElement(f.d,{overlay:r.a.createElement(f.j,{className:"",onClick:function(e){Object(k.b)(e.key,"\u8f68\u9053")}},r.a.createElement(f.j.Item,{key:"video"},r.a.createElement("span",{className:"ico iconfont icon-tianjiashipin-dianji"}," "),"\u6dfb\u52a0\u89c6\u9891\u8f68"),r.a.createElement(f.j.Item,{key:"audio"},r.a.createElement("span",{className:"ico iconfont icon-yinle"}," "),"\u6dfb\u52a0\u97f3\u9891\u8f68"))},r.a.createElement("span",{className:"ico iconfont icon-tianjiaguidao"})),r.a.createElement(f.r,{title:Object(E.a)("main","adsorption")},r.a.createElement("span",{className:this.state.auto_indent?"ico iconfont icon-citie-dianji c-r":"ico iconfont icon-citie-dianji",onClick:function(){o()(".material-main-list .mater").draggable({snapTolerance:e.state.auto_indent?0:10}),o()(".pathway .mater-helper").draggable({snapTolerance:e.state.auto_indent?0:10}),e.setState({auto_indent:!e.state.auto_indent})}},"  "))),r.a.createElement("div",{className:"time-line"},r.a.createElement("canvas",{className:"ruler",onClick:function(t){var i=t.clientX-140+o()(document).scrollLeft();e.set_time_line_now(i>=0?i:0)}}," "),r.a.createElement("div",{className:"line",title:Object(E.a)("main","pointer"),style:{left:this.state.time_line_now,display:this.state.time_line_now<0?"none":""}},r.a.createElement("div",{className:"timer"},r.a.createElement("span",{className:"timeShow"},Object(w.j)((this.state.time_line_now-this.state.time_line_start)/this.state.unit_length*this.state.unit_time)),r.a.createElement("span",{className:"ico iconfont icon-jiandao clip",onClick:this.clip}," "))))),r.a.createElement("div",{className:"tl-body"},r.a.createElement("div",{className:"tl-wrapper"},r.a.createElement("div",{className:"pathway-ctrl"},this.state._ctrl),r.a.createElement("div",{className:"path",style:{width:this.state.path_box}},r.a.createElement("div",{className:"pathway-box"},this.state._pathway)))))),r.a.createElement("div",{className:"footer"},r.a.createElement("div",{className:"save-txt"},this.state.message.msg||""),r.a.createElement("div",{className:"tl-scroll"},r.a.createElement("div",{className:"scroll-bar"}," "))),r.a.createElement("div",{className:"temp-yellow"}," "),r.a.createElement("div",{className:"menu-cnt"},r.a.createElement("div",{className:"clipChoose"},r.a.createElement("span",{onClick:this.joinClip},Object(E.a)("main","trimToFit")),r.a.createElement("span",{onClick:this.joinInsert}," ",Object(E.a)("main","insertAndPush")),r.a.createElement("span",{className:"replace",onClick:this.replaceUnit}," ","\u66ff\u6362")),r.a.createElement("div",{className:"contentMenu"},r.a.createElement("span",{onClick:function(){e.deleteMedia("")}},Object(E.a)("main","delete"))),r.a.createElement("div",{className:"focus"},r.a.createElement("span",{title:Object(E.a)("main","openTheDetail"),className:"ico iconfont icon-bianji",onClick:function(){e.enterUnitDetail()}}," "),r.a.createElement("span",{title:Object(E.a)("main","delete")+" Delete",className:"ico iconfont icon-shanchu",onClick:this.deleteUnit}," "))),r.a.createElement("div",{className:"full-cnt"})),r.a.createElement(Y.a,{setting:this.state.newFile,refresh:this.state.refreshDialog}),r.a.createElement(Y.a,{setting:this.state.transition}),r.a.createElement(Y.a,{setting:this.state.loadingSnap}),r.a.createElement(Y.a,{setting:this.state.delete}),r.a.createElement(f.k,{title:this.state.modalTitle,visible:this.state.modalVisible,confirmLoading:this.state.confirmLoading,style:{top:200},onOk:function(){e.onOk()},onCancel:function(){e.setState({modalVisible:!1})}},r.a.createElement("p",null,r.a.createElement(f.g,{maxLength:30,placeholder:"\u8f68\u9053\u540d\u79f0",value:this.state.modalText,onChange:function(t){e.setState({modalText:t.target.value})},onPressEnter:function(t){e.state.confirmLoading||e.onOk()}})),r.a.createElement("div",null,r.a.createElement(f.n.Group,{value:this.state.modalType,onChange:function(t){e.setState({modalType:t.target.value})}},r.a.createElement(f.n,{value:"video"},"\u56fe\u50cf\u8f68\u9053"),r.a.createElement(f.n,{value:"audio"},"\u97f3\u9891\u8f68\u9053")))),r.a.createElement(G.a,{screen_scale:this.state.screen_scale,is_template:ee,meal:this.state.meal,playVideo:this.playVideo,getSnapshot:this.getSnapshot,close:this.closeIssue,history:this.props.history,issue:this.state.issue}),r.a.createElement(W.a,{record:this.state.record,setSilence:this._setSilence,set_time_now:this.set_time_now,close:this._closeRecord,playVideo:this.playVideo,pause:this._pause,project_id:$,visible:this.state.show_record,data:this.state.detail}),r.a.createElement(z.a,{setting:this.state.show_shortcut}),r.a.createElement(f.k,{title:this.state.saveTemplate?"\u5408\u6210\u6a21\u677f":"\u65b0\u5efa\u9879\u76ee",visible:this.state.newTemplateVisible,style:{top:200},onOk:function(){e.createTempPro()},onCancel:function(){e.setState({newTemplateVisible:!1})}},ee&&this.state.saveTemplate?"":r.a.createElement("p",{className:"dis-flex flex-a-c flex-j-c"},r.a.createElement("span",null,"\u540d\u79f0\uff1a"),r.a.createElement(f.g,{style:{width:350},placeholder:"\u8bf7\u8f93\u5165\u540d\u79f0",onBlur:function(t){e.state.newTemplateText=t.target.value},onPressEnter:function(t){e.createTempPro(t.target.value)}})),r.a.createElement("p",{className:"h-20"}," "),this.state.saveTemplate?r.a.createElement("p",{className:"dis-flex flex-a-c flex-j-c"},r.a.createElement("span",null,"\u6807\u7b7e\uff1a"),r.a.createElement(f.o,{style:{width:350},mode:"tags",placeholder:Object(E.a)("verify","say2"),notFoundContent:"",value:this.state.label,maxLength:8,onChange:function(t){var i=[];t.map(function(e){var t=e.replace(/\s+/g,"").replace(Ee.label,"").substr(0,8);t&&i.length<3&&-1===i.indexOf(t)&&i.push(t)}),e.state.label=i,e.setState({newTemplateVisible:e.state.newTemplateVisible})}})):""),r.a.createElement(f.k,{title:"\u91cd\u547d\u540d",visible:this.state.show_rename,okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",style:{top:200},onOk:function(){var t=e.state.new_name;if(!(t=t.trim()))return void f.t.info("\u540d\u79f0\u4e0d\u80fd\u4e3a\u7a7a");var i={project_id:$,new_name:t};Object(g.a)("change_projectName",i,function(i){var n=Object(k.l)();n.name=t,Object(k.A)(n),e.setState({show_rename:!1})})},onCancel:function(){e.setState({show_rename:!1})}},r.a.createElement("p",null,r.a.createElement(f.g,{maxLength:30,value:this.state.new_name,onChange:function(t){e.setState({new_name:t.target.value})}}))))}}));t.default=Ce},1363:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ReactCSS=t.loop=t.handleActive=t.handleHover=t.hover=void 0;var r=i(1529),a=n(r),o=i(1531),s=n(o),l=i(1548),c=n(l),u=i(1549),h=n(u),d=i(1550),p=n(d),f=i(1551),m=n(f);t.hover=h.default,t.handleHover=h.default,t.handleActive=p.default,t.loop=m.default;var g=t.ReactCSS=function(e){for(var t=arguments.length,i=Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];var r=(0,a.default)(i),o=(0,s.default)(e,r);return(0,c.default)(o)};t.default=g},1364:function(e,t,i){var n,r,a;!function(o){r=[i(70)],n=o,void 0!==(a="function"===typeof n?n.apply(t,r):n)&&(e.exports=a)}(function(e){return e.ui=e.ui||{},e.ui.version="1.12.1"})},1365:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(1552);Object.defineProperty(t,"Alpha",{enumerable:!0,get:function(){return n(r).default}});var a=i(1415);Object.defineProperty(t,"Checkboard",{enumerable:!0,get:function(){return n(a).default}});var o=i(1555);Object.defineProperty(t,"EditableInput",{enumerable:!0,get:function(){return n(o).default}});var s=i(1556);Object.defineProperty(t,"Hue",{enumerable:!0,get:function(){return n(s).default}});var l=i(1558);Object.defineProperty(t,"Raised",{enumerable:!0,get:function(){return n(l).default}});var c=i(1559);Object.defineProperty(t,"Saturation",{enumerable:!0,get:function(){return n(c).default}});var u=i(1434);Object.defineProperty(t,"ColorWrap",{enumerable:!0,get:function(){return n(u).default}});var h=i(1564);Object.defineProperty(t,"Swatch",{enumerable:!0,get:function(){return n(h).default}})},1366:function(e,t,i){var n,r,a;!function(o){r=[i(70),i(1364)],n=o,void 0!==(a="function"===typeof n?n.apply(t,r):n)&&(e.exports=a)}(function(e){var t=0,i=Array.prototype.slice;return e.cleanData=function(t){return function(i){var n,r,a;for(a=0;null!=(r=i[a]);a++)try{n=e._data(r,"events"),n&&n.remove&&e(r).triggerHandler("remove")}catch(e){}t(i)}}(e.cleanData),e.widget=function(t,i,n){var r,a,o,s={},l=t.split(".")[0];t=t.split(".")[1];var c=l+"-"+t;return n||(n=i,i=e.Widget),e.isArray(n)&&(n=e.extend.apply(null,[{}].concat(n))),e.expr[":"][c.toLowerCase()]=function(t){return!!e.data(t,c)},e[l]=e[l]||{},r=e[l][t],a=e[l][t]=function(e,t){if(!this._createWidget)return new a(e,t);arguments.length&&this._createWidget(e,t)},e.extend(a,r,{version:n.version,_proto:e.extend({},n),_childConstructors:[]}),o=new i,o.options=e.widget.extend({},o.options),e.each(n,function(t,n){if(!e.isFunction(n))return void(s[t]=n);s[t]=function(){function e(){return i.prototype[t].apply(this,arguments)}function r(e){return i.prototype[t].apply(this,e)}return function(){var t,i=this._super,a=this._superApply;return this._super=e,this._superApply=r,t=n.apply(this,arguments),this._super=i,this._superApply=a,t}}()}),a.prototype=e.widget.extend(o,{widgetEventPrefix:r?o.widgetEventPrefix||t:t},s,{constructor:a,namespace:l,widgetName:t,widgetFullName:c}),r?(e.each(r._childConstructors,function(t,i){var n=i.prototype;e.widget(n.namespace+"."+n.widgetName,a,i._proto)}),delete r._childConstructors):i._childConstructors.push(a),e.widget.bridge(t,a),a},e.widget.extend=function(t){for(var n,r,a=i.call(arguments,1),o=0,s=a.length;o<s;o++)for(n in a[o])r=a[o][n],a[o].hasOwnProperty(n)&&void 0!==r&&(e.isPlainObject(r)?t[n]=e.isPlainObject(t[n])?e.widget.extend({},t[n],r):e.widget.extend({},r):t[n]=r);return t},e.widget.bridge=function(t,n){var r=n.prototype.widgetFullName||t;e.fn[t]=function(a){var o="string"===typeof a,s=i.call(arguments,1),l=this;return o?this.length||"instance"!==a?this.each(function(){var i,n=e.data(this,r);return"instance"===a?(l=n,!1):n?e.isFunction(n[a])&&"_"!==a.charAt(0)?(i=n[a].apply(n,s),i!==n&&void 0!==i?(l=i&&i.jquery?l.pushStack(i.get()):i,!1):void 0):e.error("no such method '"+a+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+a+"'")}):l=void 0:(s.length&&(a=e.widget.extend.apply(null,[a].concat(s))),this.each(function(){var t=e.data(this,r);t?(t.option(a||{}),t._init&&t._init()):e.data(this,r,new n(a,this))})),l}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(i,n){n=e(n||this.defaultElement||this)[0],this.element=e(n),this.uuid=t++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),this.classesElementLookup={},n!==this&&(e.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===n&&this.destroy()}}),this.document=e(n.style?n.ownerDocument:n.document||n),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),i),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){var t=this;this._destroy(),e.each(this.classesElementLookup,function(e,i){t._removeClass(i,e)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:e.noop,widget:function(){return this.element},option:function(t,i){var n,r,a,o=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"===typeof t)if(o={},n=t.split("."),t=n.shift(),n.length){for(r=o[t]=e.widget.extend({},this.options[t]),a=0;a<n.length-1;a++)r[n[a]]=r[n[a]]||{},r=r[n[a]];if(t=n.pop(),1===arguments.length)return void 0===r[t]?null:r[t];r[t]=i}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];o[t]=i}return this._setOptions(o),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return"classes"===e&&this._setOptionClasses(t),this.options[e]=t,"disabled"===e&&this._setOptionDisabled(t),this},_setOptionClasses:function(t){var i,n,r;for(i in t)r=this.classesElementLookup[i],t[i]!==this.options.classes[i]&&r&&r.length&&(n=e(r.get()),this._removeClass(r,i),n.addClass(this._classes({element:n,keys:i,classes:t,add:!0})))},_setOptionDisabled:function(e){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!e),e&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(t){function i(i,a){var o,s;for(s=0;s<i.length;s++)o=r.classesElementLookup[i[s]]||e(),o=e(t.add?e.unique(o.get().concat(t.element.get())):o.not(t.element).get()),r.classesElementLookup[i[s]]=o,n.push(i[s]),a&&t.classes[i[s]]&&n.push(t.classes[i[s]])}var n=[],r=this;return t=e.extend({element:this.element,classes:this.options.classes||{}},t),this._on(t.element,{remove:"_untrackClassesElement"}),t.keys&&i(t.keys.match(/\S+/g)||[],!0),t.extra&&i(t.extra.match(/\S+/g)||[]),n.join(" ")},_untrackClassesElement:function(t){var i=this;e.each(i.classesElementLookup,function(n,r){-1!==e.inArray(t.target,r)&&(i.classesElementLookup[n]=e(r.not(t.target).get()))})},_removeClass:function(e,t,i){return this._toggleClass(e,t,i,!1)},_addClass:function(e,t,i){return this._toggleClass(e,t,i,!0)},_toggleClass:function(e,t,i,n){n="boolean"===typeof n?n:i;var r="string"===typeof e||null===e,a={extra:r?t:i,keys:r?e:t,element:r?this.element:e,add:n};return a.element.toggleClass(this._classes(a),n),this},_on:function(t,i,n){var r,a=this;"boolean"!==typeof t&&(n=i,i=t,t=!1),n?(i=r=e(i),this.bindings=this.bindings.add(i)):(n=i,i=this.element,r=this.widget()),e.each(n,function(n,o){function s(){if(t||!0!==a.options.disabled&&!e(this).hasClass("ui-state-disabled"))return("string"===typeof o?a[o]:o).apply(a,arguments)}"string"!==typeof o&&(s.guid=o.guid=o.guid||s.guid||e.guid++);var l=n.match(/^([\w:-]*)\s*(.*)$/),c=l[1]+a.eventNamespace,u=l[2];u?r.on(c,u,s):i.on(c,s)})},_off:function(t,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.off(i).off(i),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){function i(){return("string"===typeof e?n[e]:e).apply(n,arguments)}var n=this;return setTimeout(i,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){this._addClass(e(t.currentTarget),null,"ui-state-hover")},mouseleave:function(t){this._removeClass(e(t.currentTarget),null,"ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){this._addClass(e(t.currentTarget),null,"ui-state-focus")},focusout:function(t){this._removeClass(e(t.currentTarget),null,"ui-state-focus")}})},_trigger:function(t,i,n){var r,a,o=this.options[t];if(n=n||{},i=e.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],a=i.originalEvent)for(r in a)r in i||(i[r]=a[r]);return this.element.trigger(i,n),!(e.isFunction(o)&&!1===o.apply(this.element[0],[i].concat(n))||i.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,i){e.Widget.prototype["_"+t]=function(n,r,a){"string"===typeof r&&(r={effect:r});var o,s=r?!0===r||"number"===typeof r?i:r.effect||i:t;r=r||{},"number"===typeof r&&(r={duration:r}),o=!e.isEmptyObject(r),r.complete=a,r.delay&&n.delay(r.delay),o&&e.effects&&e.effects.effect[s]?n[t](r):s!==t&&n[s]?n[s](r.duration,r.easing,a):n.queue(function(i){e(this)[t](),a&&a.call(n[0]),i()})}}),e.widget})},1367:function(e,t,i){"use strict";i.d(t,"a",function(){return o});var n=i(52),r=i(84),a=n.k.confirm,o=(n.k.info,n.k.success,n.k.error,n.k.warning,function(e,t,i,n,o,s,l,c){a({title:"\u63d0\u793a",content:e,style:{top:200},maskClosable:!0,okText:s||"\u786e\u8ba4",cancelText:l||"\u53d6\u6d88",onOk:function(){return t?new Promise(function(e,a){Object(r.a)(t,i,function(){e(),n&&n()},function(){e()},"info")}).catch(function(){return console.log("Oops errors!")}):c?new Promise(function(e,t){c(e)}).catch(function(){return console.log("Oops errors!")}):void(n&&n())}})})},1368:function(e,t,i){var n,r,a;!function(o){r=[i(70),i(1384),i(1364),i(1366)],n=o,void 0!==(a="function"===typeof n?n.apply(t,r):n)&&(e.exports=a)}(function(e){var t=!1;return e(document).on("mouseup",function(){t=!1}),e.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.on("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).on("click."+this.widgetName,function(i){if(!0===e.data(i.target,t.widgetName+".preventClickEvent"))return e.removeData(i.target,t.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(i){if(!t){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(i),this._mouseDownEvent=i;var n=this,r=1===i.which,a=!("string"!==typeof this.options.cancel||!i.target.nodeName)&&e(i.target).closest(this.options.cancel).length;return!(r&&!a&&this._mouseCapture(i))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(i)&&this._mouseDelayMet(i)&&(this._mouseStarted=!1!==this._mouseStart(i),!this._mouseStarted)?(i.preventDefault(),!0):(!0===e.data(i.target,this.widgetName+".preventClickEvent")&&e.removeData(i.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return n._mouseMove(e)},this._mouseUpDelegate=function(e){return n._mouseUp(e)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),i.preventDefault(),t=!0,!0))}},_mouseMove:function(t){if(this._mouseMoved){if(e.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button)return this._mouseUp(t);if(!t.which)if(t.originalEvent.altKey||t.originalEvent.ctrlKey||t.originalEvent.metaKey||t.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,t),this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(i){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,i.target===this._mouseDownEvent.target&&e.data(i.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(i)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,t=!1,i.preventDefault()},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})})},1369:function(e,t){e.exports="data:image/jpeg;base64,/9j/4AAQSkZJRgABAgAAAQABAAD//gAPTGF2YzU4LjkuMTAwAP/bAEMACAQEBAQEBQUFBQUFBgYGBgYGBgYGBgYGBgcHBwgICAcHBwYGBwcICAgICQkJCAgICAkJCgoKDAwLCw4ODhERFP/EAEwAAQEAAAAAAAAAAAAAAAAAAAAHAQEAAAAAAAAAAAAAAAAAAAAAEAEBAAAAAAAAAAAAAAAAAAAAEREBAAAAAAAAAAAAAAAAAAAAAP/AABEIAQ4B4AMBEgACEgADEgD/2gAMAwEAAhEDEQA/AIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUACgAUACgAUACgAUACgAUACgAUACgAUACgAUACgAUACgAUACgAUACgAUACgAUACgAUACgAUACgAUACgAUACgAUACgAUACgAUACgAUACgAUACgAUACgAUACgAUACgAUACgAUACgAUACgAUACgAUACgD//Z"},1370:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.red=t.getContrastingColor=t.isValidHex=t.toState=t.simpleCheckForValidColor=void 0;var r=i(1562),a=n(r),o=i(525),s=n(o),l=(t.simpleCheckForValidColor=function(e){var t=["r","g","b","a","h","s","l","v"],i=0,n=0;return(0,a.default)(t,function(t){if(e[t]&&(i+=1,isNaN(e[t])||(n+=1),"s"===t||"l"===t)){/^\d+%$/.test(e[t])&&(n+=1)}}),i===n&&e},t.toState=function(e,t){var i=e.hex?(0,s.default)(e.hex):(0,s.default)(e),n=i.toHsl(),r=i.toHsv(),a=i.toRgb(),o=i.toHex();return 0===n.s&&(n.h=t||0,r.h=t||0),{hsl:n,hex:"000000"===o&&0===a.a?"transparent":"#"+o,rgb:a,hsv:r,oldHue:e.h||t||n.h,source:e.source}});t.isValidHex=function(e){var t="#"===String(e).charAt(0)?1:0;return e.length!==4+t&&e.length<7+t&&(0,s.default)(e).isValid()},t.getContrastingColor=function(e){if(!e)return"#fff";var t=l(e);return"transparent"===t.hex?"rgba(0,0,0,0.4)":(299*t.rgb.r+587*t.rgb.g+114*t.rgb.b)/1e3>=128?"#000":"#fff"},t.red={hsl:{a:1,h:0,l:.5,s:1},hex:"#ff0000",rgb:{r:255,g:0,b:0,a:1},hsv:{h:0,s:1,v:1,a:1}};t.default=t},1371:function(e,t,i){"use strict";function n(){return a}function r(e){}t.a=n,t.b=r;var a=(i(84),{})},1372:function(e,t,i){var n,r,a;!function(o){r=[i(70),i(1368),i(1399),i(1364),i(1366)],n=o,void 0!==(a="function"===typeof n?n.apply(t,r):n)&&(e.exports=a)}(function(e){return e.widget("ui.slider",e.ui.mouse,{version:"1.12.1",widgetEventPrefix:"slide",options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content"),this._refresh(),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var t,i,n=this.options,r=this.element.find(".ui-slider-handle"),a=[];for(i=n.values&&n.values.length||1,r.length>i&&(r.slice(i).remove(),r=r.slice(0,i)),t=r.length;t<i;t++)a.push("<span tabindex='0'></span>");this.handles=r.add(e(a.join("")).appendTo(this.element)),this._addClass(this.handles,"ui-slider-handle","ui-state-default"),this.handle=this.handles.eq(0),this.handles.each(function(t){e(this).data("ui-slider-handle-index",t).attr("tabIndex",0)})},_createRange:function(){var t=this.options;t.range?(!0===t.range&&(t.values?t.values.length&&2!==t.values.length?t.values=[t.values[0],t.values[0]]:e.isArray(t.values)&&(t.values=t.values.slice(0)):t.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?(this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max"),this.range.css({left:"",bottom:""})):(this.range=e("<div>").appendTo(this.element),this._addClass(this.range,"ui-slider-range")),"min"!==t.range&&"max"!==t.range||this._addClass(this.range,"ui-slider-range-"+t.range)):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this._mouseDestroy()},_mouseCapture:function(t){var i,n,r,a,o,s,l,c=this,u=this.options;return!u.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:t.pageX,y:t.pageY},n=this._normValueFromMouse(i),r=this._valueMax()-this._valueMin()+1,this.handles.each(function(t){var i=Math.abs(n-c.values(t));(r>i||r===i&&(t===c._lastChangedValue||c.values(t)===u.min))&&(r=i,a=e(this),o=t)}),!1!==this._start(t,o)&&(this._mouseSliding=!0,this._handleIndex=o,this._addClass(a,null,"ui-state-active"),a.trigger("focus"),s=a.offset(),l=!e(t.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=l?{left:0,top:0}:{left:t.pageX-s.left-a.width()/2,top:t.pageY-s.top-a.height()/2-(parseInt(a.css("borderTopWidth"),10)||0)-(parseInt(a.css("borderBottomWidth"),10)||0)+(parseInt(a.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,o,n),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(e){var t={x:e.pageX,y:e.pageY},i=this._normValueFromMouse(t);return this._slide(e,this._handleIndex,i),!1},_mouseStop:function(e){return this._removeClass(this.handles,null,"ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(e){var t,i,n,r,a;return"horizontal"===this.orientation?(t=this.elementSize.width,i=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,i=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),n=i/t,n>1&&(n=1),n<0&&(n=0),"vertical"===this.orientation&&(n=1-n),r=this._valueMax()-this._valueMin(),a=this._valueMin()+n*r,this._trimAlignValue(a)},_uiHash:function(e,t,i){var n={handle:this.handles[e],handleIndex:e,value:void 0!==t?t:this.value()};return this._hasMultipleValues()&&(n.value=void 0!==t?t:this.values(e),n.values=i||this.values()),n},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(e,t){return this._trigger("start",e,this._uiHash(t))},_slide:function(e,t,i){var n,r=this.value(),a=this.values();this._hasMultipleValues()&&(n=this.values(t?0:1),r=this.values(t),2===this.options.values.length&&!0===this.options.range&&(i=0===t?Math.min(n,i):Math.max(n,i)),a[t]=i),i!==r&&!1!==this._trigger("slide",e,this._uiHash(t,i,a))&&(this._hasMultipleValues()?this.values(t,i):this.value(i))},_stop:function(e,t){this._trigger("stop",e,this._uiHash(t))},_change:function(e,t){this._keySliding||this._mouseSliding||(this._lastChangedValue=t,this._trigger("change",e,this._uiHash(t)))},value:function(e){return arguments.length?(this.options.value=this._trimAlignValue(e),this._refreshValue(),void this._change(null,0)):this._value()},values:function(t,i){var n,r,a;if(arguments.length>1)return this.options.values[t]=this._trimAlignValue(i),this._refreshValue(),void this._change(null,t);if(!arguments.length)return this._values();if(!e.isArray(arguments[0]))return this._hasMultipleValues()?this._values(t):this.value();for(n=this.options.values,r=arguments[0],a=0;a<n.length;a+=1)n[a]=this._trimAlignValue(r[a]),this._change(null,a);this._refreshValue()},_setOption:function(t,i){var n,r=0;switch("range"===t&&!0===this.options.range&&("min"===i?(this.options.value=this._values(0),this.options.values=null):"max"===i&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),e.isArray(this.options.values)&&(r=this.options.values.length),this._super(t,i),t){case"orientation":this._detectOrientation(),this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation),this._refreshValue(),this.options.range&&this._refreshRange(i),this.handles.css("horizontal"===i?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),n=r-1;n>=0;n--)this._change(null,n);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_setOptionDisabled:function(e){this._super(e),this._toggleClass(null,"ui-state-disabled",!!e)},_value:function(){var e=this.options.value;return e=this._trimAlignValue(e)},_values:function(e){var t,i,n;if(arguments.length)return t=this.options.values[e],t=this._trimAlignValue(t);if(this._hasMultipleValues()){for(i=this.options.values.slice(),n=0;n<i.length;n+=1)i[n]=this._trimAlignValue(i[n]);return i}return[]},_trimAlignValue:function(e){if(e<=this._valueMin())return this._valueMin();if(e>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,i=(e-this._valueMin())%t,n=e-i;return 2*Math.abs(i)>=t&&(n+=i>0?t:-t),parseFloat(n.toFixed(5))},_calculateNewMax:function(){var e=this.options.max,t=this._valueMin(),i=this.options.step;e=Math.round((e-t)/i)*i+t,e>this.options.max&&(e-=i),this.max=parseFloat(e.toFixed(this._precision()))},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=e.toString(),i=t.indexOf(".");return-1===i?0:t.length-i-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(e){"vertical"===e&&this.range.css({width:"",left:""}),"horizontal"===e&&this.range.css({height:"",bottom:""})},_refreshValue:function(){var t,i,n,r,a,o=this.options.range,s=this.options,l=this,c=!this._animateOff&&s.animate,u={};this._hasMultipleValues()?this.handles.each(function(n){i=(l.values(n)-l._valueMin())/(l._valueMax()-l._valueMin())*100,u["horizontal"===l.orientation?"left":"bottom"]=i+"%",e(this).stop(1,1)[c?"animate":"css"](u,s.animate),!0===l.options.range&&("horizontal"===l.orientation?(0===n&&l.range.stop(1,1)[c?"animate":"css"]({left:i+"%"},s.animate),1===n&&l.range[c?"animate":"css"]({width:i-t+"%"},{queue:!1,duration:s.animate})):(0===n&&l.range.stop(1,1)[c?"animate":"css"]({bottom:i+"%"},s.animate),1===n&&l.range[c?"animate":"css"]({height:i-t+"%"},{queue:!1,duration:s.animate}))),t=i}):(n=this.value(),r=this._valueMin(),a=this._valueMax(),i=a!==r?(n-r)/(a-r)*100:0,u["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[c?"animate":"css"](u,s.animate),"min"===o&&"horizontal"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({width:i+"%"},s.animate),"max"===o&&"horizontal"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({width:100-i+"%"},s.animate),"min"===o&&"vertical"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({height:i+"%"},s.animate),"max"===o&&"vertical"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({height:100-i+"%"},s.animate))},_handleEvents:{keydown:function(t){var i,n,r,a=e(t.target).data("ui-slider-handle-index");switch(t.keyCode){case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(t.preventDefault(),!this._keySliding&&(this._keySliding=!0,this._addClass(e(t.target),null,"ui-state-active"),!1===this._start(t,a)))return}switch(r=this.options.step,i=n=this._hasMultipleValues()?this.values(a):this.value(),t.keyCode){case e.ui.keyCode.HOME:n=this._valueMin();break;case e.ui.keyCode.END:n=this._valueMax();break;case e.ui.keyCode.PAGE_UP:n=this._trimAlignValue(i+(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.PAGE_DOWN:n=this._trimAlignValue(i-(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:if(i===this._valueMax())return;n=this._trimAlignValue(i+r);break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(i===this._valueMin())return;n=this._trimAlignValue(i-r)}this._slide(t,a,n)},keyup:function(t){var i=e(t.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(t,i),this._change(t,i),this._removeClass(e(t.target),null,"ui-state-active"))}}})})},1373:function(e,t,i){"use strict";function n(){var e=u(D());delete e.text_list,Ae=JSON.stringify(e)}function r(){var e=u(D());return delete e.text_list,Ae===JSON.stringify(e)}function a(e,t){ye=e,be=t}function o(){return{s:ye,e:be}}function s(e,t,i){var n=e.attr("data-mediaType"),r=e.attr("data-mediaUrl")&&-1!==e.attr("data-mediaUrl").toLocaleLowerCase().indexOf(".gif"),a=1*e.attr("data-layer"),o=1*e.attr("data-position"),s=pe||u(ae[de]),l=[],c=s.video_list.length,h=s.audio_list.length,d=s.text_list.length||1;if(a<c)l=s.video_list[a].obj_list;else if(a<c+h)l=s.audio_list[a-c].obj_list;else{if(!(a<c+h+d))return;l=s.text_list[0].obj_list}var p=c-1===a,f=l[o+1];if(f)if("left"===i){if(_e&&p||(t<0&&(t=0),o>=0&&l[o].end_time>t&&(t=l[o].end_time)),f.end_time-t>=.04&&t>=0&&(!(o>=0)||l[o].end_time<=t)){if(r){var m=f.special.end_range-(f.end_time-t)*(f.special.end_range-f.special.start_range)/(f.end_time-f.start_time);m=Math.ceil(25*m)/25;var g=m%f.duration;g<0&&(g+=1*f.duration);var v=g-m+f.special.end_range;g=Math.ceil(25*g)/25,v=Math.ceil(25*v)/25,f.special.start_range=g,e.attr("data-startRange",g),f.special.end_range=v,e.attr("data-endRange",v)}else if("audio"===n||"video"===n){var y=f.special.end_range-(f.end_time-t)*(f.special.end_range-f.special.start_range)/(f.end_time-f.start_time);if(!((y=Math.ceil(25*y)/25)>=0)){var b=f.end_time-f.special.end_range/((f.special.end_range-f.special.start_range)/(f.end_time-f.start_time));return f.special.start_range=0,e.attr("data-startRange",0),void e.attr("data-startTime",b)}f.special.start_range=y,e.attr("data-startRange",y)}t=Math.ceil(25*t)/25,e.attr("data-startTime",t),e.attr("data-endTime",f.end_time)}if(_e&&p&&(t<0||o>=0&&l[o].end_time>t)){if(r){var _=f.special.end_range-(f.end_time-t)*(f.special.end_range-f.special.start_range)/(f.end_time-f.start_time);_=Math.ceil(25*_)/25;var A=_%f.duration;A<0&&(A+=1*f.duration);var E=A-_+f.special.end_range;f.special.start_range=Math.ceil(25*A)/25,f.special.end_range=Math.ceil(25*E)/25,f.start_time=Math.ceil(25*t)/25}else if("audio"===n||"video"===n){var w=f.special.end_range-(f.end_time-t)*(f.special.end_range-f.special.start_range)/(f.end_time-f.start_time);w=Math.ceil(25*w)/25,w>=0?(f.special.start_range=w,f.start_time=Math.ceil(25*t)/25):(t=f.end_time-f.special.end_range/((f.special.end_range-f.special.start_range)/(f.end_time-f.start_time)),f.special.start_range=0,f.start_time=Math.ceil(25*t)/25)}f.start_time=Math.ceil(25*t)/25,l[o+1].current="focused",T(s);var x=X()(".tl-body .pathway-box").find(".pathway");pe="",x.eq(a).html(V(l,a)),we("solo")}}else if("right"===i){if(_e&&p||l.length>o+2&&l[o+2].start_time<t&&(t=l[o+2].start_time),t-f.start_time>=.04&&(!(l.length>o+2)||l[o+2].start_time>=t)){if(r){var S=f.special.start_range+(t-f.start_time)*(f.special.end_range-f.special.start_range)/(f.end_time-f.start_time);S=Math.ceil(25*S)/25,f.special.end_range=S,e.attr("data-endRange",S)}else if("audio"===n||"video"===n){var C=f.special.start_range+(t-f.start_time)*(f.special.end_range-f.special.start_range)/(f.end_time-f.start_time);if(!((C=Math.ceil(25*C)/25)<=f.duration)){var k=f.start_time+(f.duration-f.special.start_range)/((f.special.end_range-f.special.start_range)/(f.end_time-f.start_time));return f.special.end_range=f.duration,e.attr("data-endRange",f.duration),void e.attr("data-endTime",k)}f.special.end_range=C,e.attr("data-endRange",C)}t=Math.ceil(25*t)/25,e.attr("data-endTime",t)}if(l.length>o+2&&l[o+2].start_time<t&&_e&&p){if(r){var O=f.special.start_range+(t-f.start_time)*(f.special.end_range-f.special.start_range)/(f.end_time-f.start_time);O=Math.ceil(25*O)/25,f.special.end_range=O,f.end_time=Math.ceil(25*t)/25}else if("audio"===n||"video"===n){var P=f.special.start_range+(t-f.start_time)*(f.special.end_range-f.special.start_range)/(f.end_time-f.start_time);P=Math.ceil(25*P)/25,P<=f.duration?(f.special.end_range=P,f.end_time=Math.ceil(25*t)/25):(t=f.start_time+(f.duration-f.special.start_range)/((f.special.end_range-f.special.start_range)/(f.end_time-f.start_time)),f.special.end_range=f.duration,f.end_time=Math.ceil(25*t)/25)}f.current="focused",f.end_time=Math.ceil(25*t)/25,T(s);var j=X()(".tl-body .pathway-box").find(".pathway");pe="",j.eq(a).html(V(l,a)),we("solo")}}}function l(e,t,i,n){console.info(e);var r=1*e.attr("data-layer"),a=1*e.attr("data-position"),o=1*e.attr("data-startTime"),s=1*e.attr("data-endTime"),l=1*e.attr("data-startRange"),c=1*e.attr("data-endRange"),h=u(ae[de]),d=[],p=h.video_list.length,f=h.audio_list.length;if(r<p)d=h.video_list[r].obj_list;else if(r<p+f)d=h.audio_list[r-p].obj_list;else{if(!(r<p+f+1))return;d=h.text_list[0].obj_list}if(e.hasClass("mater-subtitle"))Object(ne.l)({current:"",end_time:s,language:e.attr("data-language")||"",project_id:h.project_id,start_time:o,text:e.attr("data-text")||"",text_id:e.attr("data-mediaId")||""});else{var m=d[a+1];m.start_time=o,m.end_time=s,m.special.start_range=l,m.special.end_range=c,m.special.end_range>m.duration&&(m.special.start_range=m.special.start_range-(m.special.end_range-m.duration),m.special.start_range=Math.max(m.special.start_range,0),m.special.end_range=m.duration),m.audio_fade=[{time_point:l,visibility:100,fade_type:0},{time_point:c,visibility:100,fade_type:0}],m.current="focused",ae.length=de+1,ae.push(h),de++,T(h);var g=X()(".tl-body .pathway-box").find(".pathway");pe="",g.eq(r).html(V(d,r)),we("solo")}}function c(e,t,i,n,r,a){var o=Math.round(25*t)/25,s=Math.round(25*i)/25,l=pe||ae[de],c=l.video_list.length+1,u=l.audio_list.length,h=l.text_list?l.text_list.length:0,d=[],p=e.attr("data-mediaType");if(e.removeClass("onlyChoose").removeClass("replace").removeClass("yellow").removeClass("red"),n<0)return void e.addClass("red");if(n<c){if(n=Math.min(c-2,n),d=l.video_list[n].obj_list,"audio"===p||"subtitle"===p)return void e.addClass("red")}else if(n<u+c){if(d=l.audio_list[n-c].obj_list,"audio"!==p)return void e.addClass("red")}else{if(!(n<u+c+h))return void e.addClass("red");if(d=l.text_list[0].obj_list,"subtitle"!==p)return void e.addClass("red")}if(o<0)return void e.addClass("red");if("transition"===p){for(var f=0;f<d.length;f++){var m=d[f].start_time,g=d[f].end_time,v=s-o<10*r?10*r:s-o;if(m-o+.01>0&&m-o<v){if("transition"===d[f].obj_type)return void e.attr({"data-position":f-1});if(g-m<s-o+.09)break;if(f>0&&d[f-1].end_time===m){if("transition"===d[f-1].obj_type)break;if(d[f-1].end_time-d[f-1].start_time<s-o+.01)break;return void e.attr({"data-position":f-1})}return void e.attr({"data-position":f-1})}var y=s-o<10*r?10*r+o:s;if(y-g+4*r>0&&y-g<=v){if(console.info("pass"),"transition"===d[f].obj_type)return void e.attr({"data-position":f-1});if(g-m<s-o+.09)break;if(f<d.length-1&&d[f+1].start_time===g){if("transition"===d[f+1].obj_type)break;if(d[f+1].end_time-d[f+1].start_time<s-o+.01)break;return void e.attr({"data-position":f})}return void e.attr({"data-position":f})}}return void e.addClass("red")}if(0===o)return d.length&&d[0].start_time<s?"subtitle"===p?void e.addClass("red"):(e.addClass("yellow"),d[0].start_time<.03&&e.addClass("onlyChoose"),e.attr({"data-position":-1}),0):(e.attr({"data-position":-1}),0);for(var b=0;b<d.length;b++){var _=d[b].start_time,A=d[b].end_time;if(r&&(0===b?_-0>=s-o:_-d[b-1].end_time>=s-o)&&Math.abs(s-_)<r)return e.attr({"data-position":b-1}),b-1;if(o<=A)return s<=_?(e.attr({"data-position":b-1}),b-1):o===A&&(d.length-1>b&&s<=d[b+1].start_time||d.length-1===b)?(e.attr({"data-position":b}),b-1):r&&Math.abs(o-A)<r&&(d.length-1>b&&s-o<=d[b+1].start_time-A||d.length-1===b)?(e.attr({"data-position":b}),b-1):d.length-1>b&&d[b+1].start_time<=s&&o>=_?"subtitle"!==p?(e.addClass("yellow"),d[b+1].start_time-A<.03&&e.addClass("onlyChoose"),e.attr({"data-position":b}),b):void e.addClass("red"):"subtitle"!==p?(e.addClass("yellow"),e.addClass("replace"),e.attr({"data-position":b}),b):void e.addClass("red")}return d.length?(e.attr({"data-position":d.length-1}),d.length-1):(e.attr({"data-position":-1}),0)}function u(e){var t=void 0;if(e instanceof Array){t=[];for(var i=0;i<e.length;i++)"object"===re(e[i])?t[i]=u(e[i]):t[i]=e[i]}else if(e instanceof Object){t={};for(var n in e)"object"===re(e[n])?t[n]=u(e[n]):t[n]=e[n]}return t}function h(e,t){fe=[],me=t;for(var i=e.find(".mater-helper"),n=u(ae[de]),r=i.length-1;r>=0;r--){var a=i.eq(r),o=1*a.attr("data-layer"),s=1*a.attr("data-position"),l=[],c=n.video_list.length,h=n.audio_list.length,d=n.text_list.length;o<c?l=n.video_list[o].obj_list:o<c+h?l=n.audio_list[o-c].obj_list:o<c+h+d&&(l=n.text_list[0].obj_list);var p=u(l[s+1]);p.current="",a.hasClass("focused")&&(p.current="focused"),a.hasClass("ui-selected")&&(p.current="ui-selected"),fe.unshift(p),me||l.splice(s+1,1)}pe=n}function d(e,t,i,n,r){for(var a=i+n,o={obj_type:"audio",obj_id:t,duration:n,start_time:i,end_time:a,effects:"original",special:{media_url:"",preview_mp3:"",video_preview_img:"",audio_preview_img:"",uploading:!0,buffer:0===e||e?e:void 0,thumbnail:"",start_range:0,end_range:n},volume:{value:100*r,end_value:1,echoes:!1},audio_fade:[{time_point:0,visibility:100,fade_type:0},{time_point:n,visibility:100,fade_type:0}]},s=u(ae[de]),l=!1,c=0;c<s.audio_list.length;c++){for(var h=s.audio_list[c].obj_list,d=!1,p=0,f=0;f<h.length;f++)if(h[f].end_time<i&&(p=f+1),h[f].start_time<a&&h[f].end_time>i){d=!0;break}if(!d){l=!0,h.splice(p,0,o);break}}l||s.audio_list.push({name:"\u97f3\u9891"+(s.audio_list.length+1),order:1,update_time:"2017-08-02 12:21:12",volume:100,lock_track:!1,obj_list:[o]}),ae.length=de+1,ae.push(s),de++,S()}function p(e,t,i,n,r,a,o){var s=r||{copy:me,duration:1*e.attr("data-duration"),media_type:e.attr("data-mediaType"),media_id:e.attr("data-mediaId"),media_url:e.attr("data-mediaUrl"),trans_name:e.attr("data-transName"),video_preview_img:e.attr("data-videoPreviewImg"),audio_preview_img:e.attr("data-audioPreviewImg"),preview_hls:e.attr("data-previewHls"),preview_mp3:e.attr("data-previewMp3"),preview_mp4:e.attr("data-previewMp4"),uploading:e.attr("data-uploading"),name:e.attr("data-name"),buffer:e.attr("data-buffer"),thumbnail:e.attr("data-thumbnail"),start_time:1*e.attr("data-startTime"),end_time:1*e.attr("data-endTime"),start_range:1*e.attr("data-startRange"),end_range:1*e.attr("data-endRange"),trans_type:e.attr("data-transType"),sub_type:e.attr("data-subType"),layer:1*e.attr("data-layer"),position:1*e.attr("data-position")};s.preview_mp3;var l=s.media_type,c=s.trans_name,u=s.thumbnail,h=s.start_time,d=s.end_time,p=s.start_range,f=s.end_range,m=s.trans_type,g=(s.sub_type,s.layer),v=s.position,y=[],b=o.video_list.length,_=o.audio_list.length;if(g<b)y=o.video_list[g].obj_list;else{if(!(g<b+_))return;y=o.audio_list[g-b].obj_list}var A=d;if("transition"!==l){if("copy"===t){var E=d-h;if(h+=E,d=h+E,(v+=1)+1<y.length)for(var w=Math.max(E-(y[v+1].start_time-h),0),x=v+1;x<y.length;x++)y[x].start_time=1*y[x].start_time.toFixed(2)+w,A=y[x].end_time=1*y[x].end_time.toFixed(2)+w}if(e&&e.hasClass("yellow")){var T=d-h;if(h=v+1>0?y[v].end_time:0,t){if("insert"===t){d=h+T;for(var S=T-(y[v+1].start_time-h),C=v+1;C<y.length;C++)y[C].start_time=1*y[C].start_time.toFixed(2)+S,A=y[C].end_time=1*y[C].end_time.toFixed(2)+S}else if("replace"===t){var k=!1;v=v<0?v:v-1,h=y[v+1].start_time,d=h+T,y[v+2]&&y[v+1].end_time>=y[v+2].start_time&&(k=!0);var O=y[v+1];if(s.effects=O.effects||s.effects,s.trans_start=O.trans_start||s.trans_start,s.trans_end=O.trans_end||s.trans_end,s.transform=O.transform||s.transform,s.volume=O.volume||s.volume,s.specialeffect=O.specialeffect||s.specialeffect,s.color=O.color||s.color,pe&&(a.effects=O.effects||a.effects,a.trans_start=O.trans_start||a.trans_start,a.trans_end=O.trans_end||a.trans_end,a.transform=O.transform||a.transform,a.volume=O.volume||a.volume,a.specialeffect=O.specialeffect||a.specialeffect,a.color=O.color||a.color),y.splice(v+1,1),y.length>v+1){var P=T-(y[v+1].start_time-h);if(P>0||k)for(var j=v+1;j<y.length;j++)y[j].start_time=1*y[j].start_time.toFixed(2)+P,A=y[j].end_time=1*y[j].end_time.toFixed(2)+P}}}else d=y[v+1].start_time,f=p+(f-p)*(d-h)/T}s.start_time=h,s.end_time=d,s.end_range=p,s.end_range=f,pe&&(a.start_time=h,a.end_time=d,a.end_range=p,a.end_range=f),s.copy=me,pe&&a&&(a.copy=me);var I=Object(te.a)(pe?a:s,s.start_time,s.end_time);y.splice(v+1,0,I),o.duration=o.duration>A?o.duration:A}else{var M=d-h;if(d=d-h<10*i?10*i+h:d,v+1<y.length&&v>=0&&y[v].end_time===y[v+1].start_time){h=y[v].end_time-M/2,d=y[v].end_time+M/2;var R={bind:!0,name:c,trans_type:m,thumbnail:u,duration:M};y[v].trans_end=R,y[v+1].trans_start=R}else v>=0&&d>y[v].end_time-4*i&&h<=y[v].end_time+.01?y[v].trans_end={bind:!1,name:c,trans_type:m,thumbnail:u,duration:M}:v+1<y.length&&h<y[v+1].start_time+.01&&d>y[v+1].start_time+.01&&(y[v+1].trans_start={bind:!1,name:c,trans_type:m,thumbnail:u,duration:M})}}function f(e,t,i,n,r){var a=pe||u(ae[de]);if(r)p(e,t,i,n,r,"",a);else if(e.length){for(var o=0,s=[],l=Object(ne.a)().list,c=e.length-1;c>=0;c--){var h=e.eq(c);if(o=l.length-1,e.eq(c).hasClass("mater-subtitle")){for(var d={current:"",end_time:1*h.attr("data-endTime"),language:h.attr("data-language")||"",project_id:a.project_id,start_time:1*h.attr("data-startTime"),text:h.attr("data-text")||"",text_id:h.attr("data-mediaId")||""},f=0;f<l.length;f++)if(l[f].text_id===d.text_id){l.splice(f,1);break}for(var m=0;m<l.length;m++)if(l[m].start_time>d.start_time){o=m;break}l.splice(o,0,d),s.unshift(u(d))}else!1,p(e.eq(c),t,i,n,r,fe[c],a)}var g={project_id:a.project_id,text_list:s};Object(ne.i)(g)}ae.length=de+1,ae.push(a),de++,pe="",S()}function m(){pe=""}function g(e,t,i,n){var r=ae[de],a=r.video_list,o=r.audio_list;a=a.concat(o);for(var s=[],l=!1,c=0,u=a.length-1;u>=0;u--)for(var h=a[u].obj_list,d=0;d<=h.length;d++){var p=h[d];if(d===h.length&&d>0){var f=J.l[h[d-1].obj_id+"_"+u];f&&f.pause&&!f.paused&&f.pause();break}if(d<h.length&&p.end_time-e>0){if(1*e+2-p.start_time>=0&&e-p.start_time<0){var m=h[d],g=J.l[m.obj_id+"_"+u],v=m.speed?m.speed.value>0?m.speed.value:-1/m.speed.value:1;if(!g)break;g.playbackRate=v;var y=m.special.start_range,b=m.special.media_url&&-1!==m.special.media_url.toLocaleLowerCase().indexOf(".gif");b&&!isNaN(g.duration)&&(g.loop=!0,y%=g.duration),"video"!==m.obj_type&&"audio"!==m.obj_type||(g.keep_pause=!0,(g.currentTime!==y||g.readyState<2)&&(console.info("ready"),g.currentTime=y))}else if(d+1<h.length){var _=h[d+1],A=h[d],E=_;if(_.obj_id!==A.obj_id&&1*e+2-_.start_time>=0&&e-_.start_time<0){var w=J.l[_.obj_id+"_"+u],x=E.speed?E.speed.value>0?E.speed.value:-1/E.speed.value:1;if(!w)break;w.playbackRate=x;var T=_.special.start_range;if(!_.trans_start||!_.trans_start.bind||_.start_time-_.trans_start.duration/2>e){_.trans_start&&_.trans_start.bind&&(T=1*_.special.start_range+-_.trans_start.duration/2*x);var S=_.special.media_url&&-1!==_.special.media_url.toLocaleLowerCase().indexOf(".gif");S&&!isNaN(w.duration)&&(w.loop=!0,T%=w.duration),"video"!==_.obj_type&&"audio"!==_.obj_type||(w.keep_pause=!0,T=0>T?0:T,(w.currentTime!==T||w.readyState<2)&&(w.currentTime=T))}}}if(e-p.start_time>=0){var C=J.l[p.obj_id+"_"+u],k=p.speed?p.speed.value>0?p.speed.value:-1/p.speed.value:1;if(!C)break;C.playbackRate=k;var O=1*p.special.start_range+(e-p.start_time)*k,P=p.special.media_url&&-1!==p.special.media_url.toLocaleLowerCase().indexOf(".gif");if(P&&!isNaN(C.duration)&&(C.loop=!0,O%=C.duration),"video"===p.obj_type||"audio"===p.obj_type){C.keep_pause=!1,Math.abs(O-C.currentTime)>=.44*k+.04||C.paused&&n&&Math.abs(O-C.currentTime)>.03?(console.info("***************\u4fee\u6b63"),C.currentTime=O):c=e-(O-C.currentTime);var j=100;if(p.audio_fade&&!P)for(var I=0;I<p.audio_fade.length;I++){var M=p.audio_fade[I],R=C.currentTime;if(M.time_point>R&&I-1>=0){var D=p.audio_fade[I-1>=0?I-1:0];j=(R-D.time_point)/(M.time_point-D.time_point)*(M.visibility-D.visibility)+1*D.visibility;break}}var L=i?0:p.volume.value/100*a[u].volume/100*j/100;L=L>=0?L<=1?L:1:0,L!==C.volume&&(C.volume=L),(C.readyState<2&&!P||C.readyState<1&&P)&&(l=!0)}else if("text"===p.obj_type)if("animation"===p.special.sub_type&&J.l[p.obj_id+"_"+u].lottie){var N=J.l[p.obj_id+"_"+u].lottie,B=N.animationData,F=B.fr;if(Math.abs(O-N.currentFrame/F)>=.04||N.isStoped&&n&&Math.abs(O-N.currentFrame/F)>.03){var U=N.getDuration();n?N.goToAndStop((O>=U?U:O)*F,!0):N.goToAndPlay((O>=U?U:O)*F,!0)}else c=e-(O-N.currentFrame/F);if(J.l[p.obj_id+"_"+u].lottie.wrapper.innerHTML!==J.l[p.obj_id+"_"+u].pre_svg){var z=J.l[p.obj_id+"_"+u].lottie.wrapper.innerHTML;X()(z).eq(0).css({writingMode:"vertical-rl"});var H=(new XMLSerializer).serializeToString(X()(z)[0]);J.l[p.obj_id+"_"+u].pre_svg=z;var V=new Blob([H],{type:"image/svg+xml;charset=utf-8"});J.l[p.obj_id+"_"+u].src=URL.createObjectURL(V)}}else J.l[p.obj_id+"_"+u].src!==p.special.svg1&&(J.l[p.obj_id+"_"+u].src=p.special.svg1);if(p.trans_start&&p.trans_start.bind&&p.trans_start.duration/2>e-p.start_time){if(d>0)if(h[d-1].obj_id===h[d].obj_id){if("video"===h[d-1].obj_type&&!J.l[p.obj_id+"_"+u+"_trans"]&&p.special.preview_hls&&(J.l[p.obj_id+"_"+u+"_trans"]=document.createElement("video"),J.c[p.obj_id+"_"+u+"_trans"]=new Z.a,J.c[p.obj_id+"_"+u+"_trans"].loadSource(p.special.preview_hls),J.c[p.obj_id+"_"+u+"_trans"].attachMedia(J.l[p.obj_id+"_"+u+"_trans"])),"video"===h[d-1].obj_type){var G=h[d-1],q=J.l[G.obj_id+"_"+u+"_trans"];if(q){var W=G.speed?G.speed.value>0?G.speed.value:-1/G.speed.value:1;q.playbackRate=W;var Y=1*G.special.start_range+(e-G.start_time)*W,Q=G.special.media_url&&-1!==G.special.media_url.toLocaleLowerCase().indexOf(".gif");if(Q){var K=Y%q.duration;Math.abs(K-q.currentTime)>.44*W+.04&&(q.currentTime=K),q.volume=0,q.paused&&!t&&q.play()}else Y=q.duration>Y?Y:q.duration,Y>0&&Y<q.duration?(Math.abs(Y-q.currentTime)>.44*W+.04&&(q.currentTime=Y),q.keep_pause=!1,q.volume=0):q.keep_pause=!0;(q.readyState<2&&!Q||q.readyState<1&&Q)&&(l=!0)}}else J.l[p.obj_id+"_"+u+"_trans"]=J.l[p.obj_id+"_"+u];ve[h[d-1].obj_id+"_"+u+"_trans"]=h[d-1],s.push(h[d-1].obj_id+"_"+u+"_trans")}else{if("video"===h[d-1].obj_type){var $=h[d-1],ee=J.l[$.obj_id+"_"+u];if(ee){var te=$.speed?$.speed.value>0?$.speed.value:-1/$.speed.value:1;ee.playbackRate=te;var ie=1*$.special.start_range+(e-$.start_time)*te,ne=$.special.media_url&&-1!==$.special.media_url.toLocaleLowerCase().indexOf(".gif");if(ne){var re=ie%ee.duration;Math.abs(re-ee.currentTime)>.44*te+.04&&(ee.currentTime=re),ee.volume=0,ee.paused&&!t&&ee.play()}else ie=ee.duration>ie?ie:ee.duration,ie>0&&ie<ee.duration?(Math.abs(ie-ee.currentTime)>.44*te+.04&&(ee.currentTime=ie),ee.keep_pause=!1,ee.volume=0):ee.keep_pause=!0;(ee.readyState<2&&!ne||ee.readyState<1&&ne)&&(l=!0)}}ve[h[d-1].obj_id+"_"+u]=h[d-1],s.push(h[d-1].obj_id+"_"+u)}}else if(d>0&&h[d-1].obj_id!==h[d].obj_id){var oe=J.l[h[d-1].obj_id+"_"+u];oe&&oe.pause&&!oe.paused&&oe.pause()}if(ve[p.obj_id+"_"+u]=p,s.push(p.obj_id+"_"+u),p.trans_end&&p.trans_end.bind&&p.trans_end.duration/2>p.end_time-e&&d+1<h.length)if(h[d+1].obj_id===h[d].obj_id){if("video"===h[d+1].obj_type&&!J.l[p.obj_id+"_"+u+"_trans"]&&p.special.preview_hls&&(J.l[p.obj_id+"_"+u+"_trans"]=document.createElement("video"),J.c[p.obj_id+"_"+u+"_trans"]=new Z.a,J.c[p.obj_id+"_"+u+"_trans"].loadSource(p.special.preview_hls),J.c[p.obj_id+"_"+u+"_trans"].attachMedia(J.l[p.obj_id+"_"+u+"_trans"])),"video"===h[d+1].obj_type){var se=h[d+1],le=J.l[se.obj_id+"_"+u+"_trans"],ce=se.speed?se.speed.value>0?se.speed.value:-1/se.speed.value:1;le.playbackRate=ce;var ue=1*se.special.start_range+(e-se.start_time)*ce;ue=0>ue?0:ue;var he=se.special.media_url&&-1!==se.special.media_url.toLocaleLowerCase().indexOf(".gif");if(he){var pe=ue%le.duration;Math.abs(pe-le.currentTime)>.44*ce+.04&&(le.currentTime=pe),le.volume=0}else ue>0&&ue<=le.duration?(Math.abs(ue-le.currentTime)>.44*ce+.04&&(le.currentTime=ue),le.keep_pause=!1,le.volume=0):le.keep_pause=!0;(le.readyState<2&&!he||le.readyState<1&&he)&&(l=!0)}else J.l[p.obj_id+"_"+u+"_trans"]=J.l[p.obj_id+"_"+u];ve[h[d+1].obj_id+"_"+u+"_trans"]=h[d+1],s.push(h[d+1].obj_id+"_"+u+"_trans")}else{if("video"===h[d+1].obj_type){var fe=h[d+1],me=J.l[fe.obj_id+"_"+u],ge=fe.speed?fe.speed.value>0?fe.speed.value:-1/fe.speed.value:1;me.playbackRate=ge;var ye=1*fe.special.start_range+(e-fe.start_time)*ge;ye=0>ye?0:ye;var be=fe.special.media_url&&-1!==fe.special.media_url.toLocaleLowerCase().indexOf(".gif");if(be){var _e=ye%me.duration;Math.abs(_e-me.currentTime)>.44*ge+.04&&(me.currentTime=_e),me.volume=0}else ye>0&&ye<me.duration?(Math.abs(ye-me.currentTime)>.44*ge+.04&&(me.currentTime=ye),me.keep_pause=!1,me.volume=0):me.keep_pause=!0;(me.readyState<2&&!be||me.readyState<1&&be)&&(l=!0)}ve[h[d+1].obj_id+"_"+u]=h[d+1],s.push(h[d+1].obj_id+"_"+u)}}else{var Ae=J.l[p.obj_id+"_"+u];if(Ae&&Ae.pause&&!Ae.paused&&Ae.pause(),d>0){var Ee=J.l[h[d-1].obj_id+"_"+u];Ee&&Ee.pause&&!Ee.paused&&Ee.pause()}}break}}if(!l)for(var we=0;we<s.length;we++){var Te=J.l[s[we]];Te&&Te.paused&&Te.play&&!t&&!Te.keep_pause&&Te.play()}return xe=e,[s,c||e,l]}function v(e,t){e=Math.round(25*e)/25;var i=u(ae[de]),n=i.video_list,r=i.audio_list,a=X()(".pathway .focused");if(n=n.concat(r),a.length&&a.hasClass("mater-helper")){if("animation"===a.attr("data-subType")||a.hasClass("mater-subtitle"))return;var o=1*a.attr("data-layer"),s=1*a.attr("data-position")+1,l=n[o].obj_list[s];if(l.end_time-e>.0299&&e-l.start_time>.0299&&l.end_time-l.start_time>=.0799){var c=l.trans_start,h=l.trans_end,d=u(l);if(h&&h.duration){if(e>l.end_time-(h.bind?h.duration/2:h.duration))return}if(c&&c.duration){if(1*l.start_time+(c.bind?c.duration/2:1*c.duration)>e)return}d.trans_start={},l.trans_end={},e-l.start_time>=.4?l.end_time=e:l.end_time=1*l.start_time+.04;var p=l.speed?l.speed.value>0?l.speed.value:-1/l.speed.value:1;l.special.end_range=Math.round(25*(1*l.special.start_range+(l.end_time-l.start_time)*p))/25,"text"===l.obj_type&&(d.obj_id=+new Date+"text_"+l.obj_id.split("_")[1]),d.start_time=l.end_time,l.video_fade&&l.video_fade.length&&(l.video_fade[l.video_fade.length-1].time_point=l.end_time,d.video_fade[0].time_point=l.end_time),d.special.start_range=l.special.end_range,l.audio_fade=[{time_point:l.special.start_range||0,visibility:100,fade_type:0},{time_point:l.special.end_range||l.end_time-l.start_time,visibility:100,fade_type:0}],d.audio_fade=[{time_point:d.special.start_range||0,visibility:100,fade_type:0},{time_point:d.special.end_range||d.end_time-d.start_time,visibility:100,fade_type:0}],n[o].obj_list.splice(s+1,0,d)}}else for(var f=0;f<n.length;f++)for(var m=n[f].obj_list,g=0;g<m.length;g++){var v=m[g];if(v.end_time-e>.0299){if("animation"===v.special.sub_type||"subtitle"===v.media_type)break;if(e-v.start_time>.0299&&v.end_time-v.start_time>=.0799){var y=v.trans_start,b=v.trans_end,_=u(v);if(b&&b.duration){var A=v.end_time-(b.bind?b.duration/2:b.duration);if(e>A)continue}if(y&&y.duration){var E=1*v.start_time+(y.bind?y.duration/2:y.duration);if(E>e)continue}_.trans_start={},v.trans_end={},e-v.start_time>=.04?v.end_time=e:v.end_time=1*v.start_time+.04;var w=v.speed?v.speed.value>0?v.speed.value:-1/v.speed.value:1;v.special.end_range=Math.round(25*(1*v.special.start_range+(v.end_time-v.start_time)*w))/25,"text"===v.obj_type&&(_.obj_id=+new Date+"text_"+v.obj_id.split("_")[1]),_.start_time=v.end_time,v.video_fade&&v.video_fade.length&&(v.video_fade[v.video_fade.length-1].time_point=v.end_time,_.video_fade[0].time_point=v.end_time),_.special.start_range=v.special.end_range,v.audio_fade=[{time_point:v.special.start_range,visibility:100,fade_type:0},{time_point:v.special.end_range,visibility:100,fade_type:0}],_.audio_fade=[{time_point:_.special.start_range,visibility:100,fade_type:0},{time_point:_.special.end_range,visibility:100,fade_type:0}],m.splice(g+1,0,_)}break}}JSON.stringify(i)!==JSON.stringify(ae[de])&&(ae.length=de+1,ae.push(i),pe="",de++,S())}function y(e){var t=u(ae[de]),i=t.video_list.length;e<i?t.video_list.splice(e,1):t.audio_list.splice(e-i,1),ae.length=de+1,ae.push(t),pe="",de++,S()}function b(e,t,i){var n=0;"start"===i&&e[t].trans_end&&e[t].trans_end.duration?n=e[t].trans_end.bind?e[t].trans_end.duration/2:e[t].trans_end.duration:"end"===i&&e[t].trans_start&&e[t].trans_start.duration&&(n=e[t].trans_start.bind?e[t].trans_start.duration/2:e[t].trans_start.duration);var r=e[t].end_time-e[t].start_time-n;return e[t]["trans_"+i].bind?2*r:r}function _(e,t,i,n){var r=u(ae[de]),a=[],o=r.video_list.length;a=e<o?r.video_list[e].obj_list:r.audio_list[e-o].obj_list;var s=a[t]["trans_"+i];if(s){var l=b(a,t,i);if(s.bind)if("start"===i){var c=b(a,t-1,"end");l=c>l?l:c,l=n>l?l:n,a[t-1].trans_end.duration=Math.round(100*l)/100}else{var h=b(a,1*t+1,"start");l=h>l?l:h,l=n>l?l:n,a[1*t+1].trans_start.duration=Math.round(100*l)/100}l=n>l?l:n,s.duration=Math.round(100*l)/100}ae.length=de+1,ae.push(r),pe="",de++,X()(".tl-body .pathway-box").find(".pathway").eq(e).html(V(a,e)),we()}function A(e,t){var i=u(ae[de]),n=1*e.attr("data-layer"),r=1*e.attr("data-position")+1,a=[],o=i.video_list.length,s=i.audio_list.length,l=[];if(n<o)a=i.video_list[n].obj_list;else if(n<s+o)a=i.audio_list[n-o].obj_list;else if(e.hasClass("mater-subtitle")){a=i.text_list[0].obj_list;var c=e.attr("data-mediaId");return l.push(c),void Object(ne.k)(l)}if("start"===t||"end"===t)a[r]["trans_"+t]={};else if("shear"===t){var h=0;if(r>0&&(h=a[r-1].end_time),a.length>r+1)for(var d=a[r+1],p=d.start_time-h,f=r+1;f<a.length;f++)a[f].start_time=a[f].start_time-p,a[f].end_time=1*a[f].end_time-p;a.splice(r,1)}else a.splice(r,1);ae.length=de+1,ae.push(i),pe="",de++,T(i),X()(".tl-body .pathway-box").find(".pathway").eq(n).html(V(a,n)),we()}function E(e,t){for(var i=u(ae[de]),n=[],r=i.video_list.length,a=i.audio_list.length,o=[],s=e.length-1;s>=0;s--){var l=X()(e[s]),c=1*l.attr("data-layer"),h=1*l.attr("data-position")+1;if(c<r)n=i.video_list[c].obj_list;else if(c<a+r)n=i.audio_list[c-r].obj_list;else if(l.hasClass("mater-subtitle")){n=i.text_list[0].obj_list;var d=l.attr("data-mediaId");o.push(d)}if("shear"===t){var p=0;if(h>0&&(p=n[h-1].end_time),n.length>h+1)for(var f=n[h+1],m=f.start_time-p,g=h+1;g<n.length;g++)n[g].start_time=n[g].start_time-m,n[g].end_time=1*n[g].end_time-m}n.splice(h,1)}Object(ne.k)(o),ae.length=de+1,ae.push(i),pe="",de++,S()}function w(){Object(J.b)()}function x(e){var t=ae[de];e&&(t.text_list=[{obj_list:e.list}],S())}function T(e){if(_e){var t=e.video_list[e.video_list.length-1].obj_list,i=0;t.map(function(e,t){var n=e.end_time-e.start_time;e.start_time=i,e.end_time=i+=n})}}function S(){var e=ae[de],t="",i="",n=e.video_list.length,r=Object(ne.a)().list;r&&(e.text_list=[{obj_list:r}]),T(e),e.video_list.forEach(function(n,r){t+='<div class="pathway '+(r===e.video_list.length-1?"main":"")+'">'+V(n.obj_list,r,e.video_list.length)+" </div>",i+='<div class="ctrl '+(r===e.video_list.length-1?"main no-sor":"")+'" key="'+r+'"><div><div><span class="ico-v ico iconfont icon-yingpiangui '+(r===e.video_list.length-1?"":"icon-tianjiashipin-dianji")+'" > </span>'+(r===e.video_list.length-1?'<span class="ico-v ico-b ico iconfont icon-shanchu dis-n"> </span>':'<span class="ico-v ico-b ico iconfont icon-shanchu" > </span>')+'<span class="oneClickMute iconfont icon-guanbishengyin1" type="video_list" index="'+r+'" title="\u4e00\u952e\u9759\u97f3"> </span></div><div class="layer-actions"><span class="layer-size"> </span><span class="layer-options"> </span></div></div><div> <div title="'+Object($.a)("main","dragForVol")+'" type="video_list" index="'+r+'"  vol="'+n.volume+'"  class="vol-bar"></div></div></div>'}),e.audio_list.forEach(function(e,r){t+='<div class="pathway">'+V(e.obj_list,r+n)+" </div>",i+='<div class="ctrl no-sor" key="'+(r+n)+'"><div><div><span class="ico-v ico iconfont icon-yinle"> </span><span class="ico-v ico-a ico iconfont icon-shanchu"> </span><span class="oneClickMute iconfont icon-guanbishengyin1" type="audio_list" index="'+r+'" title="\u4e00\u952e\u9759\u97f3"> </span></div><div class="layer-actions"><span class="layer-size"> </span><span class="layer-options"> </span></div></div><div> <div title="'+Object($.a)("main","dragForVol")+'" type="audio_list" index="'+r+'"  vol="'+e.volume+'" class="vol-bar"></div></div></div>'}),e.text_list&&e.text_list.forEach(function(e,r){t+='<div class="pathway pathway-sub">'+H(e.obj_list)+" </div>",i+='<div class="ctrl no-sor" key="'+(r+n)+'"><div><div><span class="ico-v ico iconfont icon-zimu-weidianji " style="margin-left: 4px"> </span></div><div class="layer-actions"><span class="layer-size"> </span><span class="layer-options"> </span></div></div><div> <div><span class="c-p add-subtitle">\u6dfb\u52a0\u5b57\u5e55</span></div></div></div>'}),X()(".tl-body .pathway-ctrl").html(X()(i)),X()(".tl-body .pathway-box").html(X()(t)),we(),X()(".tl-body .pathway-ctrl").find(".icon-shanchu").each(function(e,t){X()(t).attr("title",Object($.a)("main","deletePath")).bind("click",function(){X()(t).hasClass("ico-b")&&X()(".ico-b").length>1||X()(t).hasClass("ico-a")&&X()(".ico-a").length>1?y(e):X()(t).hasClass("ico-a")?Q.t.info("\u81f3\u5c11\u4fdd\u7559\u4e00\u4e2a\u97f3\u9891\u8f68\u9053"):X()(t).hasClass("ico-b")&&Q.t.info("\u81f3\u5c11\u4fdd\u7559\u4e00\u4e2a\u89c6\u9891\u8f68\u9053")})}),X()(".tl-body .pathway-ctrl").find(".oneClickMute").each(function(e,t){X()(t).bind("click",function(){C(t,0)})});var a=X()(".vol-bar");a.each(function(e,t){X()(t).slider({range:"min",value:X()(t).attr("vol"),min:0,max:100,step:1,change:function(e,i){C(t,i.value)}})}),a.find("span").removeAttr("tabIndex")}function C(e,t){var i=u(ae[de]),n=X()(e).attr("type"),r=X()(e).attr("index");i[n][r].volume=t,ae.length=de+1,ae.push(i),pe="",de++,S()}function k(e,t){var i=u(ae[de]),n=i.video_list.length-1;if(e<n&&t<n){var r=u(i.video_list[e]);i.video_list.splice(e,1),i.video_list.splice(t,0,r)}else if(e>=n&&t>=n){var a=u(i.audio_list[e-n]);i.audio_list.splice(e-n,1),i.audio_list.splice(t-n,0,a)}ae.length=de+1,ae.push(i),pe="",de++,S()}function O(e,t){var i=u(ae[de]),n="video"===e,r=n?{name:t,order:1,volume:100,duration:123,lock_track:!1,obj_list:[]}:{name:t,order:1,volume:100,lock_track:!1,obj_list:[]};if(n)i.video_list.unshift(r);else{for(var a=0;a<i.audio_list.length&&"dubbing"!==i.audio_list[a].type;a++);i.audio_list.splice(a,0,r)}ae.length=de+1,ae.push(i),pe="",de++,S()}function P(e){we=function(t){j(),e(t)},Object(J.d)()}function j(e,t){e&&(Te[e]=t||0);var i=ae[de],n=0;i.audio_list.concat(i.video_list).map(function(e,t){var i=e.obj_list.length;i&&(n=n>e.obj_list[i-1].end_time?n:e.obj_list[i-1].end_time)});for(var r in Te)n=n>Te[r]?n:Te[r];i.duration=n,a(0,n)}function I(){de<ae.length-1&&(de++,x(Object(ne.a)()))}function M(){de>0&&(de--,x(Object(ne.a)()))}function R(){de=0,ae=[u(ee.a)],pe="",fe="",ge=0,Object(J.b)(),ve={},ye=0,be=0,Ae=JSON.stringify(u(ee.a)),Ee=document.createElement("div")}function D(e){return"temp"===e?pe||ae[de]:"clone"===e?u(ae[de]):ae[de]}function L(){return J.l}function N(){return ve}function B(){return{pre:de>0,next:de<ae.length-1,name:ae[de].name,issue:ae[de].duration>=1,save:!r()}}function F(e){return e}function U(e){var t=F(e);t.text_info=t.text_info||{font_size:50,status:!0,font_color:"ffffff",font_name:"FZShuSong-Z01S",background_color:"000000",alpha:0,position_x:"middle",position_y:50},ae=[t],de=0,n()}function z(e){if("text"===e.obj_type)if("animation"===e.special.sub_type)e.obj_type="video",console.info(e),e.special.media_url=e.special.preview_mp4;else switch(e.obj_id){case"text_1":e.obj_type="image",e.special.media_url=oe;break;case"text_2":e.obj_type="image",e.special.media_url=se;break;case"text_3":e.obj_type="image",e.special.media_url=le;break;case"text_4":e.obj_type="image",e.special.media_url=ue;break;case"text_5":e.obj_type="video",e.special.media_url=ce;break;case"text_6":e.obj_type="video",e.special.media_url=he}"transition"===e.obj_type&&(e.obj_type="video"),Object(ie.a)(e,"");var t=e.special.media_url&&-1!==e.special.media_url.toLocaleLowerCase().indexOf(".gif");return[J.l[e.obj_id+"_"],e.obj_type,e.obj_id,e.special.audio_preview_img,t]||""}function H(e){var t="",i=ae[de].video_list.length+ae[de].audio_list.length;return e.forEach(function(e,n){t+='<div data-duration="'+(e.duration||5)+'" data-mediaId="'+e.text_id+'" data-textId="'+e.text_id+'" data-mediaType="subtitle" data-language="'+e.language+'" data-mediaUrl="" data-name="'+(e.text?e.text:"")+'" data-text="'+(e.text?e.text:"")+'" data-thumbnail="" data-layer="'+i+'" data-startTime="'+(e.start_time?1*e.start_time.toFixed(2):0)+'" data-startRange="'+(e.start_time?1*e.start_time.toFixed(2):0)+'" data-endTime="'+(e.end_time?1*e.end_time.toFixed(2):0)+'" data-endRange="'+(e.end_time?1*e.end_time.toFixed(2):0)+'" data-position="'+(n-1)+'" class="mater-helper mater-subtitle new '+("transition"===e.obj_type?"tran ":"")+(e.current||"")+'">'+("animation"===e.sub_type?"":'<div class="trim trimL"></div><div class="trim trimR"></div>')+'<div class="clip-item-thumbs sub"><div class="name">'+e.text+" </div> </div></div>",e.current=""}),t}function V(e,t){var i=ae[de].video_list.length-1===t,n="";return e.forEach(function(r,a){r.trans_start&&r.trans_start.bind&&(a>0&&e[a-1].end_time===r.start_time&&e[a-1].trans_end&&e[a-1].trans_end.bind||(r.trans_start={})),r.trans_end&&r.trans_end.bind&&(a<e.length-1&&e[a+1].start_time===r.end_time&&e[a+1].trans_start&&e[a+1].trans_start.bind||(r.trans_end={})),Object(ie.a)(r,t),n+='<div data-duration="'+(r.duration||5)+'" data-mediaId="'+r.obj_id+'" data-mediaType="'+r.obj_type+'" data-mediaUrl="'+(r.special?r.special.media_url:"")+'" data-videoPreviewImg="'+(r.special?r.special.video_preview_img:"")+'" data-audioPreviewImg="'+(r.special?r.special.audio_preview_img:"")+'" data-previewHls="'+(r.special?r.special.preview_hls:"")+'" data-previewMp4="'+(r.special?r.special.preview_mp4:"")+'" data-previewMp3="'+(r.special?r.special.preview_mp3:"")+'" data-name="'+(r.name?r.name:"")+'" data-buffer="'+(r.special&&(r.special.buffer||0===r.special.buffer)?r.special.buffer:"")+'" data-thumbnail="'+(r.special?r.special.thumbnail:"")+'" data-uploading="'+(r.special&&r.special.uploading?r.special.uploading:"")+'" data-transType="'+(r.special?r.special.trans_type:"")+'" data-subType="'+(r.special?r.special.sub_type:"")+'" data-startTime="'+(r.start_time?1*r.start_time.toFixed(2):0)+'" data-endTime="'+(r.end_time?1*r.end_time.toFixed(2):0)+'" data-startRange="'+(r.special?r.special.start_range?1*r.special.start_range.toFixed(2):0:"")+'" data-endRange="'+(r.special?r.special.end_range?1*r.special.end_range.toFixed(2):r.duration:"")+'" data-layer="'+t+'" data-position="'+(a-1)+'" class="mater-helper new '+("transition"===r.obj_type?"tran ":"")+(i?" mater-main ":"")+(r.current||"")+'">'+(r.trans_start&&r.trans_start.trans_type?'<div class="trans trans-start" data-bind="'+r.trans_start.bind+'" data-transType="'+r.trans_start.trans_type+'" data-thumbnail="'+r.trans_start.thumbnail+'" data-transName="'+r.trans_start.name+'" data-duration="'+r.trans_start.duration+'"></div>':"")+("animation"===r.special.sub_type?"":'<div class="trim trimL"></div><div class="trim trimR"></div>')+(r.trans_end&&r.trans_end.trans_type?'<div class="trans trans-end" data-bind="'+r.trans_end.bind+'" data-transType="'+r.trans_end.trans_type+'" data-thumbnail="'+r.trans_end.thumbnail+'" data-transName="'+r.trans_end.name+'" data-duration="'+r.trans_end.duration+'"></div>':"")+'<div class="clip-item-thumbs"><div class="name"> </div> </div></div>',r.current=""}),n}function G(e,t){var i=u(ae[de]);if(ae.length=de+1,ae.push(i),pe="",de++,e.media_id){var n=q(i,e,i.audio_list.length-1,"dubbing",t);i.audio_list.push(n)}S()}function q(e,t,i,n,r){var a={name:"transAudio",order:1,volume:100,type:n||"themeBgm",lock_track:!1,obj_list:[]},o=t,s=o.duration?Math.round(25*o.duration)/25:5;o.start_time=r||0,o.end_time=o.start_time+s,o.duration=s,o.start_range=0,o.end_range=s,o.layer=i+e.video_list.length,o.position=-1,o.uploading=o.media_url&&o.media_url.toLocaleLowerCase().indexOf(".mp3")>0?"can":"cannot";var l=u(o),c=Object(te.a)(l);return a.obj_list.push(c),a}function W(e){var t=u(ae[de]);t.theme_id=e.theme_id,ae.length=de+1,ae.push(t),pe="",de++,e.none&&(t.theme_id=""),S()}t.B=n,t.m=r,t.C=a,t.n=o,t.H=s,t.c=l,t.G=c,t.j=h,t.t=d,t.a=f,t.k=m,t.r=g,t.g=v,t.E=_,t.h=A,t.i=E,t.f=w,t.z=x,t.y=S,t.d=k,t.b=O,t.s=P,t.x=j,t.v=I,t.w=M,t.e=R,t.l=D,t.q=L,t.p=N,t.o=B,t.A=U,t.u=z,t.F=G,t.D=W;var Y=i(70),X=i.n(Y),Q=i(52),K=i(1418),Z=i.n(K),J=(i(84),i(1391)),$=i(160),ee=i(1411),te=i(1454),ie=i(1419),ne=i(1393),re="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ae=[u(ee.a)],oe=(localStorage.setpath||"")+"/images/text_1.png",se=(localStorage.setpath||"")+"/images/text_2.png",le=(localStorage.setpath||"")+"/images/text_3.png",ce=(localStorage.setpath||"")+"/images/text_4.mp4",ue=(localStorage.setpath||"")+"/images/text_5.png",he=(localStorage.setpath||"")+"/images/text_6.mp4",de=(localStorage.setpath,localStorage.setpath,localStorage.setpath,localStorage.setpath,localStorage.setpath,localStorage.setpath,0),pe="",fe=[],me=!1,ge=0,ve={},ye=0,be=0,_e=!0,Ae=JSON.stringify(u(ee.a)),Ee=document.createElement("div"),we=function(){console.info("****")},xe="",Te={subtitle:0}},1374:function(e,t,i){function n(e,t){return(s(e)?r:o)(e,a(t,3))}var r=i(275),a=i(272),o=i(1530),s=i(45);e.exports=n},1378:function(e,t,i){var n,r,a;!function(o){r=[i(70),i(1364)],n=o,void 0!==(a="function"===typeof n?n.apply(t,r):n)&&(e.exports=a)}(function(e){var t="ui-effects-animated",i=e;return e.effects={effect:{}},function(e,t){function i(e,t,i){var n=u[t.type]||{};return null==e?i||!t.def?null:t.def:(e=n.floor?~~e:parseFloat(e),isNaN(e)?t.def:n.mod?(e+n.mod)%n.mod:0>e?0:n.max<e?n.max:e)}function n(t){var i=l(),n=i._rgba=[];return t=t.toLowerCase(),p(s,function(e,r){var a,o=r.re.exec(t),s=o&&r.parse(o),l=r.space||"rgba";if(s)return a=i[l](s),i[c[l].cache]=a[c[l].cache],n=i._rgba=a._rgba,!1}),n.length?("0,0,0,0"===n.join()&&e.extend(n,a.transparent),i):a[t]}function r(e,t,i){return i=(i+1)%1,6*i<1?e+(t-e)*i*6:2*i<1?t:3*i<2?e+(t-e)*(2/3-i)*6:e}var a,o=/^([\-+])=\s*(\d+\.?\d*)/,s=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],l=e.Color=function(t,i,n,r){return new e.Color.fn.parse(t,i,n,r)},c={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},u={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},h=l.support={},d=e("<p>")[0],p=e.each;d.style.cssText="background-color:rgba(1,1,1,.5)",h.rgba=d.style.backgroundColor.indexOf("rgba")>-1,p(c,function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}}),l.fn=e.extend(l.prototype,{parse:function(t,r,o,s){if(void 0===t)return this._rgba=[null,null,null,null],this;(t.jquery||t.nodeType)&&(t=e(t).css(r),r=void 0);var u=this,h=e.type(t),d=this._rgba=[];return void 0!==r&&(t=[t,r,o,s],h="array"),"string"===h?this.parse(n(t)||a._default):"array"===h?(p(c.rgba.props,function(e,n){d[n.idx]=i(t[n.idx],n)}),this):"object"===h?(t instanceof l?p(c,function(e,i){t[i.cache]&&(u[i.cache]=t[i.cache].slice())}):p(c,function(n,r){var a=r.cache;p(r.props,function(e,n){if(!u[a]&&r.to){if("alpha"===e||null==t[e])return;u[a]=r.to(u._rgba)}u[a][n.idx]=i(t[e],n,!0)}),u[a]&&e.inArray(null,u[a].slice(0,3))<0&&(u[a][3]=1,r.from&&(u._rgba=r.from(u[a])))}),this):void 0},is:function(e){var t=l(e),i=!0,n=this;return p(c,function(e,r){var a,o=t[r.cache];return o&&(a=n[r.cache]||r.to&&r.to(n._rgba)||[],p(r.props,function(e,t){if(null!=o[t.idx])return i=o[t.idx]===a[t.idx]})),i}),i},_space:function(){var e=[],t=this;return p(c,function(i,n){t[n.cache]&&e.push(i)}),e.pop()},transition:function(e,t){var n=l(e),r=n._space(),a=c[r],o=0===this.alpha()?l("transparent"):this,s=o[a.cache]||a.to(o._rgba),h=s.slice();return n=n[a.cache],p(a.props,function(e,r){var a=r.idx,o=s[a],l=n[a],c=u[r.type]||{};null!==l&&(null===o?h[a]=l:(c.mod&&(l-o>c.mod/2?o+=c.mod:o-l>c.mod/2&&(o-=c.mod)),h[a]=i((l-o)*t+o,r)))}),this[r](h)},blend:function(t){if(1===this._rgba[3])return this;var i=this._rgba.slice(),n=i.pop(),r=l(t)._rgba;return l(e.map(i,function(e,t){return(1-n)*r[t]+n*e}))},toRgbaString:function(){var t="rgba(",i=e.map(this._rgba,function(e,t){return null==e?t>2?1:0:e});return 1===i[3]&&(i.pop(),t="rgb("),t+i.join()+")"},toHslaString:function(){var t="hsla(",i=e.map(this.hsla(),function(e,t){return null==e&&(e=t>2?1:0),t&&t<3&&(e=Math.round(100*e)+"%"),e});return 1===i[3]&&(i.pop(),t="hsl("),t+i.join()+")"},toHexString:function(t){var i=this._rgba.slice(),n=i.pop();return t&&i.push(~~(255*n)),"#"+e.map(i,function(e){return e=(e||0).toString(16),1===e.length?"0"+e:e}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),l.fn.parse.prototype=l.fn,c.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t,i,n=e[0]/255,r=e[1]/255,a=e[2]/255,o=e[3],s=Math.max(n,r,a),l=Math.min(n,r,a),c=s-l,u=s+l,h=.5*u;return t=l===s?0:n===s?60*(r-a)/c+360:r===s?60*(a-n)/c+120:60*(n-r)/c+240,i=0===c?0:h<=.5?c/u:c/(2-u),[Math.round(t)%360,i,h,null==o?1:o]},c.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,i=e[1],n=e[2],a=e[3],o=n<=.5?n*(1+i):n+i-n*i,s=2*n-o;return[Math.round(255*r(s,o,t+1/3)),Math.round(255*r(s,o,t)),Math.round(255*r(s,o,t-1/3)),a]},p(c,function(t,n){var r=n.props,a=n.cache,s=n.to,c=n.from;l.fn[t]=function(t){if(s&&!this[a]&&(this[a]=s(this._rgba)),void 0===t)return this[a].slice();var n,o=e.type(t),u="array"===o||"object"===o?t:arguments,h=this[a].slice();return p(r,function(e,t){var n=u["object"===o?e:t.idx];null==n&&(n=h[t.idx]),h[t.idx]=i(n,t)}),c?(n=l(c(h)),n[a]=h,n):l(h)},p(r,function(i,n){l.fn[i]||(l.fn[i]=function(r){var a,s=e.type(r),l="alpha"===i?this._hsla?"hsla":"rgba":t,c=this[l](),u=c[n.idx];return"undefined"===s?u:("function"===s&&(r=r.call(this,u),s=e.type(r)),null==r&&n.empty?this:("string"===s&&(a=o.exec(r))&&(r=u+parseFloat(a[2])*("+"===a[1]?1:-1)),c[n.idx]=r,this[l](c)))})})}),l.hook=function(t){var i=t.split(" ");p(i,function(t,i){e.cssHooks[i]={set:function(t,r){var a,o,s="";if("transparent"!==r&&("string"!==e.type(r)||(a=n(r)))){if(r=l(a||r),!h.rgba&&1!==r._rgba[3]){for(o="backgroundColor"===i?t.parentNode:t;(""===s||"transparent"===s)&&o&&o.style;)try{s=e.css(o,"backgroundColor"),o=o.parentNode}catch(e){}r=r.blend(s&&"transparent"!==s?s:"_default")}r=r.toRgbaString()}try{t.style[i]=r}catch(e){}}},e.fx.step[i]=function(t){t.colorInit||(t.start=l(t.elem,i),t.end=l(t.end),t.colorInit=!0),e.cssHooks[i].set(t.elem,t.start.transition(t.end,t.pos))}})},l.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor"),e.cssHooks.borderColor={expand:function(e){var t={};return p(["Top","Right","Bottom","Left"],function(i,n){t["border"+n+"Color"]=e}),t}},a=e.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(i),function(){function t(t){var i,n,r=t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(t,null):t.currentStyle,a={};if(r&&r.length&&r[0]&&r[r[0]])for(n=r.length;n--;)i=r[n],"string"===typeof r[i]&&(a[e.camelCase(i)]=r[i]);else for(i in r)"string"===typeof r[i]&&(a[i]=r[i]);return a}function n(t,i){var n,r,o={};for(n in i)r=i[n],t[n]!==r&&(a[n]||!e.fx.step[n]&&isNaN(parseFloat(r))||(o[n]=r));return o}var r=["add","remove","toggle"],a={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};e.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(t,n){e.fx.step[n]=function(e){("none"!==e.end&&!e.setAttr||1===e.pos&&!e.setAttr)&&(i.style(e.elem,n,e.end),e.setAttr=!0)}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e.effects.animateClass=function(i,a,o,s){var l=e.speed(a,o,s);return this.queue(function(){var a,o=e(this),s=o.attr("class")||"",c=l.children?o.find("*").addBack():o;c=c.map(function(){return{el:e(this),start:t(this)}}),a=function(){e.each(r,function(e,t){i[t]&&o[t+"Class"](i[t])})},a(),c=c.map(function(){return this.end=t(this.el[0]),this.diff=n(this.start,this.end),this}),o.attr("class",s),c=c.map(function(){var t=this,i=e.Deferred(),n=e.extend({},l,{queue:!1,complete:function(){i.resolve(t)}});return this.el.animate(this.diff,n),i.promise()}),e.when.apply(e,c.get()).done(function(){a(),e.each(arguments,function(){var t=this.el;e.each(this.diff,function(e){t.css(e,"")})}),l.complete.call(o[0])})})},e.fn.extend({addClass:function(t){return function(i,n,r,a){return n?e.effects.animateClass.call(this,{add:i},n,r,a):t.apply(this,arguments)}}(e.fn.addClass),removeClass:function(t){return function(i,n,r,a){return arguments.length>1?e.effects.animateClass.call(this,{remove:i},n,r,a):t.apply(this,arguments)}}(e.fn.removeClass),toggleClass:function(t){return function(i,n,r,a,o){return"boolean"===typeof n||void 0===n?r?e.effects.animateClass.call(this,n?{add:i}:{remove:i},r,a,o):t.apply(this,arguments):e.effects.animateClass.call(this,{toggle:i},n,r,a)}}(e.fn.toggleClass),switchClass:function(t,i,n,r,a){return e.effects.animateClass.call(this,{add:i,remove:t},n,r,a)}})}(),function(){function i(t,i,n,r){return e.isPlainObject(t)&&(i=t,t=t.effect),t={effect:t},null==i&&(i={}),e.isFunction(i)&&(r=i,n=null,i={}),("number"===typeof i||e.fx.speeds[i])&&(r=n,n=i,i={}),e.isFunction(n)&&(r=n,n=null),i&&e.extend(t,i),n=n||i.duration,t.duration=e.fx.off?0:"number"===typeof n?n:n in e.fx.speeds?e.fx.speeds[n]:e.fx.speeds._default,t.complete=r||i.complete,t}function n(t){return!(t&&"number"!==typeof t&&!e.fx.speeds[t])||("string"===typeof t&&!e.effects.effect[t]||(!!e.isFunction(t)||"object"===typeof t&&!t.effect))}function r(e,t){var i=t.outerWidth(),n=t.outerHeight(),r=/^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/,a=r.exec(e)||["",0,i,n,0];return{top:parseFloat(a[1])||0,right:"auto"===a[2]?i:parseFloat(a[2]),bottom:"auto"===a[3]?n:parseFloat(a[3]),left:parseFloat(a[4])||0}}e.expr&&e.expr.filters&&e.expr.filters.animated&&(e.expr.filters.animated=function(i){return function(n){return!!e(n).data(t)||i(n)}}(e.expr.filters.animated)),!1!==e.uiBackCompat&&e.extend(e.effects,{save:function(e,t){for(var i=0,n=t.length;i<n;i++)null!==t[i]&&e.data("ui-effects-"+t[i],e[0].style[t[i]])},restore:function(e,t){for(var i,n=0,r=t.length;n<r;n++)null!==t[n]&&(i=e.data("ui-effects-"+t[n]),e.css(t[n],i))},setMode:function(e,t){return"toggle"===t&&(t=e.is(":hidden")?"show":"hide"),t},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var i={width:t.outerWidth(!0),height:t.outerHeight(!0),float:t.css("float")},n=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),r={width:t.width(),height:t.height()},a=document.activeElement;try{a.id}catch(e){a=document.body}return t.wrap(n),(t[0]===a||e.contains(t[0],a))&&e(a).trigger("focus"),n=t.parent(),"static"===t.css("position")?(n.css({position:"relative"}),t.css({position:"relative"})):(e.extend(i,{position:t.css("position"),zIndex:t.css("z-index")}),e.each(["top","left","bottom","right"],function(e,n){i[n]=t.css(n),isNaN(parseInt(i[n],10))&&(i[n]="auto")}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(r),n.css(i).show()},removeWrapper:function(t){var i=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===i||e.contains(t[0],i))&&e(i).trigger("focus")),t}}),e.extend(e.effects,{version:"1.12.1",define:function(t,i,n){return n||(n=i,i="effect"),e.effects.effect[t]=n,e.effects.effect[t].mode=i,n},scaledDimensions:function(e,t,i){if(0===t)return{height:0,width:0,outerHeight:0,outerWidth:0};var n="horizontal"!==i?(t||100)/100:1,r="vertical"!==i?(t||100)/100:1;return{height:e.height()*r,width:e.width()*n,outerHeight:e.outerHeight()*r,outerWidth:e.outerWidth()*n}},clipToBox:function(e){return{width:e.clip.right-e.clip.left,height:e.clip.bottom-e.clip.top,left:e.clip.left,top:e.clip.top}},unshift:function(e,t,i){var n=e.queue();t>1&&n.splice.apply(n,[1,0].concat(n.splice(t,i))),e.dequeue()},saveStyle:function(e){e.data("ui-effects-style",e[0].style.cssText)},restoreStyle:function(e){e[0].style.cssText=e.data("ui-effects-style")||"",e.removeData("ui-effects-style")},mode:function(e,t){var i=e.is(":hidden");return"toggle"===t&&(t=i?"show":"hide"),(i?"hide"===t:"show"===t)&&(t="none"),t},getBaseline:function(e,t){var i,n;switch(e[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=e[0]/t.height}switch(e[1]){case"left":n=0;break;case"center":n=.5;break;case"right":n=1;break;default:n=e[1]/t.width}return{x:n,y:i}},createPlaceholder:function(t){var i,n=t.css("position"),r=t.position();return t.css({marginTop:t.css("marginTop"),marginBottom:t.css("marginBottom"),marginLeft:t.css("marginLeft"),marginRight:t.css("marginRight")}).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()),/^(static|relative)/.test(n)&&(n="absolute",i=e("<"+t[0].nodeName+">").insertAfter(t).css({display:/^(inline|ruby)/.test(t.css("display"))?"inline-block":"block",visibility:"hidden",marginTop:t.css("marginTop"),marginBottom:t.css("marginBottom"),marginLeft:t.css("marginLeft"),marginRight:t.css("marginRight"),float:t.css("float")}).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).addClass("ui-effects-placeholder"),t.data("ui-effects-placeholder",i)),t.css({position:n,left:r.left,top:r.top}),i},removePlaceholder:function(e){var t="ui-effects-placeholder",i=e.data(t);i&&(i.remove(),e.removeData(t))},cleanUp:function(t){e.effects.restoreStyle(t),e.effects.removePlaceholder(t)},setTransition:function(t,i,n,r){return r=r||{},e.each(i,function(e,i){var a=t.cssUnit(i);a[0]>0&&(r[i]=a[0]*n+a[1])}),r}}),e.fn.extend({effect:function(){function n(i){function n(){l.removeData(t),e.effects.cleanUp(l),"hide"===r.mode&&l.hide(),s()}function s(){e.isFunction(c)&&c.call(l[0]),e.isFunction(i)&&i()}var l=e(this);r.mode=h.shift(),!1===e.uiBackCompat||o?"none"===r.mode?(l[u](),s()):a.call(l[0],r,n):(l.is(":hidden")?"hide"===u:"show"===u)?(l[u](),s()):a.call(l[0],r,s)}var r=i.apply(this,arguments),a=e.effects.effect[r.effect],o=a.mode,s=r.queue,l=s||"fx",c=r.complete,u=r.mode,h=[],d=function(i){var n=e(this),r=e.effects.mode(n,u)||o;n.data(t,!0),h.push(r),o&&("show"===r||r===o&&"hide"===r)&&n.show(),o&&"none"===r||e.effects.saveStyle(n),e.isFunction(i)&&i()};return e.fx.off||!a?u?this[u](r.duration,c):this.each(function(){c&&c.call(this)}):!1===s?this.each(d).each(n):this.queue(l,d).queue(l,n)},show:function(e){return function(t){if(n(t))return e.apply(this,arguments);var r=i.apply(this,arguments);return r.mode="show",this.effect.call(this,r)}}(e.fn.show),hide:function(e){return function(t){if(n(t))return e.apply(this,arguments);var r=i.apply(this,arguments);return r.mode="hide",this.effect.call(this,r)}}(e.fn.hide),toggle:function(e){return function(t){if(n(t)||"boolean"===typeof t)return e.apply(this,arguments);var r=i.apply(this,arguments);return r.mode="toggle",this.effect.call(this,r)}}(e.fn.toggle),cssUnit:function(t){var i=this.css(t),n=[];return e.each(["em","px","%","pt"],function(e,t){i.indexOf(t)>0&&(n=[parseFloat(i),t])}),n},cssClip:function(e){return e?this.css("clip","rect("+e.top+"px "+e.right+"px "+e.bottom+"px "+e.left+"px)"):r(this.css("clip"),this)},transfer:function(t,i){var n=e(this),r=e(t.to),a="fixed"===r.css("position"),o=e("body"),s=a?o.scrollTop():0,l=a?o.scrollLeft():0,c=r.offset(),u={top:c.top-s,left:c.left-l,height:r.innerHeight(),width:r.innerWidth()},h=n.offset(),d=e("<div class='ui-effects-transfer'></div>").appendTo("body").addClass(t.className).css({top:h.top-s,left:h.left-l,height:n.innerHeight(),width:n.innerWidth(),position:a?"fixed":"absolute"}).animate(u,t.duration,t.easing,function(){d.remove(),e.isFunction(i)&&i()})}}),e.fx.step.clip=function(t){t.clipInit||(t.start=e(t.elem).cssClip(),"string"===typeof t.end&&(t.end=r(t.end,t.elem)),t.clipInit=!0),e(t.elem).cssClip({top:t.pos*(t.end.top-t.start.top)+t.start.top,right:t.pos*(t.end.right-t.start.right)+t.start.right,bottom:t.pos*(t.end.bottom-t.start.bottom)+t.start.bottom,left:t.pos*(t.end.left-t.start.left)+t.start.left})}}(),function(){var t={};e.each(["Quad","Cubic","Quart","Quint","Expo"],function(e,i){t[i]=function(t){return Math.pow(t,e+2)}}),e.extend(t,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){for(var t,i=4;e<((t=Math.pow(2,--i))-1)/11;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*t-2)/22-e,2)}}),e.each(t,function(t,i){e.easing["easeIn"+t]=i,e.easing["easeOut"+t]=function(e){return 1-i(1-e)},e.easing["easeInOut"+t]=function(e){return e<.5?i(2*e)/2:1-i(-2*e+2)/2}})}(),e.effects})},1379:function(e,t,i){"use strict";function n(e){h.map(function(t,i){t.code!==e||t.support||Object(u.a)("\u4f60\u672a\u5b89\u88c5\u6b64\u5b57\u4f53\u6216\u8005\u5b89\u88c5\u540e\u672a\u91cd\u542f\u6d4f\u89c8\u5668\uff0c\u662f\u5426\u8981\u4e0b\u8f7d\u5b89\u88c5\uff1f","","",function(){window.open(t.url,"_blank")})})}function r(e){if(localStorage.signature&&!h.length){Object(a.a)("get_fonts_list","",function(e){var t=e,i="<style>";t.map(function(e,t){e.code=e.code.split(".")[0],Object(c.k)(e.code)?e.support=!0:i+=p(e.code,e.name,e.url),i+=f(e.code,e.name,e.url)}),i+="</style>",h=t,s()("head").append(s()(i))},"","info");var t=l.import("formats/font");h.map(function(e,t){-1===e.code.indexOf(" ")&&d.push(e.code.replace(/ /g,""))}),t.whitelist=d,l.register(t,!0)}return"text"===e?d:h}t.a=n,t.b=r;var a=i(84),o=i(70),s=i.n(o),l=i(1392),c=(i.n(l),i(161)),u=i(1367),h=[],d=[],p=function(e,t,i){return" @font-face {font-family: "+e+'; src: url("'+i+"\")format('truetype');}"},f=function(e,t,i){return" .ql-snow .ql-picker.ql-font .ql-picker-label[data-value="+e.replace(/ /g,"")+"]::before,.ql-snow .ql-picker.ql-font .ql-picker-item[data-value="+e.replace(/ /g,"")+']::before {content: "'+t+'";font-family: '+e+";}.ql-font-"+e.replace(/ /g,"")+"{font-family: "+e+";}"}},1380:function(e,t,i){var n,r,a;!function(o){r=[i(70),i(1368),i(1386),i(1385),i(1403),i(1404),i(1387),i(1364),i(1366)],n=o,void 0!==(a="function"===typeof n?n.apply(t,r):n)&&(e.exports=a)}(function(e){return e.widget("ui.draggable",e.ui.mouse,{version:"1.12.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(e,t){this._super(e,t),"handle"===e&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){if((this.helper||this.element).is(".ui-draggable-dragging"))return void(this.destroyOnClear=!0);this._removeHandleClassName(),this._mouseDestroy()},_mouseCapture:function(t){var i=this.options;return!(this.helper||i.disabled||e(t.target).closest(".ui-resizable-handle").length>0)&&(this.handle=this._getHandle(t),!!this.handle&&(this._blurActiveElement(t),this._blockFrames(!0===i.iframeFix?"iframe":i.iframeFix),!0))},_blockFrames:function(t){this.iframeBlocks=this.document.find(t).map(function(){var t=e(this);return e("<div>").css("position","absolute").appendTo(t.parent()).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(t){var i=e.ui.safeActiveElement(this.document[0]);e(t.target).closest(i).length||e.ui.safeBlur(i)},_mouseStart:function(t){var i=this.options;return this.helper=this._createHelper(t),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===e(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(t),this.originalPosition=this.position=this._generatePosition(t,!1),this.originalPageX=t.pageX,this.originalPageY=t.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),!1===this._trigger("start",t)?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_refreshOffsets:function(e){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:e.pageX-this.offset.left,top:e.pageY-this.offset.top}},_mouseDrag:function(t,i){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t,!0),this.positionAbs=this._convertPositionTo("absolute"),!i){var n=this._uiHash();if(!1===this._trigger("drag",t,n))return this._mouseUp(new e.Event("mouseup",t)),!1;this.position=n.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var i=this,n=!1;return e.ui.ddmanager&&!this.options.dropBehaviour&&(n=e.ui.ddmanager.drop(this,t)),this.dropped&&(n=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!n||"valid"===this.options.revert&&n||!0===this.options.revert||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,n)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==i._trigger("stop",t)&&i._clear()}):!1!==this._trigger("stop",t)&&this._clear(),!1},_mouseUp:function(t){return this._unblockFrames(),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),this.handleElement.is(t.target)&&this.element.trigger("focus"),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new e.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(t){return!this.options.handle||!!e(t.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(t){var i=this.options,n=e.isFunction(i.helper),r=n?e(i.helper.apply(this.element[0],[t])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return r.parents("body").length||r.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),n&&r[0]===this.element[0]&&this._setPositionRelative(),r[0]===this.element[0]||/(fixed|absolute)/.test(r.css("position"))||r.css("position","absolute"),r},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(t){"string"===typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_isRootNode:function(e){return/(html|body)/i.test(e.tagName)||e===this.document[0]},_getParentOffset:function(){var t=this.offsetParent.offset(),i=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==i&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var e=this.element.position(),t=this._isRootNode(this.scrollParent[0]);return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+(t?0:this.scrollParent.scrollTop()),left:e.left-(parseInt(this.helper.css("left"),10)||0)+(t?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,i,n,r=this.options,a=this.document[0];return this.relativeContainer=null,r.containment?"window"===r.containment?void(this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||a.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===r.containment?void(this.containment=[0,0,e(a).width()-this.helperProportions.width-this.margins.left,(e(a).height()||a.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):r.containment.constructor===Array?void(this.containment=r.containment):("parent"===r.containment&&(r.containment=this.helper[0].parentNode),i=e(r.containment),void((n=i[0])&&(t=/(scroll|auto)/.test(i.css("overflow")),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(t?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=i))):void(this.containment=null)},_convertPositionTo:function(e,t){t||(t=this.position);var i="absolute"===e?1:-1,n=this._isRootNode(this.scrollParent[0]);return{top:t.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.offset.scroll.top:n?0:this.offset.scroll.top)*i,left:t.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.offset.scroll.left:n?0:this.offset.scroll.left)*i}},_generatePosition:function(e,t){var i,n,r,a,o=this.options,s=this._isRootNode(this.scrollParent[0]),l=e.pageX,c=e.pageY;return s&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),t&&(this.containment&&(this.relativeContainer?(n=this.relativeContainer.offset(),i=[this.containment[0]+n.left,this.containment[1]+n.top,this.containment[2]+n.left,this.containment[3]+n.top]):i=this.containment,e.pageX-this.offset.click.left<i[0]&&(l=i[0]+this.offset.click.left),e.pageY-this.offset.click.top<i[1]&&(c=i[1]+this.offset.click.top),e.pageX-this.offset.click.left>i[2]&&(l=i[2]+this.offset.click.left),e.pageY-this.offset.click.top>i[3]&&(c=i[3]+this.offset.click.top)),o.grid&&(r=o.grid[1]?this.originalPageY+Math.round((c-this.originalPageY)/o.grid[1])*o.grid[1]:this.originalPageY,c=i?r-this.offset.click.top>=i[1]||r-this.offset.click.top>i[3]?r:r-this.offset.click.top>=i[1]?r-o.grid[1]:r+o.grid[1]:r,a=o.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/o.grid[0])*o.grid[0]:this.originalPageX,l=i?a-this.offset.click.left>=i[0]||a-this.offset.click.left>i[2]?a:a-this.offset.click.left>=i[0]?a-o.grid[0]:a+o.grid[0]:a),"y"===o.axis&&(l=this.originalPageX),"x"===o.axis&&(c=this.originalPageY)),{top:c-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:s?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:s?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(t,i,n){return n=n||this._uiHash(),e.ui.plugin.call(this,t,[i,n,this],!0),/^(drag|start|stop)/.test(t)&&(this.positionAbs=this._convertPositionTo("absolute"),n.offset=this.positionAbs),e.Widget.prototype._trigger.call(this,t,i,n)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,i,n){var r=e.extend({},i,{item:n.element});n.sortables=[],e(n.options.connectToSortable).each(function(){var i=e(this).sortable("instance");i&&!i.options.disabled&&(n.sortables.push(i),i.refreshPositions(),i._trigger("activate",t,r))})},stop:function(t,i,n){var r=e.extend({},i,{item:n.element});n.cancelHelperRemoval=!1,e.each(n.sortables,function(){var e=this;e.isOver?(e.isOver=0,n.cancelHelperRemoval=!0,e.cancelHelperRemoval=!1,e._storedCSS={position:e.placeholder.css("position"),top:e.placeholder.css("top"),left:e.placeholder.css("left")},e._mouseStop(t),e.options.helper=e.options._helper):(e.cancelHelperRemoval=!0,e._trigger("deactivate",t,r))})},drag:function(t,i,n){e.each(n.sortables,function(){var r=!1,a=this;a.positionAbs=n.positionAbs,a.helperProportions=n.helperProportions,a.offset.click=n.offset.click,a._intersectsWith(a.containerCache)&&(r=!0,e.each(n.sortables,function(){return this.positionAbs=n.positionAbs,this.helperProportions=n.helperProportions,this.offset.click=n.offset.click,this!==a&&this._intersectsWith(this.containerCache)&&e.contains(a.element[0],this.element[0])&&(r=!1),r})),r?(a.isOver||(a.isOver=1,n._parent=i.helper.parent(),a.currentItem=i.helper.appendTo(a.element).data("ui-sortable-item",!0),a.options._helper=a.options.helper,a.options.helper=function(){return i.helper[0]},t.target=a.currentItem[0],a._mouseCapture(t,!0),a._mouseStart(t,!0,!0),a.offset.click.top=n.offset.click.top,a.offset.click.left=n.offset.click.left,a.offset.parent.left-=n.offset.parent.left-a.offset.parent.left,a.offset.parent.top-=n.offset.parent.top-a.offset.parent.top,n._trigger("toSortable",t),n.dropped=a.element,e.each(n.sortables,function(){this.refreshPositions()}),n.currentItem=n.element,a.fromOutside=n),a.currentItem&&(a._mouseDrag(t),i.position=a.position)):a.isOver&&(a.isOver=0,a.cancelHelperRemoval=!0,a.options._revert=a.options.revert,a.options.revert=!1,a._trigger("out",t,a._uiHash(a)),a._mouseStop(t,!0),a.options.revert=a.options._revert,a.options.helper=a.options._helper,a.placeholder&&a.placeholder.remove(),i.helper.appendTo(n._parent),n._refreshOffsets(t),i.position=n._generatePosition(t,!0),n._trigger("fromSortable",t),n.dropped=!1,e.each(n.sortables,function(){this.refreshPositions()}))})}}),e.ui.plugin.add("draggable","cursor",{start:function(t,i,n){var r=e("body"),a=n.options;r.css("cursor")&&(a._cursor=r.css("cursor")),r.css("cursor",a.cursor)},stop:function(t,i,n){var r=n.options;r._cursor&&e("body").css("cursor",r._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,i,n){var r=e(i.helper),a=n.options;r.css("opacity")&&(a._opacity=r.css("opacity")),r.css("opacity",a.opacity)},stop:function(t,i,n){var r=n.options;r._opacity&&e(i.helper).css("opacity",r._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(e,t,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1)),i.scrollParentNotHidden[0]!==i.document[0]&&"HTML"!==i.scrollParentNotHidden[0].tagName&&(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(t,i,n){var r=n.options,a=!1,o=n.scrollParentNotHidden[0],s=n.document[0];o!==s&&"HTML"!==o.tagName?(r.axis&&"x"===r.axis||(n.overflowOffset.top+o.offsetHeight-t.pageY<r.scrollSensitivity?o.scrollTop=a=o.scrollTop+r.scrollSpeed:t.pageY-n.overflowOffset.top<r.scrollSensitivity&&(o.scrollTop=a=o.scrollTop-r.scrollSpeed)),r.axis&&"y"===r.axis||(n.overflowOffset.left+o.offsetWidth-t.pageX<r.scrollSensitivity?o.scrollLeft=a=o.scrollLeft+r.scrollSpeed:t.pageX-n.overflowOffset.left<r.scrollSensitivity&&(o.scrollLeft=a=o.scrollLeft-r.scrollSpeed))):(r.axis&&"x"===r.axis||(t.pageY-e(s).scrollTop()<r.scrollSensitivity?a=e(s).scrollTop(e(s).scrollTop()-r.scrollSpeed):e(window).height()-(t.pageY-e(s).scrollTop())<r.scrollSensitivity&&(a=e(s).scrollTop(e(s).scrollTop()+r.scrollSpeed))),r.axis&&"y"===r.axis||(t.pageX-e(s).scrollLeft()<r.scrollSensitivity?a=e(s).scrollLeft(e(s).scrollLeft()-r.scrollSpeed):e(window).width()-(t.pageX-e(s).scrollLeft())<r.scrollSensitivity&&(a=e(s).scrollLeft(e(s).scrollLeft()+r.scrollSpeed)))),!1!==a&&e.ui.ddmanager&&!r.dropBehaviour&&e.ui.ddmanager.prepareOffsets(n,t)}}),e.ui.plugin.add("draggable","snap",{start:function(t,i,n){var r=n.options;n.snapElements=[],e(r.snap.constructor!==String?r.snap.items||":data(ui-draggable)":r.snap).each(function(){var t=e(this),i=t.offset();this!==n.element[0]&&n.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:i.top,left:i.left})})},drag:function(t,i,n){var r,a,o,s,l,c,u,h,d,p,f=n.options,m=f.snapTolerance,g=i.offset.left,v=g+n.helperProportions.width,y=i.offset.top,b=y+n.helperProportions.height;for(d=n.snapElements.length-1;d>=0;d--)l=n.snapElements[d].left-n.margins.left,c=l+n.snapElements[d].width,u=n.snapElements[d].top-n.margins.top,h=u+n.snapElements[d].height,v<l-m||g>c+m||b<u-m||y>h+m||!e.contains(n.snapElements[d].item.ownerDocument,n.snapElements[d].item)?(n.snapElements[d].snapping&&n.options.snap.release&&n.options.snap.release.call(n.element,t,e.extend(n._uiHash(),{snapItem:n.snapElements[d].item})),n.snapElements[d].snapping=!1):("inner"!==f.snapMode&&(r=Math.abs(u-b)<=m,a=Math.abs(h-y)<=m,o=Math.abs(l-v)<=m,s=Math.abs(c-g)<=m,r&&(i.position.top=n._convertPositionTo("relative",{top:u-n.helperProportions.height,left:0}).top),a&&(i.position.top=n._convertPositionTo("relative",{top:h,left:0}).top),o&&(i.position.left=n._convertPositionTo("relative",{top:0,left:l-n.helperProportions.width}).left),s&&(i.position.left=n._convertPositionTo("relative",{top:0,left:c}).left)),p=r||a||o||s,"outer"!==f.snapMode&&(r=Math.abs(u-y)<=m,a=Math.abs(h-b)<=m,o=Math.abs(l-g)<=m,s=Math.abs(c-v)<=m,r&&(i.position.top=n._convertPositionTo("relative",{top:u,left:0}).top),a&&(i.position.top=n._convertPositionTo("relative",{top:h-n.helperProportions.height,left:0}).top),o&&(i.position.left=n._convertPositionTo("relative",{top:0,left:l}).left),s&&(i.position.left=n._convertPositionTo("relative",{top:0,left:c-n.helperProportions.width}).left)),!n.snapElements[d].snapping&&(r||a||o||s||p)&&n.options.snap.snap&&n.options.snap.snap.call(n.element,t,e.extend(n._uiHash(),{snapItem:n.snapElements[d].item})),n.snapElements[d].snapping=r||a||o||s||p)}}),e.ui.plugin.add("draggable","stack",{start:function(t,i,n){var r,a=n.options,o=e.makeArray(e(a.stack)).sort(function(t,i){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(i).css("zIndex"),10)||0)});o.length&&(r=parseInt(e(o[0]).css("zIndex"),10)||0,e(o).each(function(t){e(this).css("zIndex",r+t)}),this.css("zIndex",r+o.length))}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,i,n){var r=e(i.helper),a=n.options;r.css("zIndex")&&(a._zIndex=r.css("zIndex")),r.css("zIndex",a.zIndex)},stop:function(t,i,n){var r=n.options;r._zIndex&&e(i.helper).css("zIndex",r._zIndex)}}),e.ui.draggable})},1381:function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=i(0),s=i.n(o),l=i(1382),c=i.n(l),u=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),h=function(e){function t(){n(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={videoJsOptions:{preload:"auto",bigPlayButton:{},autoplay:!0,controls:!0,width:800,height:600,playbackRates:[1,1.5,2],sources:[{src:"https://livetfi.onvideo.cn/onvideo/live/355757baf17841dc/list.m3u8",type:"application/x-mpegURL",label:"HLS1",withCredentials:!1,res:960},{src:"http://192.168.199.197:5000/nodeJS%E8%A7%86%E9%A2%914.mp4",type:"video/mp4",label:"MP4",res:1080}]}},e}return a(t,e),u(t,[{key:"shouldComponentUpdate",value:function(e,t){var i=this.props.visible,n=e.visible;return n&&!i&&this.videoNode.player.src(e.sources),i&&!n&&this.videoNode.player.pause(),!0}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"player"},s.a.createElement(c.a,Object.assign({ref:function(t){return e.videoNode=t},sourceChanged:function(e){return console.log(e)},onReady:function(e){}},this.props)))}}]),t}(o.Component);t.a=h},1382:function(e,t,i){e.exports=i(1383)},1383:function(e,t,i){!function(t,i){e.exports=i()}(window,function(){return function(e){function t(n){if(i[n])return i[n].exports;var r=i[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var i={};return t.m=e,t.c=i,t.d=function(e,i,n){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:n})},t.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/dist/",t(t.s=112)}([function(e,t,i){function n(e){return e&&"object"==typeof e&&"default"in e?e.default:e}function r(e,t){Je(e).forEach(function(i){return t(e[i],i)})}function a(e){for(var t=arguments.length,i=Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return Object.assign?Object.assign.apply(Object,[e].concat(i)):(i.forEach(function(t){t&&r(t,function(t,i){e[i]=t})}),e)}function o(e){return!!e&&"object"===(void 0===e?"undefined":We(e))}function s(e){return o(e)&&"[object Object]"===Ze.call(e)&&e.constructor===Object}function l(e,t){if(!e||!t)return"";if("function"==typeof ge.getComputedStyle){var i=ge.getComputedStyle(e);return i?i[t]:""}return e.currentStyle[t]||""}function c(e){return"string"==typeof e&&/\S/.test(e)}function u(e){if(/\s/.test(e))throw new Error("class has illegal whitespace characters")}function h(){return ve===ge.document&&void 0!==ve.createElement}function d(e){return o(e)&&1===e.nodeType}function p(){try{return ge.parent!==ge.self}catch(e){return!0}}function f(e){return function(t,i){if(!c(t))return ve[e](null);c(i)&&(i=ve.querySelector(i));var n=d(i)?i:ve;return n[e]&&n[e](t)}}function m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments[3],r=ve.createElement(e);return Object.getOwnPropertyNames(t).forEach(function(e){var i=t[e];-1!==e.indexOf("aria-")||"role"===e||"type"===e?(nt.warn(ye(rt,e,i)),r.setAttribute(e,i)):"textContent"===e?g(r,i):r[e]=i}),Object.getOwnPropertyNames(i).forEach(function(e){r.setAttribute(e,i[e])}),n&&D(r,n),r}function g(e,t){return void 0===e.textContent?e.innerText=t:e.textContent=t,e}function v(e,t){t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e)}function y(e,t){return u(t),e.classList?e.classList.contains(t):(i=t,new RegExp("(^|\\s)"+i+"($|\\s)")).test(e.className);var i}function b(e,t){return e.classList?e.classList.add(t):y(e,t)||(e.className=(e.className+" "+t).trim()),e}function _(e,t){return e.classList?e.classList.remove(t):(u(t),e.className=e.className.split(/\s+/).filter(function(e){return e!==t}).join(" ")),e}function A(e,t,i){var n=y(e,t);if("function"==typeof i&&(i=i(e,t)),"boolean"!=typeof i&&(i=!n),i!==n)return i?b(e,t):_(e,t),e}function E(e,t){Object.getOwnPropertyNames(t).forEach(function(i){var n=t[i];null===n||void 0===n||!1===n?e.removeAttribute(i):e.setAttribute(i,!0===n?"":n)})}function w(e){var t={};if(e&&e.attributes&&e.attributes.length>0)for(var i=e.attributes,n=i.length-1;n>=0;n--){var r=i[n].name,a=i[n].value;"boolean"!=typeof e[r]&&-1===",autoplay,controls,playsinline,loop,muted,default,defaultMuted,".indexOf(","+r+",")||(a=null!==a),t[r]=a}return t}function x(e,t){return e.getAttribute(t)}function T(e,t,i){e.setAttribute(t,i)}function S(e,t){e.removeAttribute(t)}function C(){ve.body.focus(),ve.onselectstart=function(){return!1}}function k(){ve.onselectstart=function(){return!0}}function O(e){if(e&&e.getBoundingClientRect&&e.parentNode){var t=e.getBoundingClientRect(),i={};return["bottom","height","left","right","top","width"].forEach(function(e){void 0!==t[e]&&(i[e]=t[e])}),i.height||(i.height=parseFloat(l(e,"height"))),i.width||(i.width=parseFloat(l(e,"width"))),i}}function P(e){var t=void 0;if(e.getBoundingClientRect&&e.parentNode&&(t=e.getBoundingClientRect()),!t)return{left:0,top:0};var i=ve.documentElement,n=ve.body,r=i.clientLeft||n.clientLeft||0,a=ge.pageXOffset||n.scrollLeft,o=t.left+a-r,s=i.clientTop||n.clientTop||0,l=ge.pageYOffset||n.scrollTop,c=t.top+l-s;return{left:Math.round(o),top:Math.round(c)}}function j(e,t){var i={},n=P(e),r=e.offsetWidth,a=e.offsetHeight,o=n.top,s=n.left,l=t.pageY,c=t.pageX;return t.changedTouches&&(c=t.changedTouches[0].pageX,l=t.changedTouches[0].pageY),i.y=Math.max(0,Math.min(1,(o-l+a)/a)),i.x=Math.max(0,Math.min(1,(c-s)/r)),i}function I(e){return o(e)&&3===e.nodeType}function M(e){for(;e.firstChild;)e.removeChild(e.firstChild);return e}function R(e){return"function"==typeof e&&(e=e()),(Array.isArray(e)?e:[e]).map(function(e){return"function"==typeof e&&(e=e()),d(e)||I(e)?e:"string"==typeof e&&/\S/.test(e)?ve.createTextNode(e):void 0}).filter(function(e){return e})}function D(e,t){return R(t).forEach(function(t){return e.appendChild(t)}),e}function L(e,t){return D(M(e),t)}function N(e){return void 0===e.button&&void 0===e.buttons||0===e.button&&void 0===e.buttons||9===Ue||0===e.button&&1===e.buttons}function B(){return lt++}function F(e){var t=e[ut];return t||(t=e[ut]=B()),ct[t]||(ct[t]={}),ct[t]}function U(e){var t=e[ut];return!!t&&!!Object.getOwnPropertyNames(ct[t]).length}function z(e){var t=e[ut];if(t){delete ct[t];try{delete e[ut]}catch(t){e.removeAttribute?e.removeAttribute(ut):e[ut]=null}}}function H(e,t){var i=F(e);0===i.handlers[t].length&&(delete i.handlers[t],e.removeEventListener?e.removeEventListener(t,i.dispatcher,!1):e.detachEvent&&e.detachEvent("on"+t,i.dispatcher)),Object.getOwnPropertyNames(i.handlers).length<=0&&(delete i.handlers,delete i.dispatcher,delete i.disabled),0===Object.getOwnPropertyNames(i).length&&z(e)}function V(e,t,i,n){i.forEach(function(i){e(t,i,n)})}function G(e){function t(){return!0}function i(){return!1}if(!e||!e.isPropagationStopped){var n=e||ge.event;for(var r in e={},n)"layerX"!==r&&"layerY"!==r&&"keyLocation"!==r&&"webkitMovementX"!==r&&"webkitMovementY"!==r&&("returnValue"===r&&n.preventDefault||(e[r]=n[r]));if(e.target||(e.target=e.srcElement||ve),e.relatedTarget||(e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement),e.preventDefault=function(){n.preventDefault&&n.preventDefault(),e.returnValue=!1,n.returnValue=!1,e.defaultPrevented=!0},e.defaultPrevented=!1,e.stopPropagation=function(){n.stopPropagation&&n.stopPropagation(),e.cancelBubble=!0,n.cancelBubble=!0,e.isPropagationStopped=t},e.isPropagationStopped=i,e.stopImmediatePropagation=function(){n.stopImmediatePropagation&&n.stopImmediatePropagation(),e.isImmediatePropagationStopped=t,e.stopPropagation()},e.isImmediatePropagationStopped=i,null!==e.clientX&&void 0!==e.clientX){var a=ve.documentElement,o=ve.body;e.pageX=e.clientX+(a&&a.scrollLeft||o&&o.scrollLeft||0)-(a&&a.clientLeft||o&&o.clientLeft||0),e.pageY=e.clientY+(a&&a.scrollTop||o&&o.scrollTop||0)-(a&&a.clientTop||o&&o.clientTop||0)}e.which=e.charCode||e.keyCode,null!==e.button&&void 0!==e.button&&(e.button=1&e.button?0:4&e.button?1:2&e.button?2:0)}return e}function q(e,t,i){if(Array.isArray(t))return V(q,e,t,i);var n=F(e);if(n.handlers||(n.handlers={}),n.handlers[t]||(n.handlers[t]=[]),i.guid||(i.guid=B()),n.handlers[t].push(i),n.dispatcher||(n.disabled=!1,n.dispatcher=function(t,i){if(!n.disabled){t=G(t);var r=n.handlers[t.type];if(r)for(var a=r.slice(0),o=0,s=a.length;o<s&&!t.isImmediatePropagationStopped();o++)try{a[o].call(e,t,i)}catch(e){nt.error(e)}}}),1===n.handlers[t].length)if(e.addEventListener){var r=!1;ht&&dt.indexOf(t)>-1&&(r={passive:!0}),e.addEventListener(t,n.dispatcher,r)}else e.attachEvent&&e.attachEvent("on"+t,n.dispatcher)}function W(e,t,i){if(U(e)){var n=F(e);if(n.handlers){if(Array.isArray(t))return V(W,e,t,i);var r=function(e,t){n.handlers[t]=[],H(e,t)};if(void 0!==t){var a=n.handlers[t];if(a)if(i){if(i.guid)for(var o=0;o<a.length;o++)a[o].guid===i.guid&&a.splice(o--,1);H(e,t)}else r(e,t)}else for(var s in n.handlers)Object.prototype.hasOwnProperty.call(n.handlers||{},s)&&r(e,s)}}}function Y(e,t,i){var n=U(e)?F(e):{},r=e.parentNode||e.ownerDocument;if("string"==typeof t?t={type:t,target:e}:t.target||(t.target=e),t=G(t),n.dispatcher&&n.dispatcher.call(e,t,i),r&&!t.isPropagationStopped()&&!0===t.bubbles)Y.call(null,r,t,i);else if(!r&&!t.defaultPrevented){var a=F(t.target);t.target[t.type]&&(a.disabled=!0,"function"==typeof t.target[t.type]&&t.target[t.type](),a.disabled=!1)}return!t.defaultPrevented}function X(e,t,i){if(Array.isArray(t))return V(X,e,t,i);var n=function n(){W(e,t,n),i.apply(this,arguments)};n.guid=i.guid=i.guid||B(),q(e,t,n)}function Q(e,t){t&&(mt=t),ge.setTimeout(gt,e)}function K(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).eventBusKey;if(t){if(!e[t].nodeName)throw new Error('The eventBusKey "'+t+'" does not refer to an element.');e.eventBusEl_=e[t]}else e.eventBusEl_=m("span",{className:"vjs-event-bus"});return a(e,Pt),e.on("dispose",function(){e.off(),ge.setTimeout(function(){e.eventBusEl_=null},0)}),e}function Z(e,t){return a(e,jt),e.state=a({},e.state,t),"function"==typeof e.handleStateChanged&&wt(e)&&e.on("statechanged",e.handleStateChanged),e}function J(e){return"string"!=typeof e?e:e.charAt(0).toUpperCase()+e.slice(1)}function $(){for(var e={},t=arguments.length,i=Array(t),n=0;n<t;n++)i[n]=arguments[n];return i.forEach(function(t){t&&r(t,function(t,i){s(t)?(s(e[i])||(e[i]={}),e[i]=$(e[i],t)):e[i]=t})}),e}function ee(e,t,i,n){return function(e,t,i){if("number"!=typeof t||t<0||t>i)throw new Error("Failed to execute '"+e+"' on 'TimeRanges': The index provided ("+t+") is non-numeric or out of bounds (0-"+i+").")}(e,n,i.length-1),i[n][t]}function te(e){return void 0===e||0===e.length?{length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:{length:e.length,start:ee.bind(null,"start",0,e),end:ee.bind(null,"end",1,e)}}function ie(e,t){return Array.isArray(e)?te(e):void 0===e||void 0===t?te():te([[e,t]])}function ne(e,t){var i=0,n=void 0,r=void 0;if(!t)return 0;e&&e.length||(e=ie(0,0));for(var a=0;a<e.length;a++)n=e.start(a),(r=e.end(a))>t&&(r=t),i+=r-n;return i/t}function re(e){if(e instanceof re)return e;"number"==typeof e?this.code=e:"string"==typeof e?this.message=e:o(e)&&("number"==typeof e.code&&(this.code=e.code),a(this,e)),this.message||(this.message=re.defaultMessages[this.code]||"")}function ae(e){return void 0!==e&&null!==e&&"function"==typeof e.then}function oe(e){ae(e)&&e.then(null,function(e){})}function se(e,t,i){e.setTimeout(function(){return function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments[2],r=arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],s=arguments.length>5&&void 0!==arguments[5]&&arguments[5],l=i[0],c=i.slice(1);if("string"==typeof l)e(t,Ai[l],n,r,o,s);else if(l){var u=function(e,t){var i=Ei[e.id()],n=null;if(void 0===i||null===i)return n=t(e),Ei[e.id()]=[[t,n]],n;for(var r=0;r<i.length;r++){var a=i[r],o=a[0],s=a[1];o===t&&(n=s)}return null===n&&(n=t(e),i.push([t,n])),n}(r,l);u.setSource(a({},t),function(i,a){if(i)return e(t,c,n,r,o,s);o.push(u),e(a,t.type===a.type?c:Ai[a.type],n,r,o,s)})}else c.length?e(t,c,n,r,o,s):s?n(t,o):e(t,Ai["*"],n,r,o,!0)}(t,Ai[t.type],i,e)},1)}function le(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r="call"+J(i),a=e.reduce(ce(r),n),o=a===wi,s=o?null:t[i](a);return function(e,t,i,n){for(var r=e.length-1;r>=0;r--){var a=e[r];a[t]&&a[t](n,i)}}(e,i,s,o),s}function ce(e){return function(t,i){return t===wi?wi:i[e]?i[e](t):t}}function ue(e){var t=oi(e.src),i=Ci[t.toLowerCase()];return!e.type&&i&&(e.type=i),e}function he(e,t){return"rgba("+parseInt(e[1]+e[1],16)+","+parseInt(e[2]+e[2],16)+","+parseInt(e[3]+e[3],16)+","+t+")"}function de(e,t,i){try{e.style[t]=i}catch(e){return}}function pe(e,t){if(t&&(e=t(e)),e&&"none"!==e)return e}function fe(e,t,i){var n=fe.getPlayer(e);if(n)return t&&nt.warn('Player "'+e+'" is already initialised. Options will not be applied.'),i&&n.ready(i),n;var r="string"==typeof e?at("#"+dr(e)):e;if(!d(r))throw new TypeError("The element or ID supplied is not valid. (videojs)");ve.body.contains(r)||nt.warn("The element supplied is not included in the DOM"),t=t||{},fe.hooks("beforesetup").forEach(function(e){var i=e(r,$(t));o(i)&&!Array.isArray(i)?t=$(t,i):nt.error("please return an object in beforesetup hooks")});var a=It.getComponent("Player");return n=new a(r,t,i),fe.hooks("setup").forEach(function(e){return e(n)}),n}var me,ge=n(i(1)),ve=n(i(9)),ye=n(i(102)),be=n(i(101)),_e=n(i(100)),Ae=n(i(95)),Ee="6.9.0",we=ge.navigator&&ge.navigator.userAgent||"",xe=/AppleWebKit\/([\d.]+)/i.exec(we),Te=xe?parseFloat(xe.pop()):null,Se=/iPad/i.test(we),Ce=/iPhone/i.test(we)&&!Se,ke=/iPod/i.test(we),Oe=Ce||Se||ke,Pe=(me=we.match(/OS (\d+)_/i))&&me[1]?me[1]:null,je=/Android/i.test(we),Ie=function(){var e=we.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!e)return null;var t=e[1]&&parseFloat(e[1]),i=e[2]&&parseFloat(e[2]);return t&&i?parseFloat(e[1]+"."+e[2]):t||null}(),Me=je&&/webkit/i.test(we)&&Ie<2.3,Re=je&&Ie<5&&Te<537,De=/Firefox/i.test(we),Le=/Edge/i.test(we),Ne=!Le&&/Chrome/i.test(we),Be=function(){var e=we.match(/Chrome\/(\d+)/);return e&&e[1]?parseFloat(e[1]):null}(),Fe=/MSIE\s8\.0/.test(we),Ue=function(){var e=/MSIE\s(\d+)\.\d/.exec(we),t=e&&parseFloat(e[1]);return!t&&/Trident\/7.0/i.test(we)&&/rv:11.0/.test(we)&&(t=11),t}(),ze=/Safari/i.test(we)&&!Ne&&!je&&!Le,He=ze||Oe,Ve=h()&&("ontouchstart"in ge||ge.DocumentTouch&&ge.document instanceof ge.DocumentTouch),Ge=h()&&"backgroundSize"in ge.document.createElement("video").style,qe=(Object.freeze||Object)({IS_IPAD:Se,IS_IPHONE:Ce,IS_IPOD:ke,IS_IOS:Oe,IOS_VERSION:Pe,IS_ANDROID:je,ANDROID_VERSION:Ie,IS_OLD_ANDROID:Me,IS_NATIVE_ANDROID:Re,IS_FIREFOX:De,IS_EDGE:Le,IS_CHROME:Ne,CHROME_VERSION:Be,IS_IE8:Fe,IE_VERSION:Ue,IS_SAFARI:ze,IS_ANY_SAFARI:He,TOUCH_ENABLED:Ve,BACKGROUND_SIZE_SUPPORTED:Ge}),We="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ye=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},Xe=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},Qe=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},Ke=function(e,t){return e.raw=t,e},Ze=Object.prototype.toString,Je=function(e){return o(e)?Object.keys(e):[]},$e=void 0,et="info",tt=[],it=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:!!Ue&&Ue<11,n=$e.levels[et],r=new RegExp("^("+n+")$");if("log"!==e&&t.unshift(e.toUpperCase()+":"),tt&&tt.push([].concat(t)),t.unshift("VIDEOJS:"),ge.console){var a=ge.console[e];a||"debug"!==e||(a=ge.console.info||ge.console.log),a&&n&&r.test(e)&&(i&&(t=t.map(function(e){if(o(e)||Array.isArray(e))try{return JSON.stringify(e)}catch(t){return String(e)}return String(e)}).join(" ")),a.apply?a[Array.isArray(t)?"apply":"call"](ge.console,t):a(t))}};($e=function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];it("log",t)}).levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:et},$e.level=function(e){if("string"==typeof e){if(!$e.levels.hasOwnProperty(e))throw new Error('"'+e+'" in not a valid log level');et=e}return et},$e.history=function(){return tt?[].concat(tt):[]},$e.history.clear=function(){tt&&(tt.length=0)},$e.history.disable=function(){null!==tt&&(tt.length=0,tt=null)},$e.history.enable=function(){null===tt&&(tt=[])},$e.error=function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return it("error",t)},$e.warn=function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return it("warn",t)},$e.debug=function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return it("debug",t)};var nt=$e,rt=Ke(["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."],["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."]),at=f("querySelector"),ot=f("querySelectorAll"),st=(Object.freeze||Object)({isReal:h,isEl:d,isInFrame:p,createEl:m,textContent:g,prependTo:v,hasClass:y,addClass:b,removeClass:_,toggleClass:A,setAttributes:E,getAttributes:w,getAttribute:x,setAttribute:T,removeAttribute:S,blockTextSelection:C,unblockTextSelection:k,getBoundingClientRect:O,findPosition:P,getPointerPosition:j,isTextNode:I,emptyEl:M,normalizeContent:R,appendContent:D,insertContent:L,isSingleLeftClick:N,$:at,$$:ot}),lt=1,ct={},ut="vdata"+(new Date).getTime(),ht=!1;!function(){try{var e=Object.defineProperty({},"passive",{get:function(){ht=!0}});ge.addEventListener("test",null,e),ge.removeEventListener("test",null,e)}catch(e){}}();var dt=["touchstart","touchmove"],pt=(Object.freeze||Object)({fixEvent:G,on:q,off:W,trigger:Y,one:X}),ft=!1,mt=void 0,gt=function(){if(h()){var e=ve.getElementsByTagName("video"),t=ve.getElementsByTagName("audio"),i=ve.getElementsByTagName("video-js"),n=[];if(e&&e.length>0)for(var r=0,a=e.length;r<a;r++)n.push(e[r]);if(t&&t.length>0)for(var o=0,s=t.length;o<s;o++)n.push(t[o]);if(i&&i.length>0)for(var l=0,c=i.length;l<c;l++)n.push(i[l]);if(n&&n.length>0)for(var u=0,d=n.length;u<d;u++){var p=n[u];if(!p||!p.getAttribute){Q(1);break}void 0===p.player&&null!==p.getAttribute("data-setup")&&mt(p)}else ft||Q(1)}};h()&&"complete"===ve.readyState?ft=!0:X(ge,"load",function(){ft=!0});var vt=function(e){var t=ve.createElement("style");return t.className=e,t},yt=function(e,t){e.styleSheet?e.styleSheet.cssText=t:e.textContent=t},bt=function(e,t,i){t.guid||(t.guid=B());var n=function(){return t.apply(e,arguments)};return n.guid=i?i+"_"+t.guid:t.guid,n},_t=function(e,t){var i=Date.now();return function(){var n=Date.now();n-i>=t&&(e.apply(void 0,arguments),i=n)}},At=function(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:ge,r=void 0;return function(){var a=this,o=arguments,s=function(){r=null,s=null,i||e.apply(a,o)};!r&&i&&e.apply(a,o),n.clearTimeout(r),r=n.setTimeout(s,t)}},Et=function(){};Et.prototype.allowedEvents_={},Et.prototype.on=function(e,t){var i=this.addEventListener;this.addEventListener=function(){},q(this,e,t),this.addEventListener=i},Et.prototype.addEventListener=Et.prototype.on,Et.prototype.off=function(e,t){W(this,e,t)},Et.prototype.removeEventListener=Et.prototype.off,Et.prototype.one=function(e,t){var i=this.addEventListener;this.addEventListener=function(){},X(this,e,t),this.addEventListener=i},Et.prototype.trigger=function(e){var t=e.type||e;"string"==typeof e&&(e={type:t}),e=G(e),this.allowedEvents_[t]&&this["on"+t]&&this["on"+t](e),Y(this,e)},Et.prototype.dispatchEvent=Et.prototype.trigger;var wt=function(e){return e instanceof Et||!!e.eventBusEl_&&["on","one","off","trigger"].every(function(t){return"function"==typeof e[t]})},xt=function(e){return"string"==typeof e&&/\S/.test(e)||Array.isArray(e)&&!!e.length},Tt=function(e){if(!e.nodeName&&!wt(e))throw new Error("Invalid target; must be a DOM node or evented object.")},St=function(e){if(!xt(e))throw new Error("Invalid event type; must be a non-empty string or array.")},Ct=function(e){if("function"!=typeof e)throw new Error("Invalid listener; must be a function.")},kt=function(e,t){var i=t.length<3||t[0]===e||t[0]===e.eventBusEl_,n=void 0,r=void 0,a=void 0;return i?(n=e.eventBusEl_,t.length>=3&&t.shift(),r=t[0],a=t[1]):(n=t[0],r=t[1],a=t[2]),Tt(n),St(r),Ct(a),{isTargetingSelf:i,target:n,type:r,listener:a=bt(e,a)}},Ot=function(e,t,i,n){Tt(e),e.nodeName?pt[t](e,i,n):e[t](i,n)},Pt={on:function(){for(var e=this,t=arguments.length,i=Array(t),n=0;n<t;n++)i[n]=arguments[n];var r=kt(this,i),a=r.isTargetingSelf,o=r.target,s=r.type,l=r.listener;if(Ot(o,"on",s,l),!a){var c=function(){return e.off(o,s,l)};c.guid=l.guid;var u=function(){return e.off("dispose",c)};u.guid=l.guid,Ot(this,"on","dispose",c),Ot(o,"on","dispose",u)}},one:function(){for(var e=this,t=arguments.length,i=Array(t),n=0;n<t;n++)i[n]=arguments[n];var r=kt(this,i),a=r.isTargetingSelf,o=r.target,s=r.type,l=r.listener;if(a)Ot(o,"one",s,l);else{var c=function t(){for(var i=arguments.length,n=Array(i),r=0;r<i;r++)n[r]=arguments[r];e.off(o,s,t),l.apply(null,n)};c.guid=l.guid,Ot(o,"one",s,c)}},off:function(e,t,i){if(!e||xt(e))W(this.eventBusEl_,e,t);else{var n=e,r=t;Tt(n),St(r),Ct(i),i=bt(this,i),this.off("dispose",i),n.nodeName?(W(n,r,i),W(n,"dispose",i)):wt(n)&&(n.off(r,i),n.off("dispose",i))}},trigger:function(e,t){return Y(this.eventBusEl_,e,t)}},jt={state:{},setState:function(e){var t=this;"function"==typeof e&&(e=e());var i=void 0;return r(e,function(e,n){t.state[n]!==e&&((i=i||{})[n]={from:t.state[n],to:e}),t.state[n]=e}),i&&wt(this)&&this.trigger({changes:i,type:"statechanged"}),i}},It=function(){function e(t,i,n){if(Ye(this,e),!t&&this.play?this.player_=t=this:this.player_=t,this.options_=$({},this.options_),i=this.options_=$(this.options_,i),this.id_=i.id||i.el&&i.el.id,!this.id_){var r=t&&t.id&&t.id()||"no_player";this.id_=r+"_component_"+B()}this.name_=i.name||null,i.el?this.el_=i.el:!1!==i.createEl&&(this.el_=this.createEl()),!1!==i.evented&&K(this,{eventBusKey:this.el_?"el_":null}),Z(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},!1!==i.initChildren&&this.initChildren(),this.ready(n),!1!==i.reportTouchActivity&&this.enableTouchActivity()}return e.prototype.dispose=function(){if(this.trigger({type:"dispose",bubbles:!1}),this.children_)for(var e=this.children_.length-1;e>=0;e--)this.children_[e].dispose&&this.children_[e].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.el_&&(this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),z(this.el_),this.el_=null),this.player_=null},e.prototype.player=function(){return this.player_},e.prototype.options=function(e){return nt.warn("this.options() has been deprecated and will be moved to the constructor in 6.0"),e?(this.options_=$(this.options_,e),this.options_):this.options_},e.prototype.el=function(){return this.el_},e.prototype.createEl=function(e,t,i){return m(e,t,i)},e.prototype.localize=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,n=this.player_.language&&this.player_.language(),r=this.player_.languages&&this.player_.languages(),a=r&&r[n],o=n&&n.split("-")[0],s=r&&r[o],l=i;return a&&a[e]?l=a[e]:s&&s[e]&&(l=s[e]),t&&(l=l.replace(/\{(\d+)\}/g,function(e,i){var n=t[i-1],r=n;return void 0===n&&(r=e),r})),l},e.prototype.contentEl=function(){return this.contentEl_||this.el_},e.prototype.id=function(){return this.id_},e.prototype.name=function(){return this.name_},e.prototype.children=function(){return this.children_},e.prototype.getChildById=function(e){return this.childIndex_[e]},e.prototype.getChild=function(e){if(e)return e=J(e),this.childNameIndex_[e]},e.prototype.addChild=function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.children_.length,r=void 0,a=void 0;if("string"==typeof t){a=J(t);var o=i.componentClass||a;i.name=a;var s=e.getComponent(o);if(!s)throw new Error("Component "+o+" does not exist");if("function"!=typeof s)return null;r=new s(this.player_||this,i)}else r=t;if(this.children_.splice(n,0,r),"function"==typeof r.id&&(this.childIndex_[r.id()]=r),(a=a||r.name&&J(r.name()))&&(this.childNameIndex_[a]=r),"function"==typeof r.el&&r.el()){var l=this.contentEl().children[n]||null;this.contentEl().insertBefore(r.el(),l)}return r},e.prototype.removeChild=function(e){if("string"==typeof e&&(e=this.getChild(e)),e&&this.children_){for(var t=!1,i=this.children_.length-1;i>=0;i--)if(this.children_[i]===e){t=!0,this.children_.splice(i,1);break}if(t){this.childIndex_[e.id()]=null,this.childNameIndex_[e.name()]=null;var n=e.el();n&&n.parentNode===this.contentEl()&&this.contentEl().removeChild(e.el())}}},e.prototype.initChildren=function(){var t=this,i=this.options_.children;if(i){var n=this.options_,r=void 0,a=e.getComponent("Tech");(r=Array.isArray(i)?i:Object.keys(i)).concat(Object.keys(this.options_).filter(function(e){return!r.some(function(t){return"string"==typeof t?e===t:e===t.name})})).map(function(e){var n=void 0,r=void 0;return"string"==typeof e?r=i[n=e]||t.options_[n]||{}:(n=e.name,r=e),{name:n,opts:r}}).filter(function(t){var i=e.getComponent(t.opts.componentClass||J(t.name));return i&&!a.isTech(i)}).forEach(function(e){var i=e.name,r=e.opts;if(void 0!==n[i]&&(r=n[i]),!1!==r){!0===r&&(r={}),r.playerOptions=t.options_.playerOptions;var a=t.addChild(i,r);a&&(t[i]=a)}})}},e.prototype.buildCSSClass=function(){return""},e.prototype.ready=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e)return this.isReady_?void(t?e.call(this):this.setTimeout(e,1)):(this.readyQueue_=this.readyQueue_||[],void this.readyQueue_.push(e))},e.prototype.triggerReady=function(){this.isReady_=!0,this.setTimeout(function(){var e=this.readyQueue_;this.readyQueue_=[],e&&e.length>0&&e.forEach(function(e){e.call(this)},this),this.trigger("ready")},1)},e.prototype.$=function(e,t){return at(e,t||this.contentEl())},e.prototype.$$=function(e,t){return ot(e,t||this.contentEl())},e.prototype.hasClass=function(e){return y(this.el_,e)},e.prototype.addClass=function(e){b(this.el_,e)},e.prototype.removeClass=function(e){_(this.el_,e)},e.prototype.toggleClass=function(e,t){A(this.el_,e,t)},e.prototype.show=function(){this.removeClass("vjs-hidden")},e.prototype.hide=function(){this.addClass("vjs-hidden")},e.prototype.lockShowing=function(){this.addClass("vjs-lock-showing")},e.prototype.unlockShowing=function(){this.removeClass("vjs-lock-showing")},e.prototype.getAttribute=function(e){return x(this.el_,e)},e.prototype.setAttribute=function(e,t){T(this.el_,e,t)},e.prototype.removeAttribute=function(e){S(this.el_,e)},e.prototype.width=function(e,t){return this.dimension("width",e,t)},e.prototype.height=function(e,t){return this.dimension("height",e,t)},e.prototype.dimensions=function(e,t){this.width(e,!0),this.height(t)},e.prototype.dimension=function(e,t,i){if(void 0!==t)return null!==t&&t==t||(t=0),-1!==(""+t).indexOf("%")||-1!==(""+t).indexOf("px")?this.el_.style[e]=t:this.el_.style[e]="auto"===t?"":t+"px",void(i||this.trigger("componentresize"));if(!this.el_)return 0;var n=this.el_.style[e],r=n.indexOf("px");return-1!==r?parseInt(n.slice(0,r),10):parseInt(this.el_["offset"+J(e)],10)},e.prototype.currentDimension=function(e){var t=0;if("width"!==e&&"height"!==e)throw new Error("currentDimension only accepts width or height value");if("function"==typeof ge.getComputedStyle){var i=ge.getComputedStyle(this.el_);t=i.getPropertyValue(e)||i[e]}if(0===(t=parseFloat(t))){var n="offset"+J(e);t=this.el_[n]}return t},e.prototype.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},e.prototype.currentWidth=function(){return this.currentDimension("width")},e.prototype.currentHeight=function(){return this.currentDimension("height")},e.prototype.focus=function(){this.el_.focus()},e.prototype.blur=function(){this.el_.blur()},e.prototype.emitTapEvents=function(){var e=0,t=null,i=void 0;this.on("touchstart",function(n){1===n.touches.length&&(t={pageX:n.touches[0].pageX,pageY:n.touches[0].pageY},e=(new Date).getTime(),i=!0)}),this.on("touchmove",function(e){if(e.touches.length>1)i=!1;else if(t){var n=e.touches[0].pageX-t.pageX,r=e.touches[0].pageY-t.pageY;Math.sqrt(n*n+r*r)>10&&(i=!1)}});var n=function(){i=!1};this.on("touchleave",n),this.on("touchcancel",n),this.on("touchend",function(n){t=null,!0===i&&(new Date).getTime()-e<200&&(n.preventDefault(),this.trigger("tap"))})},e.prototype.enableTouchActivity=function(){if(this.player()&&this.player().reportUserActivity){var e=bt(this.player(),this.player().reportUserActivity),t=void 0;this.on("touchstart",function(){e(),this.clearInterval(t),t=this.setInterval(e,250)});var i=function(i){e(),this.clearInterval(t)};this.on("touchmove",e),this.on("touchend",i),this.on("touchcancel",i)}},e.prototype.setTimeout=function(e,t){var i=this;e=bt(this,e);var n=ge.setTimeout(e,t),r=function(){return i.clearTimeout(n)};return r.guid="vjs-timeout-"+n,this.on("dispose",r),n},e.prototype.clearTimeout=function(e){ge.clearTimeout(e);var t=function(){};return t.guid="vjs-timeout-"+e,this.off("dispose",t),e},e.prototype.setInterval=function(e,t){var i=this;e=bt(this,e);var n=ge.setInterval(e,t),r=function(){return i.clearInterval(n)};return r.guid="vjs-interval-"+n,this.on("dispose",r),n},e.prototype.clearInterval=function(e){ge.clearInterval(e);var t=function(){};return t.guid="vjs-interval-"+e,this.off("dispose",t),e},e.prototype.requestAnimationFrame=function(e){var t=this;if(this.supportsRaf_){e=bt(this,e);var i=ge.requestAnimationFrame(e),n=function(){return t.cancelAnimationFrame(i)};return n.guid="vjs-raf-"+i,this.on("dispose",n),i}return this.setTimeout(e,1e3/60)},e.prototype.cancelAnimationFrame=function(e){if(this.supportsRaf_){ge.cancelAnimationFrame(e);var t=function(){};return t.guid="vjs-raf-"+e,this.off("dispose",t),e}return this.clearTimeout(e)},e.registerComponent=function(t,i){if("string"!=typeof t||!t)throw new Error('Illegal component name, "'+t+'"; must be a non-empty string.');var n=e.getComponent("Tech"),r=n&&n.isTech(i),a=e===i||e.prototype.isPrototypeOf(i.prototype);if(r||!a){var o=void 0;throw o=r?"techs must be registered using Tech.registerTech()":"must be a Component subclass",new Error('Illegal component, "'+t+'"; '+o+".")}t=J(t),e.components_||(e.components_={});var s=e.getComponent("Player");if("Player"===t&&s&&s.players){var l=s.players,c=Object.keys(l);if(l&&c.length>0&&c.map(function(e){return l[e]}).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return e.components_[t]=i,i},e.getComponent=function(t){if(t)return t=J(t),e.components_&&e.components_[t]?e.components_[t]:void 0},e}();It.prototype.supportsRaf_="function"==typeof ge.requestAnimationFrame&&"function"==typeof ge.cancelAnimationFrame,It.registerComponent("Component",It);for(var Mt={},Rt=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],Dt=Rt[0],Lt=void 0,Nt=0;Nt<Rt.length;Nt++)if(Rt[Nt][1]in ve){Lt=Rt[Nt];break}if(Lt)for(var Bt=0;Bt<Lt.length;Bt++)Mt[Dt[Bt]]=Lt[Bt];re.prototype.code=0,re.prototype.message="",re.prototype.status=null,re.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],re.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var Ft=0;Ft<re.errorTypes.length;Ft++)re[re.errorTypes[Ft]]=Ft,re.prototype[re.errorTypes[Ft]]=Ft;var Ut=function(e){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(function(t,i,n){return e[i]&&(t[i]=e[i]),t},{cues:e.cues&&Array.prototype.map.call(e.cues,function(e){return{startTime:e.startTime,endTime:e.endTime,text:e.text,id:e.id}})})},zt=function(e){var t=e.$$("track"),i=Array.prototype.map.call(t,function(e){return e.track});return Array.prototype.map.call(t,function(e){var t=Ut(e.track);return e.src&&(t.src=e.src),t}).concat(Array.prototype.filter.call(e.textTracks(),function(e){return-1===i.indexOf(e)}).map(Ut))},Ht=function(e,t){return e.forEach(function(e){var i=t.addRemoteTextTrack(e).track;!e.src&&e.cues&&e.cues.forEach(function(e){return i.addCue(e)})}),t.textTracks()},Vt="vjs-modal-dialog",Gt=function(e){function t(i,n){Ye(this,t);var r=Qe(this,e.call(this,i,n));return r.opened_=r.hasBeenOpened_=r.hasBeenFilled_=!1,r.closeable(!r.options_.uncloseable),r.content(r.options_.content),r.contentEl_=m("div",{className:Vt+"-content"},{role:"document"}),r.descEl_=m("p",{className:Vt+"-description vjs-control-text",id:r.el().getAttribute("aria-describedby")}),g(r.descEl_,r.description()),r.el_.appendChild(r.descEl_),r.el_.appendChild(r.contentEl_),r}return Xe(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},t.prototype.dispose=function(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,e.prototype.dispose.call(this)},t.prototype.buildCSSClass=function(){return Vt+" vjs-hidden "+e.prototype.buildCSSClass.call(this)},t.prototype.handleKeyPress=function(e){27===e.which&&this.closeable()&&this.close()},t.prototype.label=function(){return this.localize(this.options_.label||"Modal Window")},t.prototype.description=function(){var e=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(e+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),e},t.prototype.open=function(){if(!this.opened_){var e=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!e.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&e.pause(),this.closeable()&&this.on(this.el_.ownerDocument,"keydown",bt(this,this.handleKeyPress)),this.hadControls_=e.controls(),e.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}},t.prototype.opened=function(e){return"boolean"==typeof e&&this[e?"open":"close"](),this.opened_},t.prototype.close=function(){if(this.opened_){var e=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&e.play(),this.closeable()&&this.off(this.el_.ownerDocument,"keydown",bt(this,this.handleKeyPress)),this.hadControls_&&e.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}},t.prototype.closeable=function(e){if("boolean"==typeof e){var t=this.closeable_=!!e,i=this.getChild("closeButton");if(t&&!i){var n=this.contentEl_;this.contentEl_=this.el_,i=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=n,this.on(i,"close",this.close)}!t&&i&&(this.off(i,"close",this.close),this.removeChild(i),i.dispose())}return this.closeable_},t.prototype.fill=function(){this.fillWith(this.content())},t.prototype.fillWith=function(e){var t=this.contentEl(),i=t.parentNode,n=t.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,i.removeChild(t),this.empty(),L(t,e),this.trigger("modalfill"),n?i.insertBefore(t,n):i.appendChild(t);var r=this.getChild("closeButton");r&&i.appendChild(r.el_)},t.prototype.empty=function(){this.trigger("beforemodalempty"),M(this.contentEl()),this.trigger("modalempty")},t.prototype.content=function(e){return void 0!==e&&(this.content_=e),this.content_},t.prototype.conditionalFocus_=function(){var e=ve.activeElement,t=this.player_.el_;this.previouslyActiveEl_=null,(t.contains(e)||t===e)&&(this.previouslyActiveEl_=e,this.focus(),this.on(ve,"keydown",this.handleKeyDown))},t.prototype.conditionalBlur_=function(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null),this.off(ve,"keydown",this.handleKeyDown)},t.prototype.handleKeyDown=function(e){if(9===e.which){for(var t=this.focusableEls_(),i=this.el_.querySelector(":focus"),n=void 0,r=0;r<t.length;r++)if(i===t[r]){n=r;break}ve.activeElement===this.el_&&(n=0),e.shiftKey&&0===n?(t[t.length-1].focus(),e.preventDefault()):e.shiftKey||n!==t.length-1||(t[0].focus(),e.preventDefault())}},t.prototype.focusableEls_=function(){var e=this.el_.querySelectorAll("*");return Array.prototype.filter.call(e,function(e){return(e instanceof ge.HTMLAnchorElement||e instanceof ge.HTMLAreaElement)&&e.hasAttribute("href")||(e instanceof ge.HTMLInputElement||e instanceof ge.HTMLSelectElement||e instanceof ge.HTMLTextAreaElement||e instanceof ge.HTMLButtonElement)&&!e.hasAttribute("disabled")||e instanceof ge.HTMLIFrameElement||e instanceof ge.HTMLObjectElement||e instanceof ge.HTMLEmbedElement||e.hasAttribute("tabindex")&&-1!==e.getAttribute("tabindex")||e.hasAttribute("contenteditable")})},t}(It);Gt.prototype.options_={pauseOnOpen:!0,temporary:!0},It.registerComponent("ModalDialog",Gt);var qt=function(e){function t(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Ye(this,t);var r=Qe(this,e.call(this));if(!n&&(n=r,Fe))for(var a in n=ve.createElement("custom"),t.prototype)"constructor"!==a&&(n[a]=t.prototype[a]);n.tracks_=[],Object.defineProperty(n,"length",{get:function(){return this.tracks_.length}});for(var o=0;o<i.length;o++)n.addTrack(i[o]);return Qe(r,n)}return Xe(t,e),t.prototype.addTrack=function(e){var t=this.tracks_.length;""+t in this||Object.defineProperty(this,t,{get:function(){return this.tracks_[t]}}),-1===this.tracks_.indexOf(e)&&(this.tracks_.push(e),this.trigger({track:e,type:"addtrack"}))},t.prototype.removeTrack=function(e){for(var t=void 0,i=0,n=this.length;i<n;i++)if(this[i]===e){(t=this[i]).off&&t.off(),this.tracks_.splice(i,1);break}t&&this.trigger({track:t,type:"removetrack"})},t.prototype.getTrackById=function(e){for(var t=null,i=0,n=this.length;i<n;i++){var r=this[i];if(r.id===e){t=r;break}}return t},t}(Et);for(var Wt in qt.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack"},qt.prototype.allowedEvents_)qt.prototype["on"+Wt]=null;var Yt=function(e,t){for(var i=0;i<e.length;i++)Object.keys(e[i]).length&&t.id!==e[i].id&&(e[i].enabled=!1)},Xt=function(e){function t(){var i,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Ye(this,t);for(var r=void 0,a=n.length-1;a>=0;a--)if(n[a].enabled){Yt(n,n[a]);break}if(Fe){for(var o in r=ve.createElement("custom"),qt.prototype)"constructor"!==o&&(r[o]=qt.prototype[o]);for(var s in t.prototype)"constructor"!==s&&(r[s]=t.prototype[s])}return(r=i=Qe(this,e.call(this,n,r))).changing_=!1,Qe(i,r)}return Xe(t,e),t.prototype.addTrack=function(t){var i=this;t.enabled&&Yt(this,t),e.prototype.addTrack.call(this,t),t.addEventListener&&t.addEventListener("enabledchange",function(){i.changing_||(i.changing_=!0,Yt(i,t),i.changing_=!1,i.trigger("change"))})},t}(qt),Qt=function(e,t){for(var i=0;i<e.length;i++)Object.keys(e[i]).length&&t.id!==e[i].id&&(e[i].selected=!1)},Kt=function(e){function t(){var i,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Ye(this,t);for(var r=void 0,a=n.length-1;a>=0;a--)if(n[a].selected){Qt(n,n[a]);break}if(Fe){for(var o in r=ve.createElement("custom"),qt.prototype)"constructor"!==o&&(r[o]=qt.prototype[o]);for(var s in t.prototype)"constructor"!==s&&(r[s]=t.prototype[s])}return(r=i=Qe(this,e.call(this,n,r))).changing_=!1,Object.defineProperty(r,"selectedIndex",{get:function(){for(var e=0;e<this.length;e++)if(this[e].selected)return e;return-1},set:function(){}}),Qe(i,r)}return Xe(t,e),t.prototype.addTrack=function(t){var i=this;t.selected&&Qt(this,t),e.prototype.addTrack.call(this,t),t.addEventListener&&t.addEventListener("selectedchange",function(){i.changing_||(i.changing_=!0,Qt(i,t),i.changing_=!1,i.trigger("change"))})},t}(qt),Zt=function(e){function t(){var i,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Ye(this,t);var r=void 0;if(Fe){for(var a in r=ve.createElement("custom"),qt.prototype)"constructor"!==a&&(r[a]=qt.prototype[a]);for(var o in t.prototype)"constructor"!==o&&(r[o]=t.prototype[o])}return i=Qe(this,e.call(this,n,r)),Qe(i,r=i)}return Xe(t,e),t.prototype.addTrack=function(t){e.prototype.addTrack.call(this,t),t.addEventListener("modechange",bt(this,function(){this.trigger("change")})),-1===["metadata","chapters"].indexOf(t.kind)&&t.addEventListener("modechange",bt(this,function(){this.trigger("selectedlanguagechange")}))},t}(qt),Jt=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Ye(this,e);var i=this;if(Fe)for(var n in i=ve.createElement("custom"),e.prototype)"constructor"!==n&&(i[n]=e.prototype[n]);i.trackElements_=[],Object.defineProperty(i,"length",{get:function(){return this.trackElements_.length}});for(var r=0,a=t.length;r<a;r++)i.addTrackElement_(t[r]);if(Fe)return i}return e.prototype.addTrackElement_=function(e){var t=this.trackElements_.length;""+t in this||Object.defineProperty(this,t,{get:function(){return this.trackElements_[t]}}),-1===this.trackElements_.indexOf(e)&&this.trackElements_.push(e)},e.prototype.getTrackElementByTrack_=function(e){for(var t=void 0,i=0,n=this.trackElements_.length;i<n;i++)if(e===this.trackElements_[i].track){t=this.trackElements_[i];break}return t},e.prototype.removeTrackElement_=function(e){for(var t=0,i=this.trackElements_.length;t<i;t++)if(e===this.trackElements_[t]){this.trackElements_.splice(t,1);break}},e}(),$t=function(){function e(t){Ye(this,e);var i=this;if(Fe)for(var n in i=ve.createElement("custom"),e.prototype)"constructor"!==n&&(i[n]=e.prototype[n]);if(e.prototype.setCues_.call(i,t),Object.defineProperty(i,"length",{get:function(){return this.length_}}),Fe)return i}return e.prototype.setCues_=function(e){var t=this.length||0,i=0,n=e.length;this.cues_=e,this.length_=e.length;var r=function(e){""+e in this||Object.defineProperty(this,""+e,{get:function(){return this.cues_[e]}})};if(t<n)for(i=t;i<n;i++)r.call(this,i)},e.prototype.getCueById=function(e){for(var t=null,i=0,n=this.length;i<n;i++){var r=this[i];if(r.id===e){t=r;break}}return t},e}(),ei={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},ti={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},ii={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},ni={disabled:"disabled",hidden:"hidden",showing:"showing"},ri=function(e){function t(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Ye(this,t);var n=Qe(this,e.call(this)),r=n;if(Fe)for(var a in r=ve.createElement("custom"),t.prototype)"constructor"!==a&&(r[a]=t.prototype[a]);var o={id:i.id||"vjs_track_"+B(),kind:i.kind||"",label:i.label||"",language:i.language||""};for(var s in o)!function(e){Object.defineProperty(r,e,{get:function(){return o[e]},set:function(){}})}(s);return Qe(n,r)}return Xe(t,e),t}(Et),ai=function(e){var t=["protocol","hostname","port","pathname","search","hash","host"],i=ve.createElement("a");i.href=e;var n=""===i.host&&"file:"!==i.protocol,r=void 0;n&&((r=ve.createElement("div")).innerHTML='<a href="'+e+'"></a>',i=r.firstChild,r.setAttribute("style","display:none; position:absolute;"),ve.body.appendChild(r));for(var a={},o=0;o<t.length;o++)a[t[o]]=i[t[o]];return"http:"===a.protocol&&(a.host=a.host.replace(/:80$/,"")),"https:"===a.protocol&&(a.host=a.host.replace(/:443$/,"")),a.protocol||(a.protocol=ge.location.protocol),n&&ve.body.removeChild(r),a},oi=function(e){if("string"==typeof e){var t=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/i.exec(e);if(t)return t.pop().toLowerCase()}return""},si=function(e){var t=ge.location,i=ai(e);return(":"===i.protocol?t.protocol:i.protocol)+i.host!==t.protocol+t.host},li=(Object.freeze||Object)({parseUrl:ai,getAbsoluteURL:function(e){if(!e.match(/^https?:\/\//)){var t=ve.createElement("div");t.innerHTML='<a href="'+e+'">x</a>',e=t.firstChild.href}return e},getFileExtension:oi,isCrossOrigin:si}),ci=function(e,t){var i=new ge.WebVTT.Parser(ge,ge.vttjs,ge.WebVTT.StringDecoder()),n=[];i.oncue=function(e){t.addCue(e)},i.onparsingerror=function(e){n.push(e)},i.onflush=function(){t.trigger({type:"loadeddata",target:t})},i.parse(e),n.length>0&&(ge.console&&ge.console.groupCollapsed&&ge.console.groupCollapsed("Text Track parsing errors for "+t.src),n.forEach(function(e){return nt.error(e)}),ge.console&&ge.console.groupEnd&&ge.console.groupEnd()),i.flush()},ui=function(e,t){var i={uri:e},n=si(e);n&&(i.cors=n),_e(i,bt(this,function(e,i,n){if(e)return nt.error(e,i);if(t.loaded_=!0,"function"!=typeof ge.WebVTT){if(t.tech_){var r=function(){return ci(n,t)};t.tech_.on("vttjsloaded",r),t.tech_.on("vttjserror",function(){nt.error("vttjs failed to load, stopping trying to process "+t.src),t.tech_.off("vttjsloaded",r)})}}else ci(n,t)}))},hi=function(e){function t(){var i,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Ye(this,t),!n.tech)throw new Error("A tech was not provided.");var r=$(n,{kind:ii[n.kind]||"subtitles",language:n.language||n.srclang||""}),a=ni[r.mode]||"disabled",o=r.default;"metadata"!==r.kind&&"chapters"!==r.kind||(a="hidden");var s=i=Qe(this,e.call(this,r));if(s.tech_=r.tech,Fe)for(var l in t.prototype)"constructor"!==l&&(s[l]=t.prototype[l]);s.cues_=[],s.activeCues_=[];var c=new $t(s.cues_),u=new $t(s.activeCues_),h=!1,d=bt(s,function(){this.activeCues,h&&(this.trigger("cuechange"),h=!1)});return"disabled"!==a&&s.tech_.ready(function(){s.tech_.on("timeupdate",d)},!0),Object.defineProperty(s,"default",{get:function(){return o},set:function(){}}),Object.defineProperty(s,"mode",{get:function(){return a},set:function(e){var t=this;ni[e]&&("showing"===(a=e)&&this.tech_.ready(function(){t.tech_.on("timeupdate",d)},!0),this.trigger("modechange"))}}),Object.defineProperty(s,"cues",{get:function(){return this.loaded_?c:null},set:function(){}}),Object.defineProperty(s,"activeCues",{get:function(){if(!this.loaded_)return null;if(0===this.cues.length)return u;for(var e=this.tech_.currentTime(),t=[],i=0,n=this.cues.length;i<n;i++){var r=this.cues[i];r.startTime<=e&&r.endTime>=e?t.push(r):r.startTime===r.endTime&&r.startTime<=e&&r.startTime+.5>=e&&t.push(r)}if(h=!1,t.length!==this.activeCues_.length)h=!0;else for(var a=0;a<t.length;a++)-1===this.activeCues_.indexOf(t[a])&&(h=!0);return this.activeCues_=t,u.setCues_(this.activeCues_),u},set:function(){}}),r.src?(s.src=r.src,ui(r.src,s)):s.loaded_=!0,Qe(i,s)}return Xe(t,e),t.prototype.addCue=function(e){var t=e;if(ge.vttjs&&!(e instanceof ge.vttjs.VTTCue)){for(var i in t=new ge.vttjs.VTTCue(e.startTime,e.endTime,e.text),e)i in t||(t[i]=e[i]);t.id=e.id,t.originalCue_=e}for(var n=this.tech_.textTracks(),r=0;r<n.length;r++)n[r]!==this&&n[r].removeCue(t);this.cues_.push(t),this.cues.setCues_(this.cues_)},t.prototype.removeCue=function(e){for(var t=this.cues_.length;t--;){var i=this.cues_[t];if(i===e||i.originalCue_&&i.originalCue_===e){this.cues_.splice(t,1),this.cues.setCues_(this.cues_);break}}},t}(ri);hi.prototype.allowedEvents_={cuechange:"cuechange"};var di=function(e){function t(){var i,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Ye(this,t);var r=$(n,{kind:ti[n.kind]||""}),a=i=Qe(this,e.call(this,r)),o=!1;if(Fe)for(var s in t.prototype)"constructor"!==s&&(a[s]=t.prototype[s]);return Object.defineProperty(a,"enabled",{get:function(){return o},set:function(e){"boolean"==typeof e&&e!==o&&(o=e,this.trigger("enabledchange"))}}),r.enabled&&(a.enabled=r.enabled),a.loaded_=!0,Qe(i,a)}return Xe(t,e),t}(ri),pi=function(e){function t(){var i,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Ye(this,t);var r=$(n,{kind:ei[n.kind]||""}),a=i=Qe(this,e.call(this,r)),o=!1;if(Fe)for(var s in t.prototype)"constructor"!==s&&(a[s]=t.prototype[s]);return Object.defineProperty(a,"selected",{get:function(){return o},set:function(e){"boolean"==typeof e&&e!==o&&(o=e,this.trigger("selectedchange"))}}),r.selected&&(a.selected=r.selected),Qe(i,a)}return Xe(t,e),t}(ri),fi=0,mi=2,gi=function(e){function t(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Ye(this,t);var n=Qe(this,e.call(this)),r=void 0,a=n;if(Fe)for(var o in a=ve.createElement("custom"),t.prototype)"constructor"!==o&&(a[o]=t.prototype[o]);var s=new hi(i);return a.kind=s.kind,a.src=s.src,a.srclang=s.language,a.label=s.label,a.default=s.default,Object.defineProperty(a,"readyState",{get:function(){return r}}),Object.defineProperty(a,"track",{get:function(){return s}}),r=fi,s.addEventListener("loadeddata",function(){r=mi,a.trigger({type:"load",target:a})}),Fe?Qe(n,a):n}return Xe(t,e),t}(Et);gi.prototype.allowedEvents_={load:"load"},gi.NONE=fi,gi.LOADING=1,gi.LOADED=mi,gi.ERROR=3;var vi={audio:{ListClass:Xt,TrackClass:di,capitalName:"Audio"},video:{ListClass:Kt,TrackClass:pi,capitalName:"Video"},text:{ListClass:Zt,TrackClass:hi,capitalName:"Text"}};Object.keys(vi).forEach(function(e){vi[e].getterName=e+"Tracks",vi[e].privateName=e+"Tracks_"});var yi={remoteText:{ListClass:Zt,TrackClass:hi,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:Jt,TrackClass:gi,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},bi=$(vi,yi);yi.names=Object.keys(yi),vi.names=Object.keys(vi),bi.names=[].concat(yi.names).concat(vi.names);var _i=function(e){function t(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};Ye(this,t),i.reportTouchActivity=!1;var r=Qe(this,e.call(this,null,i,n));return r.hasStarted_=!1,r.on("playing",function(){this.hasStarted_=!0}),r.on("loadstart",function(){this.hasStarted_=!1}),bi.names.forEach(function(e){var t=bi[e];i&&i[t.getterName]&&(r[t.privateName]=i[t.getterName])}),r.featuresProgressEvents||r.manualProgressOn(),r.featuresTimeupdateEvents||r.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(function(e){!1===i["native"+e+"Tracks"]&&(r["featuresNative"+e+"Tracks"]=!1)}),!1===i.nativeCaptions||!1===i.nativeTextTracks?r.featuresNativeTextTracks=!1:!0!==i.nativeCaptions&&!0!==i.nativeTextTracks||(r.featuresNativeTextTracks=!0),r.featuresNativeTextTracks||r.emulateTextTracks(),r.autoRemoteTextTracks_=new bi.text.ListClass,r.initTrackListeners(),i.nativeControlsForTouch||r.emitTapEvents(),r.constructor&&(r.name_=r.constructor.name||"Unknown Tech"),r}return Xe(t,e),t.prototype.triggerSourceset=function(e){var t=this;this.isReady_||this.one("ready",function(){return t.setTimeout(function(){return t.triggerSourceset(e)},1)}),this.trigger({src:e,type:"sourceset"})},t.prototype.manualProgressOn=function(){this.on("durationchange",this.onDurationChange),this.manualProgress=!0,this.one("ready",this.trackProgress)},t.prototype.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange)},t.prototype.trackProgress=function(e){this.stopTrackingProgress(),this.progressInterval=this.setInterval(bt(this,function(){var e=this.bufferedPercent();this.bufferedPercent_!==e&&this.trigger("progress"),this.bufferedPercent_=e,1===e&&this.stopTrackingProgress()}),500)},t.prototype.onDurationChange=function(e){this.duration_=this.duration()},t.prototype.buffered=function(){return ie(0,0)},t.prototype.bufferedPercent=function(){return ne(this.buffered(),this.duration_)},t.prototype.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},t.prototype.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime),this.on("pause",this.stopTrackingCurrentTime)},t.prototype.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime),this.off("pause",this.stopTrackingCurrentTime)},t.prototype.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)},t.prototype.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},t.prototype.dispose=function(){this.clearTracks(vi.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),e.prototype.dispose.call(this)},t.prototype.clearTracks=function(e){var t=this;(e=[].concat(e)).forEach(function(e){for(var i=t[e+"Tracks"]()||[],n=i.length;n--;){var r=i[n];"text"===e&&t.removeRemoteTextTrack(r),i.removeTrack(r)}})},t.prototype.cleanupAutoTextTracks=function(){for(var e=this.autoRemoteTextTracks_||[],t=e.length;t--;){var i=e[t];this.removeRemoteTextTrack(i)}},t.prototype.reset=function(){},t.prototype.error=function(e){return void 0!==e&&(this.error_=new re(e),this.trigger("error")),this.error_},t.prototype.played=function(){return this.hasStarted_?ie(0,0):ie()},t.prototype.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},t.prototype.initTrackListeners=function(){var e=this;vi.names.forEach(function(t){var i=vi[t],n=function(){e.trigger(t+"trackchange")},r=e[i.getterName]();r.addEventListener("removetrack",n),r.addEventListener("addtrack",n),e.on("dispose",function(){r.removeEventListener("removetrack",n),r.removeEventListener("addtrack",n)})})},t.prototype.addWebVttScript_=function(){var e=this;if(!ge.WebVTT)if(ve.body.contains(this.el())){if(!this.options_["vtt.js"]&&s(Ae)&&Object.keys(Ae).length>0)return void this.trigger("vttjsloaded");var t=ve.createElement("script");t.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.12.4/vtt.min.js",t.onload=function(){e.trigger("vttjsloaded")},t.onerror=function(){e.trigger("vttjserror")},this.on("dispose",function(){t.onload=null,t.onerror=null}),ge.WebVTT=!0,this.el().parentNode.appendChild(t)}else this.ready(this.addWebVttScript_)},t.prototype.emulateTextTracks=function(){var e=this,t=this.textTracks(),i=this.remoteTextTracks(),n=function(e){return t.addTrack(e.track)},r=function(e){return t.removeTrack(e.track)};i.on("addtrack",n),i.on("removetrack",r),this.addWebVttScript_();var a=function(){return e.trigger("texttrackchange")},o=function(){a();for(var e=0;e<t.length;e++){var i=t[e];i.removeEventListener("cuechange",a),"showing"===i.mode&&i.addEventListener("cuechange",a)}};o(),t.addEventListener("change",o),t.addEventListener("addtrack",o),t.addEventListener("removetrack",o),this.on("dispose",function(){i.off("addtrack",n),i.off("removetrack",r),t.removeEventListener("change",o),t.removeEventListener("addtrack",o),t.removeEventListener("removetrack",o);for(var e=0;e<t.length;e++)t[e].removeEventListener("cuechange",a)})},t.prototype.addTextTrack=function(e,t,i){if(!e)throw new Error("TextTrack kind is required but was not provided");return function(e,t,i,n){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},a=e.textTracks();r.kind=t,i&&(r.label=i),n&&(r.language=n),r.tech=e;var o=new bi.text.TrackClass(r);return a.addTrack(o),o}(this,e,t,i)},t.prototype.createRemoteTextTrack=function(e){var t=$(e,{tech:this});return new yi.remoteTextEl.TrackClass(t)},t.prototype.addRemoteTextTrack=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments[1],n=this.createRemoteTextTrack(t);return!0!==i&&!1!==i&&(nt.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),i=!0),this.remoteTextTrackEls().addTrackElement_(n),this.remoteTextTracks().addTrack(n.track),!0!==i&&this.ready(function(){return e.autoRemoteTextTracks_.addTrack(n.track)}),n},t.prototype.removeRemoteTextTrack=function(e){var t=this.remoteTextTrackEls().getTrackElementByTrack_(e);this.remoteTextTrackEls().removeTrackElement_(t),this.remoteTextTracks().removeTrack(e),this.autoRemoteTextTracks_.removeTrack(e)},t.prototype.getVideoPlaybackQuality=function(){return{}},t.prototype.setPoster=function(){},t.prototype.playsinline=function(){},t.prototype.setPlaysinline=function(){},t.prototype.canPlayType=function(){return""},t.canPlayType=function(){return""},t.canPlaySource=function(e,i){return t.canPlayType(e.type)},t.isTech=function(e){return e.prototype instanceof t||e instanceof t||e===t},t.registerTech=function(e,i){if(t.techs_||(t.techs_={}),!t.isTech(i))throw new Error("Tech "+e+" must be a Tech");if(!t.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!t.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return e=J(e),t.techs_[e]=i,"Tech"!==e&&t.defaultTechOrder_.push(e),i},t.getTech=function(e){if(e)return e=J(e),t.techs_&&t.techs_[e]?t.techs_[e]:ge&&ge.videojs&&ge.videojs[e]?(nt.warn("The "+e+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),ge.videojs[e]):void 0},t}(It);bi.names.forEach(function(e){var t=bi[e];_i.prototype[t.getterName]=function(){return this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName]}}),_i.prototype.featuresVolumeControl=!0,_i.prototype.featuresFullscreenResize=!1,_i.prototype.featuresPlaybackRate=!1,_i.prototype.featuresProgressEvents=!1,_i.prototype.featuresSourceset=!1,_i.prototype.featuresTimeupdateEvents=!1,_i.prototype.featuresNativeTextTracks=!1,_i.withSourceHandlers=function(e){e.registerSourceHandler=function(t,i){var n=e.sourceHandlers;n||(n=e.sourceHandlers=[]),void 0===i&&(i=n.length),n.splice(i,0,t)},e.canPlayType=function(t){for(var i=e.sourceHandlers||[],n=void 0,r=0;r<i.length;r++)if(n=i[r].canPlayType(t))return n;return""},e.selectSourceHandler=function(t,i){for(var n=e.sourceHandlers||[],r=0;r<n.length;r++)if(n[r].canHandleSource(t,i))return n[r];return null},e.canPlaySource=function(t,i){var n=e.selectSourceHandler(t,i);return n?n.canHandleSource(t,i):""},["seekable","seeking","duration"].forEach(function(e){var t=this[e];"function"==typeof t&&(this[e]=function(){return this.sourceHandler_&&this.sourceHandler_[e]?this.sourceHandler_[e].apply(this.sourceHandler_,arguments):t.apply(this,arguments)})},e.prototype),e.prototype.setSource=function(t){var i=e.selectSourceHandler(t,this.options_);i||(e.nativeSourceHandler?i=e.nativeSourceHandler:nt.error("No source hander found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler),i!==e.nativeSourceHandler&&(this.currentSource_=t),this.sourceHandler_=i.handleSource(t,this,this.options_),this.on("dispose",this.disposeSourceHandler)},e.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}},It.registerComponent("Tech",_i),_i.registerTech("Tech",_i),_i.defaultTechOrder_=[];var Ai={},Ei={},wi={},xi={buffered:1,currentTime:1,duration:1,seekable:1,played:1,paused:1},Ti={setCurrentTime:1},Si={play:1,pause:1},Ci={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",mp3:"audio/mpeg",aac:"audio/aac",oga:"audio/ogg",m3u8:"application/x-mpegURL"},ki=function(e){function t(i,n,r){Ye(this,t);var a=$({createEl:!1},n),o=Qe(this,e.call(this,i,a,r));if(n.playerOptions.sources&&0!==n.playerOptions.sources.length)i.src(n.playerOptions.sources);else for(var s=0,l=n.playerOptions.techOrder;s<l.length;s++){var c=J(l[s]),u=_i.getTech(c);if(c||(u=It.getComponent(c)),u&&u.isSupported()){i.loadTech_(c);break}}return o}return Xe(t,e),t}(It);It.registerComponent("MediaLoader",ki);var Oi=function(e){function t(i,n){Ye(this,t);var r=Qe(this,e.call(this,i,n));return r.emitTapEvents(),r.enable(),r}return Xe(t,e),t.prototype.createEl=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};i=a({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass(),tabIndex:0},i),"button"===t&&nt.error("Creating a ClickableComponent with an HTML element of "+t+" is not supported; use a Button instead."),n=a({role:"button","aria-live":"polite"},n),this.tabIndex_=i.tabIndex;var r=e.prototype.createEl.call(this,t,i,n);return this.createControlTextEl(r),r},t.prototype.dispose=function(){this.controlTextEl_=null,e.prototype.dispose.call(this)},t.prototype.createControlTextEl=function(e){return this.controlTextEl_=m("span",{className:"vjs-control-text"}),e&&e.appendChild(this.controlTextEl_),this.controlText(this.controlText_,e),this.controlTextEl_},t.prototype.controlText=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.el();if(void 0===e)return this.controlText_||"Need Text";var i=this.localize(e);this.controlText_=e,g(this.controlTextEl_,i),this.nonIconControl||t.setAttribute("title",i)},t.prototype.buildCSSClass=function(){return"vjs-control vjs-button "+e.prototype.buildCSSClass.call(this)},t.prototype.enable=function(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),void 0!==this.tabIndex_&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick),this.on("focus",this.handleFocus),this.on("blur",this.handleBlur))},t.prototype.disable=function(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),void 0!==this.tabIndex_&&this.el_.removeAttribute("tabIndex"),this.off(["tap","click"],this.handleClick),this.off("focus",this.handleFocus),this.off("blur",this.handleBlur)},t.prototype.handleClick=function(e){},t.prototype.handleFocus=function(e){q(ve,"keydown",bt(this,this.handleKeyPress))},t.prototype.handleKeyPress=function(t){32===t.which||13===t.which?(t.preventDefault(),this.trigger("click")):e.prototype.handleKeyPress&&e.prototype.handleKeyPress.call(this,t)},t.prototype.handleBlur=function(e){W(ve,"keydown",bt(this,this.handleKeyPress))},t}(It);It.registerComponent("ClickableComponent",Oi);var Pi=function(e){function t(i,n){Ye(this,t);var r=Qe(this,e.call(this,i,n));return r.update(),i.on("posterchange",bt(r,r.update)),r}return Xe(t,e),t.prototype.dispose=function(){this.player().off("posterchange",this.update),e.prototype.dispose.call(this)},t.prototype.createEl=function(){var e=m("div",{className:"vjs-poster",tabIndex:-1});return Ge||(this.fallbackImg_=m("img"),e.appendChild(this.fallbackImg_)),e},t.prototype.update=function(e){var t=this.player().poster();this.setSrc(t),t?this.show():this.hide()},t.prototype.setSrc=function(e){if(this.fallbackImg_)this.fallbackImg_.src=e;else{var t="";e&&(t='url("'+e+'")'),this.el_.style.backgroundImage=t}},t.prototype.handleClick=function(e){this.player_.controls()&&(this.player_.paused()?this.player_.play():this.player_.pause())},t}(Oi);It.registerComponent("PosterImage",Pi);var ji={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'},Ii=function(e){function t(i,n,r){Ye(this,t);var a=Qe(this,e.call(this,i,n,r));return i.on("loadstart",bt(a,a.toggleDisplay)),i.on("texttrackchange",bt(a,a.updateDisplay)),i.on("loadstart",bt(a,a.preselectTrack)),i.ready(bt(a,function(){if(i.tech_&&i.tech_.featuresNativeTextTracks)this.hide();else{i.on("fullscreenchange",bt(this,this.updateDisplay));for(var e=this.options_.playerOptions.tracks||[],t=0;t<e.length;t++)this.player_.addRemoteTextTrack(e[t],!0);this.preselectTrack()}})),a}return Xe(t,e),t.prototype.preselectTrack=function(){for(var e={captions:1,subtitles:1},t=this.player_.textTracks(),i=this.player_.cache_.selectedLanguage,n=void 0,r=void 0,a=void 0,o=0;o<t.length;o++){var s=t[o];i&&i.enabled&&i.language===s.language?s.kind===i.kind?a=s:a||(a=s):i&&!i.enabled?(a=null,n=null,r=null):s.default&&("descriptions"!==s.kind||n?s.kind in e&&!r&&(r=s):n=s)}a?a.mode="showing":r?r.mode="showing":n&&(n.mode="showing")},t.prototype.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{"aria-live":"off","aria-atomic":"true"})},t.prototype.clearDisplay=function(){"function"==typeof ge.WebVTT&&ge.WebVTT.processCues(ge,[],this.el_)},t.prototype.updateDisplay=function(){var e=this.player_.textTracks();this.clearDisplay();for(var t=null,i=null,n=e.length;n--;){var r=e[n];"showing"===r.mode&&("descriptions"===r.kind?t=r:i=r)}i?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(i)):t&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(t))},t.prototype.updateForTrack=function(e){if("function"==typeof ge.WebVTT&&e.activeCues){for(var t=[],i=0;i<e.activeCues.length;i++)t.push(e.activeCues[i]);if(ge.WebVTT.processCues(ge,t,this.el_),this.player_.textTrackSettings)for(var n=this.player_.textTrackSettings.getValues(),r=t.length;r--;){var a=t[r];if(a){var o=a.displayState;if(n.color&&(o.firstChild.style.color=n.color),n.textOpacity&&de(o.firstChild,"color",he(n.color||"#fff",n.textOpacity)),n.backgroundColor&&(o.firstChild.style.backgroundColor=n.backgroundColor),n.backgroundOpacity&&de(o.firstChild,"backgroundColor",he(n.backgroundColor||"#000",n.backgroundOpacity)),n.windowColor&&(n.windowOpacity?de(o,"backgroundColor",he(n.windowColor,n.windowOpacity)):o.style.backgroundColor=n.windowColor),n.edgeStyle&&("dropshadow"===n.edgeStyle?o.firstChild.style.textShadow="2px 2px 3px #222, 2px 2px 4px #222, 2px 2px 5px #222":"raised"===n.edgeStyle?o.firstChild.style.textShadow="1px 1px #222, 2px 2px #222, 3px 3px #222":"depressed"===n.edgeStyle?o.firstChild.style.textShadow="1px 1px #ccc, 0 1px #ccc, -1px -1px #222, 0 -1px #222":"uniform"===n.edgeStyle&&(o.firstChild.style.textShadow="0 0 4px #222, 0 0 4px #222, 0 0 4px #222, 0 0 4px #222")),n.fontPercent&&1!==n.fontPercent){var s=ge.parseFloat(o.style.fontSize);o.style.fontSize=s*n.fontPercent+"px",o.style.height="auto",o.style.top="auto",o.style.bottom="2px"}n.fontFamily&&"default"!==n.fontFamily&&("small-caps"===n.fontFamily?o.firstChild.style.fontVariant="small-caps":o.firstChild.style.fontFamily=ji[n.fontFamily])}}}},t}(It);It.registerComponent("TextTrackDisplay",Ii);var Mi=function(e){function t(){return Ye(this,t),Qe(this,e.apply(this,arguments))}return Xe(t,e),t.prototype.createEl=function(){var t=this.player_.isAudio(),i=this.localize(t?"Audio Player":"Video Player"),n=m("span",{className:"vjs-control-text",innerHTML:this.localize("{1} is loading.",[i])}),r=e.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"});return r.appendChild(n),r},t}(It);It.registerComponent("LoadingSpinner",Mi);var Ri=function(e){function t(){return Ye(this,t),Qe(this,e.apply(this,arguments))}return Xe(t,e),t.prototype.createEl=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t=a({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass()},t),i=a({type:"button","aria-live":"polite"},i);var n=It.prototype.createEl.call(this,"button",t,i);return this.createControlTextEl(n),n},t.prototype.addChild=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this.constructor.name;return nt.warn("Adding an actionable (user controllable) child to a Button ("+i+") is not supported; use a ClickableComponent instead."),It.prototype.addChild.call(this,e,t)},t.prototype.enable=function(){e.prototype.enable.call(this),this.el_.removeAttribute("disabled")},t.prototype.disable=function(){e.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},t.prototype.handleKeyPress=function(t){32!==t.which&&13!==t.which&&e.prototype.handleKeyPress.call(this,t)},t}(Oi);It.registerComponent("Button",Ri);var Di=function(e){function t(i,n){Ye(this,t);var r=Qe(this,e.call(this,i,n));return r.mouseused_=!1,r.on("mousedown",r.handleMouseDown),r}return Xe(t,e),t.prototype.buildCSSClass=function(){return"vjs-big-play-button"},t.prototype.handleClick=function(e){var t=this.player_.play();if(!(this.mouseused_&&e.clientX&&e.clientY)){var i=this.player_.getChild("controlBar"),n=i&&i.getChild("playToggle");if(n){var r=function(){return n.focus()};ae(t)?t.then(r,function(){}):this.setTimeout(r,1)}else this.player_.focus()}},t.prototype.handleKeyPress=function(t){this.mouseused_=!1,e.prototype.handleKeyPress.call(this,t)},t.prototype.handleMouseDown=function(e){this.mouseused_=!0},t}(Ri);Di.prototype.controlText_="Play Video",It.registerComponent("BigPlayButton",Di);var Li=function(e){function t(i,n){Ye(this,t);var r=Qe(this,e.call(this,i,n));return r.controlText(n&&n.controlText||r.localize("Close")),r}return Xe(t,e),t.prototype.buildCSSClass=function(){return"vjs-close-button "+e.prototype.buildCSSClass.call(this)},t.prototype.handleClick=function(e){this.trigger({type:"close",bubbles:!1})},t}(Ri);It.registerComponent("CloseButton",Li);var Ni=function(e){function t(i,n){Ye(this,t);var r=Qe(this,e.call(this,i,n));return r.on(i,"play",r.handlePlay),r.on(i,"pause",r.handlePause),r.on(i,"ended",r.handleEnded),r}return Xe(t,e),t.prototype.buildCSSClass=function(){return"vjs-play-control "+e.prototype.buildCSSClass.call(this)},t.prototype.handleClick=function(e){this.player_.paused()?this.player_.play():this.player_.pause()},t.prototype.handleSeeked=function(e){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(e):this.handlePlay(e)},t.prototype.handlePlay=function(e){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},t.prototype.handlePause=function(e){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},t.prototype.handleEnded=function(e){this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay"),this.one(this.player_,"seeked",this.handleSeeked)},t}(Ri);Ni.prototype.controlText_="Play",It.registerComponent("PlayToggle",Ni);var Bi=function(e,t){e=e<0?0:e;var i=Math.floor(e%60),n=Math.floor(e/60%60),r=Math.floor(e/3600),a=Math.floor(t/60%60),o=Math.floor(t/3600);return(isNaN(e)||e===1/0)&&(r=n=i="-"),(r=r>0||o>0?r+":":"")+(n=((r||a>=10)&&n<10?"0"+n:n)+":")+(i=i<10?"0"+i:i)},Fi=Bi,Ui=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return Fi(e,t)},zi=function(e){function t(i,n){Ye(this,t);var r=Qe(this,e.call(this,i,n));return r.throttledUpdateContent=_t(bt(r,r.updateContent),25),r.on(i,"timeupdate",r.throttledUpdateContent),r}return Xe(t,e),t.prototype.createEl=function(t){var i=this.buildCSSClass(),n=e.prototype.createEl.call(this,"div",{className:i+" vjs-time-control vjs-control"});return this.contentEl_=m("div",{className:i+"-display"},{"aria-live":"off"},m("span",{className:"vjs-control-text",textContent:this.localize(this.controlText_)})),this.updateTextNode_(),n.appendChild(this.contentEl_),n},t.prototype.dispose=function(){this.contentEl_=null,this.textNode_=null,e.prototype.dispose.call(this)},t.prototype.updateTextNode_=function(){if(this.contentEl_){for(;this.contentEl_.firstChild;)this.contentEl_.removeChild(this.contentEl_.firstChild);this.textNode_=ve.createTextNode(this.formattedTime_||this.formatTime_(0)),this.contentEl_.appendChild(this.textNode_)}},t.prototype.formatTime_=function(e){return Ui(e)},t.prototype.updateFormattedTime_=function(e){var t=this.formatTime_(e);t!==this.formattedTime_&&(this.formattedTime_=t,this.requestAnimationFrame(this.updateTextNode_))},t.prototype.updateContent=function(e){},t}(It);zi.prototype.controlText_="Time",It.registerComponent("TimeDisplay",zi);var Hi=function(e){function t(i,n){Ye(this,t);var r=Qe(this,e.call(this,i,n));return r.on(i,"ended",r.handleEnded),r}return Xe(t,e),t.prototype.buildCSSClass=function(){return"vjs-current-time"},t.prototype.updateContent=function(e){var t=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();this.updateFormattedTime_(t)},t.prototype.handleEnded=function(e){this.player_.duration()&&this.updateFormattedTime_(this.player_.duration())},t}(zi);Hi.prototype.controlText_="Current Time",It.registerComponent("CurrentTimeDisplay",Hi);var Vi=function(e){function t(i,n){Ye(this,t);var r=Qe(this,e.call(this,i,n));return r.on(i,"durationchange",r.updateContent),r.on(i,"loadedmetadata",r.throttledUpdateContent),r}return Xe(t,e),t.prototype.buildCSSClass=function(){return"vjs-duration"},t.prototype.updateContent=function(e){var t=this.player_.duration();t&&this.duration_!==t&&(this.duration_=t,this.updateFormattedTime_(t))},t}(zi);Vi.prototype.controlText_="Duration Time",It.registerComponent("DurationDisplay",Vi);var Gi=function(e){function t(){return Ye(this,t),Qe(this,e.apply(this,arguments))}return Xe(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider",innerHTML:"<div><span>/</span></div>"})},t}(It);It.registerComponent("TimeDivider",Gi);var qi=function(e){function t(i,n){Ye(this,t);var r=Qe(this,e.call(this,i,n));return r.on(i,"durationchange",r.throttledUpdateContent),r.on(i,"ended",r.handleEnded),r}return Xe(t,e),t.prototype.buildCSSClass=function(){return"vjs-remaining-time"},t.prototype.formatTime_=function(t){return"-"+e.prototype.formatTime_.call(this,t)},t.prototype.updateContent=function(e){this.player_.duration()&&(this.player_.remainingTimeDisplay?this.updateFormattedTime_(this.player_.remainingTimeDisplay()):this.updateFormattedTime_(this.player_.remainingTime()))},t.prototype.handleEnded=function(e){this.player_.duration()&&this.updateFormattedTime_(0)},t}(zi);qi.prototype.controlText_="Remaining Time",It.registerComponent("RemainingTimeDisplay",qi);var Wi=function(e){function t(i,n){Ye(this,t);var r=Qe(this,e.call(this,i,n));return r.updateShowing(),r.on(r.player(),"durationchange",r.updateShowing),r}return Xe(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=m("div",{className:"vjs-live-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Stream Type")+"</span>"+this.localize("LIVE")},{"aria-live":"off"}),t.appendChild(this.contentEl_),t},t.prototype.dispose=function(){this.contentEl_=null,e.prototype.dispose.call(this)},t.prototype.updateShowing=function(e){this.player().duration()===1/0?this.show():this.hide()},t}(It);It.registerComponent("LiveDisplay",Wi);var Yi=function(e){function t(i,n){Ye(this,t);var r=Qe(this,e.call(this,i,n));return r.bar=r.getChild(r.options_.barName),r.vertical(!!r.options_.vertical),r.enable(),r}return Xe(t,e),t.prototype.enabled=function(){return this.enabled_},t.prototype.enable=function(){this.enabled()||(this.on("mousedown",this.handleMouseDown),this.on("touchstart",this.handleMouseDown),this.on("focus",this.handleFocus),this.on("blur",this.handleBlur),this.on("click",this.handleClick),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)},t.prototype.disable=function(){if(this.enabled()){var e=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown),this.off("touchstart",this.handleMouseDown),this.off("focus",this.handleFocus),this.off("blur",this.handleBlur),this.off("click",this.handleClick),this.off(this.player_,"controlsvisible",this.update),this.off(e,"mousemove",this.handleMouseMove),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchmove",this.handleMouseMove),this.off(e,"touchend",this.handleMouseUp),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}},t.prototype.createEl=function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return i.className=i.className+" vjs-slider",i=a({tabIndex:0},i),n=a({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},n),e.prototype.createEl.call(this,t,i,n)},t.prototype.handleMouseDown=function(e){var t=this.bar.el_.ownerDocument;e.preventDefault(),C(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(t,"mousemove",this.handleMouseMove),this.on(t,"mouseup",this.handleMouseUp),this.on(t,"touchmove",this.handleMouseMove),this.on(t,"touchend",this.handleMouseUp),this.handleMouseMove(e)},t.prototype.handleMouseMove=function(e){},t.prototype.handleMouseUp=function(){var e=this.bar.el_.ownerDocument;k(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(e,"mousemove",this.handleMouseMove),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchmove",this.handleMouseMove),this.off(e,"touchend",this.handleMouseUp),this.update()},t.prototype.update=function(){if(this.el_){var e=this.getPercent(),t=this.bar;if(t){("number"!=typeof e||e!=e||e<0||e===1/0)&&(e=0);var i=(100*e).toFixed(2)+"%",n=t.el().style;return this.vertical()?n.height=i:n.width=i,e}}},t.prototype.calculateDistance=function(e){var t=j(this.el_,e);return this.vertical()?t.y:t.x},t.prototype.handleFocus=function(){this.on(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},t.prototype.handleKeyPress=function(e){37===e.which||40===e.which?(e.preventDefault(),this.stepBack()):38!==e.which&&39!==e.which||(e.preventDefault(),this.stepForward())},t.prototype.handleBlur=function(){this.off(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},t.prototype.handleClick=function(e){e.stopImmediatePropagation(),e.preventDefault()},t.prototype.vertical=function(e){if(void 0===e)return this.vertical_||!1;this.vertical_=!!e,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")},t}(It);It.registerComponent("Slider",Yi);var Xi=function(e){function t(i,n){Ye(this,t);var r=Qe(this,e.call(this,i,n));return r.partEls_=[],r.on(i,"progress",r.update),r}return Xe(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Loaded")+"</span>: 0%</span>"})},t.prototype.dispose=function(){this.partEls_=null,e.prototype.dispose.call(this)},t.prototype.update=function(e){var t=this.player_.buffered(),i=this.player_.duration(),n=this.player_.bufferedEnd(),r=this.partEls_,a=function(e,t){var i=e/t||0;return 100*(i>=1?1:i)+"%"};this.el_.style.width=a(n,i);for(var o=0;o<t.length;o++){var s=t.start(o),l=t.end(o),c=r[o];c||(c=this.el_.appendChild(m()),r[o]=c),c.style.left=a(s,n),c.style.width=a(l-s,n)}for(var u=r.length;u>t.length;u--)this.el_.removeChild(r[u-1]);r.length=t.length},t}(It);It.registerComponent("LoadProgressBar",Xi);var Qi=function(e){function t(){return Ye(this,t),Qe(this,e.apply(this,arguments))}return Xe(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"})},t.prototype.update=function(e,t,i){var n=O(this.el_),r=O(this.player_.el()),a=e.width*t;if(r&&n){var o=e.left-r.left+a,s=e.width-a+(r.right-e.right),l=n.width/2;o<l?l+=l-o:s<l&&(l=s),l<0?l=0:l>n.width&&(l=n.width),this.el_.style.right="-"+l+"px",g(this.el_,i)}},t}(It);It.registerComponent("TimeTooltip",Qi);var Ki=function(e){function t(){return Ye(this,t),Qe(this,e.apply(this,arguments))}return Xe(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Progress")+"</span>: 0%</span>"})},t.prototype.update=function(e,t){var i=this;this.rafId_&&this.cancelAnimationFrame(this.rafId_),this.rafId_=this.requestAnimationFrame(function(){var n=i.player_.scrubbing()?i.player_.getCache().currentTime:i.player_.currentTime(),r=Ui(n,i.player_.duration()),a=i.getChild("timeTooltip");a&&a.update(e,t,r)})},t}(It);Ki.prototype.options_={children:[]},Ue&&!(Ue>8)||Oe||je||Ki.prototype.options_.children.push("timeTooltip"),It.registerComponent("PlayProgressBar",Ki);var Zi=function(e){function t(i,n){Ye(this,t);var r=Qe(this,e.call(this,i,n));return r.update=_t(bt(r,r.update),25),r}return Xe(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},t.prototype.update=function(e,t){var i=this;this.rafId_&&this.cancelAnimationFrame(this.rafId_),this.rafId_=this.requestAnimationFrame(function(){var n=i.player_.duration(),r=Ui(t*n,n);i.el_.style.left=e.width*t+"px",i.getChild("timeTooltip").update(e,t,r)})},t}(It);Zi.prototype.options_={children:["timeTooltip"]},It.registerComponent("MouseTimeDisplay",Zi);var Ji=function(e){function t(i,n){Ye(this,t);var r=Qe(this,e.call(this,i,n));return r.setEventHandlers_(),r}return Xe(t,e),t.prototype.setEventHandlers_=function(){var e=this;this.update=_t(bt(this,this.update),30),this.on(this.player_,"timeupdate",this.update),this.on(this.player_,"ended",this.handleEnded),this.updateInterval=null,this.on(this.player_,["playing"],function(){e.clearInterval(e.updateInterval),e.updateInterval=e.setInterval(function(){e.requestAnimationFrame(function(){e.update()})},30)}),this.on(this.player_,["ended","pause","waiting"],function(){e.clearInterval(e.updateInterval)}),this.on(this.player_,["timeupdate","ended"],this.update)},t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},t.prototype.update_=function(e,t){var i=this.player_.duration();this.el_.setAttribute("aria-valuenow",(100*t).toFixed(2)),this.el_.setAttribute("aria-valuetext",this.localize("progress bar timing: currentTime={1} duration={2}",[Ui(e,i),Ui(i,i)],"{1} of {2}")),this.bar.update(O(this.el_),t)},t.prototype.update=function(t){var i=e.prototype.update.call(this);return this.update_(this.getCurrentTime_(),i),i},t.prototype.getCurrentTime_=function(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()},t.prototype.handleEnded=function(e){this.update_(this.player_.duration(),1)},t.prototype.getPercent=function(){var e=this.getCurrentTime_()/this.player_.duration();return e>=1?1:e},t.prototype.handleMouseDown=function(t){N(t)&&(t.stopPropagation(),this.player_.scrubbing(!0),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),e.prototype.handleMouseDown.call(this,t))},t.prototype.handleMouseMove=function(e){if(N(e)){var t=this.calculateDistance(e)*this.player_.duration();t===this.player_.duration()&&(t-=.1),this.player_.currentTime(t)}},t.prototype.enable=function(){e.prototype.enable.call(this);var t=this.getChild("mouseTimeDisplay");t&&t.show()},t.prototype.disable=function(){e.prototype.disable.call(this);var t=this.getChild("mouseTimeDisplay");t&&t.hide()},t.prototype.handleMouseUp=function(t){e.prototype.handleMouseUp.call(this,t),t&&t.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying&&oe(this.player_.play())},t.prototype.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+5)},t.prototype.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-5)},t.prototype.handleAction=function(e){this.player_.paused()?this.player_.play():this.player_.pause()},t.prototype.handleKeyPress=function(t){32===t.which||13===t.which?(t.preventDefault(),this.handleAction(t)):e.prototype.handleKeyPress&&e.prototype.handleKeyPress.call(this,t)},t}(Yi);Ji.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"},Ue&&!(Ue>8)||Oe||je||Ji.prototype.options_.children.splice(1,0,"mouseTimeDisplay"),Ji.prototype.playerEvent="timeupdate",It.registerComponent("SeekBar",Ji);var $i=function(e){function t(i,n){Ye(this,t);var r=Qe(this,e.call(this,i,n));return r.handleMouseMove=_t(bt(r,r.handleMouseMove),25),r.throttledHandleMouseSeek=_t(bt(r,r.handleMouseSeek),25),r.enable(),r}return Xe(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},t.prototype.handleMouseMove=function(e){var t=this.getChild("seekBar");if(t){var i=t.getChild("mouseTimeDisplay"),n=t.el(),r=O(n),a=j(n,e).x;a>1?a=1:a<0&&(a=0),i&&i.update(r,a)}},t.prototype.handleMouseSeek=function(e){var t=this.getChild("seekBar");t&&t.handleMouseMove(e)},t.prototype.enabled=function(){return this.enabled_},t.prototype.disable=function(){this.children().forEach(function(e){return e.disable&&e.disable()}),this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDown),this.off(this.el_,"mousemove",this.handleMouseMove),this.handleMouseUp(),this.addClass("disabled"),this.enabled_=!1)},t.prototype.enable=function(){this.children().forEach(function(e){return e.enable&&e.enable()}),this.enabled()||(this.on(["mousedown","touchstart"],this.handleMouseDown),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)},t.prototype.handleMouseDown=function(e){var t=this.el_.ownerDocument,i=this.getChild("seekBar");i&&i.handleMouseDown(e),this.on(t,"mousemove",this.throttledHandleMouseSeek),this.on(t,"touchmove",this.throttledHandleMouseSeek),this.on(t,"mouseup",this.handleMouseUp),this.on(t,"touchend",this.handleMouseUp)},t.prototype.handleMouseUp=function(e){var t=this.el_.ownerDocument,i=this.getChild("seekBar");i&&i.handleMouseUp(e),this.off(t,"mousemove",this.throttledHandleMouseSeek),this.off(t,"touchmove",this.throttledHandleMouseSeek),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchend",this.handleMouseUp)},t}(It);$i.prototype.options_={children:["seekBar"]},It.registerComponent("ProgressControl",$i);var en=function(e){function t(i,n){Ye(this,t);var r=Qe(this,e.call(this,i,n));return r.on(i,"fullscreenchange",r.handleFullscreenChange),r}return Xe(t,e),t.prototype.buildCSSClass=function(){return"vjs-fullscreen-control "+e.prototype.buildCSSClass.call(this)},t.prototype.handleFullscreenChange=function(e){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},t.prototype.handleClick=function(e){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},t}(Ri);en.prototype.controlText_="Fullscreen",It.registerComponent("FullscreenToggle",en);var tn=function(e,t){t.tech_&&!t.tech_.featuresVolumeControl&&e.addClass("vjs-hidden"),e.on(t,"loadstart",function(){t.tech_.featuresVolumeControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")})},nn=function(e){function t(){return Ye(this,t),Qe(this,e.apply(this,arguments))}return Xe(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})},t}(It);It.registerComponent("VolumeLevel",nn);var rn=function(e){function t(i,n){Ye(this,t);var r=Qe(this,e.call(this,i,n));return r.on("slideractive",r.updateLastVolume_),r.on(i,"volumechange",r.updateARIAAttributes),i.ready(function(){return r.updateARIAAttributes()}),r}return Xe(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},t.prototype.handleMouseDown=function(t){N(t)&&e.prototype.handleMouseDown.call(this,t)},t.prototype.handleMouseMove=function(e){N(e)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(e)))},t.prototype.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},t.prototype.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},t.prototype.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},t.prototype.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},t.prototype.updateARIAAttributes=function(e){var t=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",t),this.el_.setAttribute("aria-valuetext",t+"%")},t.prototype.volumeAsPercentage_=function(){return Math.round(100*this.player_.volume())},t.prototype.updateLastVolume_=function(){var e=this,t=this.player_.volume();this.one("sliderinactive",function(){0===e.player_.volume()&&e.player_.lastVolume_(t)})},t}(Yi);rn.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},rn.prototype.playerEvent="volumechange",It.registerComponent("VolumeBar",rn);var an=function(e){function t(i){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Ye(this,t),n.vertical=n.vertical||!1,(void 0===n.volumeBar||s(n.volumeBar))&&(n.volumeBar=n.volumeBar||{},n.volumeBar.vertical=n.vertical);var r=Qe(this,e.call(this,i,n));return tn(r,i),r.throttledHandleMouseMove=_t(bt(r,r.handleMouseMove),25),r.on("mousedown",r.handleMouseDown),r.on("touchstart",r.handleMouseDown),r.on(r.volumeBar,["focus","slideractive"],function(){r.volumeBar.addClass("vjs-slider-active"),r.addClass("vjs-slider-active"),r.trigger("slideractive")}),r.on(r.volumeBar,["blur","sliderinactive"],function(){r.volumeBar.removeClass("vjs-slider-active"),r.removeClass("vjs-slider-active"),r.trigger("sliderinactive")}),r}return Xe(t,e),t.prototype.createEl=function(){var t="vjs-volume-horizontal";return this.options_.vertical&&(t="vjs-volume-vertical"),e.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+t})},t.prototype.handleMouseDown=function(e){var t=this.el_.ownerDocument;this.on(t,"mousemove",this.throttledHandleMouseMove),this.on(t,"touchmove",this.throttledHandleMouseMove),this.on(t,"mouseup",this.handleMouseUp),this.on(t,"touchend",this.handleMouseUp)},t.prototype.handleMouseUp=function(e){var t=this.el_.ownerDocument;this.off(t,"mousemove",this.throttledHandleMouseMove),this.off(t,"touchmove",this.throttledHandleMouseMove),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchend",this.handleMouseUp)},t.prototype.handleMouseMove=function(e){this.volumeBar.handleMouseMove(e)},t}(It);an.prototype.options_={children:["volumeBar"]},It.registerComponent("VolumeControl",an);var on=function(e){function t(i,n){Ye(this,t);var r=Qe(this,e.call(this,i,n));return tn(r,i),r.on(i,["loadstart","volumechange"],r.update),r}return Xe(t,e),t.prototype.buildCSSClass=function(){return"vjs-mute-control "+e.prototype.buildCSSClass.call(this)},t.prototype.handleClick=function(e){var t=this.player_.volume(),i=this.player_.lastVolume_();if(0===t){var n=i<.1?.1:i;this.player_.volume(n),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())},t.prototype.update=function(e){this.updateIcon_(),this.updateControlText_()},t.prototype.updateIcon_=function(){var e=this.player_.volume(),t=3;0===e||this.player_.muted()?t=0:e<.33?t=1:e<.67&&(t=2);for(var i=0;i<4;i++)_(this.el_,"vjs-vol-"+i);b(this.el_,"vjs-vol-"+t)},t.prototype.updateControlText_=function(){var e=this.player_.muted()||0===this.player_.volume()?"Unmute":"Mute";this.controlText()!==e&&this.controlText(e)},t}(Ri);on.prototype.controlText_="Mute",It.registerComponent("MuteToggle",on);var sn=function(e){function t(i){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Ye(this,t),void 0!==n.inline?n.inline=n.inline:n.inline=!0,(void 0===n.volumeControl||s(n.volumeControl))&&(n.volumeControl=n.volumeControl||{},n.volumeControl.vertical=!n.inline);var r=Qe(this,e.call(this,i,n));return tn(r,i),r.on(r.volumeControl,["slideractive"],r.sliderActive_),r.on(r.volumeControl,["sliderinactive"],r.sliderInactive_),r}return Xe(t,e),t.prototype.sliderActive_=function(){this.addClass("vjs-slider-active")},t.prototype.sliderInactive_=function(){this.removeClass("vjs-slider-active")},t.prototype.createEl=function(){var t="vjs-volume-panel-horizontal";return this.options_.inline||(t="vjs-volume-panel-vertical"),e.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+t})},t}(It);sn.prototype.options_={children:["muteToggle","volumeControl"]},It.registerComponent("VolumePanel",sn);var ln=function(e){function t(i,n){Ye(this,t);var r=Qe(this,e.call(this,i,n));return n&&(r.menuButton_=n.menuButton),r.focusedChild_=-1,r.on("keydown",r.handleKeyPress),r}return Xe(t,e),t.prototype.addItem=function(e){this.addChild(e),e.on("click",bt(this,function(t){this.menuButton_&&(this.menuButton_.unpressButton(),"CaptionSettingsMenuItem"!==e.name()&&this.menuButton_.focus())}))},t.prototype.createEl=function(){var t=this.options_.contentElType||"ul";this.contentEl_=m(t,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var i=e.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return i.appendChild(this.contentEl_),q(i,"click",function(e){e.preventDefault(),e.stopImmediatePropagation()}),i},t.prototype.dispose=function(){this.contentEl_=null,e.prototype.dispose.call(this)},t.prototype.handleKeyPress=function(e){37===e.which||40===e.which?(e.preventDefault(),this.stepForward()):38!==e.which&&39!==e.which||(e.preventDefault(),this.stepBack())},t.prototype.stepForward=function(){var e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_+1),this.focus(e)},t.prototype.stepBack=function(){var e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_-1),this.focus(e)},t.prototype.focus=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this.children().slice();t.length&&t[0].className&&/vjs-menu-title/.test(t[0].className)&&t.shift(),t.length>0&&(e<0?e=0:e>=t.length&&(e=t.length-1),this.focusedChild_=e,t[e].el_.focus())},t}(It);It.registerComponent("Menu",ln);var cn=function(e){function t(i){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Ye(this,t);var r=Qe(this,e.call(this,i,n));r.menuButton_=new Ri(i,n),r.menuButton_.controlText(r.controlText_),r.menuButton_.el_.setAttribute("aria-haspopup","true");var a=Ri.prototype.buildCSSClass();return r.menuButton_.el_.className=r.buildCSSClass()+" "+a,r.menuButton_.removeClass("vjs-control"),r.addChild(r.menuButton_),r.update(),r.enabled_=!0,r.on(r.menuButton_,"tap",r.handleClick),r.on(r.menuButton_,"click",r.handleClick),r.on(r.menuButton_,"focus",r.handleFocus),r.on(r.menuButton_,"blur",r.handleBlur),r.on("keydown",r.handleSubmenuKeyPress),r}return Xe(t,e),t.prototype.update=function(){var e=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=e,this.addChild(e),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?this.hide():this.show()},t.prototype.createMenu=function(){var e=new ln(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){var t=m("li",{className:"vjs-menu-title",innerHTML:J(this.options_.title),tabIndex:-1});this.hideThreshold_+=1,e.children_.unshift(t),v(t,e.contentEl())}if(this.items=this.createItems(),this.items)for(var i=0;i<this.items.length;i++)e.addItem(this.items[i]);return e},t.prototype.createItems=function(){},t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},t.prototype.buildWrapperCSSClass=function(){var t="vjs-menu-button";return!0===this.options_.inline?t+="-inline":t+="-popup","vjs-menu-button "+t+" "+Ri.prototype.buildCSSClass()+" "+e.prototype.buildCSSClass.call(this)},t.prototype.buildCSSClass=function(){var t="vjs-menu-button";return!0===this.options_.inline?t+="-inline":t+="-popup","vjs-menu-button "+t+" "+e.prototype.buildCSSClass.call(this)},t.prototype.controlText=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.menuButton_.el();return this.menuButton_.controlText(e,t)},t.prototype.handleClick=function(e){this.one(this.menu.contentEl(),"mouseleave",bt(this,function(e){this.unpressButton(),this.el_.blur()})),this.buttonPressed_?this.unpressButton():this.pressButton()},t.prototype.focus=function(){this.menuButton_.focus()},t.prototype.blur=function(){this.menuButton_.blur()},t.prototype.handleFocus=function(){q(ve,"keydown",bt(this,this.handleKeyPress))},t.prototype.handleBlur=function(){W(ve,"keydown",bt(this,this.handleKeyPress))},t.prototype.handleKeyPress=function(e){27===e.which||9===e.which?(this.buttonPressed_&&this.unpressButton(),9!==e.which&&(e.preventDefault(),this.menuButton_.el_.focus())):38!==e.which&&40!==e.which||this.buttonPressed_||(this.pressButton(),e.preventDefault())},t.prototype.handleSubmenuKeyPress=function(e){27!==e.which&&9!==e.which||(this.buttonPressed_&&this.unpressButton(),9!==e.which&&(e.preventDefault(),this.menuButton_.el_.focus()))},t.prototype.pressButton=function(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),Oe&&p())return;this.menu.focus()}},t.prototype.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},t.prototype.disable=function(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()},t.prototype.enable=function(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()},t}(It);It.registerComponent("MenuButton",cn);var un=function(e){function t(i,n){Ye(this,t);var r=n.tracks,a=Qe(this,e.call(this,i,n));if(a.items.length<=1&&a.hide(),!r)return Qe(a);var o=bt(a,a.update);return r.addEventListener("removetrack",o),r.addEventListener("addtrack",o),a.player_.on("ready",o),a.player_.on("dispose",function(){r.removeEventListener("removetrack",o),r.removeEventListener("addtrack",o)}),a}return Xe(t,e),t}(cn);It.registerComponent("TrackButton",un);var hn=function(e){function t(i,n){Ye(this,t);var r=Qe(this,e.call(this,i,n));return r.selectable=n.selectable,r.isSelected_=n.selected||!1,r.selected(r.isSelected_),r.selectable?r.el_.setAttribute("role","menuitemcheckbox"):r.el_.setAttribute("role","menuitem"),r}return Xe(t,e),t.prototype.createEl=function(t,i,n){return this.nonIconControl=!0,e.prototype.createEl.call(this,"li",a({className:"vjs-menu-item",innerHTML:'<span class="vjs-menu-item-text">'+this.localize(this.options_.label)+"</span>",tabIndex:-1},i),n)},t.prototype.handleClick=function(e){this.selected(!0)},t.prototype.selected=function(e){this.selectable&&(e?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))},t}(Oi);It.registerComponent("MenuItem",hn);var dn=function(e){function t(i,n){Ye(this,t);var r=n.track,a=i.textTracks();n.label=r.label||r.language||"Unknown",n.selected="showing"===r.mode;var o=Qe(this,e.call(this,i,n));o.track=r;var s=function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];o.handleTracksChange.apply(o,t)},l=function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];o.handleSelectedLanguageChange.apply(o,t)};if(i.on(["loadstart","texttrackchange"],s),a.addEventListener("change",s),a.addEventListener("selectedlanguagechange",l),o.on("dispose",function(){i.off(["loadstart","texttrackchange"],s),a.removeEventListener("change",s),a.removeEventListener("selectedlanguagechange",l)}),void 0===a.onchange){var c=void 0;o.on(["tap","click"],function(){if("object"!==We(ge.Event))try{c=new ge.Event("change")}catch(e){}c||(c=ve.createEvent("Event")).initEvent("change",!0,!0),a.dispatchEvent(c)})}return o.handleTracksChange(),o}return Xe(t,e),t.prototype.handleClick=function(t){var i=this.track.kind,n=this.track.kinds,r=this.player_.textTracks();if(n||(n=[i]),e.prototype.handleClick.call(this,t),r)for(var a=0;a<r.length;a++){var o=r[a];o===this.track&&n.indexOf(o.kind)>-1?"showing"!==o.mode&&(o.mode="showing"):"disabled"!==o.mode&&(o.mode="disabled")}},t.prototype.handleTracksChange=function(e){var t="showing"===this.track.mode;t!==this.isSelected_&&this.selected(t)},t.prototype.handleSelectedLanguageChange=function(e){if("showing"===this.track.mode){var t=this.player_.cache_.selectedLanguage;if(t&&t.enabled&&t.language===this.track.language&&t.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}},t.prototype.dispose=function(){this.track=null,e.prototype.dispose.call(this)},t}(hn);It.registerComponent("TextTrackMenuItem",dn);var pn=function(e){function t(i,n){return Ye(this,t),n.track={player:i,kind:n.kind,kinds:n.kinds,default:!1,mode:"disabled"},n.kinds||(n.kinds=[n.kind]),n.label?n.track.label=n.label:n.track.label=n.kinds.join(" and ")+" off",n.selectable=!0,Qe(this,e.call(this,i,n))}return Xe(t,e),t.prototype.handleTracksChange=function(e){for(var t=this.player().textTracks(),i=!0,n=0,r=t.length;n<r;n++){var a=t[n];if(this.options_.kinds.indexOf(a.kind)>-1&&"showing"===a.mode){i=!1;break}}i!==this.isSelected_&&this.selected(i)},t.prototype.handleSelectedLanguageChange=function(e){for(var t=this.player().textTracks(),i=!0,n=0,r=t.length;n<r;n++){var a=t[n];if(["captions","descriptions","subtitles"].indexOf(a.kind)>-1&&"showing"===a.mode){i=!1;break}}i&&(this.player_.cache_.selectedLanguage={enabled:!1})},t}(dn);It.registerComponent("OffTextTrackMenuItem",pn);var fn=function(e){function t(i){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Ye(this,t),n.tracks=i.textTracks(),Qe(this,e.call(this,i,n))}return Xe(t,e),t.prototype.createItems=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:dn,i=void 0;this.label_&&(i=this.label_+" off"),e.push(new pn(this.player_,{kinds:this.kinds_,kind:this.kind_,label:i})),this.hideThreshold_+=1;var n=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(var r=0;r<n.length;r++){var a=n[r];if(this.kinds_.indexOf(a.kind)>-1){var o=new t(this.player_,{track:a,selectable:!0});o.addClass("vjs-"+a.kind+"-menu-item"),e.push(o)}}return e},t}(un);It.registerComponent("TextTrackButton",fn);var mn=function(e){function t(i,n){Ye(this,t);var r=n.track,a=n.cue,o=i.currentTime();n.selectable=!0,n.label=a.text,n.selected=a.startTime<=o&&o<a.endTime;var s=Qe(this,e.call(this,i,n));return s.track=r,s.cue=a,r.addEventListener("cuechange",bt(s,s.update)),s}return Xe(t,e),t.prototype.handleClick=function(t){e.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},t.prototype.update=function(e){var t=this.cue,i=this.player_.currentTime();this.selected(t.startTime<=i&&i<t.endTime)},t}(hn);It.registerComponent("ChaptersTrackMenuItem",mn);var gn=function(e){function t(i,n,r){return Ye(this,t),Qe(this,e.call(this,i,n,r))}return Xe(t,e),t.prototype.buildCSSClass=function(){return"vjs-chapters-button "+e.prototype.buildCSSClass.call(this)},t.prototype.buildWrapperCSSClass=function(){return"vjs-chapters-button "+e.prototype.buildWrapperCSSClass.call(this)},t.prototype.update=function(t){this.track_&&(!t||"addtrack"!==t.type&&"removetrack"!==t.type)||this.setTrack(this.findChaptersTrack()),e.prototype.update.call(this)},t.prototype.setTrack=function(e){if(this.track_!==e){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var t=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);t&&t.removeEventListener("load",this.updateHandler_),this.track_=null}if(this.track_=e,this.track_){this.track_.mode="hidden";var i=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);i&&i.addEventListener("load",this.updateHandler_)}}},t.prototype.findChaptersTrack=function(){for(var e=this.player_.textTracks()||[],t=e.length-1;t>=0;t--){var i=e[t];if(i.kind===this.kind_)return i}},t.prototype.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize(J(this.kind_))},t.prototype.createMenu=function(){return this.options_.title=this.getMenuCaption(),e.prototype.createMenu.call(this)},t.prototype.createItems=function(){var e=[];if(!this.track_)return e;var t=this.track_.cues;if(!t)return e;for(var i=0,n=t.length;i<n;i++){var r=t[i],a=new mn(this.player_,{track:this.track_,cue:r});e.push(a)}return e},t}(fn);gn.prototype.kind_="chapters",gn.prototype.controlText_="Chapters",It.registerComponent("ChaptersButton",gn);var vn=function(e){function t(i,n,r){Ye(this,t);var a=Qe(this,e.call(this,i,n,r)),o=i.textTracks(),s=bt(a,a.handleTracksChange);return o.addEventListener("change",s),a.on("dispose",function(){o.removeEventListener("change",s)}),a}return Xe(t,e),t.prototype.handleTracksChange=function(e){for(var t=this.player().textTracks(),i=!1,n=0,r=t.length;n<r;n++){var a=t[n];if(a.kind!==this.kind_&&"showing"===a.mode){i=!0;break}}i?this.disable():this.enable()},t.prototype.buildCSSClass=function(){return"vjs-descriptions-button "+e.prototype.buildCSSClass.call(this)},t.prototype.buildWrapperCSSClass=function(){return"vjs-descriptions-button "+e.prototype.buildWrapperCSSClass.call(this)},t}(fn);vn.prototype.kind_="descriptions",vn.prototype.controlText_="Descriptions",It.registerComponent("DescriptionsButton",vn);var yn=function(e){function t(i,n,r){return Ye(this,t),Qe(this,e.call(this,i,n,r))}return Xe(t,e),t.prototype.buildCSSClass=function(){return"vjs-subtitles-button "+e.prototype.buildCSSClass.call(this)},t.prototype.buildWrapperCSSClass=function(){return"vjs-subtitles-button "+e.prototype.buildWrapperCSSClass.call(this)},t}(fn);yn.prototype.kind_="subtitles",yn.prototype.controlText_="Subtitles",It.registerComponent("SubtitlesButton",yn);var bn=function(e){function t(i,n){Ye(this,t),n.track={player:i,kind:n.kind,label:n.kind+" settings",selectable:!1,default:!1,mode:"disabled"},n.selectable=!1,n.name="CaptionSettingsMenuItem";var r=Qe(this,e.call(this,i,n));return r.addClass("vjs-texttrack-settings"),r.controlText(", opens "+n.kind+" settings dialog"),r}return Xe(t,e),t.prototype.handleClick=function(e){this.player().getChild("textTrackSettings").open()},t}(dn);It.registerComponent("CaptionSettingsMenuItem",bn);var _n=function(e){function t(i,n,r){return Ye(this,t),Qe(this,e.call(this,i,n,r))}return Xe(t,e),t.prototype.buildCSSClass=function(){return"vjs-captions-button "+e.prototype.buildCSSClass.call(this)},t.prototype.buildWrapperCSSClass=function(){return"vjs-captions-button "+e.prototype.buildWrapperCSSClass.call(this)},t.prototype.createItems=function(){var t=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(t.push(new bn(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),e.prototype.createItems.call(this,t)},t}(fn);_n.prototype.kind_="captions",_n.prototype.controlText_="Captions",It.registerComponent("CaptionsButton",_n);var An=function(e){function t(){return Ye(this,t),Qe(this,e.apply(this,arguments))}return Xe(t,e),t.prototype.createEl=function(t,i,n){var r='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);return"captions"===this.options_.track.kind&&(r+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> '+this.localize("Captions")+"</span>\n      "),r+="</span>",e.prototype.createEl.call(this,t,a({innerHTML:r},i),n)},t}(dn);It.registerComponent("SubsCapsMenuItem",An);var En=function(e){function t(i){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Ye(this,t);var r=Qe(this,e.call(this,i,n));return r.label_="subtitles",["en","en-us","en-ca","fr-ca"].indexOf(r.player_.language_)>-1&&(r.label_="captions"),r.menuButton_.controlText(J(r.label_)),r}return Xe(t,e),t.prototype.buildCSSClass=function(){return"vjs-subs-caps-button "+e.prototype.buildCSSClass.call(this)},t.prototype.buildWrapperCSSClass=function(){return"vjs-subs-caps-button "+e.prototype.buildWrapperCSSClass.call(this)},t.prototype.createItems=function(){var t=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(t.push(new bn(this.player_,{kind:this.label_})),this.hideThreshold_+=1),t=e.prototype.createItems.call(this,t,An)},t}(fn);En.prototype.kinds_=["captions","subtitles"],En.prototype.controlText_="Subtitles",It.registerComponent("SubsCapsButton",En);var wn=function(e){function t(i,n){Ye(this,t);var r=n.track,a=i.audioTracks();n.label=r.label||r.language||"Unknown",n.selected=r.enabled;var o=Qe(this,e.call(this,i,n));o.track=r;var s=function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];o.handleTracksChange.apply(o,t)};return a.addEventListener("change",s),o.on("dispose",function(){a.removeEventListener("change",s)}),o}return Xe(t,e),t.prototype.handleClick=function(t){var i=this.player_.audioTracks();e.prototype.handleClick.call(this,t);for(var n=0;n<i.length;n++){var r=i[n];r.enabled=r===this.track}},t.prototype.handleTracksChange=function(e){this.selected(this.track.enabled)},t}(hn);It.registerComponent("AudioTrackMenuItem",wn);var xn=function(e){function t(i){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Ye(this,t),n.tracks=i.audioTracks(),Qe(this,e.call(this,i,n))}return Xe(t,e),t.prototype.buildCSSClass=function(){return"vjs-audio-button "+e.prototype.buildCSSClass.call(this)},t.prototype.buildWrapperCSSClass=function(){return"vjs-audio-button "+e.prototype.buildWrapperCSSClass.call(this)},t.prototype.createItems=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.hideThreshold_=1;for(var t=this.player_.audioTracks(),i=0;i<t.length;i++){var n=t[i];e.push(new wn(this.player_,{track:n,selectable:!0}))}return e},t}(un);xn.prototype.controlText_="Audio Track",It.registerComponent("AudioTrackButton",xn);var Tn=function(e){function t(i,n){Ye(this,t);var r=n.rate,a=parseFloat(r,10);n.label=r,n.selected=1===a,n.selectable=!0;var o=Qe(this,e.call(this,i,n));return o.label=r,o.rate=a,o.on(i,"ratechange",o.update),o}return Xe(t,e),t.prototype.handleClick=function(t){e.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},t.prototype.update=function(e){this.selected(this.player().playbackRate()===this.rate)},t}(hn);Tn.prototype.contentElType="button",It.registerComponent("PlaybackRateMenuItem",Tn);var Sn=function(e){function t(i,n){Ye(this,t);var r=Qe(this,e.call(this,i,n));return r.updateVisibility(),r.updateLabel(),r.on(i,"loadstart",r.updateVisibility),r.on(i,"ratechange",r.updateLabel),r}return Xe(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this);return this.labelEl_=m("div",{className:"vjs-playback-rate-value",innerHTML:"1x"}),t.appendChild(this.labelEl_),t},t.prototype.dispose=function(){this.labelEl_=null,e.prototype.dispose.call(this)},t.prototype.buildCSSClass=function(){return"vjs-playback-rate "+e.prototype.buildCSSClass.call(this)},t.prototype.buildWrapperCSSClass=function(){return"vjs-playback-rate "+e.prototype.buildWrapperCSSClass.call(this)},t.prototype.createMenu=function(){var e=new ln(this.player()),t=this.playbackRates();if(t)for(var i=t.length-1;i>=0;i--)e.addChild(new Tn(this.player(),{rate:t[i]+"x"}));return e},t.prototype.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},t.prototype.handleClick=function(e){for(var t=this.player().playbackRate(),i=this.playbackRates(),n=i[0],r=0;r<i.length;r++)if(i[r]>t){n=i[r];break}this.player().playbackRate(n)},t.prototype.playbackRates=function(){return this.options_.playbackRates||this.options_.playerOptions&&this.options_.playerOptions.playbackRates},t.prototype.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},t.prototype.updateVisibility=function(e){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},t.prototype.updateLabel=function(e){this.playbackRateSupported()&&(this.labelEl_.innerHTML=this.player().playbackRate()+"x")},t}(cn);Sn.prototype.controlText_="Playback Rate",It.registerComponent("PlaybackRateMenuButton",Sn);var Cn=function(e){function t(){return Ye(this,t),Qe(this,e.apply(this,arguments))}return Xe(t,e),t.prototype.buildCSSClass=function(){return"vjs-spacer "+e.prototype.buildCSSClass.call(this)},t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},t}(It);It.registerComponent("Spacer",Cn);var kn=function(e){function t(){return Ye(this,t),Qe(this,e.apply(this,arguments))}return Xe(t,e),t.prototype.buildCSSClass=function(){return"vjs-custom-control-spacer "+e.prototype.buildCSSClass.call(this)},t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,{className:this.buildCSSClass()});return t.innerHTML="\xa0",t},t}(Cn);It.registerComponent("CustomControlSpacer",kn);var On=function(e){function t(){return Ye(this,t),Qe(this,e.apply(this,arguments))}return Xe(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"},{role:"group"})},t}(It);On.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]},It.registerComponent("ControlBar",On);var Pn=function(e){function t(i,n){Ye(this,t);var r=Qe(this,e.call(this,i,n));return r.on(i,"error",r.open),r}return Xe(t,e),t.prototype.buildCSSClass=function(){return"vjs-error-display "+e.prototype.buildCSSClass.call(this)},t.prototype.content=function(){var e=this.player().error();return e?this.localize(e.message):""},t}(Gt);Pn.prototype.options_=$(Gt.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),It.registerComponent("ErrorDisplay",Pn);var jn=["#000","Black"],In=["#00F","Blue"],Mn=["#0FF","Cyan"],Rn=["#0F0","Green"],Dn=["#F0F","Magenta"],Ln=["#F00","Red"],Nn=["#FFF","White"],Bn=["#FF0","Yellow"],Fn=["1","Opaque"],Un=["0.5","Semi-Transparent"],zn=["0","Transparent"],Hn={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[jn,Nn,Ln,Rn,In,Bn,Dn,Mn]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[Fn,Un,zn]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[Nn,jn,Ln,Rn,In,Bn,Dn,Mn]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(e){return"1.00"===e?null:Number(e)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[Fn,Un]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[zn,Un,Fn]}};Hn.windowColor.options=Hn.backgroundColor.options;var Vn=function(e){function t(i,n){Ye(this,t),n.temporary=!1;var a=Qe(this,e.call(this,i,n));return a.updateDisplay=bt(a,a.updateDisplay),a.fill(),a.hasBeenOpened_=a.hasBeenFilled_=!0,a.endDialog=m("p",{className:"vjs-control-text",textContent:a.localize("End of dialog window.")}),a.el().appendChild(a.endDialog),a.setDefaults(),void 0===n.persistTextTrackSettings&&(a.options_.persistTextTrackSettings=a.options_.playerOptions.persistTextTrackSettings),a.on(a.$(".vjs-done-button"),"click",function(){a.saveSettings(),a.close()}),a.on(a.$(".vjs-default-button"),"click",function(){a.setDefaults(),a.updateDisplay()}),r(Hn,function(e){a.on(a.$(e.selector),"change",a.updateDisplay)}),a.options_.persistTextTrackSettings&&a.restoreSettings(),a}return Xe(t,e),t.prototype.dispose=function(){this.endDialog=null,e.prototype.dispose.call(this)},t.prototype.createElSelect_=function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"label",r=Hn[e],a=r.id.replace("%s",this.id_);return["<"+n+' id="'+a+'" class="'+("label"===n?"vjs-label":"")+'">',this.localize(r.label),"</"+n+">",'<select aria-labelledby="'+(""!==i?i+" ":"")+a+'">'].concat(r.options.map(function(e){var n=a+"-"+e[1];return['<option id="'+n+'" value="'+e[0]+'" ','aria-labelledby="'+(""!==i?i+" ":"")+a+" "+n+'">',t.localize(e[1]),"</option>"].join("")})).concat("</select>").join("")},t.prototype.createElFgColor_=function(){var e="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",e),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",e),"</span>","</fieldset>"].join("")},t.prototype.createElBgColor_=function(){var e="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",e),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",e),"</span>","</fieldset>"].join("")},t.prototype.createElWinColor_=function(){var e="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Window"),"</legend>",this.createElSelect_("windowColor",e),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",e),"</span>","</fieldset>"].join("")},t.prototype.createElColors_=function(){return m("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})},t.prototype.createElFont_=function(){return m("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})},t.prototype.createElControls_=function(){var e=this.localize("restore all settings to the default values");return m("div",{className:"vjs-track-settings-controls",innerHTML:['<button class="vjs-default-button" title="'+e+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+e+"</span>","</button>",'<button class="vjs-done-button">'+this.localize("Done")+"</button>"].join("")})},t.prototype.content=function(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},t.prototype.label=function(){return this.localize("Caption Settings Dialog")},t.prototype.description=function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},t.prototype.buildCSSClass=function(){return e.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},t.prototype.getValues=function(){var e=this;return function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Je(e).reduce(function(i,n){return t(i,e[n],n)},i)}(Hn,function(t,i,n){var r,a,o=(r=e.$(i.selector),a=i.parser,pe(r.options[r.options.selectedIndex].value,a));return void 0!==o&&(t[n]=o),t},{})},t.prototype.setValues=function(e){var t=this;r(Hn,function(i,n){!function(e,t,i){if(t)for(var n=0;n<e.options.length;n++)if(pe(e.options[n].value,i)===t){e.selectedIndex=n;break}}(t.$(i.selector),e[n],i.parser)})},t.prototype.setDefaults=function(){var e=this;r(Hn,function(t){var i=t.hasOwnProperty("default")?t.default:0;e.$(t.selector).selectedIndex=i})},t.prototype.restoreSettings=function(){var e=void 0;try{e=JSON.parse(ge.localStorage.getItem("vjs-text-track-settings"))}catch(e){nt.warn(e)}e&&this.setValues(e)},t.prototype.saveSettings=function(){if(this.options_.persistTextTrackSettings){var e=this.getValues();try{Object.keys(e).length?ge.localStorage.setItem("vjs-text-track-settings",JSON.stringify(e)):ge.localStorage.removeItem("vjs-text-track-settings")}catch(e){nt.warn(e)}}},t.prototype.updateDisplay=function(){var e=this.player_.getChild("textTrackDisplay");e&&e.updateDisplay()},t.prototype.conditionalBlur_=function(){this.previouslyActiveEl_=null,this.off(ve,"keydown",this.handleKeyDown);var e=this.player_.controlBar,t=e&&e.subsCapsButton,i=e&&e.captionsButton;t?t.focus():i&&i.focus()},t}(Gt);It.registerComponent("TextTrackSettings",Vn);var Gn=function(e){function t(i,n){Ye(this,t);var r=n.ResizeObserver||ge.ResizeObserver;null===n.ResizeObserver&&(r=!1);var a=$({createEl:!r},n),o=Qe(this,e.call(this,i,a));return o.ResizeObserver=n.ResizeObserver||ge.ResizeObserver,o.loadListener_=null,o.resizeObserver_=null,o.debouncedHandler_=At(function(){o.resizeHandler()},100,!1,i),r?(o.resizeObserver_=new o.ResizeObserver(o.debouncedHandler_),o.resizeObserver_.observe(i.el())):(o.loadListener_=function(){o.el_.contentWindow&&q(o.el_.contentWindow,"resize",o.debouncedHandler_),o.off("load",o.loadListener_)},o.on("load",o.loadListener_)),o}return Xe(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"iframe",{className:"vjs-resize-manager"})},t.prototype.resizeHandler=function(){this.player_.trigger("playerresize")},t.prototype.dispose=function(){this.resizeObserver_&&(this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.el_&&this.el_.contentWindow&&W(this.el_.contentWindow,"resize",this.debouncedHandler_),this.loadListener_&&this.off("load",this.loadListener_),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null},t}(It);It.registerComponent("ResizeManager",Gn);var qn=function(e){var t=e.el();if(t.src)return e.triggerSourceset(t.src),!0;var i=e.$$("source"),n=[],r="";if(!i.length)return!1;for(var a=0;a<i.length;a++){var o=i[a].src;o&&-1===n.indexOf(o)&&n.push(o)}return n.length?(1===n.length&&(r=n[0]),e.triggerSourceset(r),!0):void 0},Wn=function(e){var t=e.el();if(!t.firstSourceWatch_){t.firstSourceWatch_=!0;var i=t.append,n=t.appendChild,r=t.insertAdjacentHTML,a=function(e){var t=ge.Element.prototype,i={};return Object.getOwnPropertyDescriptor(e,"innerHTML")?i=Object.getOwnPropertyDescriptor(e,"innerHTML"):Object.getOwnPropertyDescriptor(t,"innerHTML")&&(i=Object.getOwnPropertyDescriptor(t,"innerHTML")),i.get||(i.get=function(){return e.cloneNode().innerHTML}),i.set||(i.set=function(t){e.innerText="";var i=ve.createElement(e.nodeName.toLowerCase());i.innerHTML=t;for(var n=ve.createDocumentFragment();i.childNodes.length;)n.appendChild(i.childNodes[0]);return ge.Element.prototype.appendChild.call(e,n),e.innerHTML}),void 0===i.enumerable&&(i.enumerable=!0),i.configurable=!0,i}(t);t.appendChild=function(){var i=n.apply(t,arguments);return qn(e),i},i&&(t.append=function(){var n=i.apply(t,arguments);return qn(e),n}),r&&(t.insertAdjacentHTML=function(){var i=r.apply(t,arguments);return qn(e),i}),Object.defineProperty(t,"innerHTML",{get:a.get.bind(t),set:function(i){var n=a.set.call(t,i);return qn(e),n},configurable:!0,enumerable:a.enumerable}),e.one("sourceset",function(e){t.firstSourceWatch_=!1,t.appendChild=n,i&&(t.append=i),r&&(t.insertAdjacentHTML=r),Object.defineProperty(t,"innerHTML",a)})}},Yn=function(e){if(e.featuresSourceset){var t=e.el();if(!t.setupSourceset_){t.setupSourceset_=!0;var i=function(e){var t=ge.HTMLMediaElement.prototype,i={};return Object.getOwnPropertyDescriptor(e,"src")?i=Object.getOwnPropertyDescriptor(e,"src"):Object.getOwnPropertyDescriptor(t,"src")&&(i=$(i,Object.getOwnPropertyDescriptor(t,"src"))),i.get||(i.get=function(){return t.getAttribute.call(e,"src")}),i.set||(i.set=function(i){return t.setAttribute.call(e,"src",i)}),void 0===i.enumerable&&(i.enumerable=!0),i.configurable=!0,i}(t),n=t.setAttribute,r=t.load;(t.src||t.currentSrc&&3!==t.initNetworkState_)&&(t.currentSrc?e.triggerSourceset(t.currentSrc):qn(e)),t.src||t.currentSrc||e.$$("source").length||Wn(e),Object.defineProperty(t,"src",{get:i.get.bind(t),set:function(n){var r=i.set.call(t,n);return e.triggerSourceset(t.src),r},configurable:!0,enumerable:i.enumerable}),t.setAttribute=function(i,r){var a=n.call(t,i,r);return"src"===i&&e.triggerSourceset(t.getAttribute("src")),a},t.load=function(){var i=r.call(t);return qn(e)||Wn(e),i}}}},Xn=Ke(["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."],["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."]),Qn=function(e){function t(i,n){Ye(this,t);var r=Qe(this,e.call(this,i,n));i.enableSourceset&&r.setupSourcesetHandling_();var a=i.source,o=!1;if(a&&(r.el_.currentSrc!==a.src||i.tag&&3===i.tag.initNetworkState_)?r.setSource(a):r.handleLateInit_(r.el_),r.el_.hasChildNodes()){for(var s=r.el_.childNodes,l=s.length,c=[];l--;){var u=s[l];"track"===u.nodeName.toLowerCase()&&(r.featuresNativeTextTracks?(r.remoteTextTrackEls().addTrackElement_(u),r.remoteTextTracks().addTrack(u.track),r.textTracks().addTrack(u.track),o||r.el_.hasAttribute("crossorigin")||!si(u.src)||(o=!0)):c.push(u))}for(var h=0;h<c.length;h++)r.el_.removeChild(c[h])}return r.proxyNativeTracks_(),r.featuresNativeTextTracks&&o&&nt.warn(ye(Xn)),r.restoreMetadataTracksInIOSNativePlayer_(),(Ve||Ce||Re)&&!0===i.nativeControlsForTouch&&r.setControls(!0),r.proxyWebkitFullscreen_(),r.triggerReady(),r}return Xe(t,e),t.prototype.dispose=function(){t.disposeMediaElement(this.el_),this.options_=null,e.prototype.dispose.call(this)},t.prototype.setupSourcesetHandling_=function(){Yn(this)},t.prototype.restoreMetadataTracksInIOSNativePlayer_=function(){var e=this.textTracks(),t=void 0,i=function(){t=[];for(var i=0;i<e.length;i++){var n=e[i];"metadata"===n.kind&&t.push({track:n,storedMode:n.mode})}};i(),e.addEventListener("change",i),this.on("dispose",function(){return e.removeEventListener("change",i)});var n=function i(){for(var n=0;n<t.length;n++){var r=t[n];"disabled"===r.track.mode&&r.track.mode!==r.storedMode&&(r.track.mode=r.storedMode)}e.removeEventListener("change",i)};this.on("webkitbeginfullscreen",function(){e.removeEventListener("change",i),e.removeEventListener("change",n),e.addEventListener("change",n)}),this.on("webkitendfullscreen",function(){e.removeEventListener("change",i),e.addEventListener("change",i),e.removeEventListener("change",n)})},t.prototype.proxyNativeTracks_=function(){var e=this;vi.names.forEach(function(t){var i=vi[t],n=e.el()[i.getterName],r=e[i.getterName]();if(e["featuresNative"+i.capitalName+"Tracks"]&&n&&n.addEventListener){var a={change:function(e){r.trigger({type:"change",target:r,currentTarget:r,srcElement:r})},addtrack:function(e){r.addTrack(e.track)},removetrack:function(e){r.removeTrack(e.track)}},o=function(){for(var e=[],t=0;t<r.length;t++){for(var i=!1,a=0;a<n.length;a++)if(n[a]===r[t]){i=!0;break}i||e.push(r[t])}for(;e.length;)r.removeTrack(e.shift())};Object.keys(a).forEach(function(t){var i=a[t];n.addEventListener(t,i),e.on("dispose",function(e){return n.removeEventListener(t,i)})}),e.on("loadstart",o),e.on("dispose",function(t){return e.off("loadstart",o)})}})},t.prototype.createEl=function(){var e=this.options_.tag;if(!e||!this.options_.playerElIngest&&!this.movingMediaElementInDOM){if(e){var i=e.cloneNode(!0);e.parentNode&&e.parentNode.insertBefore(i,e),t.disposeMediaElement(e),e=i}else{e=ve.createElement("video");var n=$({},this.options_.tag&&w(this.options_.tag));Ve&&!0===this.options_.nativeControlsForTouch||delete n.controls,E(e,a(n,{id:this.options_.techId,class:"vjs-tech"}))}e.playerId=this.options_.playerId}void 0!==this.options_.preload&&T(e,"preload",this.options_.preload);for(var r=["loop","muted","playsinline","autoplay"],o=0;o<r.length;o++){var s=r[o],l=this.options_[s];void 0!==l&&(l?T(e,s,s):S(e,s),e[s]=l)}return e},t.prototype.handleLateInit_=function(e){if(0!==e.networkState&&3!==e.networkState){if(0===e.readyState){var t=!1,i=function(){t=!0};this.on("loadstart",i);var n=function(){t||this.trigger("loadstart")};return this.on("loadedmetadata",n),void this.ready(function(){this.off("loadstart",i),this.off("loadedmetadata",n),t||this.trigger("loadstart")})}var r=["loadstart"];r.push("loadedmetadata"),e.readyState>=2&&r.push("loadeddata"),e.readyState>=3&&r.push("canplay"),e.readyState>=4&&r.push("canplaythrough"),this.ready(function(){r.forEach(function(e){this.trigger(e)},this)})}},t.prototype.setCurrentTime=function(e){try{this.el_.currentTime=e}catch(e){nt(e,"Video is not ready. (Video.js)")}},t.prototype.duration=function(){var e=this;return this.el_.duration===1/0&&je&&Ne&&0===this.el_.currentTime?(this.on("timeupdate",function t(){e.el_.currentTime>0&&(e.el_.duration===1/0&&e.trigger("durationchange"),e.off("timeupdate",t))}),NaN):this.el_.duration||NaN},t.prototype.width=function(){return this.el_.offsetWidth},t.prototype.height=function(){return this.el_.offsetHeight},t.prototype.proxyWebkitFullscreen_=function(){var e=this;if("webkitDisplayingFullscreen"in this.el_){var t=function(){this.trigger("fullscreenchange",{isFullscreen:!1})},i=function(){"webkitPresentationMode"in this.el_&&"picture-in-picture"!==this.el_.webkitPresentationMode&&(this.one("webkitendfullscreen",t),this.trigger("fullscreenchange",{isFullscreen:!0}))};this.on("webkitbeginfullscreen",i),this.on("dispose",function(){e.off("webkitbeginfullscreen",i),e.off("webkitendfullscreen",t)})}},t.prototype.supportsFullScreen=function(){if("function"==typeof this.el_.webkitEnterFullScreen){var e=ge.navigator&&ge.navigator.userAgent||"";if(/Android/.test(e)||!/Chrome|Mac OS X 10.5/.test(e))return!0}return!1},t.prototype.enterFullScreen=function(){var e=this.el_;e.paused&&e.networkState<=e.HAVE_METADATA?(this.el_.play(),this.setTimeout(function(){e.pause(),e.webkitEnterFullScreen()},0)):e.webkitEnterFullScreen()},t.prototype.exitFullScreen=function(){this.el_.webkitExitFullScreen()},t.prototype.src=function(e){if(void 0===e)return this.el_.src;this.setSrc(e)},t.prototype.reset=function(){t.resetMediaElement(this.el_)},t.prototype.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},t.prototype.setControls=function(e){this.el_.controls=!!e},t.prototype.addTextTrack=function(t,i,n){return this.featuresNativeTextTracks?this.el_.addTextTrack(t,i,n):e.prototype.addTextTrack.call(this,t,i,n)},t.prototype.createRemoteTextTrack=function(t){if(!this.featuresNativeTextTracks)return e.prototype.createRemoteTextTrack.call(this,t);var i=ve.createElement("track");return t.kind&&(i.kind=t.kind),t.label&&(i.label=t.label),(t.language||t.srclang)&&(i.srclang=t.language||t.srclang),t.default&&(i.default=t.default),t.id&&(i.id=t.id),t.src&&(i.src=t.src),i},t.prototype.addRemoteTextTrack=function(t,i){var n=e.prototype.addRemoteTextTrack.call(this,t,i);return this.featuresNativeTextTracks&&this.el().appendChild(n),n},t.prototype.removeRemoteTextTrack=function(t){if(e.prototype.removeRemoteTextTrack.call(this,t),this.featuresNativeTextTracks)for(var i=this.$$("track"),n=i.length;n--;)t!==i[n]&&t!==i[n].track||this.el().removeChild(i[n])},t.prototype.getVideoPlaybackQuality=function(){if("function"==typeof this.el().getVideoPlaybackQuality)return this.el().getVideoPlaybackQuality();var e={};return void 0!==this.el().webkitDroppedFrameCount&&void 0!==this.el().webkitDecodedFrameCount&&(e.droppedVideoFrames=this.el().webkitDroppedFrameCount,e.totalVideoFrames=this.el().webkitDecodedFrameCount),ge.performance&&"function"==typeof ge.performance.now?e.creationTime=ge.performance.now():ge.performance&&ge.performance.timing&&"number"==typeof ge.performance.timing.navigationStart&&(e.creationTime=ge.Date.now()-ge.performance.timing.navigationStart),e},t}(_i);if(h()){Qn.TEST_VID=ve.createElement("video");var Kn=ve.createElement("track");Kn.kind="captions",Kn.srclang="en",Kn.label="English",Qn.TEST_VID.appendChild(Kn)}Qn.isSupported=function(){try{Qn.TEST_VID.volume=.5}catch(e){return!1}return!(!Qn.TEST_VID||!Qn.TEST_VID.canPlayType)},Qn.canPlayType=function(e){return Qn.TEST_VID.canPlayType(e)},Qn.canPlaySource=function(e,t){return Qn.canPlayType(e.type)},Qn.canControlVolume=function(){try{var e=Qn.TEST_VID.volume;return Qn.TEST_VID.volume=e/2+.1,e!==Qn.TEST_VID.volume}catch(e){return!1}},Qn.canControlPlaybackRate=function(){if(je&&Ne&&Be<58)return!1;try{var e=Qn.TEST_VID.playbackRate;return Qn.TEST_VID.playbackRate=e/2+.1,e!==Qn.TEST_VID.playbackRate}catch(e){return!1}},Qn.canOverrideAttributes=function(){if(Fe)return!1;try{var e=function(){};Object.defineProperty(ve.createElement("video"),"src",{get:e,set:e}),Object.defineProperty(ve.createElement("audio"),"src",{get:e,set:e}),Object.defineProperty(ve.createElement("video"),"innerHTML",{get:e,set:e}),Object.defineProperty(ve.createElement("audio"),"innerHTML",{get:e,set:e})}catch(e){return!1}return!0},Qn.supportsNativeTextTracks=function(){return He},Qn.supportsNativeVideoTracks=function(){return!(!Qn.TEST_VID||!Qn.TEST_VID.videoTracks)},Qn.supportsNativeAudioTracks=function(){return!(!Qn.TEST_VID||!Qn.TEST_VID.audioTracks)},Qn.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"],Qn.prototype.featuresVolumeControl=Qn.canControlVolume(),Qn.prototype.featuresPlaybackRate=Qn.canControlPlaybackRate(),Qn.prototype.featuresSourceset=Qn.canOverrideAttributes(),Qn.prototype.movingMediaElementInDOM=!Oe,Qn.prototype.featuresFullscreenResize=!0,Qn.prototype.featuresProgressEvents=!0,Qn.prototype.featuresTimeupdateEvents=!0,Qn.prototype.featuresNativeTextTracks=Qn.supportsNativeTextTracks(),Qn.prototype.featuresNativeVideoTracks=Qn.supportsNativeVideoTracks(),Qn.prototype.featuresNativeAudioTracks=Qn.supportsNativeAudioTracks();var Zn=Qn.TEST_VID&&Qn.TEST_VID.constructor.prototype.canPlayType,Jn=/^application\/(?:x-|vnd\.apple\.)mpegurl/i,$n=/^video\/mp4/i;Qn.patchCanPlayType=function(){Ie>=4&&!De&&!Ne?Qn.TEST_VID.constructor.prototype.canPlayType=function(e){return e&&Jn.test(e)?"maybe":Zn.call(this,e)}:Me&&(Qn.TEST_VID.constructor.prototype.canPlayType=function(e){return e&&$n.test(e)?"maybe":Zn.call(this,e)})},Qn.unpatchCanPlayType=function(){var e=Qn.TEST_VID.constructor.prototype.canPlayType;return Qn.TEST_VID.constructor.prototype.canPlayType=Zn,e},Qn.patchCanPlayType(),Qn.disposeMediaElement=function(e){if(e){for(e.parentNode&&e.parentNode.removeChild(e);e.hasChildNodes();)e.removeChild(e.firstChild);e.removeAttribute("src"),"function"==typeof e.load&&function(){try{e.load()}catch(e){}}()}},Qn.resetMediaElement=function(e){if(e){for(var t=e.querySelectorAll("source"),i=t.length;i--;)e.removeChild(t[i]);e.removeAttribute("src"),"function"==typeof e.load&&function(){try{e.load()}catch(e){}}()}},["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(e){Qn.prototype[e]=function(){return this.el_[e]||this.el_.hasAttribute(e)}}),["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(e){Qn.prototype["set"+J(e)]=function(t){this.el_[e]=t,t?this.el_.setAttribute(e,e):this.el_.removeAttribute(e)}}),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","played","networkState","readyState","videoWidth","videoHeight"].forEach(function(e){Qn.prototype[e]=function(){return this.el_[e]}}),["volume","src","poster","preload","playbackRate","defaultPlaybackRate"].forEach(function(e){Qn.prototype["set"+J(e)]=function(t){this.el_[e]=t}}),["pause","load","play"].forEach(function(e){Qn.prototype[e]=function(){return this.el_[e]()}}),_i.withSourceHandlers(Qn),Qn.nativeSourceHandler={},Qn.nativeSourceHandler.canPlayType=function(e){try{return Qn.TEST_VID.canPlayType(e)}catch(e){return""}},Qn.nativeSourceHandler.canHandleSource=function(e,t){if(e.type)return Qn.nativeSourceHandler.canPlayType(e.type);if(e.src){var i=oi(e.src);return Qn.nativeSourceHandler.canPlayType("video/"+i)}return""},Qn.nativeSourceHandler.handleSource=function(e,t,i){t.setSrc(e.src)},Qn.nativeSourceHandler.dispose=function(){},Qn.registerSourceHandler(Qn.nativeSourceHandler),_i.registerTech("Html5",Qn);var er=Ke(["\n        Using the tech directly can be dangerous. I hope you know what you're doing.\n        See https://github.com/videojs/video.js/issues/2617 for more info.\n      "],["\n        Using the tech directly can be dangerous. I hope you know what you're doing.\n        See https://github.com/videojs/video.js/issues/2617 for more info.\n      "]),tr=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],ir={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},nr=function(e){function t(i,n,r){if(Ye(this,t),i.id=i.id||n.id||"vjs_video_"+B(),(n=a(t.getTagSettings(i),n)).initChildren=!1,n.createEl=!1,n.evented=!1,n.reportTouchActivity=!1,!n.language)if("function"==typeof i.closest){var o=i.closest("[lang]");o&&o.getAttribute&&(n.language=o.getAttribute("lang"))}else for(var s=i;s&&1===s.nodeType;){if(w(s).hasOwnProperty("lang")){n.language=s.getAttribute("lang");break}s=s.parentNode}var l=Qe(this,e.call(this,null,n,r));if(l.isPosterFromTech_=!1,l.queuedCallbacks_=[],l.isReady_=!1,l.hasStarted_=!1,l.userActive_=!1,!l.options_||!l.options_.techOrder||!l.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(l.tag=i,l.tagAttributes=i&&w(i),l.language(l.options_.language),n.languages){var c={};Object.getOwnPropertyNames(n.languages).forEach(function(e){c[e.toLowerCase()]=n.languages[e]}),l.languages_=c}else l.languages_=t.prototype.options_.languages;l.cache_={},l.poster_=n.poster||"",l.controls_=!!n.controls,l.cache_.lastVolume=1,i.controls=!1,i.removeAttribute("controls"),l.scrubbing_=!1,l.el_=l.createEl(),l.cache_.lastPlaybackRate=l.defaultPlaybackRate(),K(l,{eventBusKey:"el_"});var u=$(l.options_);if(n.plugins){var h=n.plugins;Object.keys(h).forEach(function(e){if("function"!=typeof this[e])throw new Error('plugin "'+e+'" does not exist');this[e](h[e])},l)}l.options_.playerOptions=u,l.middleware_=[],l.initChildren(),l.isAudio("audio"===i.nodeName.toLowerCase()),l.controls()?l.addClass("vjs-controls-enabled"):l.addClass("vjs-controls-disabled"),l.el_.setAttribute("role","region"),l.isAudio()?l.el_.setAttribute("aria-label",l.localize("Audio Player")):l.el_.setAttribute("aria-label",l.localize("Video Player")),l.isAudio()&&l.addClass("vjs-audio"),l.flexNotSupported_()&&l.addClass("vjs-no-flex"),Oe||l.addClass("vjs-workinghover"),t.players[l.id_]=l;var d=Ee.split(".")[0];return l.addClass("vjs-v"+d),l.userActive(!0),l.reportUserActivity(),l.one("play",l.listenForUserActivity_),l.on("fullscreenchange",l.handleFullscreenChange_),l.on("stageclick",l.handleStageClick_),l.changingSrc_=!1,l.playWaitingForReady_=!1,l.playOnLoadstart_=null,l}return Xe(t,e),t.prototype.dispose=function(){this.trigger("dispose"),this.off("dispose"),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),t.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),Ei[this.id()]=null,e.prototype.dispose.call(this)},t.prototype.createEl=function(){var t=this.tag,i=void 0,n=this.playerElIngest_=t.parentNode&&t.parentNode.hasAttribute&&t.parentNode.hasAttribute("data-vjs-player"),r="video-js"===this.tag.tagName.toLowerCase();n?i=this.el_=t.parentNode:r||(i=this.el_=e.prototype.createEl.call(this,"div"));var a=w(t);if(r){for(i=this.el_=t,t=this.tag=ve.createElement("video");i.children.length;)t.appendChild(i.firstChild);y(i,"video-js")||b(i,"video-js"),i.appendChild(t),n=this.playerElIngest_=i}if(t.setAttribute("tabindex","-1"),t.removeAttribute("width"),t.removeAttribute("height"),Object.getOwnPropertyNames(a).forEach(function(e){"class"===e?(i.className+=" "+a[e],r&&(t.className+=" "+a[e])):(i.setAttribute(e,a[e]),r&&t.setAttribute(e,a[e]))}),t.playerId=t.id,t.id+="_html5_api",t.className="vjs-tech",t.player=i.player=this,this.addClass("vjs-paused"),!0!==ge.VIDEOJS_NO_DYNAMIC_STYLE){this.styleEl_=vt("vjs-styles-dimensions");var o=at(".vjs-styles-defaults"),s=at("head");s.insertBefore(this.styleEl_,o?o.nextSibling:s.firstChild)}this.width(this.options_.width),this.height(this.options_.height),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio);for(var l=t.getElementsByTagName("a"),c=0;c<l.length;c++){var u=l.item(c);b(u,"vjs-hidden"),u.setAttribute("hidden","hidden")}return t.initNetworkState_=t.networkState,t.parentNode&&!n&&t.parentNode.insertBefore(i,t),v(t,i),this.children_.unshift(t),this.el_.setAttribute("lang",this.language_),this.el_=i,i},t.prototype.width=function(e){return this.dimension("width",e)},t.prototype.height=function(e){return this.dimension("height",e)},t.prototype.dimension=function(e,t){var i=e+"_";if(void 0===t)return this[i]||0;if(""===t)return this[i]=void 0,void this.updateStyleEl_();var n=parseFloat(t);isNaN(n)?nt.error('Improper value "'+t+'" supplied for for '+e):(this[i]=n,this.updateStyleEl_())},t.prototype.fluid=function(e){if(void 0===e)return!!this.fluid_;this.fluid_=!!e,e?this.addClass("vjs-fluid"):this.removeClass("vjs-fluid"),this.updateStyleEl_()},t.prototype.aspectRatio=function(e){if(void 0===e)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(e))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=e,this.fluid(!0),this.updateStyleEl_()},t.prototype.updateStyleEl_=function(){if(!0!==ge.VIDEOJS_NO_DYNAMIC_STYLE){var e=void 0,t=void 0,i=void 0,n=(void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:this.videoWidth()>0?this.videoWidth()+":"+this.videoHeight():"16:9").split(":"),r=n[1]/n[0];e=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/r:this.videoWidth()||300,t=void 0!==this.height_?this.height_:e*r,i=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(i),yt(this.styleEl_,"\n      ."+i+" {\n        width: "+e+"px;\n        height: "+t+"px;\n      }\n\n      ."+i+".vjs-fluid {\n        padding-top: "+100*r+"%;\n      }\n    ")}else{var a="number"==typeof this.width_?this.width_:this.options_.width,o="number"==typeof this.height_?this.height_:this.options_.height,s=this.tech_&&this.tech_.el();s&&(a>=0&&(s.width=a),o>=0&&(s.height=o))}},t.prototype.loadTech_=function(e,t){var i=this;this.tech_&&this.unloadTech_();var n=J(e),r=e.charAt(0).toLowerCase()+e.slice(1);"Html5"!==n&&this.tag&&(_i.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=n,this.isReady_=!1;var o={source:t,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+n+"_api",autoplay:this.options_.autoplay,playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset};bi.names.forEach(function(e){var t=bi[e];o[t.getterName]=i[t.privateName]}),a(o,this.options_[n]),a(o,this.options_[r]),a(o,this.options_[e.toLowerCase()]),this.tag&&(o.tag=this.tag),t&&t.src===this.cache_.src&&this.cache_.currentTime>0&&(o.startTime=this.cache_.currentTime);var s=_i.getTech(e);if(!s)throw new Error("No Tech named '"+n+"' exists! '"+n+"' should be registered using videojs.registerTech()'");this.tech_=new s(o),this.tech_.ready(bt(this,this.handleTechReady_),!0),Ht(this.textTracksJson_||[],this.tech_),tr.forEach(function(e){i.on(i.tech_,e,i["handleTech"+J(e)+"_"])}),Object.keys(ir).forEach(function(e){i.on(i.tech_,e,function(t){0===i.tech_.playbackRate()&&i.tech_.seeking()?i.queuedCallbacks_.push({callback:i["handleTech"+ir[e]+"_"].bind(i),event:t}):i["handleTech"+ir[e]+"_"](t)})}),this.on(this.tech_,"loadstart",this.handleTechLoadStart_),this.on(this.tech_,"sourceset",this.handleTechSourceset_),this.on(this.tech_,"waiting",this.handleTechWaiting_),this.on(this.tech_,"ended",this.handleTechEnded_),this.on(this.tech_,"seeking",this.handleTechSeeking_),this.on(this.tech_,"play",this.handleTechPlay_),this.on(this.tech_,"firstplay",this.handleTechFirstPlay_),this.on(this.tech_,"pause",this.handleTechPause_),this.on(this.tech_,"durationchange",this.handleTechDurationChange_),this.on(this.tech_,"fullscreenchange",this.handleTechFullscreenChange_),this.on(this.tech_,"error",this.handleTechError_),this.on(this.tech_,"loadedmetadata",this.updateStyleEl_),this.on(this.tech_,"posterchange",this.handleTechPosterChange_),this.on(this.tech_,"textdata",this.handleTechTextData_),this.on(this.tech_,"ratechange",this.handleTechRateChange_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||"Html5"===n&&this.tag||v(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},t.prototype.unloadTech_=function(){var e=this;bi.names.forEach(function(t){var i=bi[t];e[i.privateName]=e[i.getterName]()}),this.textTracksJson_=zt(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1},t.prototype.tech=function(e){return void 0===e&&nt.warn(ye(er)),this.tech_},t.prototype.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"mousedown",this.handleTechClick_),this.on(this.tech_,"touchstart",this.handleTechTouchStart_),this.on(this.tech_,"touchmove",this.handleTechTouchMove_),this.on(this.tech_,"touchend",this.handleTechTouchEnd_),this.on(this.tech_,"tap",this.handleTechTap_)},t.prototype.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.handleTechTap_),this.off(this.tech_,"touchstart",this.handleTechTouchStart_),this.off(this.tech_,"touchmove",this.handleTechTouchMove_),this.off(this.tech_,"touchend",this.handleTechTouchEnd_),this.off(this.tech_,"mousedown",this.handleTechClick_)},t.prototype.handleTechReady_=function(){if(this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_(),(this.src()||this.currentSrc())&&this.tag&&this.options_.autoplay&&this.paused())try{delete this.tag.poster}catch(e){nt("deleting tag.poster throws in some browsers",e)}},t.prototype.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay"))},t.prototype.handleTechSourceset_=function(e){this.trigger({src:e.src,type:"sourceset"})},t.prototype.hasStarted=function(e){if(void 0===e)return this.hasStarted_;e!==this.hasStarted_&&(this.hasStarted_=e,this.hasStarted_?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started"))},t.prototype.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},t.prototype.handleTechRateChange_=function(){this.tech_.playbackRate()>0&&0===this.cache_.lastPlaybackRate&&(this.queuedCallbacks_.forEach(function(e){return e.callback(e.event)}),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")},t.prototype.handleTechWaiting_=function(){var e=this;this.addClass("vjs-waiting"),this.trigger("waiting"),this.one("timeupdate",function(){return e.removeClass("vjs-waiting")})},t.prototype.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},t.prototype.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},t.prototype.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},t.prototype.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},t.prototype.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.trigger("seeked")},t.prototype.handleTechFirstPlay_=function(){this.options_.starttime&&(nt.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},t.prototype.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},t.prototype.handleTechEnded_=function(){this.addClass("vjs-ended"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},t.prototype.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},t.prototype.handleTechClick_=function(e){N(e)&&this.controls_&&(this.paused()?this.play():this.pause())},t.prototype.handleTechTap_=function(){this.userActive(!this.userActive())},t.prototype.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},t.prototype.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},t.prototype.handleTechTouchEnd_=function(e){e.preventDefault()},t.prototype.handleFullscreenChange_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},t.prototype.handleStageClick_=function(){this.reportUserActivity()},t.prototype.handleTechFullscreenChange_=function(e,t){t&&this.isFullscreen(t.isFullscreen),this.trigger("fullscreenchange")},t.prototype.handleTechError_=function(){var e=this.tech_.error();this.error(e)},t.prototype.handleTechTextData_=function(){var e=null;arguments.length>1&&(e=arguments[1]),this.trigger("textdata",e)},t.prototype.getCache=function(){return this.cache_},t.prototype.techCall_=function(e,t){this.ready(function(){if(e in Ti)return function(e,t,i,n){return t[i](e.reduce(ce(i),n))}(this.middleware_,this.tech_,e,t);if(e in Si)return le(this.middleware_,this.tech_,e,t);try{this.tech_&&this.tech_[e](t)}catch(e){throw nt(e),e}},!0)},t.prototype.techGet_=function(e){if(this.tech_&&this.tech_.isReady_){if(e in xi)return function(e,t,i){return e.reduceRight(ce(i),t[i]())}(this.middleware_,this.tech_,e);if(e in Si)return le(this.middleware_,this.tech_,e);try{return this.tech_[e]()}catch(t){if(void 0===this.tech_[e])throw nt("Video.js: "+e+" method not defined for "+this.techName_+" playback technology.",t),t;if("TypeError"===t.name)throw nt("Video.js: "+e+" unavailable on "+this.techName_+" playback technology element.",t),this.tech_.isReady_=!1,t;throw nt(t),t}}},t.prototype.play=function(){var e=this;if(this.playOnLoadstart_&&this.off("loadstart",this.playOnLoadstart_),this.isReady_){if(!this.changingSrc_&&(this.src()||this.currentSrc()))return this.techGet_("play");this.playOnLoadstart_=function(){e.playOnLoadstart_=null,oe(e.play())},this.one("loadstart",this.playOnLoadstart_)}else{if(this.playWaitingForReady_)return;this.playWaitingForReady_=!0,this.ready(function(){e.playWaitingForReady_=!1,oe(e.play())})}},t.prototype.pause=function(){this.techCall_("pause")},t.prototype.paused=function(){return!1!==this.techGet_("paused")},t.prototype.played=function(){return this.techGet_("played")||ie(0,0)},t.prototype.scrubbing=function(e){if(void 0===e)return this.scrubbing_;this.scrubbing_=!!e,e?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")},t.prototype.currentTime=function(e){return void 0!==e?(e<0&&(e=0),void this.techCall_("setCurrentTime",e)):(this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime)},t.prototype.duration=function(e){if(void 0===e)return void 0!==this.cache_.duration?this.cache_.duration:NaN;(e=parseFloat(e))<0&&(e=1/0),e!==this.cache_.duration&&(this.cache_.duration=e,e===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),this.trigger("durationchange"))},t.prototype.remainingTime=function(){return this.duration()-this.currentTime()},t.prototype.remainingTimeDisplay=function(){return Math.floor(this.duration())-Math.floor(this.currentTime())},t.prototype.buffered=function(){var e=this.techGet_("buffered");return e&&e.length||(e=ie(0,0)),e},t.prototype.bufferedPercent=function(){return ne(this.buffered(),this.duration())},t.prototype.bufferedEnd=function(){var e=this.buffered(),t=this.duration(),i=e.end(e.length-1);return i>t&&(i=t),i},t.prototype.volume=function(e){var t=void 0;return void 0!==e?(t=Math.max(0,Math.min(1,parseFloat(e))),this.cache_.volume=t,this.techCall_("setVolume",t),void(t>0&&this.lastVolume_(t))):(t=parseFloat(this.techGet_("volume")),isNaN(t)?1:t)},t.prototype.muted=function(e){if(void 0===e)return this.techGet_("muted")||!1;this.techCall_("setMuted",e)},t.prototype.defaultMuted=function(e){return void 0!==e?this.techCall_("setDefaultMuted",e):this.techGet_("defaultMuted")||!1},t.prototype.lastVolume_=function(e){if(void 0===e||0===e)return this.cache_.lastVolume;this.cache_.lastVolume=e},t.prototype.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},t.prototype.isFullscreen=function(e){if(void 0===e)return!!this.isFullscreen_;this.isFullscreen_=!!e},t.prototype.requestFullscreen=function(){var e=Mt;this.isFullscreen(!0),e.requestFullscreen?(q(ve,e.fullscreenchange,bt(this,function t(i){this.isFullscreen(ve[e.fullscreenElement]),!1===this.isFullscreen()&&W(ve,e.fullscreenchange,t),this.trigger("fullscreenchange")})),this.el_[e.requestFullscreen]()):this.tech_.supportsFullScreen()?this.techCall_("enterFullScreen"):(this.enterFullWindow(),this.trigger("fullscreenchange"))},t.prototype.exitFullscreen=function(){var e=Mt;this.isFullscreen(!1),e.requestFullscreen?ve[e.exitFullscreen]():this.tech_.supportsFullScreen()?this.techCall_("exitFullScreen"):(this.exitFullWindow(),this.trigger("fullscreenchange"))},t.prototype.enterFullWindow=function(){this.isFullWindow=!0,this.docOrigOverflow=ve.documentElement.style.overflow,q(ve,"keydown",bt(this,this.fullWindowOnEscKey)),ve.documentElement.style.overflow="hidden",b(ve.body,"vjs-full-window"),this.trigger("enterFullWindow")},t.prototype.fullWindowOnEscKey=function(e){27===e.keyCode&&(!0===this.isFullscreen()?this.exitFullscreen():this.exitFullWindow())},t.prototype.exitFullWindow=function(){this.isFullWindow=!1,W(ve,"keydown",this.fullWindowOnEscKey),ve.documentElement.style.overflow=this.docOrigOverflow,_(ve.body,"vjs-full-window"),this.trigger("exitFullWindow")},t.prototype.canPlayType=function(e){for(var t=void 0,i=0,n=this.options_.techOrder;i<n.length;i++){var r=n[i],a=_i.getTech(r);if(a||(a=It.getComponent(r)),a){if(a.isSupported()&&(t=a.canPlayType(e)))return t}else nt.error('The "'+r+'" tech is undefined. Skipped browser support check for that tech.')}return""},t.prototype.selectSource=function(e){var t,i=this,n=this.options_.techOrder.map(function(e){return[e,_i.getTech(e)]}).filter(function(e){var t=e[0],i=e[1];return i?i.isSupported():(nt.error('The "'+t+'" tech is undefined. Skipped browser support check for that tech.'),!1)}),r=function(e,t,i){var n=void 0;return e.some(function(e){return t.some(function(t){if(n=i(e,t))return!0})}),n},a=function(e,t){var n=e[0];if(e[1].canPlaySource(t,i.options_[n.toLowerCase()]))return{source:t,tech:n}};return(this.options_.sourceOrder?r(e,n,(t=a,function(e,i){return t(i,e)})):r(n,e,a))||!1},t.prototype.src=function(e){var t=this;if(void 0===e)return this.cache_.src||"";var i=function e(t){if(Array.isArray(t)){var i=[];t.forEach(function(t){t=e(t),Array.isArray(t)?i=i.concat(t):o(t)&&i.push(t)}),t=i}else t="string"==typeof t&&t.trim()?[ue({src:t})]:o(t)&&"string"==typeof t.src&&t.src&&t.src.trim()?[ue(t)]:[];return t}(e);i.length?(this.cache_.sources=i,this.changingSrc_=!0,this.cache_.source=i[0],se(this,i[0],function(e,n){var r,a;if(t.middleware_=n,t.src_(e))return i.length>1?t.src(i.slice(1)):(t.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0),void t.triggerReady());t.changingSrc_=!1,t.cache_.src=e.src,r=n,a=t.tech_,r.forEach(function(e){return e.setTech&&e.setTech(a)})})):this.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0)},t.prototype.src_=function(e){var t,i,n=this.selectSource([e]);return!n||(t=n.tech,i=this.techName_,J(t)!==J(i)?(this.changingSrc_=!0,this.loadTech_(n.tech,n.source),!1):(this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",e):this.techCall_("src",e.src)},!0),!1))},t.prototype.load=function(){this.techCall_("load")},t.prototype.reset=function(){this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset")},t.prototype.currentSources=function(){var e=this.currentSource(),t=[];return 0!==Object.keys(e).length&&t.push(e),this.cache_.sources||t},t.prototype.currentSource=function(){return this.cache_.source||{}},t.prototype.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""},t.prototype.currentType=function(){return this.currentSource()&&this.currentSource().type||""},t.prototype.preload=function(e){return void 0!==e?(this.techCall_("setPreload",e),void(this.options_.preload=e)):this.techGet_("preload")},t.prototype.autoplay=function(e){return void 0!==e?(this.techCall_("setAutoplay",e),void(this.options_.autoplay=e)):this.techGet_("autoplay",e)},t.prototype.playsinline=function(e){return void 0!==e?(this.techCall_("setPlaysinline",e),this.options_.playsinline=e,this):this.techGet_("playsinline")},t.prototype.loop=function(e){return void 0!==e?(this.techCall_("setLoop",e),void(this.options_.loop=e)):this.techGet_("loop")},t.prototype.poster=function(e){if(void 0===e)return this.poster_;e||(e=""),e!==this.poster_&&(this.poster_=e,this.techCall_("setPoster",e),this.isPosterFromTech_=!1,this.trigger("posterchange"))},t.prototype.handleTechPosterChange_=function(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){var e=this.tech_.poster()||"";e!==this.poster_&&(this.poster_=e,this.isPosterFromTech_=!0,this.trigger("posterchange"))}},t.prototype.controls=function(e){if(void 0===e)return!!this.controls_;e=!!e,this.controls_!==e&&(this.controls_=e,this.usingNativeControls()&&this.techCall_("setControls",e),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))},t.prototype.usingNativeControls=function(e){if(void 0===e)return!!this.usingNativeControls_;e=!!e,this.usingNativeControls_!==e&&(this.usingNativeControls_=e,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))},t.prototype.error=function(e){return void 0===e?this.error_||null:null===e?(this.error_=e,this.removeClass("vjs-error"),void(this.errorDisplay&&this.errorDisplay.close())):(this.error_=new re(e),this.addClass("vjs-error"),nt.error("(CODE:"+this.error_.code+" "+re.errorTypes[this.error_.code]+")",this.error_.message,this.error_),void this.trigger("error"))},t.prototype.reportUserActivity=function(e){this.userActivity_=!0},t.prototype.userActive=function(e){if(void 0===e)return this.userActive_;if((e=!!e)!==this.userActive_){if(this.userActive_=e,this.userActive_)return this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),void this.trigger("useractive");this.tech_&&this.tech_.one("mousemove",function(e){e.stopPropagation(),e.preventDefault()}),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}},t.prototype.listenForUserActivity_=function(){var e=void 0,t=void 0,i=void 0,n=bt(this,this.reportUserActivity);this.on("mousedown",function(){n(),this.clearInterval(e),e=this.setInterval(n,250)}),this.on("mousemove",function(e){e.screenX===t&&e.screenY===i||(t=e.screenX,i=e.screenY,n())}),this.on("mouseup",function(t){n(),this.clearInterval(e)}),this.on("keydown",n),this.on("keyup",n);var r=void 0;this.setInterval(function(){if(this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(r);var e=this.options_.inactivityTimeout;e<=0||(r=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},e))}},250)},t.prototype.playbackRate=function(e){if(void 0===e)return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1;this.techCall_("setPlaybackRate",e)},t.prototype.defaultPlaybackRate=function(e){return void 0!==e?this.techCall_("setDefaultPlaybackRate",e):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1},t.prototype.isAudio=function(e){if(void 0===e)return!!this.isAudio_;this.isAudio_=!!e},t.prototype.addTextTrack=function(e,t,i){if(this.tech_)return this.tech_.addTextTrack(e,t,i)},t.prototype.addRemoteTextTrack=function(e,t){if(this.tech_)return this.tech_.addRemoteTextTrack(e,t)},t.prototype.removeRemoteTextTrack=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).track,t=void 0===e?arguments[0]:e;if(this.tech_)return this.tech_.removeRemoteTextTrack(t)},t.prototype.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},t.prototype.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},t.prototype.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},t.prototype.language=function(e){if(void 0===e)return this.language_;this.language_=String(e).toLowerCase()},t.prototype.languages=function(){return $(t.prototype.options_.languages,this.languages_)},t.prototype.toJSON=function(){var e=$(this.options_),t=e.tracks;e.tracks=[];for(var i=0;i<t.length;i++){var n=t[i];(n=$(n)).player=void 0,e.tracks[i]=n}return e},t.prototype.createModal=function(e,t){var i=this;(t=t||{}).content=e||"";var n=new Gt(this,t);return this.addChild(n),n.on("dispose",function(){i.removeChild(n)}),n.open(),n},t.getTagSettings=function(e){var t={sources:[],tracks:[]},i=w(e),n=i["data-setup"];if(y(e,"vjs-fluid")&&(i.fluid=!0),null!==n){var r=be(n||"{}"),o=r[0],s=r[1];o&&nt.error(o),a(i,s)}if(a(t,i),e.hasChildNodes())for(var l=e.childNodes,c=0,u=l.length;c<u;c++){var h=l[c],d=h.nodeName.toLowerCase();"source"===d?t.sources.push(w(h)):"track"===d&&t.tracks.push(w(h))}return t},t.prototype.flexNotSupported_=function(){var e=ve.createElement("i");return!("flexBasis"in e.style||"webkitFlexBasis"in e.style||"mozFlexBasis"in e.style||"msFlexBasis"in e.style||"msFlexOrder"in e.style)},t}(It);bi.names.forEach(function(e){var t=bi[e];nr.prototype[t.getterName]=function(){return this.tech_?this.tech_[t.getterName]():(this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName])}}),nr.players={};var rr=ge.navigator;nr.prototype.options_={techOrder:_i.defaultTechOrder_,html5:{},flash:{},inactivityTimeout:2e3,playbackRates:[],children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","controlBar","errorDisplay","textTrackSettings"],language:rr&&(rr.languages&&rr.languages[0]||rr.userLanguage||rr.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media."},Fe||nr.prototype.options_.children.push("resizeManager"),["ended","seeking","seekable","networkState","readyState"].forEach(function(e){nr.prototype[e]=function(){return this.techGet_(e)}}),tr.forEach(function(e){nr.prototype["handleTech"+J(e)+"_"]=function(){return this.trigger(e)}}),It.registerComponent("Player",nr);var ar={},or=function(e){return ar.hasOwnProperty(e)},sr=function(e){return or(e)?ar[e]:void 0},lr=function(e,t){e.activePlugins_=e.activePlugins_||{},e.activePlugins_[t]=!0},cr=function(e,t,i){var n=(i?"before":"")+"pluginsetup";e.trigger(n,t),e.trigger(n+":"+t.name,t)},ur=function(e,t){return t.prototype.name=e,function(){cr(this,{name:e,plugin:t,instance:null},!0);for(var i=arguments.length,n=Array(i),r=0;r<i;r++)n[r]=arguments[r];var a=new(Function.prototype.bind.apply(t,[null].concat([this].concat(n))));return this[e]=function(){return a},cr(this,a.getEventHash()),a}},hr=function(){function e(t){if(Ye(this,e),this.constructor===e)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=t,K(this),delete this.trigger,Z(this,this.constructor.defaultState),lr(t,this.name),this.dispose=bt(this,this.dispose),t.on("dispose",this.dispose)}return e.prototype.version=function(){return this.constructor.VERSION},e.prototype.getEventHash=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.name=this.name,e.plugin=this.constructor,e.instance=this,e},e.prototype.trigger=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Y(this.eventBusEl_,e,this.getEventHash(t))},e.prototype.handleStateChanged=function(e){},e.prototype.dispose=function(){var e=this.name,t=this.player;this.trigger("dispose"),this.off(),t.off("dispose",this.dispose),t.activePlugins_[e]=!1,this.player=this.state=null,t[e]=ur(e,ar[e])},e.isBasic=function(t){var i="string"==typeof t?sr(t):t;return"function"==typeof i&&!e.prototype.isPrototypeOf(i.prototype)},e.registerPlugin=function(t,i){if("string"!=typeof t)throw new Error('Illegal plugin name, "'+t+'", must be a string, was '+(void 0===t?"undefined":We(t))+".");if(or(t))nt.warn('A plugin named "'+t+'" already exists. You may want to avoid re-registering plugins!');else if(nr.prototype.hasOwnProperty(t))throw new Error('Illegal plugin name, "'+t+'", cannot share a name with an existing player method!');if("function"!=typeof i)throw new Error('Illegal plugin for "'+t+'", must be a function, was '+(void 0===i?"undefined":We(i))+".");return ar[t]=i,"plugin"!==t&&(e.isBasic(i)?nr.prototype[t]=function(e,t){var i=function(){cr(this,{name:e,plugin:t,instance:null},!0);var i=t.apply(this,arguments);return lr(this,e),cr(this,{name:e,plugin:t,instance:i}),i};return Object.keys(t).forEach(function(e){i[e]=t[e]}),i}(t,i):nr.prototype[t]=ur(t,i)),i},e.deregisterPlugin=function(e){if("plugin"===e)throw new Error("Cannot de-register base plugin.");or(e)&&(delete ar[e],delete nr.prototype[e])},e.getPlugins=function(){var e=void 0;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object.keys(ar)).forEach(function(t){var i=sr(t);i&&((e=e||{})[t]=i)}),e},e.getPluginVersion=function(e){var t=sr(e);return t&&t.VERSION||""},e}();hr.getPlugin=sr,hr.BASE_PLUGIN_NAME="plugin",hr.registerPlugin("plugin",hr),nr.prototype.usingPlugin=function(e){return!!this.activePlugins_&&!0===this.activePlugins_[e]},nr.prototype.hasPlugin=function(e){return!!or(e)},"undefined"==typeof HTMLVideoElement&&h()&&(ve.createElement("video"),ve.createElement("audio"),ve.createElement("track"),ve.createElement("video-js"));var dr=function(e){return 0===e.indexOf("#")?e.slice(1):e};if(fe.hooks_={},fe.hooks=function(e,t){return fe.hooks_[e]=fe.hooks_[e]||[],t&&(fe.hooks_[e]=fe.hooks_[e].concat(t)),fe.hooks_[e]},fe.hook=function(e,t){fe.hooks(e,t)},fe.hookOnce=function(e,t){fe.hooks(e,[].concat(t).map(function(t){return function i(){return fe.removeHook(e,i),t.apply(void 0,arguments)}}))},fe.removeHook=function(e,t){var i=fe.hooks(e).indexOf(t);return!(i<=-1)&&(fe.hooks_[e]=fe.hooks_[e].slice(),fe.hooks_[e].splice(i,1),!0)},!0!==ge.VIDEOJS_NO_DYNAMIC_STYLE&&h()){var pr=at(".vjs-styles-defaults");if(!pr){pr=vt("vjs-styles-defaults");var fr=at("head");fr&&fr.insertBefore(pr,fr.firstChild),yt(pr,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ")}}Q(1,fe),fe.VERSION=Ee,fe.options=nr.prototype.options_,fe.getPlayers=function(){return nr.players},fe.getPlayer=function(e){var t=nr.players,i=void 0;if("string"==typeof e){var n=dr(e),r=t[n];if(r)return r;i=at("#"+n)}else i=e;if(d(i)){var a=i,o=a.player,s=a.playerId;if(o||t[s])return o||t[s]}},fe.getAllPlayers=function(){return Object.keys(nr.players).map(function(e){return nr.players[e]}).filter(Boolean)},fe.players=nr.players,fe.getComponent=It.getComponent,fe.registerComponent=function(e,t){_i.isTech(t)&&nt.warn("The "+e+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),It.registerComponent.call(It,e,t)},fe.getTech=_i.getTech,fe.registerTech=_i.registerTech,fe.use=function(e,t){Ai[e]=Ai[e]||[],Ai[e].push(t)},!Fe&&Object.defineProperty?(Object.defineProperty(fe,"middleware",{value:{},writeable:!1,enumerable:!0}),Object.defineProperty(fe.middleware,"TERMINATOR",{value:wi,writeable:!1,enumerable:!0})):fe.middleware={TERMINATOR:wi},fe.browser=qe,fe.TOUCH_ENABLED=Ve,fe.extend=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=function(){e.apply(this,arguments)},n={};for(var r in"object"===(void 0===t?"undefined":We(t))?(t.constructor!==Object.prototype.constructor&&(i=t.constructor),n=t):"function"==typeof t&&(i=t),function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":We(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.super_=t)}(i,e),n)n.hasOwnProperty(r)&&(i.prototype[r]=n[r]);return i},fe.mergeOptions=$,fe.bind=bt,fe.registerPlugin=hr.registerPlugin,fe.plugin=function(e,t){return nt.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),hr.registerPlugin(e,t)},fe.getPlugins=hr.getPlugins,fe.getPlugin=hr.getPlugin,fe.getPluginVersion=hr.getPluginVersion,fe.addLanguage=function(e,t){var i;return e=(""+e).toLowerCase(),fe.options.languages=$(fe.options.languages,((i={})[e]=t,i)),fe.options.languages[e]},fe.log=nt,fe.createTimeRange=fe.createTimeRanges=ie,fe.formatTime=Ui,fe.setFormatTime=function(e){Fi=e},fe.resetFormatTime=function(){Fi=Bi},fe.parseUrl=ai,fe.isCrossOrigin=si,fe.EventTarget=Et,fe.on=q,fe.one=X,fe.off=W,fe.trigger=Y,fe.xhr=_e,fe.TextTrack=hi,fe.AudioTrack=di,fe.VideoTrack=pi,["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(function(e){fe[e]=function(){return nt.warn("videojs."+e+"() is deprecated; use videojs.dom."+e+"() instead"),st[e].apply(null,arguments)}}),fe.computedStyle=l,fe.dom=st,fe.url=li,e.exports=fe},function(e,t,i){(function(t){var i;i="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},e.exports=i}).call(this,i(39))},function(e,t,i){"use strict";var n=function(){this.init=function(){var e={};this.on=function(t,i){e[t]||(e[t]=[]),e[t]=e[t].concat(i)},this.off=function(t,i){var n;return!!e[t]&&(n=e[t].indexOf(i),e[t]=e[t].slice(),e[t].splice(n,1),n>-1)},this.trigger=function(t){var i,n,r,a;if(i=e[t])if(2===arguments.length)for(r=i.length,n=0;n<r;++n)i[n].call(this,arguments[1]);else{for(a=[],n=arguments.length,n=1;n<arguments.length;++n)a.push(arguments[n]);for(r=i.length,n=0;n<r;++n)i[n].apply(this,a)}},this.dispose=function(){e={}}}};n.prototype.pipe=function(e){return this.on("data",function(t){e.push(t)}),this.on("done",function(t){e.flush(t)}),e},n.prototype.push=function(e){this.trigger("data",e)},n.prototype.flush=function(e){this.trigger("done",e)},e.exports=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=i(0),a=i(1),o=(n=a)&&n.__esModule?n:{default:n},s=function(e,t,i){var n,r;return void 0===t&&(t=e.mediaSequence+e.segments.length),t<e.mediaSequence?0:(n=function(e,t){var i=0,n=t-e.mediaSequence,r=e.segments[n];if(r){if(void 0!==r.start)return{result:r.start,precise:!0};if(void 0!==r.end)return{result:r.end-r.duration,precise:!0}}for(;n--;){if(void 0!==(r=e.segments[n]).end)return{result:i+r.end,precise:!0};if(i+=r.duration,void 0!==r.start)return{result:i+r.start,precise:!0}}return{result:i,precise:!1}}(e,t)).precise?n.result:(r=function(e,t){for(var i=0,n=void 0,r=t-e.mediaSequence;r<e.segments.length;r++){if(void 0!==(n=e.segments[r]).start)return{result:n.start-i,precise:!0};if(i+=n.duration,void 0!==n.end)return{result:n.end-i,precise:!0}}return{result:-1,precise:!1}}(e,t)).precise?r.result:n.result+i},l=function(e,t,i){if(!e)return 0;if("number"!=typeof i&&(i=0),void 0===t){if(e.totalDuration)return e.totalDuration;if(!e.endList)return o.default.Infinity}return s(e,t,i)};t.duration=l;var c=function(e,t,i){var n=0;if(t>i){var r=[i,t];t=r[0],i=r[1]}if(t<0){for(var a=t;a<Math.min(0,i);a++)n+=e.targetDuration;t=0}for(a=t;a<i;a++)n+=e.segments[a].duration;return n};t.sumDurations=c;var u=function(e){if(!e.segments.length)return 0;for(var t=e.segments.length-1,i=e.segments[t].duration||e.targetDuration,n=i+2*e.targetDuration;t--&&!((i+=e.segments[t].duration)>=n););return Math.max(0,t)};t.safeLiveIndex=u;var h=function(e,t,i){if(!e||!e.segments)return null;if(e.endList)return l(e);if(null===t)return null;t=t||0;var n=i?u(e):e.segments.length;return s(e,e.mediaSequence+n,t)};t.playlistEnd=h;var d=function(e,t){var i=t||0,n=h(e,t,!0);return null===n?(0,r.createTimeRange)():(0,r.createTimeRange)(i,n)};t.seekable=d;var p=function(e){return e-Math.floor(e)==0},f=function(e,t){if(p(t))return t+.1*e;for(var i=t.toString().split(".")[1].length,n=1;n<=i;n++){var r=Math.pow(10,n),a=t*r;if(p(a)||n===i)return(a+e)/r}},m=f.bind(null,1),g=f.bind(null,-1),v=function(e,t,i,n){var r=void 0,a=void 0,o=e.segments.length,s=t-n;if(s<0){if(i>0)for(r=i-1;r>=0;r--)if(a=e.segments[r],(s+=g(a.duration))>0)return{mediaIndex:r,startTime:n-c(e,i,r)};return{mediaIndex:0,startTime:t}}if(i<0){for(r=i;r<0;r++)if((s-=e.targetDuration)<0)return{mediaIndex:0,startTime:t};i=0}for(r=i;r<o;r++)if(a=e.segments[r],(s-=m(a.duration))<0)return{mediaIndex:r,startTime:n+c(e,i,r)};return{mediaIndex:o-1,startTime:t}};t.getMediaInfoForTime=v;var y=function(e){return e.excludeUntil&&e.excludeUntil>Date.now()};t.isBlacklisted=y;var b=function(e){return e.excludeUntil&&e.excludeUntil===1/0};t.isIncompatible=b;var _=function(e){var t=y(e);return!e.disabled&&!t};t.isEnabled=_;var A=function(e){return e.disabled};t.isDisabled=A;var E=function(e){for(var t=0;t<e.segments.length;t++)if(e.segments[t].key)return!0;return!1};t.isAes=E;var w=function(e){for(var t=0;t<e.segments.length;t++)if(e.segments[t].map)return!0;return!1};t.isFmp4=w;var x=function(e,t){return t.attributes&&t.attributes[e]};t.hasAttribute=x;var T=function(e,t,i){var n=arguments.length<=3||void 0===arguments[3]?0:arguments[3];return x("BANDWIDTH",i)?(e*i.attributes.BANDWIDTH-8*n)/t:NaN};t.estimateSegmentRequestTime=T;var S=function(e,t){if(1===e.playlists.length)return!0;var i=t.attributes.BANDWIDTH||Number.MAX_VALUE;return 0===e.playlists.filter(function(e){return!!_(e)&&(e.attributes.BANDWIDTH||0)<i}).length};t.isLowestEnabledRendition=S,t.default={duration:l,seekable:d,safeLiveIndex:u,getMediaInfoForTime:v,isEnabled:_,isDisabled:A,isBlacklisted:y,isIncompatible:b,playlistEnd:h,isAes:E,isFmp4:w,hasAttribute:x,estimateSegmentRequestTime:T,isLowestEnabledRendition:S}},function(e,t,i){"use strict";e.exports={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t){return e.start(t)+"-"+e.end(t)},r=function(e,t){var i=e.toString(16);return"00".substring(0,2-i.length)+i+(t%2?" ":"")},a=function(e){return e>=32&&e<126?String.fromCharCode(e):"."},o={hexDump:function(e){for(var t=Array.prototype.slice.call(e),i="",n=0;n<t.length/16;n++)i+=t.slice(16*n,16*n+16).map(r).join("")+" "+t.slice(16*n,16*n+16).map(a).join("")+"\n";return i},tagDump:function(e){return o.hexDump(e.bytes)},textRanges:function(e){var t="",i=void 0;for(i=0;i<e.length;i++)t+=n(e,i)+" ";return t},createTransferableMessage:function(e){var t={};return Object.keys(e).forEach(function(i){var n=e[i];ArrayBuffer.isView(n)?t[i]={bytes:n.buffer,byteOffset:n.byteOffset,byteLength:n.byteLength}:t[i]=n}),t},initSegmentId:function(e){var t=e.byterange||{length:1/0,offset:0};return[t.length,t.offset,e.resolvedUri].join(",")}};t.default=o,e.exports=t.default},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,GOAL_BUFFER_LENGTH_RATE:1,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,BUFFER_LOW_WATER_LINE_RATE:1},e.exports=t.default},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={isAudioCodec:function(e){return/mp4a\.\d+.\d+/i.test(e)},parseContentType:function(e){var t={type:"",parameters:{}},i=e.trim().split(";");return t.type=i.shift().trim(),i.forEach(function(e){var i=e.trim().split("=");if(i.length>1){var n=i[0].replace(/"/g,"").trim(),r=i[1].replace(/"/g,"").trim();t.parameters[n]=r}}),t},isVideoCodec:function(e){return/avc1\.[\da-f]+/i.test(e)},translateLegacyCodecs:function(e){return e.map(function(e){return e.replace(/avc1\.(\d+)\.(\d+)/i,function(e,t,i){return"avc1."+("00"+Number(t).toString(16)).slice(-2)+"00"+("00"+Number(i).toString(16)).slice(-2)})})}},e.exports=t.default},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,i){var n=void 0,r=void 0;if(i&&i.cues)for(n=i.cues.length;n--;)(r=i.cues[n]).startTime<=t&&r.endTime>=e&&i.removeCue(r)},e.exports=t.default},function(e,t,i){(function(t){var n,r=void 0!==t?t:"undefined"!=typeof window?window:{},a=i(103);"undefined"!=typeof document?n=document:(n=r["__GLOBAL_DOCUMENT_CACHE@4"])||(n=r["__GLOBAL_DOCUMENT_CACHE@4"]=a),e.exports=n}).call(this,i(39))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var i=[],n=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(i.push(o.value),!t||i.length!==t);n=!0);}catch(e){r=!0,a=e}finally{try{!n&&s.return&&s.return()}finally{if(r)throw a}}return i}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=i(0),o=(n=a)&&n.__esModule?n:{default:n},s=function(e,t){var i=[],n=void 0;if(e&&e.length)for(n=0;n<e.length;n++)t(e.start(n),e.end(n))&&i.push([e.start(n),e.end(n)]);return o.default.createTimeRanges(i)},l=function(e,t){var i=null,n=null,r=0,a=[],s=[];if(!(e&&e.length&&t&&t.length))return o.default.createTimeRange();for(var l=e.length;l--;)a.push({time:e.start(l),type:"start"}),a.push({time:e.end(l),type:"end"});for(l=t.length;l--;)a.push({time:t.start(l),type:"start"}),a.push({time:t.end(l),type:"end"});for(a.sort(function(e,t){return e.time-t.time}),l=0;l<a.length;l++)"start"===a[l].type?2===++r&&(i=a[l].time):"end"===a[l].type&&1===--r&&(n=a[l].time),null!==i&&null!==n&&(s.push([i,n]),i=null,n=null);return o.default.createTimeRanges(s)};t.default={findRange:function(e,t){return s(e,function(e,i){return e-1/30<=t&&i+1/30>=t})},findNextRange:function(e,t){return s(e,function(e){return e-1/30>=t})},findGaps:function(e){if(e.length<2)return o.default.createTimeRanges();for(var t=[],i=1;i<e.length;i++){var n=e.end(i-1),r=e.start(i);t.push([n,r])}return o.default.createTimeRanges(t)},findSoleUncommonTimeRangesEnd:function(e,t){var i=void 0,n=void 0,r=void 0,a=[],o=[],s=function(e){return e[0]<=r&&e[1]>=r};if(e)for(i=0;i<e.length;i++)n=e.start(i),r=e.end(i),o.push([n,r]);if(t)for(i=0;i<t.length;i++)n=t.start(i),r=t.end(i),o.some(s)||a.push(r);return 1!==a.length?null:a[0]},getSegmentBufferedPercent:function(e,t,i,n){var a,s,c,u,h,d=e+t,p=o.default.createTimeRanges([[e,d]]),f=o.default.createTimeRanges([[(a=e,s=[i,d],c=r(s,2),u=c[0],h=c[1],Math.min(Math.max(u,a),h)),d]]);if(f.start(0)===f.end(0))return 0;var m=function(e,t,i,n){for(var r=t.end(0)-t.start(0),a=r-(e.end(0)-e.start(0)),o=l(e,n),s=l(t,n),c=0,u=0,h=o.length;h--;)c+=o.end(h)-o.start(h),o.start(h)===i&&(c+=a);for(h=s.length;h--;)u+=s.end(h)-s.start(h);return Math.max(c,u)/r*100}(f,p,i,n);return isNaN(m)||m===1/0||m===-1/0?0:m},TIME_FUDGE_FACTOR:1/30,SAFE_TIME_DELTA:.1,printableRange:function(e){var t=[];if(!e||!e.length)return"";for(var i=0;i<e.length;i++)t.push(e.start(i)+" => "+e.end(i));return t.join(", ")},timeUntilRebuffer:function(e,t){var i=arguments.length<=2||void 0===arguments[2]?1:arguments[2];return((e.length?e.end(e.length-1):0)-t)/i}},e.exports=t.default},function(e,t,i){"use strict";var n,r,a,o,s,l,c,u,h,d,p=i(2),f=i(22),m=i(30),g=i(28),v=i(27).H264Stream,y=i(58),b=i(57),_=i(56),A=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],E=["width","height","profileIdc","levelIdc","profileCompatibility"];s=function(e){return e[0]==="I".charCodeAt(0)&&e[1]==="D".charCodeAt(0)&&e[2]==="3".charCodeAt(0)},h=function(e,t){var i;if(e.length!==t.length)return!1;for(i=0;i<e.length;i++)if(e[i]!==t[i])return!1;return!0},d=function(e){var t,i=0;for(t=0;t<e.length;t++)i+=e[t].data.byteLength;return i},(r=function(e){var t=[],i=0,n=0,a=0,o=1/0;r.prototype.init.call(this),this.push=function(i){l(e,i),e&&A.forEach(function(t){e[t]=i[t]}),t.push(i)},this.setEarliestDts=function(t){n=t-e.timelineStartInfo.baseMediaDecodeTime},this.setVideoBaseMediaDecodeTime=function(e){o=e},this.setAudioAppendStart=function(e){a=e},this.flush=function(){var n,r,a,o;0!==t.length?(n=this.trimAdtsFramesByEarliestDts_(t),e.baseMediaDecodeTime=u(e),this.prefixWithSilence_(e,n),e.samples=this.generateSampleTable_(n),a=f.mdat(this.concatenateFrameData_(n)),t=[],r=f.moof(i,[e]),o=new Uint8Array(r.byteLength+a.byteLength),i++,o.set(r),o.set(a,r.byteLength),c(e),this.trigger("data",{track:e,boxes:o}),this.trigger("done","AudioSegmentStream")):this.trigger("done","AudioSegmentStream")},this.prefixWithSilence_=function(e,t){var i,n,r,s,l=0,c=0,u=0;if(t.length&&(i=_.audioTsToVideoTs(e.baseMediaDecodeTime,e.samplerate),n=Math.ceil(9e4/(e.samplerate/1024)),a&&o&&(l=i-Math.max(a,o),u=(c=Math.floor(l/n))*n),!(c<1||u>45e3))){for((r=b[e.samplerate])||(r=t[0].data),s=0;s<c;s++)t.splice(s,0,{data:r});e.baseMediaDecodeTime-=Math.floor(_.videoTsToAudioTs(u,e.samplerate))}},this.trimAdtsFramesByEarliestDts_=function(t){return e.minSegmentDts>=n?t:(e.minSegmentDts=1/0,t.filter(function(t){return t.dts>=n&&(e.minSegmentDts=Math.min(e.minSegmentDts,t.dts),e.minSegmentPts=e.minSegmentDts,!0)}))},this.generateSampleTable_=function(e){var t,i,n=[];for(t=0;t<e.length;t++)i=e[t],n.push({size:i.data.byteLength,duration:1024});return n},this.concatenateFrameData_=function(e){var t,i,n=0,r=new Uint8Array(d(e));for(t=0;t<e.length;t++)i=e[t],r.set(i.data,n),n+=i.data.byteLength;return r}}).prototype=new p,(n=function(e,t){var i,r,a=0,o=[],s=[];t=t||{},n.prototype.init.call(this),delete e.minPTS,this.gopCache_=[],this.push=function(t){l(e,t),"seq_parameter_set_rbsp"!==t.nalUnitType||i||(i=t.config,e.sps=[t.data],E.forEach(function(t){e[t]=i[t]},this)),"pic_parameter_set_rbsp"!==t.nalUnitType||r||(r=t.data,e.pps=[t.data]),o.push(t)},this.flush=function(){for(var i,n,r,h,d,p;o.length&&"access_unit_delimiter_rbsp"!==o[0].nalUnitType;)o.shift();if(0===o.length)return this.resetStream_(),void this.trigger("done","VideoSegmentStream");if(i=this.groupNalsIntoFrames_(o),(r=this.groupFramesIntoGops_(i))[0][0].keyFrame||((n=this.getGopForFusion_(o[0],e))?(r.unshift(n),r.byteLength+=n.byteLength,r.nalCount+=n.nalCount,r.pts=n.pts,r.dts=n.dts,r.duration+=n.duration):r=this.extendFirstKeyFrame_(r)),s.length){var m;if(!(m=t.alignGopsAtEnd?this.alignGopsAtEnd_(r):this.alignGopsAtStart_(r)))return this.gopCache_.unshift({gop:r.pop(),pps:e.pps,sps:e.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),o=[],this.resetStream_(),void this.trigger("done","VideoSegmentStream");c(e),r=m}l(e,r),e.samples=this.generateSampleTable_(r),d=f.mdat(this.concatenateNalData_(r)),e.baseMediaDecodeTime=u(e),this.trigger("processedGopsInfo",r.map(function(e){return{pts:e.pts,dts:e.dts,byteLength:e.byteLength}})),this.gopCache_.unshift({gop:r.pop(),pps:e.pps,sps:e.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),o=[],this.trigger("baseMediaDecodeTime",e.baseMediaDecodeTime),this.trigger("timelineStartInfo",e.timelineStartInfo),h=f.moof(a,[e]),p=new Uint8Array(h.byteLength+d.byteLength),a++,p.set(h),p.set(d,h.byteLength),this.trigger("data",{track:e,boxes:p}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.resetStream_=function(){c(e),i=void 0,r=void 0},this.getGopForFusion_=function(t){var i,n,r,a,o,s=1/0;for(o=0;o<this.gopCache_.length;o++)r=(a=this.gopCache_[o]).gop,e.pps&&h(e.pps[0],a.pps[0])&&e.sps&&h(e.sps[0],a.sps[0])&&(r.dts<e.timelineStartInfo.dts||(i=t.dts-r.dts-r.duration)>=-1e4&&i<=45e3&&(!n||s>i)&&(n=a,s=i));return n?n.gop:null},this.extendFirstKeyFrame_=function(e){var t;return!e[0][0].keyFrame&&e.length>1&&(t=e.shift(),e.byteLength-=t.byteLength,e.nalCount-=t.nalCount,e[0][0].dts=t.dts,e[0][0].pts=t.pts,e[0][0].duration+=t.duration),e},this.groupNalsIntoFrames_=function(e){var t,i,n=[],r=[];for(n.byteLength=0,t=0;t<e.length;t++)"access_unit_delimiter_rbsp"===(i=e[t]).nalUnitType?(n.length&&(n.duration=i.dts-n.dts,r.push(n)),(n=[i]).byteLength=i.data.byteLength,n.pts=i.pts,n.dts=i.dts):("slice_layer_without_partitioning_rbsp_idr"===i.nalUnitType&&(n.keyFrame=!0),n.duration=i.dts-n.dts,n.byteLength+=i.data.byteLength,n.push(i));return r.length&&(!n.duration||n.duration<=0)&&(n.duration=r[r.length-1].duration),r.push(n),r},this.groupFramesIntoGops_=function(e){var t,i,n=[],r=[];for(n.byteLength=0,n.nalCount=0,n.duration=0,n.pts=e[0].pts,n.dts=e[0].dts,r.byteLength=0,r.nalCount=0,r.duration=0,r.pts=e[0].pts,r.dts=e[0].dts,t=0;t<e.length;t++)(i=e[t]).keyFrame?(n.length&&(r.push(n),r.byteLength+=n.byteLength,r.nalCount+=n.nalCount,r.duration+=n.duration),(n=[i]).nalCount=i.length,n.byteLength=i.byteLength,n.pts=i.pts,n.dts=i.dts,n.duration=i.duration):(n.duration+=i.duration,n.nalCount+=i.length,n.byteLength+=i.byteLength,n.push(i));return r.length&&n.duration<=0&&(n.duration=r[r.length-1].duration),r.byteLength+=n.byteLength,r.nalCount+=n.nalCount,r.duration+=n.duration,r.push(n),r},this.generateSampleTable_=function(e,t){var i,n,r,a,o,s=t||0,l=[];for(i=0;i<e.length;i++)for(a=e[i],n=0;n<a.length;n++)o=a[n],(r={size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0}}).dataOffset=s,r.compositionTimeOffset=o.pts-o.dts,r.duration=o.duration,r.size=4*o.length,r.size+=o.byteLength,o.keyFrame&&(r.flags.dependsOn=2),s+=r.size,l.push(r);return l},this.concatenateNalData_=function(e){var t,i,n,r,a,o,s=0,l=e.byteLength,c=e.nalCount,u=new Uint8Array(l+4*c),h=new DataView(u.buffer);for(t=0;t<e.length;t++)for(r=e[t],i=0;i<r.length;i++)for(a=r[i],n=0;n<a.length;n++)o=a[n],h.setUint32(s,o.data.byteLength),s+=4,u.set(o.data,s),s+=o.data.byteLength;return u},this.alignGopsAtStart_=function(e){var t,i,n,r,a,o,l,c;for(a=e.byteLength,o=e.nalCount,l=e.duration,t=i=0;t<s.length&&i<e.length&&(n=s[t],r=e[i],n.pts!==r.pts);)r.pts>n.pts?t++:(i++,a-=r.byteLength,o-=r.nalCount,l-=r.duration);return 0===i?e:i===e.length?null:((c=e.slice(i)).byteLength=a,c.duration=l,c.nalCount=o,c.pts=c[0].pts,c.dts=c[0].dts,c)},this.alignGopsAtEnd_=function(e){var t,i,n,r,a,o,l;for(t=s.length-1,i=e.length-1,a=null,o=!1;t>=0&&i>=0;){if(n=s[t],r=e[i],n.pts===r.pts){o=!0;break}n.pts>r.pts?t--:(t===s.length-1&&(a=i),i--)}if(!o&&null===a)return null;if(0===(l=o?i:a))return e;var c=e.slice(l),u=c.reduce(function(e,t){return e.byteLength+=t.byteLength,e.duration+=t.duration,e.nalCount+=t.nalCount,e},{byteLength:0,duration:0,nalCount:0});return c.byteLength=u.byteLength,c.duration=u.duration,c.nalCount=u.nalCount,c.pts=c[0].pts,c.dts=c[0].dts,c},this.alignGopsWith=function(e){s=e}}).prototype=new p,l=function(e,t){"number"==typeof t.pts&&(void 0===e.timelineStartInfo.pts&&(e.timelineStartInfo.pts=t.pts),void 0===e.minSegmentPts?e.minSegmentPts=t.pts:e.minSegmentPts=Math.min(e.minSegmentPts,t.pts),void 0===e.maxSegmentPts?e.maxSegmentPts=t.pts:e.maxSegmentPts=Math.max(e.maxSegmentPts,t.pts)),"number"==typeof t.dts&&(void 0===e.timelineStartInfo.dts&&(e.timelineStartInfo.dts=t.dts),void 0===e.minSegmentDts?e.minSegmentDts=t.dts:e.minSegmentDts=Math.min(e.minSegmentDts,t.dts),void 0===e.maxSegmentDts?e.maxSegmentDts=t.dts:e.maxSegmentDts=Math.max(e.maxSegmentDts,t.dts))},c=function(e){delete e.minSegmentDts,delete e.maxSegmentDts,delete e.minSegmentPts,delete e.maxSegmentPts},u=function(e){var t,i=e.minSegmentDts-e.timelineStartInfo.dts;return t=e.timelineStartInfo.baseMediaDecodeTime,t+=i,t=Math.max(0,t),"audio"===e.type&&(t*=e.samplerate/9e4,t=Math.floor(t)),t},(o=function(e,t){this.numberOfTracks=0,this.metadataStream=t,void 0!==e.remux?this.remuxTracks=!!e.remux:this.remuxTracks=!0,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,o.prototype.init.call(this),this.push=function(e){return e.text?this.pendingCaptions.push(e):e.frames?this.pendingMetadata.push(e):(this.pendingTracks.push(e.track),this.pendingBoxes.push(e.boxes),this.pendingBytes+=e.boxes.byteLength,"video"===e.track.type&&(this.videoTrack=e.track),void("audio"===e.track.type&&(this.audioTrack=e.track)))}}).prototype=new p,o.prototype.flush=function(e){var t,i,n,r,a=0,o={captions:[],captionStreams:{},metadata:[],info:{}},s=0;if(this.pendingTracks.length<this.numberOfTracks){if("VideoSegmentStream"!==e&&"AudioSegmentStream"!==e)return;if(this.remuxTracks)return;if(0===this.pendingTracks.length)return void(++this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0))}for(this.videoTrack?(s=this.videoTrack.timelineStartInfo.pts,E.forEach(function(e){o.info[e]=this.videoTrack[e]},this)):this.audioTrack&&(s=this.audioTrack.timelineStartInfo.pts,A.forEach(function(e){o.info[e]=this.audioTrack[e]},this)),1===this.pendingTracks.length?o.type=this.pendingTracks[0].type:o.type="combined",this.emittedTracks+=this.pendingTracks.length,n=f.initSegment(this.pendingTracks),o.initSegment=new Uint8Array(n.byteLength),o.initSegment.set(n),o.data=new Uint8Array(this.pendingBytes),r=0;r<this.pendingBoxes.length;r++)o.data.set(this.pendingBoxes[r],a),a+=this.pendingBoxes[r].byteLength;for(r=0;r<this.pendingCaptions.length;r++)(t=this.pendingCaptions[r]).startTime=t.startPts-s,t.startTime/=9e4,t.endTime=t.endPts-s,t.endTime/=9e4,o.captionStreams[t.stream]=!0,o.captions.push(t);for(r=0;r<this.pendingMetadata.length;r++)(i=this.pendingMetadata[r]).cueTime=i.pts-s,i.cueTime/=9e4,o.metadata.push(i);o.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",o),this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},(a=function(e){var t,i,l=this,u=!0;a.prototype.init.call(this),e=e||{},this.baseMediaDecodeTime=e.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var t={};this.transmuxPipeline_=t,t.type="aac",t.metadataStream=new m.MetadataStream,t.aacStream=new y,t.audioTimestampRolloverStream=new m.TimestampRolloverStream("audio"),t.timedMetadataTimestampRolloverStream=new m.TimestampRolloverStream("timed-metadata"),t.adtsStream=new g,t.coalesceStream=new o(e,t.metadataStream),t.headOfPipeline=t.aacStream,t.aacStream.pipe(t.audioTimestampRolloverStream).pipe(t.adtsStream),t.aacStream.pipe(t.timedMetadataTimestampRolloverStream).pipe(t.metadataStream).pipe(t.coalesceStream),t.metadataStream.on("timestamp",function(e){t.aacStream.setTimestamp(e.timeStamp)}),t.aacStream.on("data",function(e){"timed-metadata"!==e.type||t.audioSegmentStream||(i=i||{timelineStartInfo:{baseMediaDecodeTime:l.baseMediaDecodeTime},codec:"adts",type:"audio"},t.coalesceStream.numberOfTracks++,t.audioSegmentStream=new r(i),t.adtsStream.pipe(t.audioSegmentStream).pipe(t.coalesceStream))}),t.coalesceStream.on("data",this.trigger.bind(this,"data")),t.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setupTsPipeline=function(){var a={};this.transmuxPipeline_=a,a.type="ts",a.metadataStream=new m.MetadataStream,a.packetStream=new m.TransportPacketStream,a.parseStream=new m.TransportParseStream,a.elementaryStream=new m.ElementaryStream,a.videoTimestampRolloverStream=new m.TimestampRolloverStream("video"),a.audioTimestampRolloverStream=new m.TimestampRolloverStream("audio"),a.timedMetadataTimestampRolloverStream=new m.TimestampRolloverStream("timed-metadata"),a.adtsStream=new g,a.h264Stream=new v,a.captionStream=new m.CaptionStream,a.coalesceStream=new o(e,a.metadataStream),a.headOfPipeline=a.packetStream,a.packetStream.pipe(a.parseStream).pipe(a.elementaryStream),a.elementaryStream.pipe(a.videoTimestampRolloverStream).pipe(a.h264Stream),a.elementaryStream.pipe(a.audioTimestampRolloverStream).pipe(a.adtsStream),a.elementaryStream.pipe(a.timedMetadataTimestampRolloverStream).pipe(a.metadataStream).pipe(a.coalesceStream),a.h264Stream.pipe(a.captionStream).pipe(a.coalesceStream),a.elementaryStream.on("data",function(o){var s;if("metadata"===o.type){for(s=o.tracks.length;s--;)t||"video"!==o.tracks[s].type?i||"audio"!==o.tracks[s].type||((i=o.tracks[s]).timelineStartInfo.baseMediaDecodeTime=l.baseMediaDecodeTime):(t=o.tracks[s]).timelineStartInfo.baseMediaDecodeTime=l.baseMediaDecodeTime;t&&!a.videoSegmentStream&&(a.coalesceStream.numberOfTracks++,a.videoSegmentStream=new n(t,e),a.videoSegmentStream.on("timelineStartInfo",function(e){i&&(i.timelineStartInfo=e,a.audioSegmentStream.setEarliestDts(e.dts))}),a.videoSegmentStream.on("processedGopsInfo",l.trigger.bind(l,"gopInfo")),a.videoSegmentStream.on("baseMediaDecodeTime",function(e){i&&a.audioSegmentStream.setVideoBaseMediaDecodeTime(e)}),a.h264Stream.pipe(a.videoSegmentStream).pipe(a.coalesceStream)),i&&!a.audioSegmentStream&&(a.coalesceStream.numberOfTracks++,a.audioSegmentStream=new r(i),a.adtsStream.pipe(a.audioSegmentStream).pipe(a.coalesceStream))}}),a.coalesceStream.on("data",this.trigger.bind(this,"data")),a.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setBaseMediaDecodeTime=function(e){var n=this.transmuxPipeline_;this.baseMediaDecodeTime=e,i&&(i.timelineStartInfo.dts=void 0,i.timelineStartInfo.pts=void 0,c(i),i.timelineStartInfo.baseMediaDecodeTime=e,n.audioTimestampRolloverStream&&n.audioTimestampRolloverStream.discontinuity()),t&&(n.videoSegmentStream&&(n.videoSegmentStream.gopCache_=[],n.videoTimestampRolloverStream.discontinuity()),t.timelineStartInfo.dts=void 0,t.timelineStartInfo.pts=void 0,c(t),n.captionStream.reset(),t.timelineStartInfo.baseMediaDecodeTime=e),n.timedMetadataTimestampRolloverStream&&n.timedMetadataTimestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(e){i&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(e)},this.alignGopsWith=function(e){t&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(e)},this.push=function(e){if(u){var t=s(e);t&&"aac"!==this.transmuxPipeline_.type?this.setupAacPipeline():t||"ts"===this.transmuxPipeline_.type||this.setupTsPipeline(),u=!1}this.transmuxPipeline_.headOfPipeline.push(e)},this.flush=function(){u=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}}).prototype=new p,e.exports={Transmuxer:a,VideoSegmentStream:n,AudioSegmentStream:r,AUDIO_PROPERTIES:A,VIDEO_PROPERTIES:E}},function(e,t,i){var n=arguments[3],r=arguments[4],a=arguments[5],o=JSON.stringify,s=!1;void 0===n&&(s=!0,n=function(e){function t(n){if(i[n])return i[n].exports;var r=i[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var i={};return t.m=e,t.c=i,t.d=function(e,i,n){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=entryModule)},r=i.m),e.exports=function(e,t){var l;l=s?function(e,t){var a,s="string"==typeof t;a=s?{}:[],Object.keys(r).forEach(function(e){r[e]&&(a[e]=r[e].toString())});var l,c=i(t);if(!c||c!==e&&c.default!==e){var u=a[t];a[t]=u.substring(0,u.length-1)+"\n"+e.name+"();\n}"}return s?(t=o(t),l="{"+Object.keys(a).map(function(e){return o(e)+":"+a[e]}).join(",")+"}"):l="["+a.join(",")+"]","var fn = ("+n.toString().replace("entryModule",t)+")("+l+');\n(typeof fn === "function") && fn(self);'}(e,t):function(e){for(var t,i=Object.keys(a),s=0;s<i.length;s++){var l=i[s],c=a[l].exports;if(c===e||c&&c.default===e){t=l;break}}if(!t){t=Math.floor(Math.pow(16,8)*Math.random()).toString(16);var u={};for(s=0;s<i.length;s++)u[l=i[s]]=l;r[t]=["function(require,module,exports){"+e+"(self); }",u]}var h=Math.floor(Math.pow(16,8)*Math.random()).toString(16),d={};return d[t]=t,r[h]=["function(require,module,exports){var f = require("+o(t)+");(f.default ? f.default : f)(self);}",d],"("+n+")({"+Object.keys(r).map(function(e){return o(e)+":["+r[e][0]+","+o(r[e][1])+"]"}).join(",")+"},{},["+o(h)+"])"}(e);var c=new Blob([l],{type:"text/javascript"}),u=(window.URL||window.webkitURL||window.mozURL||window.msURL).createObjectURL(c),h=new Worker(u);return h.objectURL=u,h}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(i(1)),a=n(i(0)),o=function(e){return isNaN(e)||Math.abs(e)===1/0?Number.MAX_VALUE:e};t.default={addTextTrackData:function(e,t,i){var n,s=r.default.WebKitDataCue||r.default.VTTCue;t&&t.forEach(function(e){var t=e.stream;this.inbandTextTracks_[t].addCue(new s(e.startTime+this.timestampOffset,e.endTime+this.timestampOffset,e.text))},e),i&&(n=o(e.mediaSource_.duration),i.forEach(function(e){var t=e.cueTime+this.timestampOffset;e.frames.forEach(function(e){var i=new s(t,t,e.value||e.url||e.data||"");i.frame=e,i.value=e,function(e){Object.defineProperties(e.frame,{id:{get:function(){return a.default.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),e.value.key}},value:{get:function(){return a.default.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),e.value.data}},privateData:{get:function(){return a.default.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),e.value.data}}})}(i),this.metadataTrack_.addCue(i)},this)},e),e.metadataTrack_&&e.metadataTrack_.cues&&e.metadataTrack_.cues.length&&function(){for(var t=e.metadataTrack_.cues,i=[],r=0;r<t.length;r++)t[r]&&i.push(t[r]);var a=i.reduce(function(e,t){var i=e[t.startTime]||[];return i.push(t),e[t.startTime]=i,e},{}),o=Object.keys(a).sort(function(e,t){return Number(e)-Number(t)});o.forEach(function(e,t){var i=a[e],r=Number(o[t+1])||n;i.forEach(function(e){e.endTime=r})})}())},durationOfVideo:o},e.exports=t.default},function(e,t,i){"use strict";var n;(n=function(e,t){var i,r=0,a=16384,o=function(e,t){var i,n=e.position+t;n<e.bytes.byteLength||((i=new Uint8Array(2*n)).set(e.bytes.subarray(0,e.position),0),e.bytes=i,e.view=new DataView(e.bytes.buffer))},s=n.widthBytes||new Uint8Array("width".length),l=n.heightBytes||new Uint8Array("height".length),c=n.videocodecidBytes||new Uint8Array("videocodecid".length);if(!n.widthBytes){for(i=0;i<"width".length;i++)s[i]="width".charCodeAt(i);for(i=0;i<"height".length;i++)l[i]="height".charCodeAt(i);for(i=0;i<"videocodecid".length;i++)c[i]="videocodecid".charCodeAt(i);n.widthBytes=s,n.heightBytes=l,n.videocodecidBytes=c}switch(this.keyFrame=!1,e){case n.VIDEO_TAG:this.length=16,a*=6;break;case n.AUDIO_TAG:this.length=13,this.keyFrame=!0;break;case n.METADATA_TAG:this.length=29,this.keyFrame=!0;break;default:throw new Error("Unknown FLV tag type")}this.bytes=new Uint8Array(a),this.view=new DataView(this.bytes.buffer),this.bytes[0]=e,this.position=this.length,this.keyFrame=t,this.pts=0,this.dts=0,this.writeBytes=function(e,t,i){var n,r=t||0;n=r+(i=i||e.byteLength),o(this,i),this.bytes.set(e.subarray(r,n),this.position),this.position+=i,this.length=Math.max(this.length,this.position)},this.writeByte=function(e){o(this,1),this.bytes[this.position]=e,this.position++,this.length=Math.max(this.length,this.position)},this.writeShort=function(e){o(this,2),this.view.setUint16(this.position,e),this.position+=2,this.length=Math.max(this.length,this.position)},this.negIndex=function(e){return this.bytes[this.length-e]},this.nalUnitSize=function(){return 0===r?0:this.length-(r+4)},this.startNalUnit=function(){if(r>0)throw new Error("Attempted to create new NAL wihout closing the old one");r=this.length,this.length+=4,this.position=this.length},this.endNalUnit=function(e){var t,i;this.length===r+4?this.length-=4:r>0&&(t=r+4,i=this.length-t,this.position=r,this.view.setUint32(this.position,i),this.position=this.length,e&&e.push(this.bytes.subarray(t,t+i))),r=0},this.writeMetaDataDouble=function(e,t){var i;if(o(this,2+e.length+9),this.view.setUint16(this.position,e.length),this.position+=2,"width"===e)this.bytes.set(s,this.position),this.position+=5;else if("height"===e)this.bytes.set(l,this.position),this.position+=6;else if("videocodecid"===e)this.bytes.set(c,this.position),this.position+=12;else for(i=0;i<e.length;i++)this.bytes[this.position]=e.charCodeAt(i),this.position++;this.position++,this.view.setFloat64(this.position,t),this.position+=8,this.length=Math.max(this.length,this.position),++r},this.writeMetaDataBoolean=function(e,t){var i;for(o(this,2),this.view.setUint16(this.position,e.length),this.position+=2,i=0;i<e.length;i++)o(this,1),this.bytes[this.position]=e.charCodeAt(i),this.position++;o(this,2),this.view.setUint8(this.position,1),this.position++,this.view.setUint8(this.position,t?1:0),this.position++,this.length=Math.max(this.length,this.position),++r},this.finalize=function(){var e,i;switch(this.bytes[0]){case n.VIDEO_TAG:this.bytes[11]=7|(this.keyFrame||t?16:32),this.bytes[12]=t?0:1,e=this.pts-this.dts,this.bytes[13]=(16711680&e)>>>16,this.bytes[14]=(65280&e)>>>8,this.bytes[15]=(255&e)>>>0;break;case n.AUDIO_TAG:this.bytes[11]=175,this.bytes[12]=t?0:1;break;case n.METADATA_TAG:this.position=11,this.view.setUint8(this.position,2),this.position++,this.view.setUint16(this.position,10),this.position+=2,this.bytes.set([111,110,77,101,116,97,68,97,116,97],this.position),this.position+=10,this.bytes[this.position]=8,this.position++,this.view.setUint32(this.position,r),this.position=this.length,this.bytes.set([0,0,9],this.position),this.position+=3,this.length=this.position}return i=this.length-11,this.bytes[1]=(16711680&i)>>>16,this.bytes[2]=(65280&i)>>>8,this.bytes[3]=(255&i)>>>0,this.bytes[4]=(16711680&this.dts)>>>16,this.bytes[5]=(65280&this.dts)>>>8,this.bytes[6]=(255&this.dts)>>>0,this.bytes[7]=(4278190080&this.dts)>>>24,this.bytes[8]=0,this.bytes[9]=0,this.bytes[10]=0,o(this,4),this.view.setUint32(this.length,this.length),this.length+=4,this.position+=4,this.bytes=this.bytes.subarray(0,this.length),this.frameTime=n.frameTime(this.bytes),this}}).AUDIO_TAG=8,n.VIDEO_TAG=9,n.METADATA_TAG=18,n.isAudioFrame=function(e){return n.AUDIO_TAG===e[0]},n.isVideoFrame=function(e){return n.VIDEO_TAG===e[0]},n.isMetaData=function(e){return n.METADATA_TAG===e[0]},n.isKeyFrame=function(e){return n.isVideoFrame(e)?23===e[11]:!!n.isAudioFrame(e)||!!n.isMetaData(e)},n.frameTime=function(e){var t=e[4]<<16;return t|=e[5]<<8,t|=e[6]<<0,t|=e[7]<<24},e.exports=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.listeners={}}return n(e,[{key:"on",value:function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)}},{key:"off",value:function(e,t){if(!this.listeners[e])return!1;var i=this.listeners[e].indexOf(t);return this.listeners[e].splice(i,1),i>-1}},{key:"trigger",value:function(e){var t=this.listeners[e],i=void 0,n=void 0,r=void 0;if(t)if(2===arguments.length)for(n=t.length,i=0;i<n;++i)t[i].call(this,arguments[1]);else for(r=Array.prototype.slice.call(arguments,1),n=t.length,i=0;i<n;++i)t[i].apply(this,r)}},{key:"dispose",value:function(){this.listeners={}}},{key:"pipe",value:function(e){this.on("data",function(t){e.push(t)})}}]),e}();t.default=r},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(e,t,i){for(var n=!0;n;){var r=e,a=t,o=i;n=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,a);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(o)}var c=Object.getPrototypeOf(r);if(null===c)return;e=c,t=a,i=o,n=!0,s=c=void 0}},o=n(i(81)),s=i(0),l=n(i(36)),c=n(i(1)),u=function(e,t,i){var n=t.slice();i=i||0;for(var r=Math.min(e.length,t.length+i),a=i;a<r;a++)n[a-i]=(0,s.mergeOptions)(e[a],n[a-i]);return n};t.updateSegments=u;var h=function(e,t){e.resolvedUri||(e.resolvedUri=(0,o.default)(t,e.uri)),e.key&&!e.key.resolvedUri&&(e.key.resolvedUri=(0,o.default)(t,e.key.uri)),e.map&&!e.map.resolvedUri&&(e.map.resolvedUri=(0,o.default)(t,e.map.uri))};t.resolveSegmentUris=h;var d=function(e,t){var i=(0,s.mergeOptions)(e,{}),n=i.playlists.filter(function(e){return e.uri===t.uri})[0];if(!n)return null;if(n.segments&&t.segments&&n.segments.length===t.segments.length&&n.mediaSequence===t.mediaSequence)return null;var r=(0,s.mergeOptions)(n,t);n.segments&&(r.segments=u(n.segments,t.segments,t.mediaSequence-n.mediaSequence)),r.segments.forEach(function(e){h(e,r.resolvedUri)});for(var a=0;a<i.playlists.length;a++)i.playlists[a].uri===t.uri&&(i.playlists[a]=r);return i.playlists[t.uri]=r,i};t.updateMaster=d;var p=function(e){for(var t=e.playlists.length;t--;){var i=e.playlists[t];e.playlists[i.uri]=i,i.resolvedUri=(0,o.default)(e.uri,i.uri),i.attributes||(i.attributes={},s.log.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute."))}};t.setupMediaPlaylists=p;var f=function(e){["AUDIO","SUBTITLES"].forEach(function(t){for(var i in e.mediaGroups[t])for(var n in e.mediaGroups[t][i]){var r=e.mediaGroups[t][i][n];r.uri&&(r.resolvedUri=(0,o.default)(e.uri,r.uri))}})};t.resolveMediaGroupUris=f;var m=function(e,t){var i=e.segments[e.segments.length-1];return t&&i&&i.duration?1e3*i.duration:500*(e.targetDuration||10)};t.refreshDelay=m;var g=function(e){function t(e,i,n){var r=this;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.srcUrl=e,this.hls_=i,this.withCredentials=n,!this.srcUrl)throw new Error("A non-empty playlist URL is required");this.state="HAVE_NOTHING",this.on("mediaupdatetimeout",function(){"HAVE_METADATA"===r.state&&(r.state="HAVE_CURRENT_METADATA",r.request=r.hls_.xhr({uri:(0,o.default)(r.master.uri,r.media().uri),withCredentials:r.withCredentials},function(e,t){if(r.request)return e?r.playlistRequestError(r.request,r.media().uri,"HAVE_METADATA"):void r.haveMetadata(r.request,r.media().uri)}))})}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.EventTarget),r(t,[{key:"playlistRequestError",value:function(e,t,i){this.request=null,i&&(this.state=i),this.error={playlist:this.master.playlists[t],status:e.status,message:"HLS playlist request error at URL: "+t,responseText:e.responseText,code:e.status>=500?4:2},this.trigger("error")}},{key:"haveMetadata",value:function(e,t){var i=this;this.request=null,this.state="HAVE_METADATA";var n=new l.default.Parser;n.push(e.responseText),n.end(),n.manifest.uri=t,n.manifest.attributes=n.manifest.attributes||{};var r=d(this.master,n.manifest);this.targetDuration=n.manifest.targetDuration,r?(this.master=r,this.media_=this.master.playlists[n.manifest.uri]):this.trigger("playlistunchanged"),this.media().endList||(c.default.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=c.default.setTimeout(function(){i.trigger("mediaupdatetimeout")},m(this.media(),!!r))),this.trigger("loadedplaylist")}},{key:"dispose",value:function(){this.stopRequest(),c.default.clearTimeout(this.mediaUpdateTimeout)}},{key:"stopRequest",value:function(){if(this.request){var e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}},{key:"media",value:function(e){var t=this;if(!e)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);var i=this.state;if("string"==typeof e){if(!this.master.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.master.playlists[e]}var n=!this.media_||e.uri!==this.media_.uri;if(this.master.playlists[e.uri].endList)return this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=e,void(n&&(this.trigger("mediachanging"),this.trigger("mediachange")));if(n){if(this.state="SWITCHING_MEDIA",this.request){if((0,o.default)(this.master.uri,e.uri)===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.request=this.hls_.xhr({uri:(0,o.default)(this.master.uri,e.uri),withCredentials:this.withCredentials},function(n,r){if(t.request){if(n)return t.playlistRequestError(t.request,e.uri,i);t.haveMetadata(r,e.uri),"HAVE_MASTER"===i?t.trigger("loadedmetadata"):t.trigger("mediachange")}})}}},{key:"pause",value:function(){this.stopRequest(),c.default.clearTimeout(this.mediaUpdateTimeout),"HAVE_NOTHING"===this.state&&(this.started=!1),"SWITCHING_MEDIA"===this.state?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MASTER":"HAVE_CURRENT_METADATA"===this.state&&(this.state="HAVE_METADATA")}},{key:"load",value:function(e){var t=this;c.default.clearTimeout(this.mediaUpdateTimeout);var i=this.media();if(e){var n=i?i.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=c.default.setTimeout(function(){return t.load()},n)}else this.started?i&&!i.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist"):this.start()}},{key:"start",value:function(){var e=this;this.started=!0,this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},function(t,i){if(e.request){if(e.request=null,t)return e.error={status:i.status,message:"HLS playlist request error at URL: "+e.srcUrl,responseText:i.responseText,code:2},"HAVE_NOTHING"===e.state&&(e.started=!1),e.trigger("error");var n=new l.default.Parser;return n.push(i.responseText),n.end(),e.state="HAVE_MASTER",n.manifest.uri=e.srcUrl,n.manifest.playlists?(e.master=n.manifest,p(e.master),f(e.master),e.trigger("loadedplaylist"),void(e.request||e.media(n.manifest.playlists[0]))):(e.master={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:c.default.location.href,playlists:[{uri:e.srcUrl}]},e.master.playlists[e.srcUrl]=e.master.playlists[0],e.master.playlists[0].resolvedUri=e.srcUrl,e.master.playlists[0].attributes=e.master.playlists[0].attributes||{},e.haveMetadata(i,e.srcUrl),e.trigger("loadedmetadata"))}})}}]),t}();t.default=g},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var i=function(e,t){var i=e[1]||"",n=e[3];if(!n)return i;if(t&&"function"==typeof btoa){var r=(a=n,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */");return[i].concat(n.sources.map(function(e){return"/*# sourceURL="+n.sourceRoot+e+" */"})).concat([r]).join("\n")}var a;return[i].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+i+"}":i}).join("")},t.i=function(e,i){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},r=0;r<this.length;r++){var a=this[r][0];"number"==typeof a&&(n[a]=!0)}for(r=0;r<e.length;r++){var o=e[r];"number"==typeof o[0]&&n[o[0]]||(i&&!o[2]?o[2]=i:i&&(o[2]="("+o[2]+") and ("+i+")"),t.push(o))}},t}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=i(1),a=(n=r)&&n.__esModule?n:{default:n},o=i(33),s=i(5);t.default=function(e){return new function(e){e.onmessage=function(e){var t=e.data,i=new Uint8Array(t.encrypted.bytes,t.encrypted.byteOffset,t.encrypted.byteLength),n=new Uint32Array(t.key.bytes,t.key.byteOffset,t.key.byteLength/4),r=new Uint32Array(t.iv.bytes,t.iv.byteOffset,t.iv.byteLength/4);new o.Decrypter(i,n,r,function(e,i){a.default.postMessage((0,s.createTransferableMessage)({source:t.source,decrypted:i}),[i.buffer])})}}(e)},e.exports=t.default},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseCodecs=function(){var e,t=arguments.length<=0||void 0===arguments[0]?"":arguments[0],i={codecCount:0};return i.codecCount=t.split(",").length,i.codecCount=i.codecCount||2,(e=/(^|\s|,)+(avc1)([^ ,]*)/i.exec(t))&&(i.videoCodec=e[2],i.videoObjectTypeIndicator=e[3]),i.audioProfile=/(^|\s|,)+mp4a.[0-9A-Fa-f]+\.([0-9A-Fa-f]+)/i.exec(t),i.audioProfile=i.audioProfile&&i.audioProfile[2],i}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(i(6)),a=n(i(3)),o=i(19),s=function(e,t){var i;return e&&(i=window.getComputedStyle(e))?i[t]:""},l=function(e,t){var i=e.slice();e.sort(function(e,n){var r=t(e,n);return 0===r?i.indexOf(e)-i.indexOf(n):r})},c=function(e,t){var i=void 0,n=void 0;return e.attributes.BANDWIDTH&&(i=e.attributes.BANDWIDTH),i=i||window.Number.MAX_VALUE,t.attributes.BANDWIDTH&&(n=t.attributes.BANDWIDTH),i-(n=n||window.Number.MAX_VALUE)};t.comparePlaylistBandwidth=c,t.comparePlaylistResolution=function(e,t){var i=void 0,n=void 0;return e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(i=e.attributes.RESOLUTION.width),i=i||window.Number.MAX_VALUE,t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width&&(n=t.attributes.RESOLUTION.width),i===(n=n||window.Number.MAX_VALUE)&&e.attributes.BANDWIDTH&&t.attributes.BANDWIDTH?e.attributes.BANDWIDTH-t.attributes.BANDWIDTH:i-n};var u=function(e,t,i,n){var o=e.playlists.map(function(e){var t,i;return t=e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width,i=e.attributes.RESOLUTION&&e.attributes.RESOLUTION.height,{bandwidth:e.attributes.BANDWIDTH||window.Number.MAX_VALUE,width:t,height:i,playlist:e}});l(o,function(e,t){return e.bandwidth-t.bandwidth});var s=(o=o.filter(function(e){return!a.default.isIncompatible(e.playlist)})).filter(function(e){return a.default.isEnabled(e.playlist)});s.length||(s=o.filter(function(e){return!a.default.isDisabled(e.playlist)}));var c=s.filter(function(e){return e.bandwidth*r.default.BANDWIDTH_VARIANCE<t}),u=c[c.length-1],h=c.filter(function(e){return e.bandwidth===u.bandwidth})[0],d=c.filter(function(e){return e.width&&e.height});l(d,function(e,t){return e.width-t.width});var p=d.filter(function(e){return e.width===i&&e.height===n});u=p[p.length-1];var f=p.filter(function(e){return e.bandwidth===u.bandwidth})[0],m=void 0,g=void 0,v=void 0;f||(g=(m=d.filter(function(e){return e.width>i||e.height>n})).filter(function(e){return e.width===m[0].width&&e.height===m[0].height}),u=g[g.length-1],v=g.filter(function(e){return e.bandwidth===u.bandwidth})[0]);var y=v||f||h||s[0]||o[0];return y?y.playlist:null};t.simpleSelector=u,t.lastBandwidthSelector=function(){return u(this.playlists.master,this.systemBandwidth,parseInt(s(this.tech_.el(),"width"),10),parseInt(s(this.tech_.el(),"height"),10))},t.movingAverageBandwidthSelector=function(e){var t=-1;if(e<0||e>1)throw new Error("Moving average bandwidth decay must be between 0 and 1.");return function(){return t<0&&(t=this.systemBandwidth),t=e*this.systemBandwidth+(1-e)*t,u(this.playlists.master,t,parseInt(s(this.tech_.el(),"width"),10),parseInt(s(this.tech_.el(),"height"),10))}},t.minRebufferMaxBandwidthSelector=function(e){var t=e.master,i=e.currentTime,n=e.bandwidth,r=e.duration,o=e.segmentDuration,s=e.timeUntilRebuffer,u=e.currentTimeline,h=e.syncController,d=t.playlists.filter(function(e){return!a.default.isIncompatible(e)}),p=d.filter(a.default.isEnabled);p.length||(p=d.filter(function(e){return!a.default.isDisabled(e)}));var f=p.filter(a.default.hasAttribute.bind(null,"BANDWIDTH")).map(function(e){var t=h.getSyncPoint(e,r,u,i)?1:2;return{playlist:e,rebufferingImpact:a.default.estimateSegmentRequestTime(o,n,e)*t-s}}),m=f.filter(function(e){return e.rebufferingImpact<=0});return l(m,function(e,t){return c(t.playlist,e.playlist)}),m.length?m[0]:(l(f,function(e,t){return e.rebufferingImpact-t.rebufferingImpact}),f[0]||null)},t.lowestBitrateCompatibleVariantSelector=function(){var e=this.playlists.master.playlists.filter(a.default.isEnabled);return l(e,function(e,t){return c(e,t)}),e.filter(function(e){return(0,o.parseCodecs)(e.attributes.CODECS).videoCodec})[0]||null}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(e,t,i){for(var n=!0;n;){var r=e,a=t,o=i;n=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,a);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(o)}var c=Object.getPrototypeOf(r);if(null===c)return;e=c,t=a,i=o,n=!0,s=c=void 0}},o=n(i(3)),s=n(i(0)),l=n(i(54)),c=n(i(6)),u=n(i(1)),h=n(i(8)),d=i(5),p=i(53),f=i(10),m=i(20),g=function(e,t,i){if(!e||!t)return!1;var n=i===e.segments.length;return e.endList&&"open"===t.readyState&&n},v=function(e){return"number"==typeof e&&isFinite(e)},y=function(e,t,i){return"main"===e&&t&&i?i.containsAudio||i.containsVideo?t.containsVideo&&!i.containsVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!t.containsVideo&&i.containsVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null:"Neither audio nor video found in segment.":null};t.illegalMediaSwitch=y;var b=function(e,t,i){var n=void 0;return n=e.length&&e.start(0)>0&&e.start(0)<t?e.start(0):t-30,Math.min(n,t-i)};t.safeBackBufferTrimTime=b;var _=function(e){function t(e){var i=this,n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),!e)throw new TypeError("Initialization settings are required");if("function"!=typeof e.currentTime)throw new TypeError("No currentTime getter specified");if(!e.mediaSource)throw new TypeError("No MediaSource specified");this.state="INIT",this.bandwidth=e.bandwidth,this.throughput={rate:0,count:0},this.roundTrip=NaN,this.resetStats_(),this.mediaIndex=null,this.hasPlayed_=e.hasPlayed,this.currentTime_=e.currentTime,this.seekable_=e.seekable,this.seeking_=e.seeking,this.duration_=e.duration,this.mediaSource_=e.mediaSource,this.hls_=e.hls,this.loaderType_=e.loaderType,this.startingMedia_=void 0,this.segmentMetadataTrack_=e.segmentMetadataTrack,this.goalBufferLength_=e.goalBufferLength,this.checkBufferTimeout_=null,this.error_=void 0,this.currentTimeline_=-1,this.pendingSegment_=null,this.mimeType_=null,this.sourceUpdater_=null,this.xhrOptions_=null,this.activeInitSegmentId_=null,this.initSegments_={},this.decrypter_=e.decrypter,this.syncController_=e.syncController,this.syncPoint_={segmentIndex:0,time:0},this.syncController_.on("syncinfoupdate",function(){return i.trigger("syncinfoupdate")}),this.mediaSource_.addEventListener("sourceopen",function(){return i.ended_=!1}),this.fetchAtBuffer_=!1,n.debug&&(this.logger_=s.default.log.bind(s.default,"segment-loader",this.loaderType_,"->"))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default.EventTarget),r(t,[{key:"resetStats_",value:function(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0}},{key:"dispose",value:function(){this.state="DISPOSED",this.pause(),this.abort_(),this.sourceUpdater_&&this.sourceUpdater_.dispose(),this.resetStats_()}},{key:"abort",value:function(){"WAITING"===this.state?(this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()):this.pendingSegment_&&(this.pendingSegment_=null)}},{key:"abort_",value:function(){this.pendingSegment_&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null}},{key:"error",value:function(e){return void 0!==e&&(this.error_=e),this.pendingSegment_=null,this.error_}},{key:"endOfStream",value:function(){this.ended_=!0,this.pause(),this.trigger("ended")}},{key:"buffered_",value:function(){return this.sourceUpdater_?this.sourceUpdater_.buffered():s.default.createTimeRanges()}},{key:"initSegment",value:function(e){var t=!(arguments.length<=1||void 0===arguments[1])&&arguments[1];if(!e)return null;var i=(0,d.initSegmentId)(e),n=this.initSegments_[i];return t&&!n&&e.bytes&&(this.initSegments_[i]=n={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:e.bytes}),n||e}},{key:"couldBeginLoading_",value:function(){return this.playlist_&&(this.sourceUpdater_||this.mimeType_&&"INIT"===this.state)&&!this.paused()}},{key:"load",value:function(){if(this.monitorBuffer_(),this.playlist_){if(this.syncController_.setDateTimeMapping(this.playlist_),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();!this.couldBeginLoading_()||"READY"!==this.state&&"INIT"!==this.state||(this.state="READY")}}},{key:"init_",value:function(){return this.state="READY",this.sourceUpdater_=new l.default(this.mediaSource_,this.mimeType_),this.resetEverything(),this.monitorBuffer_()}},{key:"playlist",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if(e){var i=this.playlist_,n=this.pendingSegment_;if(this.playlist_=e,this.xhrOptions_=t,this.hasPlayed_()||(e.syncInfo={mediaSequence:e.mediaSequence,time:0}),this.trigger("syncinfoupdate"),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();if(i&&i.uri===e.uri){var r=e.mediaSequence-i.mediaSequence;this.logger_("mediaSequenceDiff",r),null!==this.mediaIndex&&(this.mediaIndex-=r),n&&(n.mediaIndex-=r,n.mediaIndex>=0&&(n.segment=e.segments[n.mediaIndex])),this.syncController_.saveExpiredSegmentInfo(i,e)}else null!==this.mediaIndex&&this.resyncLoader()}}},{key:"pause",value:function(){this.checkBufferTimeout_&&(u.default.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)}},{key:"paused",value:function(){return null===this.checkBufferTimeout_}},{key:"mimeType",value:function(e){this.mimeType_||(this.mimeType_=e,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_())}},{key:"resetEverything",value:function(){this.ended_=!1,this.resetLoader(),this.remove(0,this.duration_()),this.trigger("reseteverything")}},{key:"resetLoader",value:function(){this.fetchAtBuffer_=!1,this.resyncLoader()}},{key:"resyncLoader",value:function(){this.mediaIndex=null,this.syncPoint_=null,this.abort()}},{key:"remove",value:function(e,t){this.sourceUpdater_&&this.sourceUpdater_.remove(e,t),(0,h.default)(e,t,this.segmentMetadataTrack_)}},{key:"monitorBuffer_",value:function(){this.checkBufferTimeout_&&u.default.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=u.default.setTimeout(this.monitorBufferTick_.bind(this),1)}},{key:"monitorBufferTick_",value:function(){"READY"===this.state&&this.fillBuffer_(),this.checkBufferTimeout_&&u.default.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=u.default.setTimeout(this.monitorBufferTick_.bind(this),500)}},{key:"fillBuffer_",value:function(){if(!this.sourceUpdater_.updating()){this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_()));var e=this.checkBuffer_(this.buffered_(),this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_);e&&(g(this.playlist_,this.mediaSource_,e.mediaIndex)?this.endOfStream():(e.mediaIndex!==this.playlist_.segments.length-1||"ended"!==this.mediaSource_.readyState||this.seeking_())&&((e.timeline!==this.currentTimeline_||null!==e.startOfSegment&&e.startOfSegment<this.sourceUpdater_.timestampOffset())&&(this.syncController_.reset(),e.timestampOffset=e.startOfSegment),this.loadSegment_(e)))}}},{key:"checkBuffer_",value:function(e,t,i,n,r,a){var s=0,l=void 0;e.length&&(s=e.end(e.length-1));var c,u=Math.max(0,s-r);if(!t.segments.length)return null;if(u>=this.goalBufferLength_())return null;if(!n&&u>=1)return null;if(this.logger_("checkBuffer_","mediaIndex:",i,"hasPlayed:",n,"currentTime:",r,"syncPoint:",a,"fetchAtBuffer:",this.fetchAtBuffer_,"bufferedTime:",u),null===a)return i=this.getSyncSegmentCandidate_(t),this.logger_("getSync","mediaIndex:",i),this.generateSegmentInfo_(t,i,null,!0);if(null!==i){this.logger_("walkForward","mediaIndex:",i+1);var h=t.segments[i];return l=h&&h.end?h.end:s,this.generateSegmentInfo_(t,i+1,l,!1)}return this.fetchAtBuffer_?(i=(c=o.default.getMediaInfoForTime(t,s,a.segmentIndex,a.time)).mediaIndex,l=c.startTime):(i=(c=o.default.getMediaInfoForTime(t,r,a.segmentIndex,a.time)).mediaIndex,l=c.startTime),this.logger_("getMediaIndexForTime","mediaIndex:",i,"startOfSegment:",l),this.generateSegmentInfo_(t,i,l,!1)}},{key:"getSyncSegmentCandidate_",value:function(e){var t=this;if(-1===this.currentTimeline_)return 0;var i=e.segments.map(function(e,t){return{timeline:e.timeline,segmentIndex:t}}).filter(function(e){return e.timeline===t.currentTimeline_});return i.length?i[Math.min(i.length-1,1)].segmentIndex:Math.max(e.segments.length-1,0)}},{key:"generateSegmentInfo_",value:function(e,t,i,n){if(t<0||t>=e.segments.length)return null;var r=e.segments[t];return{requestId:"segment-loader-"+Math.random(),uri:r.resolvedUri,mediaIndex:t,isSyncRequest:n,startOfSegment:i,playlist:e,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:r.timeline,duration:r.duration,segment:r}}},{key:"abortRequestEarly_",value:function(e){if(this.hls_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH)return!1;if(Date.now()-(e.firstBytesReceivedAt||Date.now())<1e3)return!1;var t=this.currentTime_(),i=e.bandwidth,n=this.pendingSegment_.duration,r=o.default.estimateSegmentRequestTime(n,i,this.playlist_,e.bytesReceived),a=(0,f.timeUntilRebuffer)(this.buffered_(),t,this.hls_.tech_.playbackRate())-1;if(r<=a)return!1;var s=(0,m.minRebufferMaxBandwidthSelector)({master:this.hls_.playlists.master,currentTime:t,bandwidth:i,duration:this.duration_(),segmentDuration:n,timeUntilRebuffer:a,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(s){var l=r-a-s.rebufferingImpact,u=.5;return a<=f.TIME_FUDGE_FACTOR&&(u=1),!(!s.playlist||s.playlist.uri===this.playlist_.uri||l<u)&&(this.bandwidth=s.playlist.attributes.BANDWIDTH*c.default.BANDWIDTH_VARIANCE+1,this.abort(),this.trigger("earlyabort"),!0)}}},{key:"handleProgress_",value:function(e,t){this.pendingSegment_&&t.requestId===this.pendingSegment_.requestId&&!this.abortRequestEarly_(t.stats)&&this.trigger("progress")}},{key:"loadSegment_",value:function(e){this.state="WAITING",this.pendingSegment_=e,this.trimBackBuffer_(e),e.abortRequests=(0,p.mediaSegmentRequest)(this.hls_.xhr,this.xhrOptions_,this.decrypter_,this.createSimplifiedSegmentObj_(e),this.handleProgress_.bind(this),this.segmentRequestFinished_.bind(this))}},{key:"trimBackBuffer_",value:function(e){var t=b(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);t>0&&this.remove(0,t)}},{key:"createSimplifiedSegmentObj_",value:function(e){var t=e.segment,i={resolvedUri:t.resolvedUri,byterange:t.byterange,requestId:e.requestId};if(t.key){var n=t.key.iv||new Uint32Array([0,0,0,e.mediaIndex+e.playlist.mediaSequence]);i.key={resolvedUri:t.key.resolvedUri,iv:n}}return t.map&&(i.map=this.initSegment(t.map)),i}},{key:"segmentRequestFinished_",value:function(e,t){if(this.mediaRequests+=1,t.stats&&(this.mediaBytesTransferred+=t.stats.bytesReceived,this.mediaTransferDuration+=t.stats.roundTripTime),this.pendingSegment_){if(t.requestId===this.pendingSegment_.requestId){if(e)return this.pendingSegment_=null,this.state="READY",e.code===p.REQUEST_ERRORS.ABORTED?void(this.mediaRequestsAborted+=1):(this.pause(),e.code===p.REQUEST_ERRORS.TIMEOUT?(this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,void this.trigger("bandwidthupdate")):(this.mediaRequestsErrored+=1,this.error(e),void this.trigger("error")));this.bandwidth=t.stats.bandwidth,this.roundTrip=t.stats.roundTripTime,t.map&&(t.map=this.initSegment(t.map,!0)),this.processSegmentResponse_(t)}}else this.mediaRequestsAborted+=1}},{key:"processSegmentResponse_",value:function(e){var t=this.pendingSegment_;t.bytes=e.bytes,e.map&&(t.segment.map.bytes=e.map.bytes),t.endOfAllRequests=e.endOfAllRequests,this.handleSegment_()}},{key:"handleSegment_",value:function(){var e=this;if(this.pendingSegment_){var t=this.pendingSegment_,i=t.segment,n=this.syncController_.probeSegmentInfo(t);void 0===this.startingMedia_&&n&&(n.containsAudio||n.containsVideo)&&(this.startingMedia_={containsAudio:n.containsAudio,containsVideo:n.containsVideo});var r=y(this.loaderType_,this.startingMedia_,n);if(r)return this.error({message:r,blacklistDuration:1/0}),void this.trigger("error");if(t.isSyncRequest)return this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY");null!==t.timestampOffset&&t.timestampOffset!==this.sourceUpdater_.timestampOffset()&&(this.sourceUpdater_.timestampOffset(t.timestampOffset),this.trigger("timestampoffset"));var a=this.syncController_.mappingForTimeline(t.timeline);null!==a&&this.trigger({type:"segmenttimemapping",mapping:a}),this.state="APPENDING",i.map&&function(){var t=(0,d.initSegmentId)(i.map);if(!e.activeInitSegmentId_||e.activeInitSegmentId_!==t){var n=e.initSegment(i.map);e.sourceUpdater_.appendBuffer(n.bytes,function(){e.activeInitSegmentId_=t})}}(),t.byteLength=t.bytes.byteLength,"number"==typeof i.start&&"number"==typeof i.end?this.mediaSecondsLoaded+=i.end-i.start:this.mediaSecondsLoaded+=i.duration,this.sourceUpdater_.appendBuffer(t.bytes,this.handleUpdateEnd_.bind(this))}else this.state="READY"}},{key:"handleUpdateEnd_",value:function(){if(this.logger_("handleUpdateEnd_","segmentInfo:",this.pendingSegment_),!this.pendingSegment_)return this.state="READY",void(this.paused()||this.monitorBuffer_());var e=this.pendingSegment_,t=e.segment,i=null!==this.mediaIndex;this.pendingSegment_=null,this.recordThroughput_(e),this.addSegmentMetadataCue_(e),this.state="READY",this.mediaIndex=e.mediaIndex,this.fetchAtBuffer_=!0,this.currentTimeline_=e.timeline,this.trigger("syncinfoupdate"),t.end&&this.currentTime_()-t.end>3*e.playlist.targetDuration?this.resetEverything():(i&&this.trigger("bandwidthupdate"),this.trigger("progress"),g(e.playlist,this.mediaSource_,e.mediaIndex+1)&&this.endOfStream(),this.paused()||this.monitorBuffer_())}},{key:"recordThroughput_",value:function(e){var t=this.throughput.rate,i=Date.now()-e.endOfAllRequests+1,n=Math.floor(e.byteLength/i*8*1e3);this.throughput.rate+=(n-t)/++this.throughput.count}},{key:"logger_",value:function(){}},{key:"addSegmentMetadataCue_",value:function(e){if(this.segmentMetadataTrack_){var t=e.segment,i=t.start,n=t.end;if(v(i)&&v(n)){(0,h.default)(i,n,this.segmentMetadataTrack_);var r=u.default.WebKitDataCue||u.default.VTTCue,a={bandwidth:e.playlist.attributes.BANDWIDTH,resolution:e.playlist.attributes.RESOLUTION,codecs:e.playlist.attributes.CODECS,byteLength:e.byteLength,uri:e.uri,timeline:e.timeline,playlist:e.playlist.uri,start:i,end:n},o=new r(i,n,JSON.stringify(a));o.value=a,this.segmentMetadataTrack_.addCue(o)}}}}]),t}();t.default=_},function(e,t,i){"use strict";var n,r,a,o,s,l,c,u,h,d,p,f,m,g,v,y,b,_,A,E,w,x,T,S,C,k,O,P,j,I,M,R,D,L,N,B,F,U,z,H,V,G=Math.pow(2,32)-1;!function(){var e;if(T={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},"undefined"!=typeof Uint8Array){for(e in T)T.hasOwnProperty(e)&&(T[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);S=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),k=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),C=new Uint8Array([0,0,0,1]),O=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),P=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),j={video:O,audio:P},R=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),M=new Uint8Array([0,0,0,0,0,0,0,0]),D=new Uint8Array([0,0,0,0,0,0,0,0]),L=D,N=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),B=D,I=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}}(),n=function(e){var t,i,n=[],r=0;for(t=1;t<arguments.length;t++)n.push(arguments[t]);for(t=n.length;t--;)r+=n[t].byteLength;for(i=new Uint8Array(r+8),new DataView(i.buffer,i.byteOffset,i.byteLength).setUint32(0,i.byteLength),i.set(e,4),t=0,r=8;t<n.length;t++)i.set(n[t],r),r+=n[t].byteLength;return i},r=function(){return n(T.dinf,n(T.dref,R))},a=function(e){return n(T.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,e.audioobjecttype<<3|e.samplingfrequencyindex>>>1,e.samplingfrequencyindex<<7|e.channelcount<<3,6,1,2]))},o=function(){return n(T.ftyp,S,C,S,k)},y=function(e){return n(T.hdlr,j[e])},s=function(e){return n(T.mdat,e)},v=function(e){var t=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,e.duration>>>24&255,e.duration>>>16&255,e.duration>>>8&255,255&e.duration,85,196,0,0]);return e.samplerate&&(t[12]=e.samplerate>>>24&255,t[13]=e.samplerate>>>16&255,t[14]=e.samplerate>>>8&255,t[15]=255&e.samplerate),n(T.mdhd,t)},g=function(e){return n(T.mdia,v(e),y(e.type),c(e))},l=function(e){return n(T.mfhd,new Uint8Array([0,0,0,0,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e]))},c=function(e){return n(T.minf,"video"===e.type?n(T.vmhd,I):n(T.smhd,M),r(),_(e))},u=function(e,t){for(var i=[],r=t.length;r--;)i[r]=E(t[r]);return n.apply(null,[T.moof,l(e)].concat(i))},h=function(e){for(var t=e.length,i=[];t--;)i[t]=f(e[t]);return n.apply(null,[T.moov,p(4294967295)].concat(i).concat(d(e)))},d=function(e){for(var t=e.length,i=[];t--;)i[t]=w(e[t]);return n.apply(null,[T.mvex].concat(i))},p=function(e){var t=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return n(T.mvhd,t)},b=function(e){var t,i,r=e.samples||[],a=new Uint8Array(4+r.length);for(i=0;i<r.length;i++)t=r[i].flags,a[i+4]=t.dependsOn<<4|t.isDependedOn<<2|t.hasRedundancy;return n(T.sdtp,a)},_=function(e){return n(T.stbl,A(e),n(T.stts,B),n(T.stsc,L),n(T.stsz,N),n(T.stco,D))},A=function(e){return n(T.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),"video"===e.type?F(e):U(e))},F=function(e){var t,i=e.sps||[],r=e.pps||[],a=[],o=[];for(t=0;t<i.length;t++)a.push((65280&i[t].byteLength)>>>8),a.push(255&i[t].byteLength),a=a.concat(Array.prototype.slice.call(i[t]));for(t=0;t<r.length;t++)o.push((65280&r[t].byteLength)>>>8),o.push(255&r[t].byteLength),o=o.concat(Array.prototype.slice.call(r[t]));return n(T.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&e.width)>>8,255&e.width,(65280&e.height)>>8,255&e.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),n(T.avcC,new Uint8Array([1,e.profileIdc,e.profileCompatibility,e.levelIdc,255].concat([i.length]).concat(a).concat([r.length]).concat(o))),n(T.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])))},U=function(e){return n(T.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(65280&e.channelcount)>>8,255&e.channelcount,(65280&e.samplesize)>>8,255&e.samplesize,0,0,0,0,(65280&e.samplerate)>>8,255&e.samplerate,0,0]),a(e))},m=function(e){var t=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,0,(4278190080&e.duration)>>24,(16711680&e.duration)>>16,(65280&e.duration)>>8,255&e.duration,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(65280&e.width)>>8,255&e.width,0,0,(65280&e.height)>>8,255&e.height,0,0]);return n(T.tkhd,t)},E=function(e){var t,i,r,a,o,s;return t=n(T.tfhd,new Uint8Array([0,0,0,58,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),o=Math.floor(e.baseMediaDecodeTime/(G+1)),s=Math.floor(e.baseMediaDecodeTime%(G+1)),i=n(T.tfdt,new Uint8Array([1,0,0,0,o>>>24&255,o>>>16&255,o>>>8&255,255&o,s>>>24&255,s>>>16&255,s>>>8&255,255&s])),"audio"===e.type?(r=x(e,92),n(T.traf,t,i,r)):(a=b(e),r=x(e,a.length+92),n(T.traf,t,i,r,a))},f=function(e){return e.duration=e.duration||4294967295,n(T.trak,m(e),g(e))},w=function(e){var t=new Uint8Array([0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return"video"!==e.type&&(t[t.length-1]=0),n(T.trex,t)},V=function(e,t){var i=0,n=0,r=0,a=0;return e.length&&(void 0!==e[0].duration&&(i=1),void 0!==e[0].size&&(n=2),void 0!==e[0].flags&&(r=4),void 0!==e[0].compositionTimeOffset&&(a=8)),[0,0,i|n|r|a,1,(4278190080&e.length)>>>24,(16711680&e.length)>>>16,(65280&e.length)>>>8,255&e.length,(4278190080&t)>>>24,(16711680&t)>>>16,(65280&t)>>>8,255&t]},H=function(e,t){var i,r,a,o;for(t+=20+16*(r=e.samples||[]).length,i=V(r,t),o=0;o<r.length;o++)a=r[o],i=i.concat([(4278190080&a.duration)>>>24,(16711680&a.duration)>>>16,(65280&a.duration)>>>8,255&a.duration,(4278190080&a.size)>>>24,(16711680&a.size)>>>16,(65280&a.size)>>>8,255&a.size,a.flags.isLeading<<2|a.flags.dependsOn,a.flags.isDependedOn<<6|a.flags.hasRedundancy<<4|a.flags.paddingValue<<1|a.flags.isNonSyncSample,61440&a.flags.degradationPriority,15&a.flags.degradationPriority,(4278190080&a.compositionTimeOffset)>>>24,(16711680&a.compositionTimeOffset)>>>16,(65280&a.compositionTimeOffset)>>>8,255&a.compositionTimeOffset]);return n(T.trun,new Uint8Array(i))},z=function(e,t){var i,r,a,o;for(t+=20+8*(r=e.samples||[]).length,i=V(r,t),o=0;o<r.length;o++)a=r[o],i=i.concat([(4278190080&a.duration)>>>24,(16711680&a.duration)>>>16,(65280&a.duration)>>>8,255&a.duration,(4278190080&a.size)>>>24,(16711680&a.size)>>>16,(65280&a.size)>>>8,255&a.size]);return n(T.trun,new Uint8Array(i))},x=function(e,t){return"audio"===e.type?z(e,t):H(e,t)},e.exports={ftyp:o,mdat:s,moof:u,moov:h,initSegment:function(e){var t,i=o(),n=h(e);return(t=new Uint8Array(i.byteLength+n.byteLength)).set(i),t.set(n,i.byteLength),t}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=n(i(1)),o=n(i(59)),s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=t||{},this.init()}return r(e,[{key:"init",value:function(){var e;this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new o.default.Transmuxer(this.options),(e=this.transmuxer).on("data",function(e){var t=e.initSegment;e.initSegment={data:t.buffer,byteOffset:t.byteOffset,byteLength:t.byteLength};var i=e.data;e.data=i.buffer,a.default.postMessage({action:"data",segment:e,byteOffset:i.byteOffset,byteLength:i.byteLength},[e.data])}),e.captionStream&&e.captionStream.on("data",function(e){a.default.postMessage({action:"caption",data:e})}),e.on("done",function(e){a.default.postMessage({action:"done"})}),e.on("gopInfo",function(e){a.default.postMessage({action:"gopInfo",gopInfo:e})})}},{key:"push",value:function(e){var t=new Uint8Array(e.data,e.byteOffset,e.byteLength);this.transmuxer.push(t)}},{key:"reset",value:function(){this.init()}},{key:"setTimestampOffset",value:function(e){var t=e.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(9e4*t))}},{key:"setAudioAppendStart",value:function(e){this.transmuxer.setAudioAppendStart(Math.ceil(9e4*e.appendStart))}},{key:"flush",value:function(e){this.transmuxer.flush()}},{key:"resetCaptions",value:function(){this.transmuxer.resetCaptions()}},{key:"alignGopsWith",value:function(e){this.transmuxer.alignGopsWith(e.gopsToAlignWith.slice())}}]),e}();t.default=function(e){return new function(e){e.onmessage=function(e){"init"===e.data.action&&e.data.options?this.messageHandlers=new s(e.data.options):(this.messageHandlers||(this.messageHandlers=new s),e.data&&e.data.action&&"init"!==e.data.action&&this.messageHandlers[e.data.action]&&this.messageHandlers[e.data.action](e.data))}}(e)},e.exports=t.default},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={TIME_BETWEEN_CHUNKS:1,BYTES_PER_CHUNK:32768},e.exports=t.default},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=n(i(1)),o=n(i(31)),s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=t||{},this.init()}return r(e,[{key:"init",value:function(){var e;this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new o.default.Transmuxer(this.options),(e=this.transmuxer).on("data",function(e){a.default.postMessage({action:"data",segment:e})}),e.on("done",function(e){a.default.postMessage({action:"done"})})}},{key:"push",value:function(e){var t=new Uint8Array(e.data,e.byteOffset,e.byteLength);this.transmuxer.push(t)}},{key:"reset",value:function(){this.init()}},{key:"flush",value:function(){this.transmuxer.flush()}},{key:"resetCaptions",value:function(){this.transmuxer.resetCaptions()}}]),e}();t.default=function(e){return new function(e){e.onmessage=function(e){"init"===e.data.action&&e.data.options?this.messageHandlers=new s(e.data.options):(this.messageHandlers||(this.messageHandlers=new s),e.data&&e.data.action&&"init"!==e.data.action&&this.messageHandlers[e.data.action]&&this.messageHandlers[e.data.action](e.data))}}(e)},e.exports=t.default},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,i){var n=t.player_;if(i.captions&&i.captions.length)for(var r in e.inbandTextTracks_||(e.inbandTextTracks_={}),i.captionStreams)if(!e.inbandTextTracks_[r]){n.tech_.trigger({type:"usage",name:"hls-608"});var a=n.textTracks().getTrackById(r);e.inbandTextTracks_[r]=a||n.addRemoteTextTrack({kind:"captions",id:r,label:r},!1).track}i.metadata&&i.metadata.length&&!e.metadataTrack_&&(e.metadataTrack_=n.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,e.metadataTrack_.inBandMetadataTrackDispatchType=i.metadata.dispatchType)},e.exports=t.default},function(e,t,i){"use strict";var n,r,a,o=i(2),s=i(65);(r=function(){var e,t,i=0;r.prototype.init.call(this),this.push=function(n){var r;for(t?((r=new Uint8Array(t.byteLength+n.data.byteLength)).set(t),r.set(n.data,t.byteLength),t=r):t=n.data;i<t.byteLength-3;i++)if(1===t[i+2]){e=i+5;break}for(;e<t.byteLength;)switch(t[e]){case 0:if(0!==t[e-1]){e+=2;break}if(0!==t[e-2]){e++;break}i+3!==e-2&&this.trigger("data",t.subarray(i+3,e-2));do{e++}while(1!==t[e]&&e<t.length);i=e-2,e+=3;break;case 1:if(0!==t[e-1]||0!==t[e-2]){e+=3;break}this.trigger("data",t.subarray(i+3,e-2)),i=e-2,e+=3;break;default:e+=3}t=t.subarray(i),e-=i,i=0},this.flush=function(){t&&t.byteLength>3&&this.trigger("data",t.subarray(i+3)),t=null,i=0,this.trigger("done")}}).prototype=new o,a={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},(n=function(){var e,t,i,o,l,c,u,h=new r;n.prototype.init.call(this),e=this,this.push=function(e){"video"===e.type&&(t=e.trackId,i=e.pts,o=e.dts,h.push(e))},h.on("data",function(n){var r={trackId:t,pts:i,dts:o,data:n};switch(31&n[0]){case 5:r.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:r.nalUnitType="sei_rbsp",r.escapedRBSP=l(n.subarray(1));break;case 7:r.nalUnitType="seq_parameter_set_rbsp",r.escapedRBSP=l(n.subarray(1)),r.config=c(r.escapedRBSP);break;case 8:r.nalUnitType="pic_parameter_set_rbsp";break;case 9:r.nalUnitType="access_unit_delimiter_rbsp"}e.trigger("data",r)}),h.on("done",function(){e.trigger("done")}),this.flush=function(){h.flush()},u=function(e,t){var i,n=8,r=8;for(i=0;i<e;i++)0!==r&&(r=(n+t.readExpGolomb()+256)%256),n=0===r?n:r},l=function(e){for(var t,i,n=e.byteLength,r=[],a=1;a<n-2;)0===e[a]&&0===e[a+1]&&3===e[a+2]?(r.push(a+2),a+=2):a++;if(0===r.length)return e;t=n-r.length,i=new Uint8Array(t);var o=0;for(a=0;a<t;o++,a++)o===r[0]&&(o++,r.shift()),i[a]=e[o];return i},c=function(e){var t,i,n,r,o,l,c,h,d,p,f,m,g,v=0,y=0,b=0,_=0,A=1;if(i=(t=new s(e)).readUnsignedByte(),r=t.readUnsignedByte(),n=t.readUnsignedByte(),t.skipUnsignedExpGolomb(),a[i]&&(3===(o=t.readUnsignedExpGolomb())&&t.skipBits(1),t.skipUnsignedExpGolomb(),t.skipUnsignedExpGolomb(),t.skipBits(1),t.readBoolean()))for(f=3!==o?8:12,g=0;g<f;g++)t.readBoolean()&&u(g<6?16:64,t);if(t.skipUnsignedExpGolomb(),0===(l=t.readUnsignedExpGolomb()))t.readUnsignedExpGolomb();else if(1===l)for(t.skipBits(1),t.skipExpGolomb(),t.skipExpGolomb(),c=t.readUnsignedExpGolomb(),g=0;g<c;g++)t.skipExpGolomb();if(t.skipUnsignedExpGolomb(),t.skipBits(1),h=t.readUnsignedExpGolomb(),d=t.readUnsignedExpGolomb(),0===(p=t.readBits(1))&&t.skipBits(1),t.skipBits(1),t.readBoolean()&&(v=t.readUnsignedExpGolomb(),y=t.readUnsignedExpGolomb(),b=t.readUnsignedExpGolomb(),_=t.readUnsignedExpGolomb()),t.readBoolean()&&t.readBoolean()){switch(t.readUnsignedByte()){case 1:m=[1,1];break;case 2:m=[12,11];break;case 3:m=[10,11];break;case 4:m=[16,11];break;case 5:m=[40,33];break;case 6:m=[24,11];break;case 7:m=[20,11];break;case 8:m=[32,11];break;case 9:m=[80,33];break;case 10:m=[18,11];break;case 11:m=[15,11];break;case 12:m=[64,33];break;case 13:m=[160,99];break;case 14:m=[4,3];break;case 15:m=[3,2];break;case 16:m=[2,1];break;case 255:m=[t.readUnsignedByte()<<8|t.readUnsignedByte(),t.readUnsignedByte()<<8|t.readUnsignedByte()]}m&&(A=m[0]/m[1])}return{profileIdc:i,levelIdc:n,profileCompatibility:r,width:Math.ceil((16*(h+1)-2*v-2*y)*A),height:(2-p)*(d+1)*16-2*b-2*_}}}).prototype=new o,e.exports={H264Stream:n,NalByteStream:r}},function(e,t,i){"use strict";var n,r=i(2),a=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];(n=function(){var e;n.prototype.init.call(this),this.push=function(t){var i,n,r,o,s,l,c=0,u=0;if("audio"===t.type)for(e?(o=e,(e=new Uint8Array(o.byteLength+t.data.byteLength)).set(o),e.set(t.data,o.byteLength)):e=t.data;c+5<e.length;)if(255===e[c]&&240==(246&e[c+1])){if(n=2*(1&~e[c+1]),i=(3&e[c+3])<<11|e[c+4]<<3|(224&e[c+5])>>5,l=9e4*(s=1024*(1+(3&e[c+6])))/a[(60&e[c+2])>>>2],r=c+i,e.byteLength<r)return;if(this.trigger("data",{pts:t.pts+u*l,dts:t.dts+u*l,sampleCount:s,audioobjecttype:1+(e[c+2]>>>6&3),channelcount:(1&e[c+2])<<2|(192&e[c+3])>>>6,samplerate:a[(60&e[c+2])>>>2],samplingfrequencyindex:(60&e[c+2])>>>2,samplesize:16,data:e.subarray(c+7+n,r)}),e.byteLength===r)return void(e=void 0);u++,e=e.subarray(r)}else c++},this.flush=function(){this.trigger("done")}}).prototype=new r,e.exports=n},function(e,t,i){"use strict";var n=i(2),r=function(e,t){var i=1;for(e>t&&(i=-1);Math.abs(t-e)>4294967296;)e+=8589934592*i;return e},a=function(e){var t,i;a.prototype.init.call(this),this.type_=e,this.push=function(e){e.type===this.type_&&(void 0===i&&(i=e.dts),e.dts=r(e.dts,i),e.pts=r(e.pts,i),t=e.dts,this.trigger("data",e))},this.flush=function(){i=t,this.trigger("done")},this.discontinuity=function(){i=void 0,t=void 0}};a.prototype=new n,e.exports={TimestampRolloverStream:a,handleRollover:r}},function(e,t,i){"use strict";var n,r,a,o=i(2),s=i(67),l=i(4),c=i(29).TimestampRolloverStream,u=i(4);(n=function(){var e=new Uint8Array(188),t=0;n.prototype.init.call(this),this.push=function(i){var n,r=0,a=188;for(t?((n=new Uint8Array(i.byteLength+t)).set(e.subarray(0,t)),n.set(i,t),t=0):n=i;a<n.byteLength;)71!==n[r]||71!==n[a]?(r++,a++):(this.trigger("data",n.subarray(r,a)),r+=188,a+=188);r<n.byteLength&&(e.set(n.subarray(r),0),t=n.byteLength-r)},this.flush=function(){188===t&&71===e[0]&&(this.trigger("data",e),t=0),this.trigger("done")}}).prototype=new o,(r=function(){var e,t,i,n;r.prototype.init.call(this),n=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,e=function(e,n){var r=0;n.payloadUnitStartIndicator&&(r+=e[r]+1),"pat"===n.type?t(e.subarray(r),n):i(e.subarray(r),n)},t=function(e,t){t.section_number=e[7],t.last_section_number=e[8],n.pmtPid=(31&e[10])<<8|e[11],t.pmtPid=n.pmtPid},i=function(e,t){var i,r;if(1&e[5]){for(n.programMapTable={video:null,audio:null,"timed-metadata":{}},i=3+((15&e[1])<<8|e[2])-4,r=12+((15&e[10])<<8|e[11]);r<i;){var a=e[r],o=(31&e[r+1])<<8|e[r+2];a===l.H264_STREAM_TYPE&&null===n.programMapTable.video?n.programMapTable.video=o:a===l.ADTS_STREAM_TYPE&&null===n.programMapTable.audio?n.programMapTable.audio=o:a===l.METADATA_STREAM_TYPE&&(n.programMapTable["timed-metadata"][o]=a),r+=5+((15&e[r+3])<<8|e[r+4])}t.programMapTable=n.programMapTable}},this.push=function(t){var i={},n=4;if(i.payloadUnitStartIndicator=!!(64&t[1]),i.pid=31&t[1],i.pid<<=8,i.pid|=t[2],(48&t[3])>>>4>1&&(n+=t[n]+1),0===i.pid)i.type="pat",e(t.subarray(n),i),this.trigger("data",i);else if(i.pid===this.pmtPid)for(i.type="pmt",e(t.subarray(n),i),this.trigger("data",i);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else void 0===this.programMapTable?this.packetsWaitingForPmt.push([t,n,i]):this.processPes_(t,n,i)},this.processPes_=function(e,t,i){i.pid===this.programMapTable.video?i.streamType=l.H264_STREAM_TYPE:i.pid===this.programMapTable.audio?i.streamType=l.ADTS_STREAM_TYPE:i.streamType=this.programMapTable["timed-metadata"][i.pid],i.type="pes",i.data=e.subarray(t),this.trigger("data",i)}}).prototype=new o,r.STREAM_TYPES={h264:27,adts:15},(a=function(){var e=this,t={data:[],size:0},i={data:[],size:0},n={data:[],size:0},r=function(t,i,n){var r,a,o=new Uint8Array(t.size),s={type:i},l=0,c=0;if(t.data.length&&!(t.size<9)){for(s.trackId=t.data[0].pid,l=0;l<t.data.length;l++)a=t.data[l],o.set(a.data,c),c+=a.data.byteLength;var u,h,d;u=o,(h=s).packetLength=6+(u[4]<<8|u[5]),h.dataAlignmentIndicator=0!=(4&u[6]),192&(d=u[7])&&(h.pts=(14&u[9])<<27|(255&u[10])<<20|(254&u[11])<<12|(255&u[12])<<5|(254&u[13])>>>3,h.pts*=4,h.pts+=(6&u[13])>>>1,h.dts=h.pts,64&d&&(h.dts=(14&u[14])<<27|(255&u[15])<<20|(254&u[16])<<12|(255&u[17])<<5|(254&u[18])>>>3,h.dts*=4,h.dts+=(6&u[18])>>>1)),h.data=u.subarray(9+u[8]),r="video"===i||s.packetLength<=t.size,(n||r)&&(t.size=0,t.data.length=0),r&&e.trigger("data",s)}};a.prototype.init.call(this),this.push=function(a){({pat:function(){},pes:function(){var e,o;switch(a.streamType){case l.H264_STREAM_TYPE:case u.H264_STREAM_TYPE:e=t,o="video";break;case l.ADTS_STREAM_TYPE:e=i,o="audio";break;case l.METADATA_STREAM_TYPE:e=n,o="timed-metadata";break;default:return}a.payloadUnitStartIndicator&&r(e,o,!0),e.data.push(a),e.size+=a.data.byteLength},pmt:function(){var t={type:"metadata",tracks:[]},i=a.programMapTable;null!==i.video&&t.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+i.video,codec:"avc",type:"video"}),null!==i.audio&&t.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+i.audio,codec:"adts",type:"audio"}),e.trigger("data",t)}})[a.type]()},this.flush=function(){r(t,"video"),r(i,"audio"),r(n,"timed-metadata"),this.trigger("done")}}).prototype=new o;var h={PAT_PID:0,MP2T_PACKET_LENGTH:188,TransportPacketStream:n,TransportParseStream:r,ElementaryStream:a,TimestampRolloverStream:c,CaptionStream:s.CaptionStream,Cea608Stream:s.Cea608Stream,MetadataStream:i(66)};for(var d in l)l.hasOwnProperty(d)&&(h[d]=l[d]);e.exports=h},function(e,t,i){e.exports={tag:i(14),Transmuxer:i(68),getFlvHeader:i(62)}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(e,t,i){for(var n=!0;n;){var r=e,a=t,o=i;n=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,a);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(o)}var c=Object.getPrototypeOf(r);if(null===c)return;e=c,t=a,i=o,n=!0,s=c=void 0}},o=i(75),s=(n=o)&&n.__esModule?n:{default:n},l=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,s.default),this.jobs=[],this.delay=1,this.timeout_=null}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default),r(t,[{key:"processJob_",value:function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null}},{key:"push",value:function(e){this.jobs.push(e),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))}}]),t}();t.default=l,e.exports=t.default},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=i(77),a=i(32),o=(n=a)&&n.__esModule?n:{default:n};t.default={decrypt:r.decrypt,Decrypter:r.Decrypter,AsyncStream:o.default},e.exports=t.default},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var i=[],n=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(i.push(o.value),!t||i.length!==t);n=!0);}catch(e){r=!0,a=e}finally{try{!n&&s.return&&s.return()}finally{if(r)throw a}}return i}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=i(15),s=(n=o)&&n.__esModule?n:{default:n},l=function(e){for(var t=e.split(new RegExp('(?:^|,)((?:[^=]*)=(?:"[^"]*"|[^,]*))')),i={},n=t.length,r=void 0;n--;)""!==t[n]&&((r=/([^=]*)=(.*)/.exec(t[n]).slice(1))[0]=r[0].replace(/^\s+|\s+$/g,""),r[1]=r[1].replace(/^\s+|\s+$/g,""),r[1]=r[1].replace(/^['"](.*)['"]$/g,"$1"),i[r[0]]=r[1]);return i},c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default),a(t,[{key:"push",value:function(e){var t=void 0,i=void 0;if(0!==(e=e.replace(/^[\u0000\s]+|[\u0000\s]+$/g,"")).length)if("#"===e[0])if(0===e.indexOf("#EXT"))if(e=e.replace("\r",""),t=/^#EXTM3U/.exec(e))this.trigger("data",{type:"tag",tagType:"m3u"});else{if(t=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(e))return i={type:"tag",tagType:"inf"},t[1]&&(i.duration=parseFloat(t[1])),t[2]&&(i.title=t[2]),void this.trigger("data",i);if(t=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(e))return i={type:"tag",tagType:"targetduration"},t[1]&&(i.duration=parseInt(t[1],10)),void this.trigger("data",i);if(t=/^#ZEN-TOTAL-DURATION:?([0-9.]*)?/.exec(e))return i={type:"tag",tagType:"totalduration"},t[1]&&(i.duration=parseInt(t[1],10)),void this.trigger("data",i);if(t=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(e))return i={type:"tag",tagType:"version"},t[1]&&(i.version=parseInt(t[1],10)),void this.trigger("data",i);if(t=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(e))return i={type:"tag",tagType:"media-sequence"},t[1]&&(i.number=parseInt(t[1],10)),void this.trigger("data",i);if(t=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(e))return i={type:"tag",tagType:"discontinuity-sequence"},t[1]&&(i.number=parseInt(t[1],10)),void this.trigger("data",i);if(t=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(e))return i={type:"tag",tagType:"playlist-type"},t[1]&&(i.playlistType=t[1]),void this.trigger("data",i);if(t=/^#EXT-X-BYTERANGE:?([0-9.]*)?@?([0-9.]*)?/.exec(e))return i={type:"tag",tagType:"byterange"},t[1]&&(i.length=parseInt(t[1],10)),t[2]&&(i.offset=parseInt(t[2],10)),void this.trigger("data",i);if(t=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(e))return i={type:"tag",tagType:"allow-cache"},t[1]&&(i.allowed=!/NO/.test(t[1])),void this.trigger("data",i);if(t=/^#EXT-X-MAP:?(.*)$/.exec(e)){if(i={type:"tag",tagType:"map"},t[1]){var n=l(t[1]);if(n.URI&&(i.uri=n.URI),n.BYTERANGE){var a=n.BYTERANGE.split("@"),o=r(a,2),s=o[0],c=o[1];i.byterange={},s&&(i.byterange.length=parseInt(s,10)),c&&(i.byterange.offset=parseInt(c,10))}}this.trigger("data",i)}else if(t=/^#EXT-X-STREAM-INF:?(.*)$/.exec(e)){if(i={type:"tag",tagType:"stream-inf"},t[1]){if(i.attributes=l(t[1]),i.attributes.RESOLUTION){var u=i.attributes.RESOLUTION.split("x"),h={};u[0]&&(h.width=parseInt(u[0],10)),u[1]&&(h.height=parseInt(u[1],10)),i.attributes.RESOLUTION=h}i.attributes.BANDWIDTH&&(i.attributes.BANDWIDTH=parseInt(i.attributes.BANDWIDTH,10)),i.attributes["PROGRAM-ID"]&&(i.attributes["PROGRAM-ID"]=parseInt(i.attributes["PROGRAM-ID"],10))}this.trigger("data",i)}else{if(t=/^#EXT-X-MEDIA:?(.*)$/.exec(e))return i={type:"tag",tagType:"media"},t[1]&&(i.attributes=l(t[1])),void this.trigger("data",i);if(t=/^#EXT-X-ENDLIST/.exec(e))this.trigger("data",{type:"tag",tagType:"endlist"});else if(t=/^#EXT-X-DISCONTINUITY/.exec(e))this.trigger("data",{type:"tag",tagType:"discontinuity"});else{if(t=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(e))return i={type:"tag",tagType:"program-date-time"},t[1]&&(i.dateTimeString=t[1],i.dateTimeObject=new Date(t[1])),void this.trigger("data",i);if(t=/^#EXT-X-KEY:?(.*)$/.exec(e))return i={type:"tag",tagType:"key"},t[1]&&(i.attributes=l(t[1]),i.attributes.IV&&("0x"===i.attributes.IV.substring(0,2).toLowerCase()&&(i.attributes.IV=i.attributes.IV.substring(2)),i.attributes.IV=i.attributes.IV.match(/.{8}/g),i.attributes.IV[0]=parseInt(i.attributes.IV[0],16),i.attributes.IV[1]=parseInt(i.attributes.IV[1],16),i.attributes.IV[2]=parseInt(i.attributes.IV[2],16),i.attributes.IV[3]=parseInt(i.attributes.IV[3],16),i.attributes.IV=new Uint32Array(i.attributes.IV))),void this.trigger("data",i);if(t=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(e))return i={type:"tag",tagType:"cue-out-cont"},t[1]?i.data=t[1]:i.data="",void this.trigger("data",i);if(t=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(e))return i={type:"tag",tagType:"cue-out"},t[1]?i.data=t[1]:i.data="",void this.trigger("data",i);if(t=/^#EXT-X-CUE-IN:?(.*)?$/.exec(e))return i={type:"tag",tagType:"cue-in"},t[1]?i.data=t[1]:i.data="",void this.trigger("data",i);this.trigger("data",{type:"tag",data:e.slice(4)})}}}else this.trigger("data",{type:"comment",text:e.slice(1)});else this.trigger("data",{type:"uri",uri:e})}}]),t}();t.default=c},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=i(15),o=(n=a)&&n.__esModule?n:{default:n},s=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.buffer="",e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),r(t,[{key:"push",value:function(e){var t=void 0;for(this.buffer+=e,t=this.buffer.indexOf("\n");t>-1;t=this.buffer.indexOf("\n"))this.trigger("data",this.buffer.substring(0,t)),this.buffer=this.buffer.substring(t+1)}}]),t}();t.default=s},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var r=n(i(35)),a=n(i(34)),o=n(i(79));e.exports={LineStream:r.default,ParseStream:a.default,Parser:o.default}},function(e,t,i){function n(e,t){for(var i=0;i<e.length;i++){var n=e[i],r=p[n.id];if(r){r.refs++;for(var a=0;a<r.parts.length;a++)r.parts[a](n.parts[a]);for(;a<n.parts.length;a++)r.parts.push(c(n.parts[a],t))}else{var o=[];for(a=0;a<n.parts.length;a++)o.push(c(n.parts[a],t));p[n.id]={id:n.id,refs:1,parts:o}}}}function r(e,t){for(var i=[],n={},r=0;r<e.length;r++){var a=e[r],o=t.base?a[0]+t.base:a[0],s={css:a[1],media:a[2],sourceMap:a[3]};n[o]?n[o].parts.push(s):i.push(n[o]={id:o,parts:[s]})}return i}function a(e,t){var i=m(e.insertInto);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var n=y[y.length-1];if("top"===e.insertAt)n?n.nextSibling?i.insertBefore(t,n.nextSibling):i.appendChild(t):i.insertBefore(t,i.firstChild),y.push(t);else if("bottom"===e.insertAt)i.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var r=m(e.insertInto+" "+e.insertAt.before);i.insertBefore(t,r)}}function o(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=y.indexOf(e);t>=0&&y.splice(t,1)}function s(e){var t=document.createElement("style");return void 0===e.attrs.type&&(e.attrs.type="text/css"),l(t,e.attrs),a(e,t),t}function l(e,t){Object.keys(t).forEach(function(i){e.setAttribute(i,t[i])})}function c(e,t){var i,n,r,c;if(t.transform&&e.css){if(!(c=t.transform(e.css)))return function(){};e.css=c}if(t.singleton){var h=v++;i=g||(g=s(t)),n=u.bind(null,i,h,!1),r=u.bind(null,i,h,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(i=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",l(t,e.attrs),a(e,t),t}(t),n=function(e,t,i){var n=i.css,r=i.sourceMap,a=void 0===t.convertToAbsoluteUrls&&r;(t.convertToAbsoluteUrls||a)&&(n=b(n)),r&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var o=new Blob([n],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(o),s&&URL.revokeObjectURL(s)}.bind(null,i,t),r=function(){o(i),i.href&&URL.revokeObjectURL(i.href)}):(i=s(t),n=function(e,t){var i=t.css,n=t.media;if(n&&e.setAttribute("media",n),e.styleSheet)e.styleSheet.cssText=i;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(i))}}.bind(null,i),r=function(){o(i)});return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else r()}}function u(e,t,i,n){var r=i?"":n.css;if(e.styleSheet)e.styleSheet.cssText=A(t,r);else{var a=document.createTextNode(r),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(a,o[t]):e.appendChild(a)}}var h,d,p={},f=(h=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===d&&(d=h.apply(this,arguments)),d}),m=function(e){var t={};return function(e){if("function"==typeof e)return e();if(void 0===t[e]){var i=function(e){return document.querySelector(e)}.call(this,e);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(e){i=null}t[e]=i}return t[e]}}(),g=null,v=0,y=[],b=i(86);e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=f()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var i=r(e,t);return n(i,t),function(e){for(var a=[],o=0;o<i.length;o++){var s=i[o];(l=p[s.id]).refs--,a.push(l)}for(e&&n(r(e,t),t),o=0;o<a.length;o++){var l;if(0===(l=a[o]).refs){for(var c=0;c<l.parts.length;c++)l.parts[c]();delete p[l.id]}}}};var _,A=(_=[],function(e,t){return _[e]=t,_.filter(Boolean).join("\n")})},function(e,t){e.exports=function(e){var t=i.call(e);return"[object Function]"===t||"function"==typeof e&&"[object RegExp]"!==t||"undefined"!=typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)};var i=Object.prototype.toString},function(e,t){var i;i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(i=window)}e.exports=i},function(e,t,i){"use strict";function n(e){return function(){return e}}var r=function(){};r.thatReturns=n,r.thatReturnsFalse=n(!1),r.thatReturnsTrue=n(!0),r.thatReturnsNull=n(null),r.thatReturnsThis=function(){return this},r.thatReturnsArgument=function(e){return e},e.exports=r},function(e,t,i){"use strict";e.exports=function(e,t,i,n,r,a,o,s){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[i,n,r,a,o,s],u=0;(l=new Error(t.replace(/%s/g,function(){return c[u++]}))).name="Invariant Violation"}throw l.framesToPop=1,l}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=i(0),a=(n=r)&&n.__esModule?n:{default:n},o={errorInterval:30,getSource:function(e){return e(this.tech({IWillNotUseThisInPlugins:!0}).currentSource_)}};t.default=function(e){!function e(t,i){var n=0,r=0,s=a.default.mergeOptions(o,i);t.ready(function(){t.trigger({type:"usage",name:"hls-error-reload-initialized"})});var l=function(){r&&t.currentTime(r)},c=function(e){null!==e&&void 0!==e&&(r=t.duration()!==1/0&&t.currentTime()||0,t.one("loadedmetadata",l),t.src(e),t.trigger({type:"usage",name:"hls-error-reload"}),t.play())},u=function(){if(Date.now()-n<1e3*s.errorInterval)t.trigger({type:"usage",name:"hls-error-reload-canceled"});else{if(s.getSource&&"function"==typeof s.getSource)return n=Date.now(),s.getSource.call(t,c);a.default.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!")}},h=function e(){t.off("loadedmetadata",l),t.off("error",u),t.off("dispose",e)};t.on("error",u),t.on("dispose",h),t.reloadSourceOnError=function(i){h(),e(t,i)}}(this,e)},e.exports=t.default},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=n(i(1)),o=n(i(10)),s=n(i(0)),l=["seeking","seeked","pause","playing","error"],c=function(){function e(t){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.tech_=t.tech,this.seekable=t.seekable,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.timer_=null,this.checkCurrentTimeTimeout_=null,t.debug&&(this.logger_=s.default.log.bind(s.default,"playback-watcher ->")),this.logger_("initialize");var n=function(){return i.monitorCurrentTime_()},r=function(){return i.techWaiting_()},o=function(){return i.cancelTimer_()},c=function(){return i.fixesBadSeeks_()};this.tech_.on("seekablechanged",c),this.tech_.on("waiting",r),this.tech_.on(l,o),this.tech_.on("canplay",n),this.dispose=function(){i.logger_("dispose"),i.tech_.off("seekablechanged",c),i.tech_.off("waiting",r),i.tech_.off(l,o),i.tech_.off("canplay",n),i.checkCurrentTimeTimeout_&&a.default.clearTimeout(i.checkCurrentTimeTimeout_),i.cancelTimer_()}}return r(e,[{key:"monitorCurrentTime_",value:function(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&a.default.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=a.default.setTimeout(this.monitorCurrentTime_.bind(this),250)}},{key:"checkCurrentTime_",value:function(){if(this.tech_.seeking()&&this.fixesBadSeeks_())return this.consecutiveUpdates=0,void(this.lastRecordedTime=this.tech_.currentTime());if(!this.tech_.paused()&&!this.tech_.seeking()){var e=this.tech_.currentTime(),t=this.tech_.buffered();if(this.lastRecordedTime===e&&(!t.length||e+o.default.SAFE_TIME_DELTA>=t.end(t.length-1)))return this.techWaiting_();this.consecutiveUpdates>=5&&e===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):e===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=e)}}},{key:"cancelTimer_",value:function(){this.consecutiveUpdates=0,this.timer_&&(this.logger_("cancelTimer_"),clearTimeout(this.timer_)),this.timer_=null}},{key:"fixesBadSeeks_",value:function(){var e=this.tech_.seeking(),t=this.seekable(),i=this.tech_.currentTime(),n=void 0;return e&&this.afterSeekableWindow_(t,i)&&(n=t.end(t.length-1)),e&&this.beforeSeekableWindow_(t,i)&&(n=t.start(0)+o.default.SAFE_TIME_DELTA),void 0!==n&&(this.logger_("Trying to seek outside of seekable at time "+i+" with seekable range "+o.default.printableRange(t)+". Seeking to "+n+"."),this.tech_.setCurrentTime(n),!0)}},{key:"waiting_",value:function(){if(!this.techWaiting_()){var e=this.tech_.currentTime(),t=this.tech_.buffered(),i=o.default.findRange(t,e);return i.length&&e+3<=i.end(0)?(this.cancelTimer_(),this.tech_.setCurrentTime(e),this.logger_("Stopped at "+e+" while inside a buffered region ["+i.start(0)+" -> "+i.end(0)+"]. Attempting to resume playback by seeking to the current time."),void this.tech_.trigger({type:"usage",name:"hls-unknown-waiting"})):void 0}}},{key:"techWaiting_",value:function(){var e=this.seekable(),t=this.tech_.currentTime();if(this.tech_.seeking()&&this.fixesBadSeeks_())return!0;if(this.tech_.seeking()||null!==this.timer_)return!0;if(this.beforeSeekableWindow_(e,t)){var i=e.end(e.length-1);return this.logger_("Fell out of live window at time "+t+". Seeking to live point (seekable end) "+i),this.cancelTimer_(),this.tech_.setCurrentTime(i),this.tech_.trigger({type:"usage",name:"hls-live-resync"}),!0}var n=this.tech_.buffered(),r=o.default.findNextRange(n,t);if(this.videoUnderflow_(r,n,t))return this.cancelTimer_(),this.tech_.setCurrentTime(t),this.tech_.trigger({type:"usage",name:"hls-video-underflow"}),!0;if(r.length>0){var a=r.start(0)-t;return this.logger_("Stopped at "+t+", setting timer for "+a+", seeking to "+r.start(0)),this.timer_=setTimeout(this.skipTheGap_.bind(this),1e3*a,t),!0}return!1}},{key:"afterSeekableWindow_",value:function(e,t){return!!e.length&&t>e.end(e.length-1)+o.default.SAFE_TIME_DELTA}},{key:"beforeSeekableWindow_",value:function(e,t){return!!(e.length&&e.start(0)>0&&t<e.start(0)-o.default.SAFE_TIME_DELTA)}},{key:"videoUnderflow_",value:function(e,t,i){if(0===e.length){var n=this.gapFromVideoUnderflow_(t,i);if(n)return this.logger_("Encountered a gap in video from "+n.start+" to "+n.end+". Seeking to current time "+i),!0}return!1}},{key:"skipTheGap_",value:function(e){var t=this.tech_.buffered(),i=this.tech_.currentTime(),n=o.default.findNextRange(t,i);this.cancelTimer_(),0!==n.length&&i===e&&(this.logger_("skipTheGap_:","currentTime:",i,"scheduled currentTime:",e,"nextRange start:",n.start(0)),this.tech_.setCurrentTime(n.start(0)+o.default.TIME_FUDGE_FACTOR),this.tech_.trigger({type:"usage",name:"hls-gap-skip"}))}},{key:"gapFromVideoUnderflow_",value:function(e,t){for(var i=o.default.findGaps(e),n=0;n<i.length;n++){var r=i.start(n),a=i.end(n);if(t-r<4&&t-r>2)return{start:r,end:a}}return null}},{key:"logger_",value:function(){}}]),e}();t.default=c,e.exports=t.default},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(3),r=function e(t,i,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var a,o,s,l=t.masterPlaylistController_.fastQualityChange_.bind(t.masterPlaylistController_);if(i.attributes.RESOLUTION){var c=i.attributes.RESOLUTION;this.width=c.width,this.height=c.height}this.bandwidth=i.attributes.BANDWIDTH,this.id=r,this.enabled=(a=t.playlists,o=i.uri,s=l,function(e){var t=a.master.playlists[o],i=(0,n.isIncompatible)(t),r=(0,n.isEnabled)(t);return void 0===e?r:(e?delete t.disabled:t.disabled=!0,e===r||i||(s(),e?a.trigger("renditionenabled"):a.trigger("renditiondisabled")),e)})};t.default=function(e){var t=e.playlists;e.representations=function(){return t.master.playlists.filter(function(e){return!(0,n.isIncompatible)(e)}).map(function(t,i){return new r(e,t,t.uri)})}},e.exports=t.default},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(i(0)),a=n(i(16)),o=function(){},s=function(e){var t=e.default?"main":"alternative";return e.characteristics&&e.characteristics.indexOf("public.accessibility.describes-video")>=0&&(t="main-desc"),t},l=function(e,t){e.abort(),e.pause(),t&&t.activePlaylistLoader&&(t.activePlaylistLoader.pause(),t.activePlaylistLoader=null)};t.stopLoaders=l;var c=function(e,t){t.activePlaylistLoader=e,e.load()};t.startLoaders=c;var u=function(e,t){return function(){var i=t.segmentLoaders,n=i[e],r=i.main,a=t.mediaTypes[e],o=a.activeTrack(),s=a.activeGroup(o),u=a.activePlaylistLoader;l(n,a),s&&(s.playlistLoader?(n.resyncLoader(),c(s.playlistLoader,a)):u&&r.resetEverything())}};t.onGroupChanged=u;var h=function(e,t){return function(){var i=t.segmentLoaders,n=i[e],r=i.main,a=t.mediaTypes[e],o=a.activeTrack(),s=a.activeGroup(o),u=a.activePlaylistLoader;l(n,a),s&&(s.playlistLoader?u!==s.playlistLoader?(n.track&&n.track(o),n.resetEverything(),c(s.playlistLoader,a)):c(s.playlistLoader,a):r.resetEverything())}};t.onTrackChanged=h;var d={AUDIO:function(e,t){return function(){var i=t.segmentLoaders[e],n=t.mediaTypes[e],a=t.blacklistCurrentPlaylist;l(i,n);var o=n.activeTrack(),s=n.activeGroup(),c=(s.filter(function(e){return e.default})[0]||s[0]).id,u=n.tracks[c];if(o!==u){for(var h in r.default.log.warn("Problem encountered loading the alternate audio track.Switching back to default."),n.tracks)n.tracks[h].enabled=n.tracks[h]===u;n.onTrackChanged()}else a({message:"Problem encountered loading the default audio track."})}},SUBTITLES:function(e,t){return function(){var i=t.segmentLoaders[e],n=t.mediaTypes[e];r.default.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track."),l(i,n);var a=n.activeTrack();a&&(a.mode="disabled"),n.onTrackChanged()}}};t.onError=d;var p={AUDIO:function(e,t,i){if(t){var n=i.tech,r=i.requestOptions,a=i.segmentLoaders[e];t.on("loadedmetadata",function(){var e=t.media();a.playlist(e,r),(!n.paused()||e.endList&&"none"!==n.preload())&&a.load()}),t.on("loadedplaylist",function(){a.playlist(t.media(),r),n.paused()||a.load()}),t.on("error",d[e](e,i))}},SUBTITLES:function(e,t,i){var n=i.tech,r=i.requestOptions,a=i.segmentLoaders[e],o=i.mediaTypes[e];t.on("loadedmetadata",function(){var e=t.media();a.playlist(e,r),a.track(o.activeTrack()),(!n.paused()||e.endList&&"none"!==n.preload())&&a.load()}),t.on("loadedplaylist",function(){a.playlist(t.media(),r),n.paused()||a.load()}),t.on("error",d[e](e,i))}};t.setupListeners=p;var f={AUDIO:function(e,t){var i=t.mode,n=t.hls,o=t.segmentLoaders[e],l=t.requestOptions.withCredentials,c=t.master.mediaGroups,u=t.mediaTypes[e],h=u.groups,f=u.tracks;for(var m in c[e]&&0!==Object.keys(c[e]).length&&"html5"===i||(c[e]={main:{default:{default:!0}}}),c[e])for(var g in h[m]||(h[m]=[]),c[e][m]){var v=c[e][m][g],y=void 0;if(y=v.resolvedUri?new a.default(v.resolvedUri,n,l):null,v=r.default.mergeOptions({id:g,playlistLoader:y},v),p[e](e,v.playlistLoader,t),h[m].push(v),void 0===f[g]){var b=new r.default.AudioTrack({id:g,kind:s(v),enabled:!1,language:v.language,default:v.default,label:g});f[g]=b}}o.on("error",d[e](e,t))},SUBTITLES:function(e,t){var i=t.tech,n=t.hls,o=t.segmentLoaders[e],s=t.requestOptions.withCredentials,l=t.master.mediaGroups,c=t.mediaTypes[e],u=c.groups,h=c.tracks;for(var f in l[e])for(var m in u[f]||(u[f]=[]),l[e][f])if(!l[e][f][m].forced){var g=l[e][f][m];if(g=r.default.mergeOptions({id:m,playlistLoader:new a.default(g.resolvedUri,n,s)},g),p[e](e,g.playlistLoader,t),u[f].push(g),void 0===h[m]){var v=i.addRemoteTextTrack({id:m,kind:"subtitles",enabled:!1,language:g.language,label:m},!1).track;h[m]=v}}o.on("error",d[e](e,t))},"CLOSED-CAPTIONS":function(e,t){var i=t.tech,n=t.master.mediaGroups,a=t.mediaTypes[e],o=a.groups,s=a.tracks;for(var l in n[e])for(var c in o[l]||(o[l]=[]),n[e][l]){var u=n[e][l][c];if(u.instreamId.match(/CC\d/)&&(o[l].push(r.default.mergeOptions({id:c},u)),void 0===s[c])){var h=i.addRemoteTextTrack({id:u.instreamId,kind:"captions",enabled:!1,language:u.language,label:c},!1).track;s[c]=h}}}};t.initialize=f;var m=function(e,t){return function(i){var n=t.masterPlaylistLoader,r=t.mediaTypes[e].groups,a=n.media();if(!a)return null;var o=null;return a.attributes[e]&&(o=r[a.attributes[e]]),o=o||r.main,void 0===i?o:null===i?null:o.filter(function(e){return e.id===i.id})[0]||null}};t.activeGroup=m;var g={AUDIO:function(e,t){return function(){var i=t.mediaTypes[e].tracks;for(var n in i)if(i[n].enabled)return i[n];return null}},SUBTITLES:function(e,t){return function(){var i=t.mediaTypes[e].tracks;for(var n in i)if("showing"===i[n].mode)return i[n];return null}}};t.activeTrack=g,t.setupMediaGroups=function(e){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(t){f[t](t,e)});var t=e.mediaTypes,i=e.masterPlaylistLoader,n=e.tech,r=e.hls;["AUDIO","SUBTITLES"].forEach(function(i){t[i].activeGroup=m(i,e),t[i].activeTrack=g[i](i,e),t[i].onGroupChanged=u(i,e),t[i].onTrackChanged=h(i,e)});var a=t.AUDIO.activeGroup(),o=(a.filter(function(e){return e.default})[0]||a[0]).id;t.AUDIO.tracks[o].enabled=!0,t.AUDIO.onTrackChanged(),i.on("mediachange",function(){["AUDIO","SUBTITLES"].forEach(function(e){return t[e].onGroupChanged()})});var s=function(){t.AUDIO.onTrackChanged(),n.trigger({type:"usage",name:"hls-audio-change"})};for(var l in n.audioTracks().addEventListener("change",s),n.remoteTextTracks().addEventListener("change",t.SUBTITLES.onTrackChanged),r.on("dispose",function(){n.audioTracks().removeEventListener("change",s),n.remoteTextTracks().removeEventListener("change",t.SUBTITLES.onTrackChanged)}),n.clearTracks("audio"),t.AUDIO.tracks)n.audioTracks().addTrack(t.AUDIO.tracks[l])},t.createMediaTypes=function(){var e={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(t){e[t]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:o,activeTrack:o,onGroupChanged:o,onTrackChanged:o}}),e}},function(e,t,i){"use strict";var n=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],r=function(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]};e.exports={parseId3TagSize:function(e,t){var i=e[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9];return(16&e[t+5])>>4?i+20:i+10},parseAdtsSize:function(e,t){var i=(224&e[t+5])>>5,n=e[t+4]<<3;return 6144&e[t+3]|n|i},parseType:function(e,t){return e[t]==="I".charCodeAt(0)&&e[t+1]==="D".charCodeAt(0)&&e[t+2]==="3".charCodeAt(0)?"timed-metadata":!0&e[t]&&240==(240&e[t+1])?"audio":null},parseSampleRate:function(e){for(var t=0;t+5<e.length;){if(255===e[t]&&240==(246&e[t+1]))return n[(60&e[t+2])>>>2];t++}return null},parseAacTimestamp:function(e){var t,i,n;t=10,64&e[5]&&(t+=4,t+=r(e.subarray(10,14)));do{if((i=r(e.subarray(t+4,t+8)))<1)return null;if("PRIV"===String.fromCharCode(e[t],e[t+1],e[t+2],e[t+3])){n=e.subarray(t+10,t+i+10);for(var a=0;a<n.byteLength;a++)if(0===n[a]){if("com.apple.streaming.transportStreamTimestamp"===unescape(function(e,t,i){var n,r="";for(n=0;n<i;n++)r+="%"+("00"+e[n].toString(16)).slice(-2);return r}(n,0,a))){var o=n.subarray(a+1),s=(1&o[3])<<30|o[4]<<22|o[5]<<14|o[6]<<6|o[7]>>>2;return s*=4,s+=3&o[7]}break}}t+=10,t+=i}while(t<e.byteLength);return null}}},function(e,t,i){"use strict";var n=i(4),r=function(e){var t=31&e[1];return t<<=8,t|=e[2]},a=function(e){return!!(64&e[1])},o=function(e){var t=0;return(48&e[3])>>>4>1&&(t+=e[4]+1),t},s=function(e){switch(e){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}};e.exports={parseType:function(e,t){var i=r(e);return 0===i?"pat":i===t?"pmt":t?"pes":null},parsePat:function(e){var t=a(e),i=4+o(e);return t&&(i+=e[i]+1),(31&e[i+10])<<8|e[i+11]},parsePmt:function(e){var t={},i=a(e),n=4+o(e);if(i&&(n+=e[n]+1),1&e[n+5]){var r;r=3+((15&e[n+1])<<8|e[n+2])-4;for(var s=12+((15&e[n+10])<<8|e[n+11]);s<r;){var l=n+s;t[(31&e[l+1])<<8|e[l+2]]=e[l],s+=5+((15&e[l+3])<<8|e[l+4])}return t}},parsePayloadUnitStartIndicator:a,parsePesType:function(e,t){switch(t[r(e)]){case n.H264_STREAM_TYPE:return"video";case n.ADTS_STREAM_TYPE:return"audio";case n.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},parsePesTime:function(e){if(!a(e))return null;var t=4+o(e);if(t>=e.byteLength)return null;var i,n=null;return 192&(i=e[t+7])&&((n={}).pts=(14&e[t+9])<<27|(255&e[t+10])<<20|(254&e[t+11])<<12|(255&e[t+12])<<5|(254&e[t+13])>>>3,n.pts*=4,n.pts+=(6&e[t+13])>>>1,n.dts=n.pts,64&i&&(n.dts=(14&e[t+14])<<27|(255&e[t+15])<<20|(254&e[t+16])<<12|(255&e[t+17])<<5|(254&e[t+18])>>>3,n.dts*=4,n.dts+=(6&e[t+18])>>>1)),n},videoPacketContainsKeyFrame:function(e){for(var t=4+o(e),i=e.subarray(t),n=0,r=0,a=!1;r<i.byteLength-3;r++)if(1===i[r+2]){n=r+5;break}for(;n<i.byteLength;)switch(i[n]){case 0:if(0!==i[n-1]){n+=2;break}if(0!==i[n-2]){n++;break}r+3!==n-2&&"slice_layer_without_partitioning_rbsp_idr"===s(31&i[r+3])&&(a=!0);do{n++}while(1!==i[n]&&n<i.length);r=n-2,n+=3;break;case 1:if(0!==i[n-1]||0!==i[n-2]){n+=3;break}"slice_layer_without_partitioning_rbsp_idr"===s(31&i[r+3])&&(a=!0),r=n-2,n+=3;break;default:n+=3}return i=i.subarray(r),n-=r,r=0,i&&i.byteLength>3&&"slice_layer_without_partitioning_rbsp_idr"===s(31&i[r+3])&&(a=!0),a}}},function(e,t,i){"use strict";var n=i(4),r=i(29).handleRollover,a={};a.ts=i(47),a.aac=i(46);var o=function(e,t,i){for(var n,r,o,s,l=0,c=188,u=!1;c<e.byteLength;)if(71!==e[l]||71!==e[c])l++,c++;else{switch(n=e.subarray(l,c),a.ts.parseType(n,t.pid)){case"pes":r=a.ts.parsePesType(n,t.table),o=a.ts.parsePayloadUnitStartIndicator(n),"audio"===r&&o&&(s=a.ts.parsePesTime(n))&&(s.type="audio",i.audio.push(s),u=!0)}if(u)break;l+=188,c+=188}for(l=(c=e.byteLength)-188,u=!1;l>=0;)if(71!==e[l]||71!==e[c])l--,c--;else{switch(n=e.subarray(l,c),a.ts.parseType(n,t.pid)){case"pes":r=a.ts.parsePesType(n,t.table),o=a.ts.parsePayloadUnitStartIndicator(n),"audio"===r&&o&&(s=a.ts.parsePesTime(n))&&(s.type="audio",i.audio.push(s),u=!0)}if(u)break;l-=188,c-=188}},s=function(e,t,i){for(var n,r,o,s,l,c,u,h=0,d=188,p=!1,f={data:[],size:0};d<e.byteLength;)if(71!==e[h]||71!==e[d])h++,d++;else{switch(n=e.subarray(h,d),a.ts.parseType(n,t.pid)){case"pes":if(r=a.ts.parsePesType(n,t.table),o=a.ts.parsePayloadUnitStartIndicator(n),"video"===r&&(o&&!p&&(s=a.ts.parsePesTime(n))&&(s.type="video",i.video.push(s),p=!0),!i.firstKeyFrame)){if(o&&0!==f.size){for(l=new Uint8Array(f.size),c=0;f.data.length;)u=f.data.shift(),l.set(u,c),c+=u.byteLength;a.ts.videoPacketContainsKeyFrame(l)&&(i.firstKeyFrame=a.ts.parsePesTime(l),i.firstKeyFrame.type="video"),f.size=0}f.data.push(n),f.size+=n.byteLength}}if(p&&i.firstKeyFrame)break;h+=188,d+=188}for(h=(d=e.byteLength)-188,p=!1;h>=0;)if(71!==e[h]||71!==e[d])h--,d--;else{switch(n=e.subarray(h,d),a.ts.parseType(n,t.pid)){case"pes":r=a.ts.parsePesType(n,t.table),o=a.ts.parsePayloadUnitStartIndicator(n),"video"===r&&o&&(s=a.ts.parsePesTime(n))&&(s.type="video",i.video.push(s),p=!0)}if(p)break;h-=188,d-=188}},l=function(e){var t={pid:null,table:null},i={};for(var r in function(e,t){for(var i,n=0,r=188;r<e.byteLength;)if(71!==e[n]||71!==e[r])n++,r++;else{switch(i=e.subarray(n,r),a.ts.parseType(i,t.pid)){case"pat":t.pid||(t.pid=a.ts.parsePat(i));break;case"pmt":t.table||(t.table=a.ts.parsePmt(i))}if(t.pid&&t.table)return;n+=188,r+=188}}(e,t),t.table)if(t.table.hasOwnProperty(r))switch(t.table[r]){case n.H264_STREAM_TYPE:i.video=[],s(e,t,i),0===i.video.length&&delete i.video;break;case n.ADTS_STREAM_TYPE:i.audio=[],o(e,t,i),0===i.audio.length&&delete i.audio}return i};e.exports={inspect:function(e,t){var i,n;return(n=(i=e)[0]==="I".charCodeAt(0)&&i[1]==="D".charCodeAt(0)&&i[2]==="3".charCodeAt(0)?function(e){for(var t,i=!1,n=0,r=null,o=null,s=0,l=0;e.length-l>=3;){switch(a.aac.parseType(e,l)){case"timed-metadata":if(e.length-l<10){i=!0;break}if((s=a.aac.parseId3TagSize(e,l))>e.length){i=!0;break}null===o&&(t=e.subarray(l,l+s),o=a.aac.parseAacTimestamp(t)),l+=s;break;case"audio":if(e.length-l<7){i=!0;break}if((s=a.aac.parseAdtsSize(e,l))>e.length){i=!0;break}null===r&&(t=e.subarray(l,l+s),r=a.aac.parseSampleRate(t)),n++,l+=s;break;default:l++}if(i)return null}if(null===r||null===o)return null;var c=9e4/r;return{audio:[{type:"audio",dts:o,pts:o},{type:"audio",dts:o+1024*n*c,pts:o+1024*n*c}]}}(e):l(e))&&(n.audio||n.video)?(function(e,t){if(e.audio&&e.audio.length){var i=t;void 0===i&&(i=e.audio[0].dts),e.audio.forEach(function(e){e.dts=r(e.dts,i),e.pts=r(e.pts,i),e.dtsTime=e.dts/9e4,e.ptsTime=e.pts/9e4})}if(e.video&&e.video.length){var n=t;if(void 0===n&&(n=e.video[0].dts),e.video.forEach(function(e){e.dts=r(e.dts,n),e.pts=r(e.pts,n),e.dtsTime=e.dts/9e4,e.ptsTime=e.pts/9e4}),e.firstKeyFrame){var a=e.firstKeyFrame;a.dts=r(a.dts,n),a.pts=r(a.pts,n),a.dtsTime=a.dts/9e4,a.ptsTime=a.dts/9e4}}}(n,t),n):null}}},function(e,t,i){"use strict";var n,r,a,o;n=function(e,t){var i,a,o,s,l,c=[];if(!t.length)return null;for(i=0;i<e.byteLength;)a=e[i]<<24,a|=e[i+1]<<16,a|=e[i+2]<<8,a|=e[i+3],o=r(e.subarray(i+4,i+8)),s=a>1?i+a:e.byteLength,o===t[0]&&(1===t.length?c.push(e.subarray(i+8,s)):(l=n(e.subarray(i+8,s),t.slice(1))).length&&(c=c.concat(l))),i=s;return c},r=function(e){var t="";return t+=String.fromCharCode(e[0]),t+=String.fromCharCode(e[1]),t+=String.fromCharCode(e[2]),t+=String.fromCharCode(e[3])},a=function(e){return n(e,["moov","trak"]).reduce(function(e,t){var i,r,a,o;return(i=n(t,["tkhd"])[0])?(a=i[r=0===i[0]?12:20]<<24|i[r+1]<<16|i[r+2]<<8|i[r+3],(o=n(t,["mdia","mdhd"])[0])?(r=0===o[0]?12:20,e[a]=o[r]<<24|o[r+1]<<16|o[r+2]<<8|o[r+3],e):null):null},{})},o=function(e,t){var i,r,a;return i=n(t,["moof","traf"]),r=[].concat.apply([],i.map(function(t){return n(t,["tfhd"]).map(function(i){var r,a;return r=i[4]<<24|i[5]<<16|i[6]<<8|i[7],a=e[r]||9e4,(n(t,["tfdt"]).map(function(e){var t,i;return t=e[0],i=e[4]<<24|e[5]<<16|e[6]<<8|e[7],1===t&&(i*=Math.pow(2,32),i+=e[8]<<24|e[9]<<16|e[10]<<8|e[11]),i})[0]||1/0)/a})})),a=Math.min.apply(null,r),isFinite(a)?a:0},e.exports={parseType:r,timescale:a,startTime:o}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(e,t,i){for(var n=!0;n;){var r=e,a=t,o=i;n=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,a);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(o)}var c=Object.getPrototypeOf(r);if(null===c)return;e=c,t=a,i=o,n=!0,s=c=void 0}},o=n(i(49)),s=i(48),l=i(3),c=n(i(0)),u=[{name:"VOD",run:function(e,t,i,n,r){return i!==1/0?{time:0,segmentIndex:0}:null}},{name:"ProgramDateTime",run:function(e,t,i,n,r){return e.datetimeToDisplayTime&&t.dateTimeObject?{time:t.dateTimeObject.getTime()/1e3+e.datetimeToDisplayTime,segmentIndex:0}:null}},{name:"Segment",run:function(e,t,i,n,r){var a=t.segments||[],o=null,s=null;r=r||0;for(var l=0;l<a.length;l++){var c=a[l];if(c.timeline===n&&void 0!==c.start){var u=Math.abs(r-c.start);if(null!==s&&s<u)break;(!o||null===s||s>=u)&&(s=u,o={time:c.start,segmentIndex:l})}}return o}},{name:"Discontinuity",run:function(e,t,i,n,r){var a=null;if(r=r||0,t.discontinuityStarts&&t.discontinuityStarts.length)for(var o=null,s=0;s<t.discontinuityStarts.length;s++){var l=t.discontinuityStarts[s],c=t.discontinuitySequence+s+1,u=e.discontinuities[c];if(u){var h=Math.abs(r-u.time);if(null!==o&&o<h)break;(!a||null===o||o>=h)&&(o=h,a={time:u.time,segmentIndex:l})}}return a}},{name:"Playlist",run:function(e,t,i,n,r){return t.syncInfo?{time:t.syncInfo.time,segmentIndex:t.syncInfo.mediaSequence-t.mediaSequence}:null}}];t.syncPointStrategies=u;var h=function(e){function t(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.inspectCache_=void 0,this.timelines=[],this.discontinuities=[],this.datetimeToDisplayTime=null,e.debug&&(this.logger_=c.default.log.bind(c.default,"sync-controller ->"))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.default.EventTarget),r(t,[{key:"getSyncPoint",value:function(e,t,i,n){var r=this.runStrategies_(e,t,i,n);return r.length?this.selectSyncPoint_(r,{key:"time",value:n}):null}},{key:"getExpiredTime",value:function(e,t){if(!e||!e.segments)return null;var i=this.runStrategies_(e,t,e.discontinuitySequence,0);if(!i.length)return null;var n=this.selectSyncPoint_(i,{key:"segmentIndex",value:0});return n.segmentIndex>0&&(n.time*=-1),Math.abs(n.time+(0,l.sumDurations)(e,n.segmentIndex,0))}},{key:"runStrategies_",value:function(e,t,i,n){for(var r=[],a=0;a<u.length;a++){var o=u[a],s=o.run(this,e,t,i,n);s&&(s.strategy=o.name,r.push({strategy:o.name,syncPoint:s}),this.logger_("syncPoint found via <"+o.name+">:",s))}return r}},{key:"selectSyncPoint_",value:function(e,t){for(var i=e[0].syncPoint,n=Math.abs(e[0].syncPoint[t.key]-t.value),r=e[0].strategy,a=1;a<e.length;a++){var o=Math.abs(e[a].syncPoint[t.key]-t.value);o<n&&(n=o,i=e[a].syncPoint,r=e[a].strategy)}return this.logger_("syncPoint with strategy <"+r+"> chosen: ",i),i}},{key:"saveExpiredSegmentInfo",value:function(e,t){for(var i=t.mediaSequence-e.mediaSequence-1;i>=0;i--){var n=e.segments[i];if(n&&void 0!==n.start){t.syncInfo={mediaSequence:e.mediaSequence+i,time:n.start},this.logger_("playlist sync:",t.syncInfo),this.trigger("syncinfoupdate");break}}}},{key:"setDateTimeMapping",value:function(e){if(!this.datetimeToDisplayTime&&e.dateTimeObject){var t=e.dateTimeObject.getTime()/1e3;this.datetimeToDisplayTime=-t}}},{key:"reset",value:function(){this.inspectCache_=void 0}},{key:"probeSegmentInfo",value:function(e){var t=e.segment,i=e.playlist,n=void 0;return(n=t.map?this.probeMp4Segment_(e):this.probeTsSegment_(e))&&this.calculateSegmentTimeMapping_(e,n)&&(this.saveDiscontinuitySyncInfo_(e),i.syncInfo||(i.syncInfo={mediaSequence:i.mediaSequence+e.mediaIndex,time:t.start})),n}},{key:"probeMp4Segment_",value:function(e){var t=e.segment,i=o.default.timescale(t.map.bytes),n=o.default.startTime(i,e.bytes);return null!==e.timestampOffset&&(e.timestampOffset-=n),{start:n,end:n+t.duration}}},{key:"probeTsSegment_",value:function(e){var t=(0,s.inspect)(e.bytes,this.inspectCache_),i=void 0,n=void 0;return t?(t.video&&2===t.video.length?(this.inspectCache_=t.video[1].dts,i=t.video[0].dtsTime,n=t.video[1].dtsTime):t.audio&&2===t.audio.length&&(this.inspectCache_=t.audio[1].dts,i=t.audio[0].dtsTime,n=t.audio[1].dtsTime),{start:i,end:n,containsVideo:t.video&&2===t.video.length,containsAudio:t.audio&&2===t.audio.length}):null}},{key:"timestampOffsetForTimeline",value:function(e){return void 0===this.timelines[e]?null:this.timelines[e].time}},{key:"mappingForTimeline",value:function(e){return void 0===this.timelines[e]?null:this.timelines[e].mapping}},{key:"calculateSegmentTimeMapping_",value:function(e,t){var i=e.segment,n=this.timelines[e.timeline];if(null!==e.timestampOffset)this.logger_("tsO:",e.timestampOffset),n={time:e.startOfSegment,mapping:e.startOfSegment-t.start},this.timelines[e.timeline]=n,this.trigger("timestampoffset"),i.start=e.startOfSegment,i.end=t.end+n.mapping;else{if(!n)return!1;i.start=t.start+n.mapping,i.end=t.end+n.mapping}return!0}},{key:"saveDiscontinuitySyncInfo_",value:function(e){var t=e.playlist,i=e.segment;if(i.discontinuity)this.discontinuities[i.timeline]={time:i.start,accuracy:0};else if(t.discontinuityStarts.length)for(var n=0;n<t.discontinuityStarts.length;n++){var r=t.discontinuityStarts[n],a=t.discontinuitySequence+n+1,o=r-e.mediaIndex,s=Math.abs(o);if(!this.discontinuities[a]||this.discontinuities[a].accuracy>s){var c=void 0;c=o<0?i.start-(0,l.sumDurations)(t,e.mediaIndex,r):i.end+(0,l.sumDurations)(t,e.mediaIndex+1,r),this.discontinuities[a]={time:c,accuracy:s}}}}},{key:"logger_",value:function(){}}]),t}();t.default=h},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var i=[],n=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(i.push(o.value),!t||i.length!==t);n=!0);}catch(e){r=!0,a=e}finally{try{!n&&s.return&&s.return()}finally{if(r)throw a}}return i}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=i(1),o=(n=a)&&n.__esModule?n:{default:n},s=function(e,t){for(var i=e.cues,n=0;n<i.length;n++){var r=i[n];if(t>=r.adStartTime&&t<=r.adEndTime)return r}return null};t.default={updateAdCues:function(e,t){var i=arguments.length<=2||void 0===arguments[2]?0:arguments[2];if(e.segments)for(var n=i,a=void 0,l=0;l<e.segments.length;l++){var c=e.segments[l];if(a||(a=s(t,n+c.duration/2)),a){if("cueIn"in c){a.endTime=n,a.adEndTime=n,n+=c.duration,a=null;continue}if(n<a.endTime){n+=c.duration;continue}a.endTime+=c.duration}else if("cueOut"in c&&((a=new o.default.VTTCue(n,n+c.duration,c.cueOut)).adStartTime=n,a.adEndTime=n+parseFloat(c.cueOut),t.addCue(a)),"cueOutCont"in c){var u,h,d=c.cueOutCont.split("/").map(parseFloat),p=r(d,2);u=p[0],h=p[1],(a=new o.default.VTTCue(n,n+c.duration,"")).adStartTime=n-u,a.adEndTime=a.adStartTime+h,t.addCue(a)}n+=c.duration}},findAdCue:s},e.exports=t.default},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(e,t,i){for(var n=!0;n;){var r=e,a=t,o=i;n=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,a);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(o)}var c=Object.getPrototypeOf(r);if(null===c)return;e=c,t=a,i=o,n=!0,s=c=void 0}},o=n(i(21)),s=n(i(0)),l=n(i(1)),c=n(i(8)),u=i(5),h=new Uint8Array("\n\n".split("").map(function(e){return e.charCodeAt(0)})),d=function(e){return String.fromCharCode.apply(null,e)},p=function(e){function t(e){var i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,i),this.mediaSource_=null,this.subtitlesTrack_=null}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),r(t,[{key:"buffered_",value:function(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues.length)return s.default.createTimeRanges();var e=this.subtitlesTrack_.cues,t=e[0].startTime,i=e[e.length-1].startTime;return s.default.createTimeRanges([[t,i]])}},{key:"initSegment",value:function(e){var t=!(arguments.length<=1||void 0===arguments[1])&&arguments[1];if(!e)return null;var i=(0,u.initSegmentId)(e),n=this.initSegments_[i];if(t&&!n&&e.bytes){var r=h.byteLength+e.bytes.byteLength,a=new Uint8Array(r);a.set(e.bytes),a.set(h,e.bytes.byteLength),this.initSegments_[i]=n={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:a}}return n||e}},{key:"couldBeginLoading_",value:function(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()}},{key:"init_",value:function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}},{key:"track",value:function(e){return void 0===e?this.subtitlesTrack_:(this.subtitlesTrack_=e,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_(),this.subtitlesTrack_)}},{key:"remove",value:function(e,t){(0,c.default)(e,t,this.subtitlesTrack_)}},{key:"fillBuffer_",value:function(){var e=this;this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_()));var t=this.checkBuffer_(this.buffered_(),this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_);if(t=this.skipEmptySegments_(t)){if(null===this.syncController_.timestampOffsetForTimeline(t.timeline))return this.syncController_.one("timestampoffset",function(){e.state="READY",e.paused()||e.monitorBuffer_()}),void(this.state="WAITING_ON_TIMELINE");this.loadSegment_(t)}}},{key:"skipEmptySegments_",value:function(e){for(;e&&e.segment.empty;)e=this.generateSegmentInfo_(e.playlist,e.mediaIndex+1,e.startOfSegment+e.duration,e.isSyncRequest);return e}},{key:"handleSegment_",value:function(){var e=this;if(this.pendingSegment_&&this.subtitlesTrack_){this.state="APPENDING";var t,i=this.pendingSegment_,n=i.segment;if("function"!=typeof l.default.WebVTT&&this.subtitlesTrack_&&this.subtitlesTrack_.tech_){var r=(t=function(){e.handleSegment_()},e.state="WAITING_ON_VTTJS",e.subtitlesTrack_.tech_.one("vttjsloaded",t),e.subtitlesTrack_.tech_.one("vttjserror",function(){e.subtitlesTrack_.tech_.off("vttjsloaded",t),e.error({message:"Error loading vtt.js"}),e.state="READY",e.pause(),e.trigger("error")}),{v:void 0});if("object"==typeof r)return r.v}n.requested=!0;try{this.parseVTTCues_(i)}catch(e){return this.error({message:e.message}),this.state="READY",this.pause(),this.trigger("error")}if(this.updateTimeMapping_(i,this.syncController_.timelines[i.timeline],this.playlist_),i.isSyncRequest)return this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY");i.byteLength=i.bytes.byteLength,this.mediaSecondsLoaded+=n.duration,i.cues.length&&this.remove(i.cues[0].endTime,i.cues[i.cues.length-1].endTime),i.cues.forEach(function(t){e.subtitlesTrack_.addCue(t)}),this.handleUpdateEnd_()}else this.state="READY"}},{key:"parseVTTCues_",value:function(e){var t=void 0,i=!1;"function"==typeof l.default.TextDecoder?t=new l.default.TextDecoder("utf8"):(t=l.default.WebVTT.StringDecoder(),i=!0);var n=new l.default.WebVTT.Parser(l.default,l.default.vttjs,t);if(e.cues=[],e.timestampmap={MPEGTS:0,LOCAL:0},n.oncue=e.cues.push.bind(e.cues),n.ontimestampmap=function(t){return e.timestampmap=t},n.onparsingerror=function(e){s.default.log.warn("Error encountered when parsing cues: "+e.message)},e.segment.map){var r=e.segment.map.bytes;i&&(r=d(r)),n.parse(r)}var a=e.bytes;i&&(a=d(a)),n.parse(a),n.flush()}},{key:"updateTimeMapping_",value:function(e,t,i){var n=e.segment;if(t)if(e.cues.length){var r=e.timestampmap,a=r.MPEGTS/9e4-r.LOCAL+t.mapping;if(e.cues.forEach(function(e){e.startTime+=a,e.endTime+=a}),!i.syncInfo){var o=e.cues[0].startTime,s=e.cues[e.cues.length-1].startTime;i.syncInfo={mediaSequence:i.mediaSequence+e.mediaIndex,time:Math.min(o,s-n.duration)}}}else n.empty=!0}}]),t}();t.default=p,e.exports=t.default},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=i(0),a=(n=r)&&n.__esModule?n:{default:n},o=i(5),s={FAILURE:2,TIMEOUT:-101,ABORTED:-102};t.REQUEST_ERRORS=s;var l=function(e){var t,i,n={};return e.byterange&&(n.Range=(t=e.byterange,i=t.offset+t.length-1,"bytes="+t.offset+"-"+i)),n},c=function(e){e.forEach(function(e){e.abort()})},u=function(e,t){return t.timedout?{status:t.status,message:"HLS request timed-out at URL: "+t.uri,code:s.TIMEOUT,xhr:t}:t.aborted?{status:t.status,message:"HLS request aborted at URL: "+t.uri,code:s.ABORTED,xhr:t}:e?{status:t.status,message:"HLS request errored at URL: "+t.uri,code:s.FAILURE,xhr:t}:null},h=function(e,t,i){var n=[],r=0;return function(a,s){if(a&&(c(e),n.push(a)),(r+=1)===e.length){if(s.endOfAllRequests=Date.now(),n.length>0){var l=function(e){return e.reduce(function(e,t){return t.code>e.code?t:e})}(n);return i(l,s)}return s.encryptedBytes?function(e,t,i){e.addEventListener("message",function n(r){if(r.data.source===t.requestId){e.removeEventListener("message",n);var a=r.data.decrypted;return t.bytes=new Uint8Array(a.bytes,a.byteOffset,a.byteLength),i(null,t)}}),e.postMessage((0,o.createTransferableMessage)({source:t.requestId,encrypted:t.encryptedBytes,key:t.key.bytes,iv:t.key.iv}),[t.encryptedBytes.buffer,t.key.bytes.buffer])}(t,s,i):i(null,s)}}},d=function(e,t){return function(i){var n,r,o;return e.stats=a.default.mergeOptions(e.stats,(r=(n=i).target,(o={bandwidth:1/0,bytesReceived:0,roundTripTime:Date.now()-r.requestTime||0}).bytesReceived=n.loaded,o.bandwidth=Math.floor(o.bytesReceived/o.roundTripTime*8*1e3),o)),!e.stats.firstBytesReceivedAt&&e.stats.bytesReceived&&(e.stats.firstBytesReceivedAt=Date.now()),t(i,e)}};t.mediaSegmentRequest=function(e,t,i,n,r,o){var p=[],f=h(p,i,o);if(n.key){var m=e(a.default.mergeOptions(t,{uri:n.key.resolvedUri,responseType:"arraybuffer"}),function(e,t){return function(i,n){var r=n.response,a=u(i,n);if(a)return t(a,e);if(16!==r.byteLength)return t({status:n.status,message:"Invalid HLS key at URL: "+n.uri,code:s.FAILURE,xhr:n},e);var o=new DataView(r);return e.key.bytes=new Uint32Array([o.getUint32(0),o.getUint32(4),o.getUint32(8),o.getUint32(12)]),t(null,e)}}(n,f));p.push(m)}if(n.map&&!n.map.bytes){var g=e(a.default.mergeOptions(t,{uri:n.map.resolvedUri,responseType:"arraybuffer",headers:l(n.map)}),function(e,t){return function(i,n){var r=n.response,a=u(i,n);return a?t(a,e):0===r.byteLength?t({status:n.status,message:"Empty HLS segment content at URL: "+n.uri,code:s.FAILURE,xhr:n},e):(e.map.bytes=new Uint8Array(n.response),t(null,e))}}(n,f));p.push(g)}var v=e(a.default.mergeOptions(t,{uri:n.resolvedUri,responseType:"arraybuffer",headers:l(n)}),function(e,t){return function(i,n){var r=n.response,a=u(i,n);return a?t(a,e):0===r.byteLength?t({status:n.status,message:"Empty HLS segment content at URL: "+n.uri,code:s.FAILURE,xhr:n},e):(e.stats=function(e){return{bandwidth:e.bandwidth,bytesReceived:e.bytesReceived||0,roundTripTime:e.roundTripTime||0}}(n),e.key?e.encryptedBytes=new Uint8Array(n.response):e.bytes=new Uint8Array(n.response),t(null,e))}}(n,f));return v.addEventListener("progress",d(n,r)),p.push(v),function(){return c(p)}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=i(0),o=(n=a)&&n.__esModule?n:{default:n},s=function(){},l=function(){function e(t,i){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(){n.sourceBuffer_=t.addSourceBuffer(i),n.onUpdateendCallback_=function(){var e=n.pendingCallback_;n.pendingCallback_=null,e&&e(),n.runCallback_()},n.sourceBuffer_.addEventListener("updateend",n.onUpdateendCallback_),n.runCallback_()};this.callbacks_=[],this.pendingCallback_=null,this.timestampOffset_=0,this.mediaSource=t,this.processedAppend_=!1,"closed"===t.readyState?t.addEventListener("sourceopen",r):r()}return r(e,[{key:"abort",value:function(e){var t=this;this.processedAppend_&&this.queueCallback_(function(){t.sourceBuffer_.abort()},e)}},{key:"appendBuffer",value:function(e,t){var i=this;this.processedAppend_=!0,this.queueCallback_(function(){i.sourceBuffer_.appendBuffer(e)},t)}},{key:"buffered",value:function(){return this.sourceBuffer_?this.sourceBuffer_.buffered:o.default.createTimeRanges()}},{key:"remove",value:function(e,t){var i=this;this.processedAppend_&&this.queueCallback_(function(){i.sourceBuffer_.remove(e,t)},s)}},{key:"updating",value:function(){return!this.sourceBuffer_||this.sourceBuffer_.updating||this.pendingCallback_}},{key:"timestampOffset",value:function(e){var t=this;return void 0!==e&&(this.queueCallback_(function(){t.sourceBuffer_.timestampOffset=e}),this.timestampOffset_=e),this.timestampOffset_}},{key:"queueCallback_",value:function(e,t){this.callbacks_.push([e.bind(this),t]),this.runCallback_()}},{key:"runCallback_",value:function(){var e=void 0;!this.updating()&&this.callbacks_.length&&(e=this.callbacks_.shift(),this.pendingCallback_=e[1],e[0]())}},{key:"dispose",value:function(){this.sourceBuffer_.removeEventListener("updateend",this.onUpdateendCallback_),this.sourceBuffer_&&"open"===this.mediaSource.readyState&&this.sourceBuffer_.abort()}}]),e}();t.default=l,e.exports=t.default},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(e,t,i){for(var n=!0;n;){var r=e,a=t,o=i;n=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,a);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(o)}var c=Object.getPrototypeOf(r);if(null===c)return;e=c,t=a,i=o,n=!0,s=c=void 0}},o=n(i(16)),s=i(3),l=n(i(21)),c=n(i(52)),u=n(i(10)),h=n(i(0)),d=n(i(51)),p=n(i(50)),f=i(7),m=n(i(12)),g=n(i(18)),v=n(i(6)),y=i(19),b=i(45),_=void 0,A={videoCodec:"avc1",videoObjectTypeIndicator:".4d400d",audioProfile:"2"},E=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred"],w=function(e){return this.audioSegmentLoader_[e]+this.mainSegmentLoader_[e]},x=function(){var e=void 0;try{e=18}catch(e){}return e},T=function(e){return e.replace(/avc1\.(\d+)\.(\d+)/i,function(e){return(0,f.translateLegacyCodecs)([e])[0]})};t.mapLegacyAvcCodecs_=T;var S=function(e,t,i){return e+"/"+t+'; codecs="'+i.filter(function(e){return!!e}).join(", ")+'"'},C=function(e,t){var i=function(e){return e.segments&&e.segments.length&&e.segments[0].map?"mp4":"mp2t"}(t),n=function(e){var t=e.attributes||{};return t.CODECS?(0,y.parseCodecs)(t.CODECS):A}(t),r=t.attributes||{},a=!0,o=!1;if(!t)return[];if(e.mediaGroups.AUDIO&&r.AUDIO){var s=e.mediaGroups.AUDIO[r.AUDIO];if(s)for(var l in o=!0,a=!1,s)if(!s[l].uri){a=!0;break}}o&&!n.audioProfile&&(h.default.log.warn("Multiple audio tracks present but no audio codec string is specified. Attempting to use the default audio codec (mp4a.40.2)"),n.audioProfile=A.audioProfile);var c={};n.videoCodec&&(c.video=""+n.videoCodec+n.videoObjectTypeIndicator),n.audioProfile&&(c.audio="mp4a.40."+n.audioProfile);var u=S("audio",i,[c.audio]),d=S("video",i,[c.video]),p=S("video",i,[c.video,c.audio]);return o?!a&&c.video?[d,u]:[p,u]:c.video?[p]:[u]};t.mimeTypesForPlaylist_=C;var k=function(e){function t(e){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this);var n=e.url,r=e.withCredentials,s=e.mode,u=e.tech,d=e.bandwidth,f=e.externHls,v=e.useCueTags,y=e.blacklistDuration,A=e.enableLowInitialPlaylist;if(!n)throw new Error("A non-empty playlist URL is required");_=f,this.withCredentials=r,this.tech_=u,this.hls_=u.hls,this.mode_=s,this.useCueTags_=v,this.blacklistDuration=y,this.enableLowInitialPlaylist=A,this.useCueTags_&&(this.cueTagsTrack_=this.tech_.addTextTrack("metadata","ad-cues"),this.cueTagsTrack_.inBandMetadataTrackDispatchType=""),this.requestOptions_={withCredentials:this.withCredentials,timeout:null},this.mediaTypes_=(0,b.createMediaTypes)(),this.mediaSource=new h.default.MediaSource({mode:s}),this.mediaSource.addEventListener("sourceopen",this.handleSourceOpen_.bind(this)),this.seekable_=h.default.createTimeRanges(),this.hasPlayed_=function(){return!1},this.syncController_=new p.default(e),this.segmentMetadataTrack_=u.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,this.decrypter_=(0,m.default)(g.default,x());var T={hls:this.hls_,mediaSource:this.mediaSource,currentTime:this.tech_.currentTime.bind(this.tech_),seekable:function(){return i.seekable()},seeking:function(){return i.tech_.seeking()},duration:function(){return i.mediaSource.duration},hasPlayed:function(){return i.hasPlayed_()},goalBufferLength:function(){return i.goalBufferLength()},bandwidth:d,syncController:this.syncController_,decrypter:this.decrypter_};this.masterPlaylistLoader_=new o.default(n,this.hls_,this.withCredentials),this.setupMasterPlaylistLoaderListeners_(),this.mainSegmentLoader_=new l.default(h.default.mergeOptions(T,{segmentMetadataTrack:this.segmentMetadataTrack_,loaderType:"main"}),e),this.audioSegmentLoader_=new l.default(h.default.mergeOptions(T,{loaderType:"audio"}),e),this.subtitleSegmentLoader_=new c.default(h.default.mergeOptions(T,{loaderType:"vtt"}),e),this.setupSegmentLoaderListeners_(),E.forEach(function(e){i[e+"_"]=w.bind(i,e)}),this.masterPlaylistLoader_.load()}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,h.default.EventTarget),r(t,[{key:"setupMasterPlaylistLoaderListeners_",value:function(){var e=this;this.masterPlaylistLoader_.on("loadedmetadata",function(){var t=e.masterPlaylistLoader_.media(),i=1.5*e.masterPlaylistLoader_.targetDuration*1e3;(0,s.isLowestEnabledRendition)(e.masterPlaylistLoader_.master,e.masterPlaylistLoader_.media())?e.requestOptions_.timeout=0:e.requestOptions_.timeout=i,t.endList&&"none"!==e.tech_.preload()&&(e.mainSegmentLoader_.playlist(t,e.requestOptions_),e.mainSegmentLoader_.load()),(0,b.setupMediaGroups)({segmentLoaders:{AUDIO:e.audioSegmentLoader_,SUBTITLES:e.subtitleSegmentLoader_,main:e.mainSegmentLoader_},tech:e.tech_,requestOptions:e.requestOptions_,masterPlaylistLoader:e.masterPlaylistLoader_,mode:e.mode_,hls:e.hls_,master:e.master(),mediaTypes:e.mediaTypes_,blacklistCurrentPlaylist:e.blacklistCurrentPlaylist.bind(e)}),e.triggerPresenceUsage_(e.master(),t);try{e.setupSourceBuffers_()}catch(t){return h.default.log.warn("Failed to create SourceBuffers",t),e.mediaSource.endOfStream("decode")}e.setupFirstPlay(),e.trigger("selectedinitialmedia")}),this.masterPlaylistLoader_.on("loadedplaylist",function(){var t,i=e.masterPlaylistLoader_.media();if(!i){var n=void 0;return e.enableLowInitialPlaylist&&(n=e.selectInitialPlaylist()),n||(n=e.selectPlaylist()),e.initialMedia_=n,void e.masterPlaylistLoader_.media(e.initialMedia_)}e.useCueTags_&&e.updateAdCues_(i),e.mainSegmentLoader_.playlist(i,e.requestOptions_),e.updateDuration(),e.tech_.paused()||e.mainSegmentLoader_.load(),i.endList||(t=function(){var t=e.seekable();0!==t.length&&e.mediaSource.addSeekableRange_(t.start(0),t.end(0))},e.duration()!==1/0?e.tech_.one("durationchange",function i(){e.duration()===1/0?t():e.tech_.one("durationchange",i)}):t())}),this.masterPlaylistLoader_.on("error",function(){e.blacklistCurrentPlaylist(e.masterPlaylistLoader_.error)}),this.masterPlaylistLoader_.on("mediachanging",function(){e.mainSegmentLoader_.abort(),e.mainSegmentLoader_.pause()}),this.masterPlaylistLoader_.on("mediachange",function(){var t=e.masterPlaylistLoader_.media(),i=1.5*e.masterPlaylistLoader_.targetDuration*1e3;(0,s.isLowestEnabledRendition)(e.masterPlaylistLoader_.master,e.masterPlaylistLoader_.media())?e.requestOptions_.timeout=0:e.requestOptions_.timeout=i,e.mainSegmentLoader_.playlist(t,e.requestOptions_),e.mainSegmentLoader_.load(),e.tech_.trigger({type:"mediachange",bubbles:!0})}),this.masterPlaylistLoader_.on("playlistunchanged",function(){var t=e.masterPlaylistLoader_.media();e.stuckAtPlaylistEnd_(t)&&(e.blacklistCurrentPlaylist({message:"Playlist no longer updating."}),e.tech_.trigger("playliststuck"))}),this.masterPlaylistLoader_.on("renditiondisabled",function(){e.tech_.trigger({type:"usage",name:"hls-rendition-disabled"})}),this.masterPlaylistLoader_.on("renditionenabled",function(){e.tech_.trigger({type:"usage",name:"hls-rendition-enabled"})})}},{key:"triggerPresenceUsage_",value:function(e,t){var i=e.mediaGroups||{},n=!0,r=Object.keys(i.AUDIO);for(var a in i.AUDIO)for(var o in i.AUDIO[a])i.AUDIO[a][o].uri||(n=!1);n&&this.tech_.trigger({type:"usage",name:"hls-demuxed"}),Object.keys(i.SUBTITLES).length&&this.tech_.trigger({type:"usage",name:"hls-webvtt"}),_.Playlist.isAes(t)&&this.tech_.trigger({type:"usage",name:"hls-aes"}),_.Playlist.isFmp4(t)&&this.tech_.trigger({type:"usage",name:"hls-fmp4"}),r.length&&Object.keys(i.AUDIO[r[0]]).length>1&&this.tech_.trigger({type:"usage",name:"hls-alternate-audio"}),this.useCueTags_&&this.tech_.trigger({type:"usage",name:"hls-playlist-cue-tags"})}},{key:"setupSegmentLoaderListeners_",value:function(){var e=this;this.mainSegmentLoader_.on("bandwidthupdate",function(){var t=e.selectPlaylist(),i=e.masterPlaylistLoader_.media(),n=e.tech_.buffered(),r=n.length?n.end(n.length-1)-e.tech_.currentTime():0,a=e.bufferLowWaterLine();(!i.endList||e.duration()<v.default.MAX_BUFFER_LOW_WATER_LINE||t.attributes.BANDWIDTH<i.attributes.BANDWIDTH||r>=a)&&e.masterPlaylistLoader_.media(t),e.tech_.trigger("bandwidthupdate")}),this.mainSegmentLoader_.on("progress",function(){e.trigger("progress")}),this.mainSegmentLoader_.on("error",function(){e.blacklistCurrentPlaylist(e.mainSegmentLoader_.error())}),this.mainSegmentLoader_.on("syncinfoupdate",function(){e.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("timestampoffset",function(){e.tech_.trigger({type:"usage",name:"hls-timestamp-offset"})}),this.audioSegmentLoader_.on("syncinfoupdate",function(){e.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("ended",function(){e.onEndOfStream()}),this.mainSegmentLoader_.on("earlyabort",function(){e.blacklistCurrentPlaylist({message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},120)}),this.mainSegmentLoader_.on("reseteverything",function(){e.tech_.trigger("hls-reset")}),this.mainSegmentLoader_.on("segmenttimemapping",function(t){e.tech_.trigger({type:"hls-segment-time-mapping",mapping:t.mapping})}),this.audioSegmentLoader_.on("ended",function(){e.onEndOfStream()})}},{key:"mediaSecondsLoaded_",value:function(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)}},{key:"load",value:function(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()}},{key:"fastQualityChange_",value:function(){var e=this.selectPlaylist();e!==this.masterPlaylistLoader_.media()&&(this.masterPlaylistLoader_.media(e),this.mainSegmentLoader_.resetLoader())}},{key:"play",value:function(){if(!this.setupFirstPlay()){this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_()&&this.load();var e=this.tech_.seekable();return this.tech_.duration()===1/0&&this.tech_.currentTime()<e.start(0)?this.tech_.setCurrentTime(e.end(e.length-1)):void 0}}},{key:"setupFirstPlay",value:function(){var e,t=this,i=this.masterPlaylistLoader_.media();if(!i||this.tech_.paused()||this.hasPlayed_())return!1;if(!i.endList){var n=(e=t.seekable()).length?h.default.browser.IE_VERSION&&"html5"===t.mode_&&0===t.tech_.readyState()?(t.tech_.one("loadedmetadata",function(){t.trigger("firstplay"),t.tech_.setCurrentTime(e.end(0)),t.hasPlayed_=function(){return!0}}),{v:!1}):(t.trigger("firstplay"),void t.tech_.setCurrentTime(e.end(0))):{v:!1};if("object"==typeof n)return n.v}return this.hasPlayed_=function(){return!0},this.load(),!0}},{key:"handleSourceOpen_",value:function(){try{this.setupSourceBuffers_()}catch(e){return h.default.log.warn("Failed to create Source Buffers",e),this.mediaSource.endOfStream("decode")}if(this.tech_.autoplay()){var e=this.tech_.play();void 0!==e&&"function"==typeof e.then&&e.then(null,function(e){})}this.trigger("sourceopen")}},{key:"onEndOfStream",value:function(){var e=this.mainSegmentLoader_.ended_;this.mediaTypes_.AUDIO.activePlaylistLoader&&(e=e&&this.audioSegmentLoader_.ended_),e&&this.mediaSource.endOfStream()}},{key:"stuckAtPlaylistEnd_",value:function(e){if(!this.seekable().length)return!1;var t=this.syncController_.getExpiredTime(e,this.mediaSource.duration);if(null===t)return!1;var i=_.Playlist.playlistEnd(e,t),n=this.tech_.currentTime(),r=this.tech_.buffered();if(!r.length)return i-n<=u.default.SAFE_TIME_DELTA;var a=r.end(r.length-1);return a-n<=u.default.SAFE_TIME_DELTA&&i-a<=u.default.SAFE_TIME_DELTA}},{key:"blacklistCurrentPlaylist",value:function(e,t){void 0===e&&(e={});var i,n=void 0;if(n=e.playlist||this.masterPlaylistLoader_.media(),t=t||e.blacklistDuration||this.blacklistDuration,!n){this.error=e;try{return this.mediaSource.endOfStream("network")}catch(e){return this.trigger("error")}}var r=1===this.masterPlaylistLoader_.master.playlists.filter(s.isEnabled).length;return r?(h.default.log.warn("Problem encountered with the current HLS playlist. Trying again since it is the final playlist."),this.tech_.trigger("retryplaylist"),this.masterPlaylistLoader_.load(r)):(n.excludeUntil=Date.now()+1e3*t,this.tech_.trigger("blacklistplaylist"),this.tech_.trigger({type:"usage",name:"hls-rendition-blacklisted"}),i=this.selectPlaylist(),h.default.log.warn("Problem encountered with the current HLS playlist."+(e.message?" "+e.message:"")+" Switching to another playlist."),this.masterPlaylistLoader_.media(i))}},{key:"pauseLoading",value:function(){this.mainSegmentLoader_.pause(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.pause(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.pause()}},{key:"setCurrentTime",value:function(e){var t=u.default.findRange(this.tech_.buffered(),e);return this.masterPlaylistLoader_&&this.masterPlaylistLoader_.media()&&this.masterPlaylistLoader_.media().segments?t&&t.length&&"flash"!==this.mode_?e:(this.mainSegmentLoader_.resetEverything(),this.mainSegmentLoader_.abort(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.resetEverything(),this.audioSegmentLoader_.abort()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.resetEverything(),this.subtitleSegmentLoader_.abort()),void this.load()):0}},{key:"duration",value:function(){return this.masterPlaylistLoader_?this.mediaSource?this.mediaSource.duration:_.Playlist.duration(this.masterPlaylistLoader_.media()):0}},{key:"seekable",value:function(){return this.seekable_}},{key:"onSyncInfoUpdate_",value:function(){var e=void 0,t=void 0;if(this.masterPlaylistLoader_){var i=this.masterPlaylistLoader_.media();if(i){var n=this.syncController_.getExpiredTime(i,this.mediaSource.duration);if(null!==n&&0!==(e=_.Playlist.seekable(i,n)).length){if(this.mediaTypes_.AUDIO.activePlaylistLoader){if(i=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),null===(n=this.syncController_.getExpiredTime(i,this.mediaSource.duration)))return;if(0===(t=_.Playlist.seekable(i,n)).length)return}t?t.start(0)>e.end(0)||e.start(0)>t.end(0)?this.seekable_=e:this.seekable_=h.default.createTimeRanges([[t.start(0)>e.start(0)?t.start(0):e.start(0),t.end(0)<e.end(0)?t.end(0):e.end(0)]]):this.seekable_=e,this.tech_.trigger("seekablechanged")}}}}},{key:"updateDuration",value:function(){var e=this,t=this.mediaSource.duration,i=_.Playlist.duration(this.masterPlaylistLoader_.media()),n=this.tech_.buffered(),r=function t(){e.mediaSource.duration=i,e.tech_.trigger("durationchange"),e.mediaSource.removeEventListener("sourceopen",t)};n.length>0&&(i=Math.max(i,n.end(n.length-1))),t!==i&&("open"!==this.mediaSource.readyState?this.mediaSource.addEventListener("sourceopen",r):r())}},{key:"dispose",value:function(){var e=this;this.decrypter_.terminate(),this.masterPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),["AUDIO","SUBTITLES"].forEach(function(t){var i=e.mediaTypes_[t].groups;for(var n in i)i[n].forEach(function(e){e.playlistLoader&&e.playlistLoader.dispose()})}),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose()}},{key:"master",value:function(){return this.masterPlaylistLoader_.master}},{key:"media",value:function(){return this.masterPlaylistLoader_.media()||this.initialMedia_}},{key:"setupSourceBuffers_",value:function(){var e,t=this.masterPlaylistLoader_.media();if(t&&"open"===this.mediaSource.readyState){if((e=C(this.masterPlaylistLoader_.master,t)).length<1)return this.error="No compatible SourceBuffer configuration for the variant stream:"+t.resolvedUri,this.mediaSource.endOfStream("decode");this.mainSegmentLoader_.mimeType(e[0]),e[1]&&this.audioSegmentLoader_.mimeType(e[1]),this.excludeIncompatibleVariants_(t)}}},{key:"excludeIncompatibleVariants_",value:function(e){var t=this.masterPlaylistLoader_.master,i=2,n=null,r=void 0;e.attributes.CODECS&&(r=(0,y.parseCodecs)(e.attributes.CODECS),n=r.videoCodec,i=r.codecCount),t.playlists.forEach(function(e){var t={codecCount:2,videoCodec:null};if(e.attributes.CODECS){var r=e.attributes.CODECS;t=(0,y.parseCodecs)(r),window.MediaSource&&window.MediaSource.isTypeSupported&&!window.MediaSource.isTypeSupported('video/mp4; codecs="'+T(r)+'"')&&(e.excludeUntil=1/0)}t.codecCount!==i&&(e.excludeUntil=1/0),t.videoCodec!==n&&(e.excludeUntil=1/0)})}},{key:"updateAdCues_",value:function(e){var t=0,i=this.seekable();i.length&&(t=i.start(0)),d.default.updateAdCues(e,this.cueTagsTrack_,t)}},{key:"goalBufferLength",value:function(){var e=this.tech_.currentTime(),t=v.default.GOAL_BUFFER_LENGTH,i=v.default.GOAL_BUFFER_LENGTH_RATE,n=Math.max(t,v.default.MAX_GOAL_BUFFER_LENGTH);return Math.min(t+e*i,n)}},{key:"bufferLowWaterLine",value:function(){var e=this.tech_.currentTime(),t=v.default.BUFFER_LOW_WATER_LINE,i=v.default.BUFFER_LOW_WATER_LINE_RATE,n=Math.max(t,v.default.MAX_BUFFER_LOW_WATER_LINE);return Math.min(t+e*i,n)}}]),t}();t.MasterPlaylistController=k},function(e,t){var i,n,r,a,o,s;i=function(e){return 9e4*e},n=function(e,t){return e*t},r=function(e){return e/9e4},a=function(e,t){return e/t},o=function(e,t){return i(a(e,t))},s=function(e,t){return n(r(e),t)},e.exports={secondsToVideoTs:i,secondsToAudioTs:n,videoTsToSeconds:r,audioTsToSeconds:a,audioTsToVideoTs:o,videoTsToAudioTs:s}},function(e,t){var i,n=[33,16,5,32,164,27],r=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],a=function(e){for(var t=[];e--;)t.push(0);return t},o={96e3:[n,[227,64],a(154),[56]],88200:[n,[231],a(170),[56]],64e3:[n,[248,192],a(240),[56]],48e3:[n,[255,192],a(268),[55,148,128],a(54),[112]],44100:[n,[255,192],a(268),[55,163,128],a(84),[112]],32e3:[n,[255,192],a(268),[55,234],a(226),[112]],24e3:[n,[255,192],a(268),[55,255,128],a(268),[111,112],a(126),[224]],16e3:[n,[255,192],a(268),[55,255,128],a(268),[111,255],a(269),[223,108],a(195),[1,192]],12e3:[r,a(268),[3,127,248],a(268),[6,255,240],a(268),[13,255,224],a(268),[27,253,128],a(259),[56]],11025:[r,a(268),[3,127,248],a(268),[6,255,240],a(268),[13,255,224],a(268),[27,255,192],a(268),[55,175,128],a(108),[112]],8e3:[r,a(268),[3,121,16],a(47),[7]]};e.exports=(i=o,Object.keys(i).reduce(function(e,t){return e[t]=new Uint8Array(i[t].reduce(function(e,t){return e.concat(t)},[])),e},{}))},function(e,t,i){"use strict";var n,r=i(2);(n=function(){var e=new Uint8Array,t=0;n.prototype.init.call(this),this.setTimestamp=function(e){t=e},this.parseId3TagSize=function(e,t){var i=e[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9];return(16&e[t+5])>>4?i+20:i+10},this.parseAdtsSize=function(e,t){var i=(224&e[t+5])>>5,n=e[t+4]<<3;return 6144&e[t+3]|n|i},this.push=function(i){var n,r,a,o,s=0,l=0;for(e.length?(o=e.length,(e=new Uint8Array(i.byteLength+o)).set(e.subarray(0,o)),e.set(i,o)):e=i;e.length-l>=3;)if(e[l]!=="I".charCodeAt(0)||e[l+1]!=="D".charCodeAt(0)||e[l+2]!=="3".charCodeAt(0))if(!0&e[l]&&240==(240&e[l+1])){if(e.length-l<7)break;if((s=this.parseAdtsSize(e,l))>e.length)break;a={type:"audio",data:e.subarray(l,l+s),pts:t,dts:t},this.trigger("data",a),l+=s}else l++;else{if(e.length-l<10)break;if((s=this.parseId3TagSize(e,l))>e.length)break;r={type:"timed-metadata",data:e.subarray(l,l+s)},this.trigger("data",r),l+=s}n=e.length-l,e=n>0?e.subarray(l):new Uint8Array}}).prototype=new r,e.exports=n},function(e,t,i){e.exports={generator:i(22),Transmuxer:i(11).Transmuxer,AudioSegmentStream:i(11).AudioSegmentStream,VideoSegmentStream:i(11).VideoSegmentStream}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(e,t,i){for(var n=!0;n;){var r=e,a=t,o=i;n=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,a);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(o)}var c=Object.getPrototypeOf(r);if(null===c)return;e=c,t=a,i=o,n=!0,s=c=void 0}},o=n(i(0)),s=n(i(26)),l=n(i(8)),c=i(13),u=n(i(12)),h=n(i(23)),d=i(7),p=function(){var e=void 0;try{e=23}catch(e){}return e},f=function(e,t,i){if(!t||!e.length)return[];var n=Math.ceil(9e4*(t.currentTime()-i+3)),r=void 0;for(r=0;r<e.length&&!(e[r].pts>n);r++);return e.slice(r)};t.gopsSafeToAlignWith=f;var m=function(e,t,i){if(!t.length)return e;if(i)return t.slice();for(var n=t[0].pts,r=0;r<e.length&&!(e[r].pts>=n);r++);return e.slice(0,r).concat(t)};t.updateGopBuffer=m;var g=function(e,t,i,n){for(var r=Math.ceil(9e4*(t-n)),a=Math.ceil(9e4*(i-n)),o=e.slice(),s=e.length;s--&&!(e[s].pts<=a););if(-1===s)return o;for(var l=s+1;l--&&!(e[l].pts<=r););return l=Math.max(l,0),o.splice(l,s-l+1),o};t.removeGopBuffer=g;var v=function(e){function t(e,i){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,o.default.EventTarget),this.timestampOffset_=0,this.pendingBuffers_=[],this.bufferUpdating_=!1,this.mediaSource_=e,this.codecs_=i,this.audioCodec_=null,this.videoCodec_=null,this.audioDisabled_=!1,this.appendAudioInitSegment_=!0,this.gopBuffer_=[],this.timeMapping_=0,this.safeAppend_=o.default.browser.IE_VERSION>=11;var r={remux:!1,alignGopsAtEnd:this.safeAppend_};this.codecs_.forEach(function(e){(0,d.isAudioCodec)(e)?n.audioCodec_=e:(0,d.isVideoCodec)(e)&&(n.videoCodec_=e)}),this.transmuxer_=(0,u.default)(h.default,p()),this.transmuxer_.postMessage({action:"init",options:r}),this.transmuxer_.onmessage=function(e){return"data"===e.data.action?n.data_(e):"done"===e.data.action?n.done_(e):"gopInfo"===e.data.action?n.appendGopInfo_(e):void 0},Object.defineProperty(this,"timestampOffset",{get:function(){return this.timestampOffset_},set:function(e){"number"==typeof e&&e>=0&&(this.timestampOffset_=e,this.appendAudioInitSegment_=!0,this.gopBuffer_.length=0,this.timeMapping_=0,this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:e}))}}),Object.defineProperty(this,"appendWindowStart",{get:function(){return(this.videoBuffer_||this.audioBuffer_).appendWindowStart},set:function(e){this.videoBuffer_&&(this.videoBuffer_.appendWindowStart=e),this.audioBuffer_&&(this.audioBuffer_.appendWindowStart=e)}}),Object.defineProperty(this,"updating",{get:function(){return!!(this.bufferUpdating_||!this.audioDisabled_&&this.audioBuffer_&&this.audioBuffer_.updating||this.videoBuffer_&&this.videoBuffer_.updating)}}),Object.defineProperty(this,"buffered",{get:function(){var e=null,t=null,i=0,n=[],r=[];if(!this.videoBuffer_&&!this.audioBuffer_)return o.default.createTimeRange();if(!this.videoBuffer_)return this.audioBuffer_.buffered;if(!this.audioBuffer_)return this.videoBuffer_.buffered;if(this.audioDisabled_)return this.videoBuffer_.buffered;if(0===this.videoBuffer_.buffered.length&&0===this.audioBuffer_.buffered.length)return o.default.createTimeRange();for(var a=this.videoBuffer_.buffered,s=this.audioBuffer_.buffered,l=a.length;l--;)n.push({time:a.start(l),type:"start"}),n.push({time:a.end(l),type:"end"});for(l=s.length;l--;)n.push({time:s.start(l),type:"start"}),n.push({time:s.end(l),type:"end"});for(n.sort(function(e,t){return e.time-t.time}),l=0;l<n.length;l++)"start"===n[l].type?2===++i&&(e=n[l].time):"end"===n[l].type&&1===--i&&(t=n[l].time),null!==e&&null!==t&&(r.push([e,t]),e=null,t=null);return o.default.createTimeRanges(r)}})}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.EventTarget),r(t,[{key:"data_",value:function(e){var t=e.data.segment;t.data=new Uint8Array(t.data,e.data.byteOffset,e.data.byteLength),t.initSegment=new Uint8Array(t.initSegment.data,t.initSegment.byteOffset,t.initSegment.byteLength),(0,s.default)(this,this.mediaSource_,t),this.pendingBuffers_.push(t)}},{key:"done_",value:function(e){"closed"!==this.mediaSource_.readyState?this.processPendingSegments_():this.pendingBuffers_.length=0}},{key:"createRealSourceBuffers_",value:function(){var e=this,t=["audio","video"];t.forEach(function(i){if(e[i+"Codec_"]&&!e[i+"Buffer_"]){var n=null;if(e.mediaSource_[i+"Buffer_"])(n=e.mediaSource_[i+"Buffer_"]).updating=!1;else{var r=i+'/mp4;codecs="'+e[i+"Codec_"]+'"';n=function(e,t){var i=e.addSourceBuffer(t),n=Object.create(null);n.updating=!1,n.realBuffer_=i;for(var r in i)!function(e){"function"==typeof i[e]?n[e]=function(){return i[e].apply(i,arguments)}:void 0===n[e]&&Object.defineProperty(n,e,{get:function(){return i[e]},set:function(t){return i[e]=t}})}(r);return n}(e.mediaSource_.nativeMediaSource_,r),e.mediaSource_[i+"Buffer_"]=n}e[i+"Buffer_"]=n,["update","updatestart","updateend"].forEach(function(r){n.addEventListener(r,function(){if("audio"!==i||!e.audioDisabled_)return"updateend"===r&&(e[i+"Buffer_"].updating=!1),t.every(function(t){return!("audio"!==t||!e.audioDisabled_)||i===t||!e[t+"Buffer_"]||!e[t+"Buffer_"].updating})?e.trigger(r):void 0})})}})}},{key:"appendBuffer",value:function(e){if(this.bufferUpdating_=!0,this.audioBuffer_&&this.audioBuffer_.buffered.length){var t=this.audioBuffer_.buffered;this.transmuxer_.postMessage({action:"setAudioAppendStart",appendStart:t.end(t.length-1)})}this.videoBuffer_&&this.transmuxer_.postMessage({action:"alignGopsWith",gopsToAlignWith:f(this.gopBuffer_,this.mediaSource_.player_,this.timeMapping_)}),this.transmuxer_.postMessage({action:"push",data:e.buffer,byteOffset:e.byteOffset,byteLength:e.byteLength},[e.buffer]),this.transmuxer_.postMessage({action:"flush"})}},{key:"appendGopInfo_",value:function(e){this.gopBuffer_=m(this.gopBuffer_,e.data.gopInfo,this.safeAppend_)}},{key:"remove",value:function(e,t){if(this.videoBuffer_&&(this.videoBuffer_.updating=!0,this.videoBuffer_.remove(e,t),this.gopBuffer_=g(this.gopBuffer_,e,t,this.timeMapping_)),!this.audioDisabled_&&this.audioBuffer_&&(this.audioBuffer_.updating=!0,this.audioBuffer_.remove(e,t)),(0,l.default)(e,t,this.metadataTrack_),this.inbandTextTracks_)for(var i in this.inbandTextTracks_)(0,l.default)(e,t,this.inbandTextTracks_[i])}},{key:"processPendingSegments_",value:function(){var e={video:{segments:[],bytes:0},audio:{segments:[],bytes:0},captions:[],metadata:[]};e=this.pendingBuffers_.reduce(function(e,t){var i=t.type,n=t.data,r=t.initSegment;return e[i].segments.push(n),e[i].bytes+=n.byteLength,e[i].initSegment=r,t.captions&&(e.captions=e.captions.concat(t.captions)),t.info&&(e[i].info=t.info),t.metadata&&(e.metadata=e.metadata.concat(t.metadata)),e},e),this.videoBuffer_||this.audioBuffer_||(0===e.video.bytes&&(this.videoCodec_=null),0===e.audio.bytes&&(this.audioCodec_=null),this.createRealSourceBuffers_()),e.audio.info&&this.mediaSource_.trigger({type:"audioinfo",info:e.audio.info}),e.video.info&&this.mediaSource_.trigger({type:"videoinfo",info:e.video.info}),this.appendAudioInitSegment_&&(!this.audioDisabled_&&this.audioBuffer_&&(e.audio.segments.unshift(e.audio.initSegment),e.audio.bytes+=e.audio.initSegment.byteLength),this.appendAudioInitSegment_=!1);var t=!1;this.videoBuffer_&&e.video.bytes?(e.video.segments.unshift(e.video.initSegment),e.video.bytes+=e.video.initSegment.byteLength,this.concatAndAppendSegments_(e.video,this.videoBuffer_),(0,c.addTextTrackData)(this,e.captions,e.metadata)):!this.videoBuffer_||!this.audioDisabled_&&this.audioBuffer_||(t=!0),!this.audioDisabled_&&this.audioBuffer_&&this.concatAndAppendSegments_(e.audio,this.audioBuffer_),this.pendingBuffers_.length=0,t&&this.trigger("updateend"),this.bufferUpdating_=!1}},{key:"concatAndAppendSegments_",value:function(e,t){var i=0,n=void 0;if(e.bytes){n=new Uint8Array(e.bytes),e.segments.forEach(function(e){n.set(e,i),i+=e.byteLength});try{t.updating=!0,t.appendBuffer(n)}catch(e){this.mediaSource_.player_&&this.mediaSource_.player_.error({code:-3,type:"APPEND_BUFFER_ERR",message:e.message,originalError:e})}}}},{key:"abort",value:function(){this.videoBuffer_&&this.videoBuffer_.abort(),!this.audioDisabled_&&this.audioBuffer_&&this.audioBuffer_.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"reset"}),this.pendingBuffers_.length=0,this.bufferUpdating_=!1}}]),t}();t.default=v},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(e,t,i){for(var n=!0;n;){var r=e,a=t,o=i;n=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,a);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(o)}var c=Object.getPrototypeOf(r);if(null===c)return;e=c,t=a,i=o,n=!0,s=c=void 0}},o=n(i(1)),s=n(i(9)),l=n(i(0)),c=n(i(60)),u=i(13),h=i(7),d=function(e){function t(){var e=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this);var i=void 0;for(i in this.nativeMediaSource_=new o.default.MediaSource,this.nativeMediaSource_)i in t.prototype||"function"!=typeof this.nativeMediaSource_[i]||(this[i]=this.nativeMediaSource_[i].bind(this.nativeMediaSource_));this.duration_=NaN,Object.defineProperty(this,"duration",{get:function(){return this.duration_===1/0?this.duration_:this.nativeMediaSource_.duration},set:function(e){this.duration_=e,e===1/0||(this.nativeMediaSource_.duration=e)}}),Object.defineProperty(this,"seekable",{get:function(){return this.duration_===1/0?l.default.createTimeRanges([[0,this.nativeMediaSource_.duration]]):this.nativeMediaSource_.seekable}}),Object.defineProperty(this,"readyState",{get:function(){return this.nativeMediaSource_.readyState}}),Object.defineProperty(this,"activeSourceBuffers",{get:function(){return this.activeSourceBuffers_}}),this.sourceBuffers=[],this.activeSourceBuffers_=[],this.updateActiveSourceBuffers_=function(){if(e.activeSourceBuffers_.length=0,1===e.sourceBuffers.length){var t=e.sourceBuffers[0];return t.appendAudioInitSegment_=!0,t.audioDisabled_=!t.audioCodec_,void e.activeSourceBuffers_.push(t)}for(var i=!1,n=!0,r=0;r<e.player_.audioTracks().length;r++){var a=e.player_.audioTracks()[r];if(a.enabled&&"main"!==a.kind){i=!0,n=!1;break}}e.sourceBuffers.forEach(function(t){if(t.appendAudioInitSegment_=!0,t.videoCodec_&&t.audioCodec_)t.audioDisabled_=i;else if(t.videoCodec_&&!t.audioCodec_)t.audioDisabled_=!0,n=!1;else if(!t.videoCodec_&&t.audioCodec_&&(t.audioDisabled_=n,n))return;e.activeSourceBuffers_.push(t)})},this.onPlayerMediachange_=function(){e.sourceBuffers.forEach(function(e){e.appendAudioInitSegment_=!0})},this.onHlsReset_=function(){e.sourceBuffers.forEach(function(e){e.transmuxer_&&e.transmuxer_.postMessage({action:"resetCaptions"})})},this.onHlsSegmentTimeMapping_=function(t){e.sourceBuffers.forEach(function(e){return e.timeMapping_=t.mapping})},["sourceopen","sourceclose","sourceended"].forEach(function(e){this.nativeMediaSource_.addEventListener(e,this.trigger.bind(this))},this),this.on("sourceopen",function(t){var i=s.default.querySelector('[src="'+e.url_+'"]');i&&(e.player_=(0,l.default)(i.parentNode),e.player_.tech_.on("hls-reset",e.onHlsReset_),e.player_.tech_.on("hls-segment-time-mapping",e.onHlsSegmentTimeMapping_),e.player_.audioTracks&&e.player_.audioTracks()&&(e.player_.audioTracks().on("change",e.updateActiveSourceBuffers_),e.player_.audioTracks().on("addtrack",e.updateActiveSourceBuffers_),e.player_.audioTracks().on("removetrack",e.updateActiveSourceBuffers_)),e.player_.on("mediachange",e.onPlayerMediachange_))}),this.on("sourceended",function(t){for(var i=(0,u.durationOfVideo)(e.duration),n=0;n<e.sourceBuffers.length;n++){var r=e.sourceBuffers[n],a=r.metadataTrack_&&r.metadataTrack_.cues;a&&a.length&&(a[a.length-1].endTime=i)}}),this.on("sourceclose",function(e){this.sourceBuffers.forEach(function(e){e.transmuxer_&&e.transmuxer_.terminate()}),this.sourceBuffers.length=0,this.player_&&(this.player_.audioTracks&&this.player_.audioTracks()&&(this.player_.audioTracks().off("change",this.updateActiveSourceBuffers_),this.player_.audioTracks().off("addtrack",this.updateActiveSourceBuffers_),this.player_.audioTracks().off("removetrack",this.updateActiveSourceBuffers_)),this.player_.el_&&(this.player_.off("mediachange",this.onPlayerMediachange_),this.player_.tech_.off("hls-reset",this.onHlsReset_),this.player_.tech_.off("hls-segment-time-mapping",this.onHlsSegmentTimeMapping_)))})}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default.EventTarget),r(t,[{key:"addSeekableRange_",value:function(e,t){var i=void 0;if(this.duration!==1/0)throw(i=new Error("MediaSource.addSeekableRange() can only be invoked when the duration is Infinity")).name="InvalidStateError",i.code=11,i;(t>this.nativeMediaSource_.duration||isNaN(this.nativeMediaSource_.duration))&&(this.nativeMediaSource_.duration=t)}},{key:"addSourceBuffer",value:function(e){var t=void 0,i=(0,h.parseContentType)(e);if(/^(video|audio)\/mp2t$/i.test(i.type)){var n=[];i.parameters&&i.parameters.codecs&&(n=i.parameters.codecs.split(","),n=(n=(0,h.translateLegacyCodecs)(n)).filter(function(e){return(0,h.isAudioCodec)(e)||(0,h.isVideoCodec)(e)})),0===n.length&&(n=["avc1.4d400d","mp4a.40.2"]),t=new c.default(this,n),0!==this.sourceBuffers.length&&(this.sourceBuffers[0].createRealSourceBuffers_(),t.createRealSourceBuffers_(),this.sourceBuffers[0].audioDisabled_=!0)}else t=this.nativeMediaSource_.addSourceBuffer(e);return this.sourceBuffers.push(t),t}}]),t}();t.default=d,e.exports=t.default},function(e,t,i){"use strict";var n=i(14);e.exports=function(e,t,i){var r,a,o,s=new Uint8Array(9),l=new DataView(s.buffer);return e=e||0,t=void 0===t||t,i=void 0===i||i,l.setUint8(0,70),l.setUint8(1,76),l.setUint8(2,86),l.setUint8(3,1),l.setUint8(4,(t?4:0)|(i?1:0)),l.setUint32(5,s.byteLength),e<=0?((a=new Uint8Array(s.byteLength+4)).set(s),a.set([0,0,0,0],s.byteLength),a):((r=new n(n.METADATA_TAG)).pts=r.dts=0,r.writeMetaDataDouble("duration",e),o=r.finalize().length,(a=new Uint8Array(s.byteLength+o)).set(s),a.set(l.byteLength,o),a)}},function(e,t,i){"use strict";e.exports=function(){var e=this;this.list=[],this.push=function(e){this.list.push({bytes:e.bytes,dts:e.dts,pts:e.pts,keyFrame:e.keyFrame,metaDataTag:e.metaDataTag})},Object.defineProperty(this,"length",{get:function(){return e.list.length}})}},function(e,t,i){"use strict";var n=i(2),r=function(e){this.numberOfTracks=0,this.metadataStream=e.metadataStream,this.videoTags=[],this.audioTags=[],this.videoTrack=null,this.audioTrack=null,this.pendingCaptions=[],this.pendingMetadata=[],this.pendingTracks=0,this.processedTracks=0,r.prototype.init.call(this),this.push=function(e){return e.text?this.pendingCaptions.push(e):e.frames?this.pendingMetadata.push(e):("video"===e.track.type&&(this.videoTrack=e.track,this.videoTags=e.tags,this.pendingTracks++),void("audio"===e.track.type&&(this.audioTrack=e.track,this.audioTags=e.tags,this.pendingTracks++)))}};r.prototype=new n,r.prototype.flush=function(e){var t,i,n,r,a={tags:{},captions:[],captionStreams:{},metadata:[]};if(this.pendingTracks<this.numberOfTracks){if("VideoSegmentStream"!==e&&"AudioSegmentStream"!==e)return;if(0===this.pendingTracks&&++this.processedTracks<this.numberOfTracks)return}if(this.processedTracks+=this.pendingTracks,this.pendingTracks=0,!(this.processedTracks<this.numberOfTracks)){for(this.videoTrack?r=this.videoTrack.timelineStartInfo.pts:this.audioTrack&&(r=this.audioTrack.timelineStartInfo.pts),a.tags.videoTags=this.videoTags,a.tags.audioTags=this.audioTags,n=0;n<this.pendingCaptions.length;n++)(i=this.pendingCaptions[n]).startTime=i.startPts-r,i.startTime/=9e4,i.endTime=i.endPts-r,i.endTime/=9e4,a.captionStreams[i.stream]=!0,a.captions.push(i);for(n=0;n<this.pendingMetadata.length;n++)(t=this.pendingMetadata[n]).cueTime=t.pts-r,t.cueTime/=9e4,a.metadata.push(t);a.metadata.dispatchType=this.metadataStream.dispatchType,this.videoTrack=null,this.audioTrack=null,this.videoTags=[],this.audioTags=[],this.pendingCaptions.length=0,this.pendingMetadata.length=0,this.pendingTracks=0,this.processedTracks=0,this.trigger("data",a),this.trigger("done")}},e.exports=r},function(e,t,i){"use strict";var n;n=function(e){var t=e.byteLength,i=0,n=0;this.length=function(){return 8*t},this.bitsAvailable=function(){return 8*t+n},this.loadWord=function(){var r=e.byteLength-t,a=new Uint8Array(4),o=Math.min(4,t);if(0===o)throw new Error("no bytes available");a.set(e.subarray(r,r+o)),i=new DataView(a.buffer).getUint32(0),n=8*o,t-=o},this.skipBits=function(e){var r;n>e?(i<<=e,n-=e):(e-=n,e-=8*(r=Math.floor(e/8)),t-=r,this.loadWord(),i<<=e,n-=e)},this.readBits=function(e){var r=Math.min(n,e),a=i>>>32-r;return(n-=r)>0?i<<=r:t>0&&this.loadWord(),(r=e-r)>0?a<<r|this.readBits(r):a},this.skipLeadingZeros=function(){var e;for(e=0;e<n;++e)if(0!=(i&2147483648>>>e))return i<<=e,n-=e,e;return this.loadWord(),e+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var e=this.skipLeadingZeros();return this.readBits(e+1)-1},this.readExpGolomb=function(){var e=this.readUnsignedExpGolomb();return 1&e?1+e>>>1:-1*(e>>>1)},this.readBoolean=function(){return 1===this.readBits(1)},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()},e.exports=n},function(e,t,i){"use strict";var n,r=i(2),a=i(4),o=function(e,t,i){var n,r="";for(n=t;n<i;n++)r+="%"+("00"+e[n].toString(16)).slice(-2);return r},s=function(e,t,i){return decodeURIComponent(o(e,t,i))},l=function(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]},c={TXXX:function(e){var t;if(3===e.data[0]){for(t=1;t<e.data.length;t++)if(0===e.data[t]){e.description=s(e.data,1,t),e.value=s(e.data,t+1,e.data.length).replace(/\0*$/,"");break}e.data=e.value}},WXXX:function(e){var t;if(3===e.data[0])for(t=1;t<e.data.length;t++)if(0===e.data[t]){e.description=s(e.data,1,t),e.url=s(e.data,t+1,e.data.length);break}},PRIV:function(e){var t,i;for(t=0;t<e.data.length;t++)if(0===e.data[t]){e.owner=(i=e.data,unescape(o(i,0,t)));break}e.privateData=e.data.subarray(t+1),e.data=e.privateData}};(n=function(e){var t,i={debug:!(!e||!e.debug),descriptor:e&&e.descriptor},r=0,o=[],s=0;if(n.prototype.init.call(this),this.dispatchType=a.METADATA_STREAM_TYPE.toString(16),i.descriptor)for(t=0;t<i.descriptor.length;t++)this.dispatchType+=("00"+i.descriptor[t].toString(16)).slice(-2);this.push=function(e){var t,n,a,u,h;if("timed-metadata"===e.type)if(e.dataAlignmentIndicator&&(s=0,o.length=0),0===o.length&&(e.data.length<10||e.data[0]!=="I".charCodeAt(0)||e.data[1]!=="D".charCodeAt(0)||e.data[2]!=="3".charCodeAt(0)))i.debug&&console.log("Skipping unrecognized metadata packet");else if(o.push(e),s+=e.data.byteLength,1===o.length&&(r=l(e.data.subarray(6,10)),r+=10),!(s<r)){for(t={data:new Uint8Array(r),frames:[],pts:o[0].pts,dts:o[0].dts},h=0;h<r;)t.data.set(o[0].data.subarray(0,r-h),h),h+=o[0].data.byteLength,s-=o[0].data.byteLength,o.shift();n=10,64&t.data[5]&&(n+=4,n+=l(t.data.subarray(10,14)),r-=l(t.data.subarray(16,20)));do{if((a=l(t.data.subarray(n+4,n+8)))<1)return console.log("Malformed ID3 frame encountered. Skipping metadata parsing.");if((u={id:String.fromCharCode(t.data[n],t.data[n+1],t.data[n+2],t.data[n+3]),data:t.data.subarray(n+10,n+a+10)}).key=u.id,c[u.id]&&(c[u.id](u),"com.apple.streaming.transportStreamTimestamp"===u.owner)){var d=u.data,p=(1&d[3])<<30|d[4]<<22|d[5]<<14|d[6]<<6|d[7]>>>2;p*=4,p+=3&d[7],u.timeStamp=p,void 0===t.pts&&void 0===t.dts&&(t.pts=u.timeStamp,t.dts=u.timeStamp),this.trigger("timestamp",u)}t.frames.push(u),n+=10,n+=a}while(n<r);this.trigger("data",t)}}}).prototype=new r,e.exports=n},function(e,t,i){"use strict";var n=i(2),r=function(){r.prototype.init.call(this),this.captionPackets_=[],this.ccStreams_=[new c(0,0),new c(0,1),new c(1,0),new c(1,1)],this.reset(),this.ccStreams_.forEach(function(e){e.on("data",this.trigger.bind(this,"data")),e.on("done",this.trigger.bind(this,"done"))},this)};r.prototype=new n,r.prototype.push=function(e){var t,i;"sei_rbsp"===e.nalUnitType&&4===(t=function(e){for(var t=0,i={payloadType:-1,payloadSize:0},n=0,r=0;t<e.byteLength&&128!==e[t];){for(;255===e[t];)n+=255,t++;for(n+=e[t++];255===e[t];)r+=255,t++;if(r+=e[t++],!i.payload&&4===n){i.payloadType=n,i.payloadSize=r,i.payload=e.subarray(t,t+r);break}t+=r,n=0,r=0}return i}(e.escapedRBSP)).payloadType&&(i=function(e){return 181!==e.payload[0]?null:49!=(e.payload[1]<<8|e.payload[2])?null:"GA94"!==String.fromCharCode(e.payload[3],e.payload[4],e.payload[5],e.payload[6])?null:3!==e.payload[7]?null:e.payload.subarray(8,e.payload.length-1)}(t))&&(e.dts<this.latestDts_?this.ignoreNextEqualDts_=!0:e.dts===this.latestDts_&&this.ignoreNextEqualDts_?this.ignoreNextEqualDts_=!1:(this.captionPackets_=this.captionPackets_.concat(function(e,t){var i,n,r,a,o=[];if(!(64&t[0]))return o;for(n=31&t[0],i=0;i<n;i++)a={type:3&t[2+(r=3*i)],pts:e},4&t[r+2]&&(a.ccData=t[r+3]<<8|t[r+4],o.push(a));return o}(e.pts,i)),this.latestDts_=e.dts))},r.prototype.flush=function(){this.captionPackets_.length?(this.captionPackets_.forEach(function(e,t){e.presortIndex=t}),this.captionPackets_.sort(function(e,t){return e.pts===t.pts?e.presortIndex-t.presortIndex:e.pts-t.pts}),this.captionPackets_.forEach(function(e){e.type<2&&this.dispatchCea608Packet(e)},this),this.captionPackets_.length=0,this.ccStreams_.forEach(function(e){e.flush()},this)):this.ccStreams_.forEach(function(e){e.flush()},this)},r.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(e){e.reset()})},r.prototype.dispatchCea608Packet=function(e){this.setsChannel1Active(e)?this.activeCea608Channel_[e.type]=0:this.setsChannel2Active(e)&&(this.activeCea608Channel_[e.type]=1),null!==this.activeCea608Channel_[e.type]&&this.ccStreams_[(e.type<<1)+this.activeCea608Channel_[e.type]].push(e)},r.prototype.setsChannel1Active=function(e){return 4096==(30720&e.ccData)},r.prototype.setsChannel2Active=function(e){return 6144==(30720&e.ccData)};var a={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},o=function(e){return null===e?"":(e=a[e]||e,String.fromCharCode(e))},s=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],l=function(){for(var e=[],t=15;t--;)e.push("");return e},c=function(e,t){c.prototype.init.call(this),this.field_=e||0,this.dataChannel_=t||0,this.name_="CC"+(1+(this.field_<<1|this.dataChannel_)),this.setConstants(),this.reset(),this.push=function(e){var t,i,n,r,a;if((t=32639&e.ccData)!==this.lastControlCode_){if(4096==(61440&t)?this.lastControlCode_=t:t!==this.PADDING_&&(this.lastControlCode_=null),n=t>>>8,r=255&t,t!==this.PADDING_)if(t===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(t===this.END_OF_CAPTION_)this.clearFormatting(e.pts),this.flushDisplayed(e.pts),i=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=i,this.startPts_=e.pts;else if(t===this.ROLL_UP_2_ROWS_)this.topRow_=13,this.mode_="rollUp";else if(t===this.ROLL_UP_3_ROWS_)this.topRow_=12,this.mode_="rollUp";else if(t===this.ROLL_UP_4_ROWS_)this.topRow_=11,this.mode_="rollUp";else if(t===this.CARRIAGE_RETURN_)this.clearFormatting(e.pts),this.flushDisplayed(e.pts),this.shiftRowsUp_(),this.startPts_=e.pts;else if(t===this.BACKSPACE_)"popOn"===this.mode_?this.nonDisplayed_[14]=this.nonDisplayed_[14].slice(0,-1):this.displayed_[14]=this.displayed_[14].slice(0,-1);else if(t===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(e.pts),this.displayed_=l();else if(t===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=l();else if(t===this.RESUME_DIRECT_CAPTIONING_)this.mode_="paintOn";else if(this.isSpecialCharacter(n,r))a=o((n=(3&n)<<8)|r),this[this.mode_](e.pts,a),this.column_++;else if(this.isExtCharacter(n,r))"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[14]=this.displayed_[14].slice(0,-1),a=o((n=(3&n)<<8)|r),this[this.mode_](e.pts,a),this.column_++;else if(this.isMidRowCode(n,r))this.clearFormatting(e.pts),this[this.mode_](e.pts," "),this.column_++,14==(14&r)&&this.addFormatting(e.pts,["i"]),1==(1&r)&&this.addFormatting(e.pts,["u"]);else if(this.isOffsetControlCode(n,r))this.column_+=3&r;else if(this.isPAC(n,r)){var c=s.indexOf(7968&t);c!==this.row_&&(this.clearFormatting(e.pts),this.row_=c),1&r&&-1===this.formatting_.indexOf("u")&&this.addFormatting(e.pts,["u"]),16==(16&t)&&(this.column_=4*((14&t)>>1)),this.isColorPAC(r)&&14==(14&r)&&this.addFormatting(e.pts,["i"])}else this.isNormalChar(n)&&(0===r&&(r=null),a=o(n),a+=o(r),this[this.mode_](e.pts,a),this.column_+=a.length)}else this.lastControlCode_=null}};c.prototype=new n,c.prototype.flushDisplayed=function(e){var t=this.displayed_.map(function(e){return e.trim()}).join("\n").replace(/^\n+|\n+$/g,"");t.length&&this.trigger("data",{startPts:this.startPts_,endPts:e,text:t,stream:this.name_})},c.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=l(),this.nonDisplayed_=l(),this.lastControlCode_=null,this.column_=0,this.row_=14,this.formatting_=[]},c.prototype.setConstants=function(){0===this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=32|this.CONTROL_,this.END_OF_CAPTION_=47|this.CONTROL_,this.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_,this.CARRIAGE_RETURN_=45|this.CONTROL_,this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_},c.prototype.isSpecialCharacter=function(e,t){return e===this.EXT_&&t>=48&&t<=63},c.prototype.isExtCharacter=function(e,t){return(e===this.EXT_+1||e===this.EXT_+2)&&t>=32&&t<=63},c.prototype.isMidRowCode=function(e,t){return e===this.EXT_&&t>=32&&t<=47},c.prototype.isOffsetControlCode=function(e,t){return e===this.OFFSET_&&t>=33&&t<=35},c.prototype.isPAC=function(e,t){return e>=this.BASE_&&e<this.BASE_+8&&t>=64&&t<=127},c.prototype.isColorPAC=function(e){return e>=64&&e<=79||e>=96&&e<=127},c.prototype.isNormalChar=function(e){return e>=32&&e<=127},c.prototype.addFormatting=function(e,t){this.formatting_=this.formatting_.concat(t);var i=t.reduce(function(e,t){return e+"<"+t+">"},"");this[this.mode_](e,i)},c.prototype.clearFormatting=function(e){if(this.formatting_.length){var t=this.formatting_.reverse().reduce(function(e,t){return e+"</"+t+">"},"");this.formatting_=[],this[this.mode_](e,t)}},c.prototype.popOn=function(e,t){var i=this.nonDisplayed_[this.row_];i+=t,this.nonDisplayed_[this.row_]=i},c.prototype.rollUp=function(e,t){var i=this.displayed_[14];i+=t,this.displayed_[14]=i},c.prototype.shiftRowsUp_=function(){var e;for(e=0;e<this.topRow_;e++)this.displayed_[e]="";for(e=this.topRow_;e<14;e++)this.displayed_[e]=this.displayed_[e+1];this.displayed_[14]=""},c.prototype.paintOn=function(){},e.exports={CaptionStream:r,Cea608Stream:c}},function(e,t,i){"use strict";var n,r,a,o,s,l,c=i(2),u=i(14),h=i(30),d=i(28),p=i(27).H264Stream,f=i(64),m=i(63);o=function(e,t){"number"==typeof t.pts&&(void 0===e.timelineStartInfo.pts?e.timelineStartInfo.pts=t.pts:e.timelineStartInfo.pts=Math.min(e.timelineStartInfo.pts,t.pts)),"number"==typeof t.dts&&(void 0===e.timelineStartInfo.dts?e.timelineStartInfo.dts=t.dts:e.timelineStartInfo.dts=Math.min(e.timelineStartInfo.dts,t.dts))},s=function(e,t){var i=new u(u.METADATA_TAG);return i.dts=t,i.pts=t,i.writeMetaDataDouble("videocodecid",7),i.writeMetaDataDouble("width",e.width),i.writeMetaDataDouble("height",e.height),i},l=function(e,t){var i,n=new u(u.VIDEO_TAG,!0);for(n.dts=t,n.pts=t,n.writeByte(1),n.writeByte(e.profileIdc),n.writeByte(e.profileCompatibility),n.writeByte(e.levelIdc),n.writeByte(255),n.writeByte(225),n.writeShort(e.sps[0].length),n.writeBytes(e.sps[0]),n.writeByte(e.pps.length),i=0;i<e.pps.length;++i)n.writeShort(e.pps[i].length),n.writeBytes(e.pps[i]);return n},(a=function(e){var t,i=[],n=[];a.prototype.init.call(this),this.push=function(t){o(e,t),e&&(e.audioobjecttype=t.audioobjecttype,e.channelcount=t.channelcount,e.samplerate=t.samplerate,e.samplingfrequencyindex=t.samplingfrequencyindex,e.samplesize=t.samplesize,e.extraData=e.audioobjecttype<<11|e.samplingfrequencyindex<<7|e.channelcount<<3),t.pts=Math.round(t.pts/90),t.dts=Math.round(t.dts/90),i.push(t)},this.flush=function(){var r,a,o,s=new m;if(0!==i.length){for(o=-1/0;i.length;)r=i.shift(),n.length&&r.pts>=n[0]&&(o=n.shift(),this.writeMetaDataTags(s,o)),(e.extraData!==t||r.pts-o>=1e3)&&(this.writeMetaDataTags(s,r.pts),t=e.extraData,o=r.pts),(a=new u(u.AUDIO_TAG)).pts=r.pts,a.dts=r.dts,a.writeBytes(r.data),s.push(a.finalize());n.length=0,t=null,this.trigger("data",{track:e,tags:s.list}),this.trigger("done","AudioSegmentStream")}else this.trigger("done","AudioSegmentStream")},this.writeMetaDataTags=function(t,i){var n;(n=new u(u.METADATA_TAG)).pts=i,n.dts=i,n.writeMetaDataDouble("audiocodecid",10),n.writeMetaDataBoolean("stereo",2===e.channelcount),n.writeMetaDataDouble("audiosamplerate",e.samplerate),n.writeMetaDataDouble("audiosamplesize",16),t.push(n.finalize()),(n=new u(u.AUDIO_TAG,!0)).pts=i,n.dts=i,n.view.setUint16(n.position,e.extraData),n.position+=2,n.length=Math.max(n.length,n.position),t.push(n.finalize())},this.onVideoKeyFrame=function(e){n.push(e)}}).prototype=new c,(r=function(e){var t,i,n=[];r.prototype.init.call(this),this.finishFrame=function(n,r){if(r){if(t&&e&&e.newMetadata&&(r.keyFrame||0===n.length)){var a=s(t,r.dts).finalize(),o=l(e,r.dts).finalize();a.metaDataTag=o.metaDataTag=!0,n.push(a),n.push(o),e.newMetadata=!1,this.trigger("keyframe",r.dts)}r.endNalUnit(),n.push(r.finalize()),i=null}},this.push=function(t){o(e,t),t.pts=Math.round(t.pts/90),t.dts=Math.round(t.dts/90),n.push(t)},this.flush=function(){for(var r,a=new m;n.length&&"access_unit_delimiter_rbsp"!==n[0].nalUnitType;)n.shift();if(0!==n.length){for(;n.length;)"seq_parameter_set_rbsp"===(r=n.shift()).nalUnitType?(e.newMetadata=!0,t=r.config,e.width=t.width,e.height=t.height,e.sps=[r.data],e.profileIdc=t.profileIdc,e.levelIdc=t.levelIdc,e.profileCompatibility=t.profileCompatibility,i.endNalUnit()):"pic_parameter_set_rbsp"===r.nalUnitType?(e.newMetadata=!0,e.pps=[r.data],i.endNalUnit()):"access_unit_delimiter_rbsp"===r.nalUnitType?(i&&this.finishFrame(a,i),(i=new u(u.VIDEO_TAG)).pts=r.pts,i.dts=r.dts):("slice_layer_without_partitioning_rbsp_idr"===r.nalUnitType&&(i.keyFrame=!0),i.endNalUnit()),i.startNalUnit(),i.writeBytes(r.data);i&&this.finishFrame(a,i),this.trigger("data",{track:e,tags:a.list}),this.trigger("done","VideoSegmentStream")}else this.trigger("done","VideoSegmentStream")}}).prototype=new c,(n=function(e){var t,i,o,s,l,c,u,m,g,v,y,b,_=this;n.prototype.init.call(this),e=e||{},this.metadataStream=new h.MetadataStream,e.metadataStream=this.metadataStream,t=new h.TransportPacketStream,i=new h.TransportParseStream,o=new h.ElementaryStream,s=new h.TimestampRolloverStream("video"),l=new h.TimestampRolloverStream("audio"),c=new h.TimestampRolloverStream("timed-metadata"),u=new d,m=new p,b=new f(e),t.pipe(i).pipe(o),o.pipe(s).pipe(m),o.pipe(l).pipe(u),o.pipe(c).pipe(this.metadataStream).pipe(b),y=new h.CaptionStream,m.pipe(y).pipe(b),o.on("data",function(e){var t,i,n;if("metadata"===e.type){for(t=e.tracks.length;t--;)"video"===e.tracks[t].type?i=e.tracks[t]:"audio"===e.tracks[t].type&&(n=e.tracks[t]);i&&!g&&(b.numberOfTracks++,g=new r(i),m.pipe(g).pipe(b)),n&&!v&&(b.numberOfTracks++,v=new a(n),u.pipe(v).pipe(b),g&&g.on("keyframe",v.onVideoKeyFrame))}}),this.push=function(e){t.push(e)},this.flush=function(){t.flush()},this.resetCaptions=function(){y.reset()},b.on("data",function(e){_.trigger("data",e)}),b.on("done",function(){_.trigger("done")})}).prototype=new c,e.exports=n},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(e,t,i){for(var n=!0;n;){var r=e,a=t,o=i;n=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,a);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(o)}var c=Object.getPrototypeOf(r);if(null===c)return;e=c,t=a,i=o,n=!0,s=c=void 0}},o=n(i(1)),s=n(i(0)),l=n(i(31)),c=n(i(8)),u=n(i(26)),h=i(13),d=n(i(25)),p=n(i(12)),f=n(i(24)),m=function(){var e=void 0;try{e=25}catch(e){}return e},g=function(e){o.default.setTimeout(e,f.default.TIME_BETWEEN_CHUNKS)},v=function(){return Math.random().toString(36).slice(2,8)},y=function(e,t){("number"!=typeof t||t<0)&&(t=0);var i=Math.pow(10,t);return Math.round(e*i)/i},b=function(e){function t(e){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this);var n;this.chunkSize_=f.default.BYTES_PER_CHUNK,this.buffer_=[],this.bufferSize_=0,this.basePtsOffset_=NaN,this.mediaSource_=e,this.audioBufferEnd_=NaN,this.videoBufferEnd_=NaN,this.updating=!1,this.timestampOffset_=0,n=o.default.btoa(String.fromCharCode.apply(null,Array.prototype.slice.call(l.default.getFlvHeader())));var r=this.mediaSource_.player_.id().replace(/[^a-zA-Z0-9]/g,"_");this.flashEncodedHeaderName_="vjs_flashEncodedHeader_"+r+v(),this.flashEncodedDataName_="vjs_flashEncodedData_"+r+v(),o.default[this.flashEncodedHeaderName_]=function(){return delete o.default[i.flashEncodedHeaderName_],n},this.mediaSource_.swfObj.vjs_appendChunkReady(this.flashEncodedHeaderName_),this.transmuxer_=(0,p.default)(d.default,m()),this.transmuxer_.postMessage({action:"init",options:{}}),this.transmuxer_.onmessage=function(e){"data"===e.data.action&&i.receiveBuffer_(e.data.segment)},this.one("updateend",function(){i.mediaSource_.tech_.trigger("loadedmetadata")}),Object.defineProperty(this,"timestampOffset",{get:function(){return this.timestampOffset_},set:function(e){"number"==typeof e&&e>=0&&(this.timestampOffset_=e,this.mediaSource_.swfObj.vjs_discontinuity(),this.basePtsOffset_=NaN,this.audioBufferEnd_=NaN,this.videoBufferEnd_=NaN,this.transmuxer_.postMessage({action:"reset"}))}}),Object.defineProperty(this,"buffered",{get:function(){if(!(this.mediaSource_&&this.mediaSource_.swfObj&&"vjs_getProperty"in this.mediaSource_.swfObj))return s.default.createTimeRange();var e=this.mediaSource_.swfObj.vjs_getProperty("buffered");return e&&e.length&&(e[0][0]=y(e[0][0],3),e[0][1]=y(e[0][1],3)),s.default.createTimeRanges(e)}}),this.mediaSource_.player_.on("seeked",function(){if((0,c.default)(0,1/0,i.metadataTrack_),i.inbandTextTracks_)for(var e in i.inbandTextTracks_)(0,c.default)(0,1/0,i.inbandTextTracks_[e])});var u=this.onHlsReset_.bind(this);this.mediaSource_.player_.tech_.on("hls-reset",u),this.mediaSource_.player_.tech_.hls.on("dispose",function(){i.transmuxer_.terminate(),i.mediaSource_.player_.tech_.off("hls-reset",u)})}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default.EventTarget),r(t,[{key:"appendBuffer",value:function(e){var t=void 0;if(this.updating)throw(t=new Error("SourceBuffer.append() cannot be called while an update is in progress")).name="InvalidStateError",t.code=11,t;this.updating=!0,this.mediaSource_.readyState="open",this.trigger({type:"update"}),this.transmuxer_.postMessage({action:"push",data:e.buffer,byteOffset:e.byteOffset,byteLength:e.byteLength},[e.buffer]),this.transmuxer_.postMessage({action:"flush"})}},{key:"abort",value:function(){this.buffer_=[],this.bufferSize_=0,this.mediaSource_.swfObj.vjs_abort(),this.updating&&(this.updating=!1,this.trigger({type:"updateend"}))}},{key:"remove",value:function(e,t){if((0,c.default)(e,t,this.metadataTrack_),this.inbandTextTracks_)for(var i in this.inbandTextTracks_)(0,c.default)(e,t,this.inbandTextTracks_[i]);this.trigger({type:"update"}),this.trigger({type:"updateend"})}},{key:"receiveBuffer_",value:function(e){var t=this;(0,u.default)(this,this.mediaSource_,e),(0,h.addTextTrackData)(this,e.captions,e.metadata),g(function(){var i=t.convertTagsToData_(e);0===t.buffer_.length&&g(t.processBuffer_.bind(t)),i&&(t.buffer_.push(i),t.bufferSize_+=i.byteLength)})}},{key:"processBuffer_",value:function(){var e=this,t=f.default.BYTES_PER_CHUNK;if(this.buffer_.length){var i=this.buffer_[0].subarray(0,t);i.byteLength<t||this.buffer_[0].byteLength===t?this.buffer_.shift():this.buffer_[0]=this.buffer_[0].subarray(t),this.bufferSize_-=i.byteLength;for(var n=[],r=i.byteLength,a=0;a<r;a++)n.push(String.fromCharCode(i[a]));var s=o.default.btoa(n.join(""));o.default[this.flashEncodedDataName_]=function(){return g(e.processBuffer_.bind(e)),delete o.default[e.flashEncodedDataName_],s},this.mediaSource_.swfObj.vjs_appendChunkReady(this.flashEncodedDataName_)}else!1!==this.updating&&(this.updating=!1,this.trigger({type:"updateend"}))}},{key:"convertTagsToData_",value:function(e){var t=0,i=this.mediaSource_.tech_,n=0,r=void 0,a=e.tags.videoTags,o=e.tags.audioTags;if(isNaN(this.basePtsOffset_)&&(a.length||o.length)){var s=a[0]||{pts:1/0},l=o[0]||{pts:1/0};this.basePtsOffset_=Math.min(l.pts,s.pts)}i.seeking()&&(this.videoBufferEnd_=NaN,this.audioBufferEnd_=NaN),isNaN(this.videoBufferEnd_)?(i.buffered().length&&(n=i.buffered().end(0)-this.timestampOffset),i.seeking()&&(n=Math.max(n,i.currentTime()-this.timestampOffset)),n*=1e3,n+=this.basePtsOffset_):n=this.videoBufferEnd_+.1;var c=a.length;if(c&&a[c-1].pts>=n){for(;--c;){var u=a[c];if(!(u.pts>n)&&(u.keyFrame||u.metaDataTag))break}for(;c&&a[c-1].metaDataTag;)c--}var h=a.slice(c),d=void 0;for(d=isNaN(this.audioBufferEnd_)?n:this.audioBufferEnd_+.1,h.length&&(d=Math.min(d,h[0].pts)),c=0;c<o.length&&!(o[c].pts>=d);)c++;var p=o.slice(c);p.length&&(this.audioBufferEnd_=p[p.length-1].pts),h.length&&(this.videoBufferEnd_=h[h.length-1].pts);var f=this.getOrderedTags_(h,p);if(0!==f.length){if(f[0].pts<n&&i.seeking()){var m=i.currentTime()-(n-f[0].pts)/1e3;m<1/30&&(m=0);try{this.mediaSource_.swfObj.vjs_adjustCurrentTime(m)}catch(e){}}for(var g=0;g<f.length;g++)t+=f[g].bytes.byteLength;r=new Uint8Array(t),g=0;for(var v=0;g<f.length;g++)r.set(f[g].bytes,v),v+=f[g].bytes.byteLength;return r}}},{key:"getOrderedTags_",value:function(e,t){for(var i=void 0,n=[];e.length||t.length;)i=e.length?t.length&&t[0].dts<e[0].dts?t.shift():e.shift():t.shift(),n.push(i);return n}},{key:"onHlsReset_",value:function(){this.transmuxer_.postMessage({action:"resetCaptions"})}}]),t}();t.default=b,e.exports=t.default},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(e,t,i){for(var n=!0;n;){var r=e,a=t,o=i;n=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,a);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(o)}var c=Object.getPrototypeOf(r);if(null===c)return;e=c,t=a,i=o,n=!0,s=c=void 0}},o=n(i(9)),s=n(i(0)),l=n(i(69)),c=n(i(24)),u=i(7),h=function(e){function t(){var e=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.sourceBuffers=[],this.readyState="closed",this.on(["sourceopen","webkitsourceopen"],function(t){e.swfObj=o.default.getElementById(t.swfId),e.player_=(0,s.default)(e.swfObj.parentNode),e.tech_=e.swfObj.tech,e.readyState="open",e.tech_.on("seeking",function(){for(var t=e.sourceBuffers.length;t--;)e.sourceBuffers[t].abort()}),e.swfObj&&e.swfObj.vjs_load()})}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default.EventTarget),r(t,[{key:"addSeekableRange_",value:function(){}},{key:"addSourceBuffer",value:function(e){var t=(0,u.parseContentType)(e),i=void 0;if("video/mp2t"!==t.type&&"audio/mp2t"!==t.type)throw new Error("NotSupportedError (Video.js)");return i=new l.default(this),this.sourceBuffers.push(i),i}},{key:"endOfStream",value:function(e){"network"===e?this.tech_.error(2):"decode"===e&&this.tech_.error(3),"ended"!==this.readyState&&(this.readyState="ended",this.swfObj.vjs_endOfStream())}}]),t}();t.default=h;try{Object.defineProperty(h.prototype,"duration",{get:function(){return this.swfObj?this.swfObj.vjs_getProperty("duration"):NaN},set:function(e){var t=void 0,i=this.swfObj.vjs_getProperty("duration");if(this.swfObj.vjs_setProperty("duration",e),e<i)for(t=0;t<this.sourceBuffers.length;t++)this.sourceBuffers[t].remove(e,i);return e}})}catch(e){h.prototype.duration=NaN}for(var d in c.default)h[d]=c.default[d];e.exports=t.default},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(i(1)),a=n(i(70)),o=n(i(61)),s=n(i(0)),l=0,c={mode:"auto"};s.default.mediaSources={};var u=function(e,t){var i=s.default.mediaSources[e];if(!i)throw new Error("Media Source not found (Video.js)");i.trigger({type:"sourceopen",swfId:t})},h=function(){return!!r.default.MediaSource&&!!r.default.MediaSource.isTypeSupported&&r.default.MediaSource.isTypeSupported('video/mp4;codecs="avc1.4d400d,mp4a.40.2"')},d=function(e){var t=s.default.mergeOptions(c,e);if(this.MediaSource={open:u,supportsNativeMediaSources:h},"html5"===t.mode||"auto"===t.mode&&h())return new o.default;if(s.default.getTech("Flash"))return new a.default;throw new Error("Cannot use Flash or Html5 to create a MediaSource for this video")};t.MediaSource=d,d.open=u,d.supportsNativeMediaSources=h;var p={createObjectURL:function(e){var t=void 0;return e instanceof o.default?(t=r.default.URL.createObjectURL(e.nativeMediaSource_),e.url_=t,t):e instanceof a.default?(t="blob:vjs-media-source/"+l,l++,s.default.mediaSources[t]=e,t):(t=r.default.URL.createObjectURL(e),e.url_=t,t)}};t.URL=p,s.default.MediaSource=d,s.default.URL=p},function(e,t,i){"use strict";e.exports=function(e){return e.subarray(0,e.byteLength-e[e.byteLength-1])}},function(e,t,i){"use strict";var n;e.exports=function(e){var t=n[e.byteLength%16||0],i=new Uint8Array(e.byteLength+t.length);return i.set(e),i.set(t,e.byteLength),i},n=[[16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16],[15,15,15,15,15,15,15,15,15,15,15,15,15,15,15],[14,14,14,14,14,14,14,14,14,14,14,14,14,14],[13,13,13,13,13,13,13,13,13,13,13,13,13],[12,12,12,12,12,12,12,12,12,12,12,12],[11,11,11,11,11,11,11,11,11,11,11],[10,10,10,10,10,10,10,10,10,10],[9,9,9,9,9,9,9,9,9],[8,8,8,8,8,8,8,8],[7,7,7,7,7,7,7],[6,6,6,6,6,6],[5,5,5,5,5],[4,4,4,4],[3,3,3],[2,2],[1]]},function(e,t,i){"use strict";t.pad=i(73),t.unpad=i(72)},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.listeners={}}return n(e,[{key:"on",value:function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)}},{key:"off",value:function(e,t){var i;return!!this.listeners[e]&&(i=this.listeners[e].indexOf(t),this.listeners[e].splice(i,1),i>-1)}},{key:"trigger",value:function(e){var t=void 0,i=void 0,n=void 0,r=void 0;if(t=this.listeners[e])if(2===arguments.length)for(n=t.length,i=0;i<n;++i)t[i].call(this,arguments[1]);else for(r=Array.prototype.slice.call(arguments,1),n=t.length,i=0;i<n;++i)t[i].apply(this,r)}},{key:"dispose",value:function(){this.listeners={}}},{key:"pipe",value:function(e){this.on("data",function(t){e.push(t)})}}]),e}();t.default=r,e.exports=t.default},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=function(){var e=[[[],[],[],[],[]],[[],[],[],[],[]]],t=e[0],i=e[1],n=t[4],r=i[4],a=void 0,o=void 0,s=void 0,l=[],c=[],u=void 0,h=void 0,d=void 0,p=void 0,f=void 0;for(a=0;a<256;a++)c[(l[a]=a<<1^283*(a>>7))^a]=a;for(o=s=0;!n[o];o^=u||1,s=c[s]||1)for(d=(d=s^s<<1^s<<2^s<<3^s<<4)>>8^255&d^99,n[o]=d,r[d]=o,f=16843009*l[h=l[u=l[o]]]^65537*h^257*u^16843008*o,p=257*l[d]^16843008*d,a=0;a<4;a++)t[a][o]=p=p<<24^p>>>8,i[a][d]=f=f<<24^f>>>8;for(a=0;a<5;a++)t[a]=t[a].slice(0),i[a]=i[a].slice(0);return e},a=null,o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),a||(a=r()),this._tables=[[a[0][0].slice(),a[0][1].slice(),a[0][2].slice(),a[0][3].slice(),a[0][4].slice()],[a[1][0].slice(),a[1][1].slice(),a[1][2].slice(),a[1][3].slice(),a[1][4].slice()]];var i=void 0,n=void 0,o=void 0,s=void 0,l=void 0,c=this._tables[0][4],u=this._tables[1],h=t.length,d=1;if(4!==h&&6!==h&&8!==h)throw new Error("Invalid aes key size");for(s=t.slice(0),l=[],this._key=[s,l],i=h;i<4*h+28;i++)o=s[i-1],(i%h==0||8===h&&i%h==4)&&(o=c[o>>>24]<<24^c[o>>16&255]<<16^c[o>>8&255]<<8^c[255&o],i%h==0&&(o=o<<8^o>>>24^d<<24,d=d<<1^283*(d>>7))),s[i]=s[i-h]^o;for(n=0;i;n++,i--)o=s[3&n?i:i-4],l[n]=i<=4||n<4?o:u[0][c[o>>>24]]^u[1][c[o>>16&255]]^u[2][c[o>>8&255]]^u[3][c[255&o]]}return n(e,[{key:"decrypt",value:function(e,t,i,n,r,a){var o=this._key[1],s=e^o[0],l=n^o[1],c=i^o[2],u=t^o[3],h=void 0,d=void 0,p=void 0,f=o.length/4-2,m=void 0,g=4,v=this._tables[1],y=v[0],b=v[1],_=v[2],A=v[3],E=v[4];for(m=0;m<f;m++)h=y[s>>>24]^b[l>>16&255]^_[c>>8&255]^A[255&u]^o[g],d=y[l>>>24]^b[c>>16&255]^_[u>>8&255]^A[255&s]^o[g+1],p=y[c>>>24]^b[u>>16&255]^_[s>>8&255]^A[255&l]^o[g+2],u=y[u>>>24]^b[s>>16&255]^_[l>>8&255]^A[255&c]^o[g+3],g+=4,s=h,l=d,c=p;for(m=0;m<4;m++)r[(3&-m)+a]=E[s>>>24]<<24^E[l>>16&255]<<16^E[c>>8&255]<<8^E[255&u]^o[g++],h=s,s=l,l=c,c=u,u=h}}]),e}();t.default=o,e.exports=t.default},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=n(i(76)),o=n(i(32)),s=i(74),l=function(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24},c=function(e,t,i){var n=new Int32Array(e.buffer,e.byteOffset,e.byteLength>>2),r=new a.default(Array.prototype.slice.call(t)),o=new Uint8Array(e.byteLength),s=new Int32Array(o.buffer),c=void 0,u=void 0,h=void 0,d=void 0,p=void 0,f=void 0,m=void 0,g=void 0,v=void 0;for(c=i[0],u=i[1],h=i[2],d=i[3],v=0;v<n.length;v+=4)p=l(n[v]),f=l(n[v+1]),m=l(n[v+2]),g=l(n[v+3]),r.decrypt(p,f,m,g,s,v),s[v]=l(s[v]^c),s[v+1]=l(s[v+1]^u),s[v+2]=l(s[v+2]^h),s[v+3]=l(s[v+3]^d),c=p,u=f,h=m,d=g;return o};t.decrypt=c;var u=function(){function e(t,i,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var a=e.STEP,c=new Int32Array(t.buffer),u=new Uint8Array(t.byteLength),h=0;for(this.asyncStream_=new o.default,this.asyncStream_.push(this.decryptChunk_(c.subarray(h,h+a),i,n,u)),h=a;h<c.length;h+=a)n=new Uint32Array([l(c[h-4]),l(c[h-3]),l(c[h-2]),l(c[h-1])]),this.asyncStream_.push(this.decryptChunk_(c.subarray(h,h+a),i,n,u));this.asyncStream_.push(function(){r(null,(0,s.unpad)(u))})}return r(e,[{key:"decryptChunk_",value:function(e,t,i,n){return function(){var r=c(e,t,i);n.set(r,e.byteOffset)}}}],[{key:"STEP",get:function(){return 32e3}}]),e}();t.Decrypter=u,t.default={Decrypter:u,decrypt:c}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=i(0),a=(n=r)&&n.__esModule?n:{default:n};t.default=function(){return function e(t,i){t=(0,r.mergeOptions)({timeout:45e3},t);var n=e.beforeRequest||a.default.Hls.xhr.beforeRequest;if(n&&"function"==typeof n){var o=n(t);o&&(t=o)}var s=(0,r.xhr)(t,function(e,t){var n=s.response;!e&&n&&(s.responseTime=Date.now(),s.roundTripTime=s.responseTime-s.requestTime,s.bytesReceived=n.byteLength||n.length,s.bandwidth||(s.bandwidth=Math.floor(s.bytesReceived/s.roundTripTime*8*1e3))),e&&"ETIMEDOUT"===e.code&&(s.timedout=!0),e||s.aborted||200===t.statusCode||206===t.statusCode||0===t.statusCode||(e=new Error("XHR Failed with a response of: "+(s&&(n||s.responseText)))),i(e,s)}),l=s.abort;return s.abort=function(){return s.aborted=!0,l.apply(s,arguments)},s.uri=t.uri,s.requestTime=Date.now(),s}},e.exports=t.default},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=n(i(15)),s=n(i(35)),l=n(i(34)),c=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));e.lineStream=new s.default,e.parseStream=new l.default,e.lineStream.pipe(e.parseStream);var i=e,n=[],a={},o=void 0,c=void 0,u={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},h=0;return e.manifest={allowCache:!0,discontinuityStarts:[],segments:[]},e.parseStream.on("data",function(e){var t=void 0,s=void 0;({tag:function(){(({"allow-cache":function(){this.manifest.allowCache=e.allowed,"allowed"in e||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function(){var t={};"length"in e&&(a.byterange=t,t.length=e.length,"offset"in e||(this.trigger("info",{message:"defaulting offset to zero"}),e.offset=0)),"offset"in e&&(a.byterange=t,t.offset=e.offset)},endlist:function(){this.manifest.endList=!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),e.duration>0&&(a.duration=e.duration),0===e.duration&&(a.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=n},key:function(){e.attributes?"NONE"!==e.attributes.METHOD?e.attributes.URI?(e.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),c={method:e.attributes.METHOD||"AES-128",uri:e.attributes.URI},void 0!==e.attributes.IV&&(c.iv=e.attributes.IV)):this.trigger("warn",{message:"ignoring key declaration without URI"}):c=null:this.trigger("warn",{message:"ignoring key declaration without attribute list"})},"media-sequence":function(){isFinite(e.number)?this.manifest.mediaSequence=e.number:this.trigger("warn",{message:"ignoring invalid media sequence: "+e.number})},"discontinuity-sequence":function(){isFinite(e.number)?(this.manifest.discontinuitySequence=e.number,h=e.number):this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+e.number})},"playlist-type":function(){/VOD|EVENT/.test(e.playlistType)?this.manifest.playlistType=e.playlistType:this.trigger("warn",{message:"ignoring unknown playlist type: "+e.playlist})},map:function(){o={},e.uri&&(o.uri=e.uri),e.byterange&&(o.byterange=e.byterange)},"stream-inf":function(){this.manifest.playlists=n,this.manifest.mediaGroups=this.manifest.mediaGroups||u,e.attributes?(a.attributes||(a.attributes={}),r(a.attributes,e.attributes)):this.trigger("warn",{message:"ignoring empty stream-inf attributes"})},media:function(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||u,e.attributes&&e.attributes.TYPE&&e.attributes["GROUP-ID"]&&e.attributes.NAME){var i=this.manifest.mediaGroups[e.attributes.TYPE];i[e.attributes["GROUP-ID"]]=i[e.attributes["GROUP-ID"]]||{},t=i[e.attributes["GROUP-ID"]],(s={default:/yes/i.test(e.attributes.DEFAULT)}).default?s.autoselect=!0:s.autoselect=/yes/i.test(e.attributes.AUTOSELECT),e.attributes.LANGUAGE&&(s.language=e.attributes.LANGUAGE),e.attributes.URI&&(s.uri=e.attributes.URI),e.attributes["INSTREAM-ID"]&&(s.instreamId=e.attributes["INSTREAM-ID"]),e.attributes.CHARACTERISTICS&&(s.characteristics=e.attributes.CHARACTERISTICS),e.attributes.FORCED&&(s.forced=/yes/i.test(e.attributes.FORCED)),t[e.attributes.NAME]=s}else this.trigger("warn",{message:"ignoring incomplete or missing media group"})},discontinuity:function(){h+=1,a.discontinuity=!0,this.manifest.discontinuityStarts.push(n.length)},"program-date-time":function(){this.manifest.dateTimeString=e.dateTimeString,this.manifest.dateTimeObject=e.dateTimeObject},targetduration:function(){!isFinite(e.duration)||e.duration<0?this.trigger("warn",{message:"ignoring invalid target duration: "+e.duration}):this.manifest.targetDuration=e.duration},totalduration:function(){!isFinite(e.duration)||e.duration<0?this.trigger("warn",{message:"ignoring invalid total duration: "+e.duration}):this.manifest.totalDuration=e.duration},"cue-out":function(){a.cueOut=e.data},"cue-out-cont":function(){a.cueOutCont=e.data},"cue-in":function(){a.cueIn=e.data}})[e.tagType]||function(){}).call(i)},uri:function(){a.uri=e.uri,n.push(a),!this.manifest.targetDuration||"duration"in a||(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),a.duration=this.manifest.targetDuration),c&&(a.key=c),a.timeline=h,o&&(a.map=o),a={}},comment:function(){}})[e.type].call(i)}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),a(t,[{key:"push",value:function(e){this.lineStream.push(e)}},{key:"end",value:function(){this.lineStream.push("\n")}}]),t}();t.default=c},function(e,t,i){var n,r,a,o,s;n=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/\;?#]*)?(.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,r=/^([^\/;?#]*)(.*)$/,a=/(?:\/|^)\.(?=\/)/g,o=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,s={buildAbsoluteURL:function(e,t,i){if(i=i||{},e=e.trim(),!(t=t.trim())){if(!i.alwaysNormalize)return e;var n=s.parseURL(e);if(!n)throw new Error("Error trying to parse base URL.");return n.path=s.normalizePath(n.path),s.buildURLFromParts(n)}var a=s.parseURL(t);if(!a)throw new Error("Error trying to parse relative URL.");if(a.scheme)return i.alwaysNormalize?(a.path=s.normalizePath(a.path),s.buildURLFromParts(a)):t;var o=s.parseURL(e);if(!o)throw new Error("Error trying to parse base URL.");if(!o.netLoc&&o.path&&"/"!==o.path[0]){var l=r.exec(o.path);o.netLoc=l[1],o.path=l[2]}o.netLoc&&!o.path&&(o.path="/");var c={scheme:o.scheme,netLoc:a.netLoc,path:null,params:a.params,query:a.query,fragment:a.fragment};if(!a.netLoc&&(c.netLoc=o.netLoc,"/"!==a.path[0]))if(a.path){var u=o.path,h=u.substring(0,u.lastIndexOf("/")+1)+a.path;c.path=s.normalizePath(h)}else c.path=o.path,a.params||(c.params=o.params,a.query||(c.query=o.query));return null===c.path&&(c.path=i.alwaysNormalize?s.normalizePath(a.path):a.path),s.buildURLFromParts(c)},parseURL:function(e){var t=n.exec(e);return t?{scheme:t[1]||"",netLoc:t[2]||"",path:t[3]||"",params:t[4]||"",query:t[5]||"",fragment:t[6]||""}:null},normalizePath:function(e){for(e=e.split("").reverse().join("").replace(a,"");e.length!==(e=e.replace(o,"")).length;);return e.split("").reverse().join("")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}},e.exports=s},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(i(80)),a=n(i(1));t.default=function(e,t){return/^[a-z]+:/i.test(t)?t:(/\/\//i.test(e)||(e=r.default.buildAbsoluteURL(a.default.location.href,e)),r.default.buildAbsoluteURL(e,t))},e.exports=t.default},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(e,t,i){for(var n=!0;n;){var r=e,a=t,o=i;n=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,a);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(o)}var c=Object.getPrototypeOf(r);if(null===c)return;e=c,t=a,i=o,n=!0,s=c=void 0}},o=n(i(9)),s=n(i(16)),l=n(i(3)),c=n(i(78)),u=i(33),h=n(i(5)),d=i(71),p=n(i(36)),f=n(i(0)),m=i(55),g=n(i(6)),v=n(i(44)),y=n(i(1)),b=n(i(43)),_=n(i(42)),A=i(20),E={PlaylistLoader:s.default,Playlist:l.default,Decrypter:u.Decrypter,AsyncStream:u.AsyncStream,decrypt:u.decrypt,utils:h.default,STANDARD_PLAYLIST_SELECTOR:A.lastBandwidthSelector,INITIAL_PLAYLIST_SELECTOR:A.lowestBitrateCompatibleVariantSelector,comparePlaylistBandwidth:A.comparePlaylistBandwidth,comparePlaylistResolution:A.comparePlaylistResolution,xhr:(0,c.default)()};["GOAL_BUFFER_LENGTH","MAX_GOAL_BUFFER_LENGTH","GOAL_BUFFER_LENGTH_RATE","BUFFER_LOW_WATER_LINE","MAX_BUFFER_LOW_WATER_LINE","BUFFER_LOW_WATER_LINE_RATE","BANDWIDTH_VARIANCE"].forEach(function(e){Object.defineProperty(E,e,{get:function(){return f.default.log.warn("using Hls."+e+" is UNSAFE be sure you know what you are doing"),g.default[e]},set:function(t){f.default.log.warn("using Hls."+e+" is UNSAFE be sure you know what you are doing"),"number"!=typeof t||t<0?f.default.log.warn("value of Hls."+e+" must be greater than or equal to 0"):g.default[e]=t}})});var w=function(e,t){for(var i=t.media(),n=-1,r=0;r<e.length;r++)if(e[r].id===i.uri){n=r;break}e.selectedIndex_=n,e.trigger({selectedIndex:n,type:"change"})};E.canPlaySource=function(){return f.default.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")},E.supportsNativeHls=function(){var e=o.default.createElement("video");return!!f.default.getTech("Html5").isSupported()&&["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"].some(function(t){return/maybe|probably/i.test(e.canPlayType(t))})}(),E.isSupported=function(){return f.default.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var x=f.default.getComponent("Component"),T=function(e){function t(e,i,n){var r=this;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,i,n.hls),i.options_&&i.options_.playerId){var s=(0,f.default)(i.options_.playerId);s.hasOwnProperty("hls")||Object.defineProperty(s,"hls",{get:function(){return f.default.log.warn("player.hls is deprecated. Use player.tech_.hls instead."),i.trigger({type:"usage",name:"hls-player-access"}),r}})}if(this.tech_=i,this.source_=e,this.stats={},this.ignoreNextSeekingEvent_=!1,this.setOptions_(),this.options_.overrideNative&&(i.featuresNativeVideoTracks||i.featuresNativeAudioTracks))throw new Error("Overriding native HLS requires emulated tracks. See https://git.io/vMpjB");this.on(o.default,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],function(e){var t=o.default.fullscreenElement||o.default.webkitFullscreenElement||o.default.mozFullScreenElement||o.default.msFullscreenElement;t&&t.contains(r.tech_.el())&&r.masterPlaylistController_.fastQualityChange_()}),this.on(this.tech_,"seeking",function(){this.ignoreNextSeekingEvent_?this.ignoreNextSeekingEvent_=!1:this.setCurrentTime(this.tech_.currentTime())}),this.on(this.tech_,"error",function(){this.masterPlaylistController_&&this.masterPlaylistController_.pauseLoading()}),this.on(this.tech_,"play",this.play)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,x),r(t,[{key:"setOptions_",value:function(){var e=this;this.options_.withCredentials=this.options_.withCredentials||!1,"number"!=typeof this.options_.blacklistDuration&&(this.options_.blacklistDuration=300),"number"!=typeof this.options_.bandwidth&&(this.options_.bandwidth=4194304),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&4194304===this.options_.bandwidth,["withCredentials","bandwidth"].forEach(function(t){void 0!==e.source_[t]&&(e.options_[t]=e.source_[t])}),this.bandwidth=this.options_.bandwidth}},{key:"src",value:function(e){var t=this;e&&(this.setOptions_(),this.options_.url=this.source_.src,this.options_.tech=this.tech_,this.options_.externHls=E,this.masterPlaylistController_=new m.MasterPlaylistController(this.options_),this.playbackWatcher_=new b.default(f.default.mergeOptions(this.options_,{seekable:function(){return t.seekable()}})),this.masterPlaylistController_.on("error",function(){f.default.players[t.tech_.options_.playerId].error(t.masterPlaylistController_.error)}),this.masterPlaylistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):E.STANDARD_PLAYLIST_SELECTOR.bind(this),this.masterPlaylistController_.selectInitialPlaylist=E.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.masterPlaylistController_.masterPlaylistLoader_,this.mediaSource=this.masterPlaylistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get:function(){return this.masterPlaylistController_.selectPlaylist},set:function(e){this.masterPlaylistController_.selectPlaylist=e.bind(this)}},throughput:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate},set:function(e){this.masterPlaylistController_.mainSegmentLoader_.throughput.rate=e,this.masterPlaylistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.bandwidth},set:function(e){this.masterPlaylistController_.mainSegmentLoader_.bandwidth=e,this.masterPlaylistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get:function(){var e=1/(this.bandwidth||1),t=void 0;return t=this.throughput>0?1/this.throughput:0,Math.floor(1/(e+t))},set:function(){f.default.log.error('The "systemBandwidth" property is read-only')}}}),Object.defineProperties(this.stats,{bandwidth:{get:function(){return t.bandwidth||0},enumerable:!0},mediaRequests:{get:function(){return t.masterPlaylistController_.mediaRequests_()||0},enumerable:!0},mediaRequestsAborted:{get:function(){return t.masterPlaylistController_.mediaRequestsAborted_()||0},enumerable:!0},mediaRequestsTimedout:{get:function(){return t.masterPlaylistController_.mediaRequestsTimedout_()||0},enumerable:!0},mediaRequestsErrored:{get:function(){return t.masterPlaylistController_.mediaRequestsErrored_()||0},enumerable:!0},mediaTransferDuration:{get:function(){return t.masterPlaylistController_.mediaTransferDuration_()||0},enumerable:!0},mediaBytesTransferred:{get:function(){return t.masterPlaylistController_.mediaBytesTransferred_()||0},enumerable:!0},mediaSecondsLoaded:{get:function(){return t.masterPlaylistController_.mediaSecondsLoaded_()||0},enumerable:!0}}),this.tech_.one("canplay",this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_)),this.masterPlaylistController_.on("selectedinitialmedia",function(){(0,v.default)(t)}),this.on(this.masterPlaylistController_,"progress",function(){this.tech_.trigger("progress")}),this.on(this.masterPlaylistController_,"firstplay",function(){this.ignoreNextSeekingEvent_=!0}),this.tech_.ready(function(){return t.setupQualityLevels_()}),this.tech_.el()&&this.tech_.src(f.default.URL.createObjectURL(this.masterPlaylistController_.mediaSource)))}},{key:"setupQualityLevels_",value:function(){var e=this,t=f.default.players[this.tech_.options_.playerId];t&&t.qualityLevels&&(this.qualityLevels_=t.qualityLevels(),this.masterPlaylistController_.on("selectedinitialmedia",function(){var t,i;t=e.qualityLevels_,(i=e).representations().forEach(function(e){t.addQualityLevel(e)}),w(t,i.playlists)}),this.playlists.on("mediachange",function(){w(e.qualityLevels_,e.playlists)}))}},{key:"play",value:function(){this.masterPlaylistController_.play()}},{key:"setCurrentTime",value:function(e){this.masterPlaylistController_.setCurrentTime(e)}},{key:"duration",value:function(){return this.masterPlaylistController_.duration()}},{key:"seekable",value:function(){return this.masterPlaylistController_.seekable()}},{key:"dispose",value:function(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.masterPlaylistController_&&this.masterPlaylistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),a(Object.getPrototypeOf(t.prototype),"dispose",this).call(this)}}]),t}(),S=function e(t){return{canHandleSource:function(i){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r=f.default.mergeOptions(f.default.options,n);return(!r.hls||!r.hls.mode||r.hls.mode===t)&&e.canPlayType(i.type,r)},handleSource:function(e,i){var n=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],r=f.default.mergeOptions(f.default.options,n,{hls:{mode:t}});return"flash"===t&&i.setTimeout(function(){i.trigger("loadstart")},1),i.hls=new T(e,i,r),i.hls.xhr=(0,c.default)(),i.hls.src(e.src),i.hls},canPlayType:function(t){var i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=f.default.mergeOptions(f.default.options,i);return e.canPlayType(t,n)?"maybe":""}}};S.canPlayType=function(e,t){return!(f.default.browser.IE_VERSION&&f.default.browser.IE_VERSION<=10)&&(!(!t.hls.overrideNative&&E.supportsNativeHls)&&/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i.test(e))},void 0!==f.default.MediaSource&&void 0!==f.default.URL||(f.default.MediaSource=d.MediaSource,f.default.URL=d.URL);var C=f.default.getTech("Flash");d.MediaSource.supportsNativeMediaSources()&&f.default.getTech("Html5").registerSourceHandler(S("html5"),0),y.default.Uint8Array&&C&&C.registerSourceHandler(S("flash")),f.default.HlsHandler=T,f.default.HlsSourceHandler=S,f.default.Hls=E,f.default.use||f.default.registerComponent("Hls",E),f.default.m3u8=p.default,f.default.options.hls=f.default.options.hls||{},f.default.registerPlugin?f.default.registerPlugin("reloadSourceOnError",_.default):f.default.plugin("reloadSourceOnError",_.default),e.exports={Hls:E,HlsHandler:T,HlsSourceHandler:S}},function(e,t,i){(e.exports=i(17)(!1)).push([e.i,".vjs-resolution-button {\n  color: #ccc;\n  font-family: VideoJS;\n}\n\n.vjs-resolution-button .vjs-resolution-button-staticlabel:before {\n  content: '\\F110';\n  font-size: 1.8em;\n  line-height: 1.67;\n}\n\n.vjs-resolution-button .vjs-resolution-button-label {\n    font-size: 1em;\n    line-height: 3em;\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    text-align: center;\n    box-sizing: inherit;\n\t\tfont-family: Arial, Helvetica, sans-serif;\n}\n\n.vjs-resolution-button ul.vjs-menu-content {\n  width: 4em !important;\n}\n\n.vjs-resolution-button .vjs-menu {\n  left: 0;\n}\n\n.vjs-resolution-button .vjs-menu li {\n  text-transform: none;\n\tfont-size: 1em;\n\tfont-family: Arial, Helvetica, sans-serif;\n}\n",""])},function(e,t,i){(t=e.exports=i(17)(!1)).i(i(83),""),t.push([e.i,".vjs-menu-button-popup div.vjs-menu{\r\n  left: 0;\r\n}",""])},function(e,t,i){var n=i(84);"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};i(37)(n,r),n.locals&&(e.exports=n.locals)},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var i=t.protocol+"//"+t.host,n=i+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var r,a=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(a)?e:(r=0===a.indexOf("//")?a:0===a.indexOf("/")?i+a:n+a.replace(/^\.\//,""),"url("+JSON.stringify(r)+")")})}},function(e,t){e.exports="data:application/vnd.ms-fontobject;base64,KBsAAIQaAAABAAIAAAAAAAIABQMAAAAAAAABAJABAAAAAExQAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAACU8fVgAAAAAAAAAAAAAAAAAAAAAAAA4AVgBpAGQAZQBvAEoAUwAAAA4AUgBlAGcAdQBsAGEAcgAAABYAVgBlAHIAcwBpAG8AbgAgADEALgAwAAAADgBWAGkAZABlAG8ASgBTAAAAAAAAAQAAAAsAgAADADBHU1VCIIslegAAATgAAABUT1MvMlGJXdEAAAGMAAAAVmNtYXA59PfGAAACaAAAAyJnbHlmAwnSwwAABdAAABEIaGVhZBLLaEsAAADgAAAANmhoZWEOAwchAAAAvAAAACRobXR44AAAAAAAAeQAAACEbG9jYT00QcYAAAWMAAAARG1heHABMgCBAAABGAAAACBuYW1l1cf1oAAAFtgAAAIKcG9zdEACX/QAABjkAAABngABAAAHAAAAAAAHAAAA//8HAQABAAAAAAAAAAAAAAAAAAAAIQABAAAAAQAAVh9PCV8PPPUACwcAAAAAANZWDqcAAAAA1lYOpwAAAAAHAQcAAAAACAACAAAAAAAAAAEAAAAhAHUABwAAAAAAAgAAAAoACgAAAP8AAAAAAAAAAQAAAAoAMAA+AAJERkxUAA5sYXRuABoABAAAAAAAAAABAAAABAAAAAAAAAABAAAAAWxpZ2EACAAAAAEAAAABAAQABAAAAAEACAABAAYAAAABAAAAAQbKAZAABQAABHEE5gAAAPoEcQTmAAADXABXAc4AAAIABQMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUGZFZABA8QHxIAcAAAAAoQcAAAAAAAABAAAAAAAAAAAAAAcAAAAHAAAABwAAAAcAAAAHAAAABwAAAAcAAAAHAAAABwAAAAcAAAAHAAAABwAAAAcAAAAHAAAABwAAAAcAAAAHAAAABwAAAAcAAAAHAAAABwAAAAcAAAAHAAAABwAAAAcAAAAHAAAABwAAAAcAAAAHAAAABwAAAAcAAAAHAAAAAAAABQAAAAMAAAAsAAAABAAAAZIAAQAAAAAAjAADAAEAAAAsAAMACgAAAZIABABgAAAABAAEAAEAAPEg//8AAPEB//8AAAABAAQAAAABAAIAAwAEAAUABgAHAAgACQAKAAsADAANAA4ADwAQABEAEgATABQAFQAWABcAGAAZABoAGwAcAB0AHgAfACAAAAEGAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAAAZAAAAAAAAAAIAAA8QEAAPEBAAAAAQAA8QIAAPECAAAAAgAA8QMAAPEDAAAAAwAA8QQAAPEEAAAABAAA8QUAAPEFAAAABQAA8QYAAPEGAAAABgAA8QcAAPEHAAAABwAA8QgAAPEIAAAACAAA8QkAAPEJAAAACQAA8QoAAPEKAAAACgAA8QsAAPELAAAACwAA8QwAAPEMAAAADAAA8Q0AAPENAAAADQAA8Q4AAPEOAAAADgAA8Q8AAPEPAAAADwAA8RAAAPEQAAAAEAAA8REAAPERAAAAEQAA8RIAAPESAAAAEgAA8RMAAPETAAAAEwAA8RQAAPEUAAAAFAAA8RUAAPEVAAAAFQAA8RYAAPEWAAAAFgAA8RcAAPEXAAAAFwAA8RgAAPEYAAAAGAAA8RkAAPEZAAAAGQAA8RoAAPEaAAAAGgAA8RsAAPEbAAAAGwAA8RwAAPEcAAAAHAAA8R0AAPEdAAAAHQAA8R4AAPEeAAAAHgAA8R8AAPEfAAAAHwAA8SAAAPEgAAAAIAAAAAAAAAAOAGgAfgDMAOABAgFCAWwBmAHCAhgCWAK0AuADMAOwA94EMASWBNwFJAVmBYoGIAZmBrQG6gdYCBIIWAhuCIQAAQAAAAAFiwWLAAIAAAERAQJVAzYFi/vqAgsAAAMAAAAABmsGawACABsANAAACQITIgcOAQcGEBceARcWIDc+ATc2ECcuAScmAyInLgEnJjQ3PgE3NjIXHgEXFhQHDgEHBgLrAcD+QJWYi4bOOTs7Oc6GiwEwi4bOOTs7Oc6Gi5h5b2umLS8vLaZrb/Jva6YtLy8tpmtvAjABUAFQAZs7Oc6Gi/7Qi4bOOTs7Oc6GiwEwi4bOOTv6wC8tpmtv8m9rpi0vLy2ma2/yb2umLS8AAAIAAAAABUAFiwADAAcAAAEhESkBESERAcABK/7VAlUBKwF1BBb76gQWAAAABAAAAAAGIQYgAAcAFwAnACoAAAE0JyYnFRc2NxQHFzY1NCcuAScVHgEXFgEHASERIQERAQYHFTY3FzcBBxcE0DQyVbgDuylxTUVD7pVsqi8x+7RfAWH+nwErAXUBPlBZmXqZX/1gnJwDgGFSUCqluBgYY2JxkqSdjIe9Ipogk2VpAixf/p/+QP6LAfb+wj0bmiNkmF8ElpycAAAAAQAAAAAEqwXWAAUAAAERIQERAQILASoBdv6KBGD+QP6LBKr+iwAAAAIAAAAABWYF1gAIAA4AAAE0JyYnETY3NgERIQERAQVlNDJUVDI0/BABKwF1/osDgGFSUCr9pipQUgFB/kD+iwSq/osAAwAAAAAGIAYPAAUADgAiAAATESEBEQEFNCcmJxE2NzYDFR4BFxYUBw4BBxU+ATc2ECcuAeABKwF1/osCxTQyVVUyNLtsqi8xMS+qbJXuQ0VFQ+4EYP5A/osEqv6L4GFSUCr9pipQUgLwmiCTZWnoaWWTIJoivYeMATqMh70AAAAEAAAAAAWLBYsABQALABEAFwAAASMRITUjAzM1MzUhASMVIREjAxUzFTMRAguWAXbglpbg/ooDgOABdpbg4JYC6/6KlgIK4Jb8gJYBdgKgluABdgAEAAAAAAWLBYsABQALABEAFwAAATMVMxEhEyMVIREjATM1MzUhEzUjESE1AXXglv6K4OABdpYBwJbg/oqWlgF2AlXgAXYBwJYBdvvq4JYBwOD+ipYAAAAAAgAAAAAF1gXWABMAFwAAASEiDgEVERQeATMhMj4BNRE0LgEDIREhBUD8gClEKChEKQOAKUQoKEQp/IADgAXVKEQp/IApRCgoRCkDgClEKPvrA4AABgAAAAAGawZrAAgADQAVAB4AIwAsAAAJASYjIgcGBwElLgEnAQUhATY3NjU0BQEGBwYVFBchBR4BFwEzARYzMjc2NwECvgFkUlCEe3ZjARIDjjPtn/7uAuX90AF6XTM1/BL+3V0zNQ8CMP3kM+2fARJ4/t1TT4R7dmP+7gPwAmgTLStR/id3o/o8/idL/XNmf4SPS0sB+GZ/hI9LSkuj+jwB2f4IEy0rUQHZAAUAAAAABmsF1gATABcAGwAfACMAAAEhIg4BFREUHgEzITI+ATURNC4BASEVIQEhNSEFITUhNSE1IQXV+1YpRSgoRSkEqilFKChF+y0BKv7WAur9FgLqAcD+1gEq/RYC6gXVKEQp/IApRCgoRCkDgClEKP2rlf7VlZWVlpUAAAAAAwAAAAAGIAXWABMAKwBDAAABISIOARURFB4BMyEyPgE1ETQuAQEjNSMVMzUzFRQGKwEiJjURNDY7ATIWFQUjNSMVMzUzFRQGKwEiJjURNDY7ATIWFQWL++ooRSgoRSgEFihFKChF/YJwlZVwKx/gHywsH+AfKwILcJWVcCwf4B8rKx/gHywF1ShEKfyAKUQoKEQpA4ApRCj99iXgJUofLCwfASofLCwfSiXgJUofLCwfASofLCwfAAYAAAAABiAE9gADAAcACwAPABMAFwAAEzM1IxEzNSMRMzUjASE1IREhNSERFSE14JWVlZWVlQErBBX76wQV++sEFQM1lv5AlQHAlf5Alv5AlQJVlZUAAAABAAAAAAYhBmwAMQAAASIGBwE2NCcBHgEzMj4BNC4BIg4BFRQXAS4BIyIOARQeATMyNjcBBhUUHgEyPgE0LgEFQCpLHv3sBwcCDx5PKz1nPDxnemc8B/3xHk8rPWc8PGc9K08eAhQGO2R2ZDs7ZAJPHhwBNxsyGwE0HSA8Z3pnPDxnPRkb/s0cIDxnemc8IBz+yhkYO2Q6OmR2ZDsAAAAAAgAAAAAGWQZrAEMAUAAAATY0Jzc+AScDLgEPASYvAS4BIyEiBg8BBgcnJgYHAwYWHwEGFBcHDgEXEx4BPwEWHwEeATMhMjY/ATY3FxY2NxM2JicFIi4BND4BMh4BFA4BBasFBZ4KBgeWBxoMujxCHAMVDv7WDhUCHEQ6ug0aB5UHBQudBQWdCwUHlQcaDbo7QxwCFQ4BKg4VAhxEOroNGgeVBwUL/ThHeEZGeI54RkZ4AzcqPip7CRsMAQMMCQVLLhvGDhISDsYcLUsFCQz+/QwbCXsqPip7CRsM/v0MCQVLLhvGDhISDsYcLUsFCQwBAwwbCUFGeI54RkZ4jnhGAAEAAAAABmsGawAYAAATFBceARcWIDc+ATc2ECcuAScmIAcOAQcGlTs5zoaLATCLhs45Ozs5zoaL/tCLhs45OwOAmIuGzjk7OznOhosBMIuGzjk7OznOhosAAAAAAgAAAAAGawZrABgAMQAAASIHDgEHBhAXHgEXFiA3PgE3NhAnLgEnJgMiJy4BJyY0Nz4BNzYyFx4BFxYUBw4BBwYDgJiLhs45Ozs5zoaLATCLhs45Ozs5zoaLmHlva6YtLy8tpmtv8m9rpi0vLy2ma28Gazs5zoaL/tCLhs45Ozs5zoaLATCLhs45O/rALy2ma2/yb2umLS8vLaZrb/Jva6YtLwADAAAAAAZrBmsAGAAxAD4AAAEiBw4BBwYQFx4BFxYgNz4BNzYQJy4BJyYDIicuAScmNDc+ATc2MhceARcWFAcOAQcGExQOASIuATQ+ATIeAQOAmIqGzzk7OznPhooBMIqGzzk7OznPhoqYeW9rpi0vLy2ma2/yb2umLS8vLaZrb2c8Z3pnPDxnemc8Bms7Oc+Giv7QiobPOTs7Oc+GigEwiobPOTv6wC8tpmtv8m9rpi0vLy2ma2/yb2umLS8CVT1nPDxnemc8PGcAAAAEAAAAAAYgBiEAEwAfACkALQAAASEiDgEVERQeATMhMj4BNRE0LgEBIzUjFSMRMxUzNTsBITIWFREUBiMhNzM1IwWL++ooRSgoRSgEFihFKChF/YJwlXBwlXCWASofLCwf/tZwlZUGIChFKPvqKEUoKEUoBBYoRSj8gJWVAcC7uywf/tYfLHDgAAAAAAIAAAAABmsGawAYACQAAAEiBw4BBwYQFx4BFxYgNz4BNzYQJy4BJyYTBwkBJwkBNwkBFwEDgJiLhs45Ozs5zoaLATCLhs45Ozs5zoaL3Wn+9P70aQEL/vVpAQwBDGn+9QZrOznOhov+0IuGzjk7OznOhosBMIuGzjk7/AlpAQv+9WkBDAEMaf71AQtp/vQAAAEAAAAABdYGtgAnAAABEQkBETIXFhcWFAcGBwYiJyYnJjUjFBceARcWMjc+ATc2NCcuAScmA4D+iwF1emhmOz09O2Zo9GhmOz2VLy2la2/0b2ulLS8vLaVrbwWLASr+i/6LASo9O2Zo82llPD09PGVpeXlva6YtLy8tpmtv829rpS4vAAEAAAAABT8HAAAUAAABESMiBh0BIQMjESERIxEzNTQ2MzIFP51WPAElJ/7+zv//0K2TBvT++EhIvf7Y/QkC9wEo2rrNAAAAAAQAAAAABo4HAAAwAEUAYABsAAABFB4DFRQHBgQjIiYnJjU0Njc2JS4BNTQ3BiMiJjU0Njc+ATMhByMeARUUDgMnMjY3NjU0LgIjIgYHBhUUHgMTMj4CNTQuAS8BJi8CJiMiDgMVFB4CATMVIxUjNSM1MzUzAx9AW1pAMEj+6p+E5TklWUqDAREgHxUuFpTLSD9N03ABooqDSkwxRUYxkiZQGjUiP2pAKlEZLxQrPVk2OmtbNw4PEx4KHCVOECA1aG9TNkZxfQNr1dVp1NRpA+QkRUNQgE5aU3pzU2A8R1GKLlISKkApJDEEwZRSmjZCQFg/jFpIc0c7QD4hGzlmOoZ9UichO2UuZ2dSNPyXGjRePhkwJBgjCxcdOAIOJDhdO0ZrOx0DbGzb22zZAAMAAAAABoAGbAADAA4AKgAAAREhEQEWBisBIiY0NjIWAREhETQmIyIGBwYVESESEC8BIRUjPgMzMhYB3f62AV8BZ1QCUmRnpmQEj/63UVY/VRUL/rcCAQEBSQIUKkdnP6vQBI/8IQPfATJJYmKTYWH83f3IAhJpd0UzHjP91wGPAfAwMJAgMDgf4wAAAQAAAAAGlAYAADEAAAEGBxYVFAIOAQQjICcWMzI3LgEnFjMyNy4BPQEWFy4BNTQ3FgQXJjU0NjMyFzY3Bgc2BpRDXwFMm9b+0qz+8eEjK+GwaaYfIRwrKnCTRE5CTix5AVvGCL2GjGBtYCVpXQVoYkUOHIL+/e63bZEEigJ9YQULF7F1BCYDLI5TWEuVswomJIa9ZhU5cz8KAAAAAQAAAAAFgAcAACIAAAEXDgEHBi4DNREjNT4ENz4BOwERIRUhERQeAjc2BTBQF7BZaK1wTiGoSHJEMBQFAQcE9AFN/rINIEMwTgHP7SM+AQI4XHh4OgIg1xpXXW9XLQUH/lj8/foeNDUeAQIAAQAAAAAGgAaAAEoAAAEUAgQjIic2PwEeATMyPgE1NC4BIyIOAxUUFhcWPwE2NzYnJjU0NjMyFhUUBiMiJjc+AjU0JiMiBhUUFwMGFyYCNTQSJCAEEgaAzv6f0W9rOxM2FGo9eb5od+KOabZ/WytQTR4ICAYCBhEz0amXqYlrPUoOCCUXNjI+VhljEQTO/s4BYQGiAWHOA4DR/p/OIF1H0yc5ifCWcsh+OmB9hkNoniAMIB8YBhcUPVqX2aSDqu5XPSN1WR8yQnJVSTH+XkZrWwF86dEBYc7O/p8AAAcAAAAABwEEzwAXACEAOABPAGYAcQB0AAABETM2FxYXFhcWFxYHDgEHBgcGJyYvASY3FjY3Ni4BBxEUBRY3Nj8BNjc2NTYnIwYXFh8BFhcWFxQXFjc2PwE2NzY3NicjBhcWHwEWFxYVFhcWNzY/ATY3Njc2JyMGFxYfARYXFhUWBTM/ARUzESMGCwEBFScDHBxoLkw0PSxNKy8KB1VER1M1aDUqAQKrUmsJBzBiQAF+GhILEAokFBcBfh0BAwIGAycXGwEkGhILEAokFBYBAX4eAQQCBQQnFxsBIxkTCxAKJBQWAQF+HgEEAgUEJxcbAflD7kHhqs0N8e8CFo4ByQL9AgEDDA8fN1xleVmYLzEIBAEBAgMEwgNWTEJkNAX+lQfCBxMLIBRAR09Tx60ICAUJBkdMXFvAugcTCyAUQEdPU8etCAgFCQZHTFxbwLoHEwsgFEBHT1PHrQgIBQkGR0xcW8DAZAFlAwwV/oP+hgH9+QEAAAEAAAAABiEGtgAsAAABIgcOAQcGFREUHgE7AREhNTQ3PgE3NjIXHgEXFh0BIREzMj4BNRE0Jy4BJyYDgIl9eLozNTxnPeD+1SkokV5h1GFekSgp/tXgPWc8NTO6eH0GtTQzu3h9if32PWc8AlWVa2FekCgpKSiQXmFrlf2rPGc9AgqJfXi7MzQAAAAAAgAAAAAFQAVAAAIABgAACQIhETMRAcACe/2FAuuVAcABwAHA/IADgAAAAAACAAAAAAVABUAAAwAGAAABMxEjCQERAcCVlQEFAnsFQPyAAcD+QAOAAAAAAAAAEADGAAEAAAAAAAEABwAAAAEAAAAAAAIABwAHAAEAAAAAAAMABwAOAAEAAAAAAAQABwAVAAEAAAAAAAUACwAcAAEAAAAAAAYABwAnAAEAAAAAAAoAKwAuAAEAAAAAAAsAEwBZAAMAAQQJAAEADgBsAAMAAQQJAAIADgB6AAMAAQQJAAMADgCIAAMAAQQJAAQADgCWAAMAAQQJAAUAFgCkAAMAAQQJAAYADgC6AAMAAQQJAAoAVgDIAAMAAQQJAAsAJgEeVmlkZW9KU1JlZ3VsYXJWaWRlb0pTVmlkZW9KU1ZlcnNpb24gMS4wVmlkZW9KU0dlbmVyYXRlZCBieSBzdmcydHRmIGZyb20gRm9udGVsbG8gcHJvamVjdC5odHRwOi8vZm9udGVsbG8uY29tAFYAaQBkAGUAbwBKAFMAUgBlAGcAdQBsAGEAcgBWAGkAZABlAG8ASgBTAFYAaQBkAGUAbwBKAFMAVgBlAHIAcwBpAG8AbgAgADEALgAwAFYAaQBkAGUAbwBKAFMARwBlAG4AZQByAGEAdABlAGQAIABiAHkAIABzAHYAZwAyAHQAdABmACAAZgByAG8AbQAgAEYAbwBuAHQAZQBsAGwAbwAgAHAAcgBvAGoAZQBjAHQALgBoAHQAdABwADoALwAvAGYAbwBuAHQAZQBsAGwAbwAuAGMAbwBtAAAAAgAAAAAAAAARAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAhAQIBAwEEAQUBBgEHAQgBCQEKAQsBDAENAQ4BDwEQAREBEgETARQBFQEWARcBGAEZARoBGwEcAR0BHgEfASABIQEiAARwbGF5C3BsYXktY2lyY2xlBXBhdXNlC3ZvbHVtZS1tdXRlCnZvbHVtZS1sb3cKdm9sdW1lLW1pZAt2b2x1bWUtaGlnaBBmdWxsc2NyZWVuLWVudGVyD2Z1bGxzY3JlZW4tZXhpdAZzcXVhcmUHc3Bpbm5lcglzdWJ0aXRsZXMIY2FwdGlvbnMIY2hhcHRlcnMFc2hhcmUDY29nBmNpcmNsZQ5jaXJjbGUtb3V0bGluZRNjaXJjbGUtaW5uZXItY2lyY2xlAmhkBmNhbmNlbAZyZXBsYXkIZmFjZWJvb2sFZ3BsdXMIbGlua2VkaW4HdHdpdHRlcgZ0dW1ibHIJcGludGVyZXN0EWF1ZGlvLWRlc2NyaXB0aW9uBWF1ZGlvCW5leHQtaXRlbQ1wcmV2aW91cy1pdGVtAAAAAA=="},function(e,t){e.exports=function(e){return"string"!=typeof e?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),/["'() \t\n]/.test(e)?'"'+e.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':e)}},function(e,t,i){var n=i(88);(e.exports=i(17)(!1)).push([e.i,".video-js .vjs-big-play-button .vjs-icon-placeholder:before,.video-js .vjs-modal-dialog,.vjs-button>.vjs-icon-placeholder:before,.vjs-modal-dialog .vjs-modal-dialog-content{position:absolute;top:0;left:0;width:100%;height:100%}.video-js .vjs-big-play-button .vjs-icon-placeholder:before,.vjs-button>.vjs-icon-placeholder:before{text-align:center}@font-face{font-family:VideoJS;src:url("+n(i(87))+'?#iefix) format("eot")}@font-face{font-family:VideoJS;src:url(data:application/font-woff;charset=utf-8;base64,d09GRgABAAAAABBIAAsAAAAAGoQAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAADsAAABUIIslek9TLzIAAAFEAAAAPgAAAFZRiV3RY21hcAAAAYQAAADQAAADIjn098ZnbHlmAAACVAAACv4AABEIAwnSw2hlYWQAAA1UAAAAKwAAADYSy2hLaGhlYQAADYAAAAAbAAAAJA4DByFobXR4AAANnAAAAA8AAACE4AAAAGxvY2EAAA2sAAAARAAAAEQ9NEHGbWF4cAAADfAAAAAfAAAAIAEyAIFuYW1lAAAOEAAAASUAAAIK1cf1oHBvc3QAAA84AAABDwAAAZ5AAl/0eJxjYGRgYOBiMGCwY2BycfMJYeDLSSzJY5BiYGGAAJA8MpsxJzM9kYEDxgPKsYBpDiBmg4gCACY7BUgAeJxjYGQ7xTiBgZWBgaWQ5RkDA8MvCM0cwxDOeI6BgYmBlZkBKwhIc01hcPjI+FGBHcRdyA4RZgQRAC4HCwEAAHic7dFprsIgAEXhg8U61XmeWcBb1FuQP4w7ZQXK5boMm3yclFDSANAHmuKviBBeBPQ8ymyo8w3jOh/5r2ui5nN6v8sYNJb3WMdeWRvLji0DhozKdxM6psyYs2DJijUbtuzYc+DIiTMXrty4k8oGLb+n0xCe37ekM7Z66j1DbUy3l6PpHnLfdLO5NdSBoQ4NdWSoY9ON54mhdqa/y1NDnRnq3FAXhro01JWhrg11Y6hbQ90Z6t5QD4Z6NNSToZ4N9WKoV0O9GerdUJORPqkhTd54nJ1YDXBU1RV+576/JBs2bPYPkrDZt5vsJrv53V/I5mclhGDCTwgGBQQSTEji4hCkYIAGd4TGIWFAhV0RQTpWmQp1xv6hA4OTOlNr2zFANbHUYbq2OtNCpViRqsk+e+7bTQAhzti8vPfuPffcc88959zznbcMMPjHD/KDDGEY0ABpYX384NhlomIYlo4JISGEY9mMh2FSidYiqkEUphtNYDSY/dXg9023l4DdxlqUl0chuZRhncJKrsCQHIwcGuwfnhMIzBnuH4Sym+1D2zaGjheXlhYfD238z80mKYMmvJ5XeOTzd8z9eujbMxJNhu4C9xPE/bCMiDuSNIWgkTQwBE55hLSAE7ZwhrHLnAHZOGV/kmBGTiNjZxzI77Hb7Hqjz68TjT6vh+5JT/cCIkqS0D6CqPf5jX4Qjdx5j6vlDfZM4aZFdbVXIxtOlJaP/WottMnH6CJQ3bTiue3PrY23HjnChtuamxwvvzFjxkPrNj3z0tG9T561HDYf6OgmRWvlY3JQHoQb8ltV2Yet7YfWctEjR1AtxS/cSX6U4alf6NJEBQ7YKg9wrXQKd0IeZCb2ux75Uhh1Un+Nz+9LTOE7PK777nN5xqdTneTBhCbx446mZrhnUkrCz2YhA9dSMxaG0SYmT8hi9ZPu1E94PJYQSH6LRmhxec7Q7ZeXntgQuVpbh+a4qWNsckVyTdn0P7o7DpgPW84+uRcq0BITflBikGdUjAZ9wYBVI3mtrNvr9kpg1UsaK6t3690aoorC1lg0GpMH2HAMtkZjsSi5Ig9ESVosOh7GQfLjKNLvKpMKkLSKNFAka710GdgSi8oDMSoNhqjkKBXTgn3swtaxyzGkUzIzae9RtLdWkSlZ1KDX6EzgllzV4NV4SoDFSOGD4+HCeQUF8wrZ5Hs8zIb5EaVxy8DYFTbMCJPnLIWZxugZE2NlivC0gc1qEQUR8jEKgZcAXeH18BiCgl5nlHh0CrjB4Hb5fX4gb0J7c9PuHVsfgkx2n/vTY/JV8kn8PGxf7faOZ8qX8JVByuIf4whk9sqXli2hvPJV9hrp0hY7l8r2x37ydaVsb4xvXv/47v2NjfCl8m5oRDJclFMoE1yk0Uh1Te4/m8lFXe9qBZD0EkheicebXvzI2PLCuoKCukLuhPIeKwaHPEouxw3kMqaIUXDQ1p0mip+MyCORSCQaoUsnY1VZ38nUTrG21WvVo4f1OsEJFhvSfAFwGfT8VHRMeAVUpwLOoLzjT/REIj3O3FhuURE+nERF+0pTId5Fyxv5sfwGyg4O+my4vZv0sZm7oeQlFZORiB+tG0MweVNraeitl7yxiPIHTk4/diVxs94o5lEYishB2iAtkchEnsActoEpx44Fo8XnsQMaA22BlqC20RmhBKzYojZyYaxg+JggMc4HHY2m+L9EkWSYljirOisrO7d3VorxzyZ6Vc4lJqITAu1b2wOBdrLElAP+bFc2eGaZFVbkmJktv5uT6Jlz5D/MnBFor6ig/JPnRViBsV3LNKGGqB1ChJ0tgQywlVLFJIuQgTFttwkiKxhyQdAZMdMYtSaoAewqfvXVYPAbDT6/1mez85YS8FSDywQ6NfAnef6FNEGMilnppyvn5rB6tTyq1pOceRWnp2WJEZFXHeX5oyoem1nTTgdqc4heDY7bOeKz63vnz+/dRx+s31Ht2JGanQ5seirfWJL9tjozU/12TnEjn5oux9OzU3ckGbBzBwNOyk69JykKH0n/0LM9A72tuwM3zQpIRu4AxiToseEpgPOmbROyFe9/X2yeUvoUsCyEvjcgs7fpWP3/aKlFN0+6HFUe6D9HFz/XPwBlN9tTqNyZjFJ8UO2RUT5/h4CptCctEyeisnOyXjALEp7dXKaQKf6O7IMnGjNNACRMLxqdYJX8eMLvmmd68D+ayBLyKKYZwYxDt/GNhzETDJ05Qxlyi3pi3/Z93ndYVSumgj0V/KkIFlO6+1K3fF2+3g0q+YtuSIf0bvmLqV09nnobI6hwcjIP8aPCKayjsF5JBY3LaKAeRLSyYB1h81oTwe9SlPMkXB7G0mfL9q71gaqqwPqu67QRKS1+ObTx+sbQy9QV2OQHEScGkdFBeT7v7qisqqrs6N52i78/R+6S0qQONVj26agOVoswCyQWIV5D86vH53bxNUeXV0K+XZaHv/nm/KsHhOvylwsWnJX/HE8l/4WCv5x+l5n08z6UU8bUMa3MBpSmM7F63AxntdC9eBCKEZW9Hr+ABNqtxgAQrSbMtmrW7lKQuoSgBhSrTazWVU2QAKWY8wiiuhqFmQgWJBgoXiuWIm42N7hqZbBsgXz52O5P5uSvaNgFGnOuvsRw8I8Laha91wMvDuxqWFheN7/8GVtTltdS83DQsXRmqc5ZtcJXEVrlV2doTWk5+Yunm71dG5f55m/qY0MjI93vv9/NfpxXV9sUXrxy2fbNy1or65cOlDRnOoKFeeXcbw42H/bNDT5Qs3flgs31gWC1lD1nfUV/X7NdCnSUdHY2e8afzfKsqZ5ZljfDqjLOmk3UebNXB+aHArPYDRs+/HDDxeT5DiP+sFg7OpRaVQMGBV89PpeBdj22hCE0Uub0UqwLrNWsG0cuyadgLXTeR5rbO4+3c/vl15cur2nRq+TXCQDcS3SO+s6ak+e5/eMS+1dw3btu3YG2tvFL8XdIZvdjdW6TO/4B7IdrZWVPmctm5/59AgsPItTSbCiIBr2OqIGzmu20SMKAS7yqwGBUfGfgjDYlLLDeF0SfcLB2LSx8flT+08/kzz6yOj96rft4rpTjdPQcmLd47uKibbDq7ZSz/XtbH2nN717Nd62rU+c8Icevvv7I09wA6WvjVcafb+FsbNG+ZQ80Rn6ZZsvrP7teP2dzTdoETvNhjCmsr8FID2sJ69VYvdUcxk4AzYRlKcaE38eXNRlfW9H1as9i6acLHp1XpuNB5K7DIvkX08y1ZYvh3KfWaiCzH+ztrSDmD7LuX73x/mJelB8Yj39t8nhNQJJ2CAthpoFGLsGgtSOCJooCGoaJAMTjSWHVZ08YAa1Fg9lPI5U6DOsGVjDasJeZZ+YyhfCwfOzCxlBA69M9XLXtza7H/rav+9Tjq5xNi0wpKQIRNO4Lrzz7yp5QVYM6Jd/oc1Uvn/mQhhuWh6ENXoS2YTZ8QT42bF5d/559zp5r0Uff2VnR2tdf2/WCOd2cO0Mw6qpWPnvxpV0nrt5fZd2yItc199GWe8vlNfNDq+CH/7yAAnB9hn7T4QO4c1g9ScxsZgmzntnE/IDGndtHMw69lFwoCnYsMGx+rBp8JSBqdLzBr9QRPq/PbhWMWFtQZp1xguy/haw3TEHm3TWAnxFWQQWgt7M5OV0lCz1VRYucpWliy7z6Zd4urwPIyeZQqli2Lgg7szJV09PysATbOQtYIrB2YzbkJYkGgJ0m4AjPUap1pvYu1K9qr97z0Yl3p332b2LYB78ncYIlRkau/8GObSsOlZancACE5d5ily+c2+7h5Yj4lqhVmXXB+iXLfvdqSgqfKtQvfHDV0OnvQR1qhw42XS/vkvsh/hXcrDFP0a+SJNIomEfD1nsrYGO+1bgTOJhM8Hv6ek+7vVglxuSRwoKn17S937bm6YJCeSSG0Op1n+7tE37tcZ/p7dsTv4EUrGpDbWueKigsLHhqTVsoEj+JU0kaSjnj9tz8/gryQWwJ9BcJXBC/7smO+I/IFURJetFPrdt5WcoL6DbEJaygI8CTHfQTjf40ofD+DwalTqIAAHicY2BkYGAA4jC5t2/j+W2+MnCzM4DAtTC+5cg0OyNYnIOBCUQBAAceB90AeJxjYGRgYGcAARD5/z87IwMjAypQBAAtgwI4AHicY2BgYGAfYAwAOkQA4QAAAAAAAA4AaAB+AMwA4AECAUIBbAGYAcICGAJYArQC4AMwA7AD3gQwBJYE3AUkBWYFigYgBmYGtAbqB1gIEghYCG4IhHicY2BkYGBQZChlYGcAASYg5gJCBob/YD4DABfTAbQAeJxdkE1qg0AYhl8Tk9AIoVDaVSmzahcF87PMARLIMoFAl0ZHY1BHdBJIT9AT9AQ9RQ9Qeqy+yteNMzDzfM+88w0K4BY/cNAMB6N2bUaPPBLukybCLvleeAAPj8JD+hfhMV7hC3u4wxs7OO4NzQSZcI/8Ltwnfwi75E/hAR7wJTyk/xYeY49fYQ/PztM+jbTZ7LY6OWdBJdX/pqs6NYWa+zMxa13oKrA6Uoerqi/JwtpYxZXJ1coUVmeZUWVlTjq0/tHacjmdxuL90OR8O0UEDYMNdtiSEpz5XQGqzlm30kzUdAYFFOb8R7NOZk0q2lwAyz1i7oAr1xoXvrOgtYhZx8wY5KRV269JZ5yGpmzPTjQhvY9je6vEElPOuJP3mWKnP5M3V+YAAAB4nG2PyXLCMBBE3YCNDWEL2ffk7o8S8oCnkCVHC5C/jzBQlUP6IHVPzYyekl5y0iL5X5/ooY8BUmQYIkeBEca4wgRTzDDHAtdY4ga3uMM9HvCIJzzjBa94wzs+8ImvZNAq8TM+HqVkKxWlrQiOxjujQkNlEzyNzl6Z/cU2XF06at7U83VQyklLpEvSnuzsb+HAPnPfQVgaupa1Jlu4sPLsFblcitaz0dHU0ZF1qatjZ1+aTXYCmp6u0gSvWNPyHLtFZ+ZeXWVSaEkqs3T8S74WklbGbNNNq4LL4+CWKtZDv2cfX8l8aFbKFhEnJnJ+IULFpqwoQnNHlHaVQtPBl+ypmbSWdmyC61KS/AKZC3Y+AA==) format("woff"),url(data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwR1NVQiCLJXoAAAE4AAAAVE9TLzJRiV3RAAABjAAAAFZjbWFwOfT3xgAAAmgAAAMiZ2x5ZgMJ0sMAAAXQAAARCGhlYWQSy2hLAAAA4AAAADZoaGVhDgMHIQAAALwAAAAkaG10eOAAAAAAAAHkAAAAhGxvY2E9NEHGAAAFjAAAAERtYXhwATIAgQAAARgAAAAgbmFtZdXH9aAAABbYAAACCnBvc3RAAl/0AAAY5AAAAZ4AAQAABwAAAAAABwAAAP//BwEAAQAAAAAAAAAAAAAAAAAAACEAAQAAAAEAAFYfTwlfDzz1AAsHAAAAAADWVg6nAAAAANZWDqcAAAAABwEHAAAAAAgAAgAAAAAAAAABAAAAIQB1AAcAAAAAAAIAAAAKAAoAAAD/AAAAAAAAAAEAAAAKADAAPgACREZMVAAObGF0bgAaAAQAAAAAAAAAAQAAAAQAAAAAAAAAAQAAAAFsaWdhAAgAAAABAAAAAQAEAAQAAAABAAgAAQAGAAAAAQAAAAEGygGQAAUAAARxBOYAAAD6BHEE5gAAA1wAVwHOAAACAAUDAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFBmRWQAQPEB8SAHAAAAAKEHAAAAAAAAAQAAAAAAAAAAAAAHAAAABwAAAAcAAAAHAAAABwAAAAcAAAAHAAAABwAAAAcAAAAHAAAABwAAAAcAAAAHAAAABwAAAAcAAAAHAAAABwAAAAcAAAAHAAAABwAAAAcAAAAHAAAABwAAAAcAAAAHAAAABwAAAAcAAAAHAAAABwAAAAcAAAAHAAAABwAAAAAAAAUAAAADAAAALAAAAAQAAAGSAAEAAAAAAIwAAwABAAAALAADAAoAAAGSAAQAYAAAAAQABAABAADxIP//AADxAf//AAAAAQAEAAAAAQACAAMABAAFAAYABwAIAAkACgALAAwADQAOAA8AEAARABIAEwAUABUAFgAXABgAGQAaABsAHAAdAB4AHwAgAAABBgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAGQAAAAAAAAACAAAPEBAADxAQAAAAEAAPECAADxAgAAAAIAAPEDAADxAwAAAAMAAPEEAADxBAAAAAQAAPEFAADxBQAAAAUAAPEGAADxBgAAAAYAAPEHAADxBwAAAAcAAPEIAADxCAAAAAgAAPEJAADxCQAAAAkAAPEKAADxCgAAAAoAAPELAADxCwAAAAsAAPEMAADxDAAAAAwAAPENAADxDQAAAA0AAPEOAADxDgAAAA4AAPEPAADxDwAAAA8AAPEQAADxEAAAABAAAPERAADxEQAAABEAAPESAADxEgAAABIAAPETAADxEwAAABMAAPEUAADxFAAAABQAAPEVAADxFQAAABUAAPEWAADxFgAAABYAAPEXAADxFwAAABcAAPEYAADxGAAAABgAAPEZAADxGQAAABkAAPEaAADxGgAAABoAAPEbAADxGwAAABsAAPEcAADxHAAAABwAAPEdAADxHQAAAB0AAPEeAADxHgAAAB4AAPEfAADxHwAAAB8AAPEgAADxIAAAACAAAAAAAAAADgBoAH4AzADgAQIBQgFsAZgBwgIYAlgCtALgAzADsAPeBDAElgTcBSQFZgWKBiAGZga0BuoHWAgSCFgIbgiEAAEAAAAABYsFiwACAAABEQECVQM2BYv76gILAAADAAAAAAZrBmsAAgAbADQAAAkCEyIHDgEHBhAXHgEXFiA3PgE3NhAnLgEnJgMiJy4BJyY0Nz4BNzYyFx4BFxYUBw4BBwYC6wHA/kCVmIuGzjk7OznOhosBMIuGzjk7OznOhouYeW9rpi0vLy2ma2/yb2umLS8vLaZrbwIwAVABUAGbOznOhov+0IuGzjk7OznOhosBMIuGzjk7+sAvLaZrb/Jva6YtLy8tpmtv8m9rpi0vAAACAAAAAAVABYsAAwAHAAABIREpAREhEQHAASv+1QJVASsBdQQW++oEFgAAAAQAAAAABiEGIAAHABcAJwAqAAABNCcmJxUXNjcUBxc2NTQnLgEnFR4BFxYBBwEhESEBEQEGBxU2Nxc3AQcXBNA0MlW4A7spcU1FQ+6VbKovMfu0XwFh/p8BKwF1AT5QWZl6mV/9YJycA4BhUlAqpbgYGGNicZKknYyHvSKaIJNlaQIsX/6f/kD+iwH2/sI9G5ojZJhfBJacnAAAAAEAAAAABKsF1gAFAAABESEBEQECCwEqAXb+igRg/kD+iwSq/osAAAACAAAAAAVmBdYACAAOAAABNCcmJxE2NzYBESEBEQEFZTQyVFQyNPwQASsBdf6LA4BhUlAq/aYqUFIBQf5A/osEqv6LAAMAAAAABiAGDwAFAA4AIgAAExEhAREBBTQnJicRNjc2AxUeARcWFAcOAQcVPgE3NhAnLgHgASsBdf6LAsU0MlVVMjS7bKovMTEvqmyV7kNFRUPuBGD+QP6LBKr+i+BhUlAq/aYqUFIC8Jogk2Vp6GllkyCaIr2HjAE6jIe9AAAABAAAAAAFiwWLAAUACwARABcAAAEjESE1IwMzNTM1IQEjFSERIwMVMxUzEQILlgF24JaW4P6KA4DgAXaW4OCWAuv+ipYCCuCW/ICWAXYCoJbgAXYABAAAAAAFiwWLAAUACwARABcAAAEzFTMRIRMjFSERIwEzNTM1IRM1IxEhNQF14Jb+iuDgAXaWAcCW4P6KlpYBdgJV4AF2AcCWAXb76uCWAcDg/oqWAAAAAAIAAAAABdYF1gATABcAAAEhIg4BFREUHgEzITI+ATURNC4BAyERIQVA/IApRCgoRCkDgClEKChEKfyAA4AF1ShEKfyAKUQoKEQpA4ApRCj76wOAAAYAAAAABmsGawAIAA0AFQAeACMALAAACQEmIyIHBgcBJS4BJwEFIQE2NzY1NAUBBgcGFRQXIQUeARcBMwEWMzI3NjcBAr4BZFJQhHt2YwESA44z7Z/+7gLl/dABel0zNfwS/t1dMzUPAjD95DPtnwESeP7dU0+Ee3Zj/u4D8AJoEy0rUf4nd6P6PP4nS/1zZn+Ej0tLAfhmf4SPS0pLo/o8Adn+CBMtK1EB2QAFAAAAAAZrBdYAEwAXABsAHwAjAAABISIOARURFB4BMyEyPgE1ETQuAQEhFSEBITUhBSE1ITUhNSEF1ftWKUUoKEUpBKopRSgoRfstASr+1gLq/RYC6gHA/tYBKv0WAuoF1ShEKfyAKUQoKEQpA4ApRCj9q5X+1ZWVlZaVAAAAAAMAAAAABiAF1gATACsAQwAAASEiDgEVERQeATMhMj4BNRE0LgEBIzUjFTM1MxUUBisBIiY1ETQ2OwEyFhUFIzUjFTM1MxUUBisBIiY1ETQ2OwEyFhUFi/vqKEUoKEUoBBYoRSgoRf2CcJWVcCsf4B8sLB/gHysCC3CVlXAsH+AfKysf4B8sBdUoRCn8gClEKChEKQOAKUQo/fYl4CVKHywsHwEqHywsH0ol4CVKHywsHwEqHywsHwAGAAAAAAYgBPYAAwAHAAsADwATABcAABMzNSMRMzUjETM1IwEhNSERITUhERUhNeCVlZWVlZUBKwQV++sEFfvrBBUDNZb+QJUBwJX+QJb+QJUCVZWVAAAAAQAAAAAGIQZsADEAAAEiBgcBNjQnAR4BMzI+ATQuASIOARUUFwEuASMiDgEUHgEzMjY3AQYVFB4BMj4BNC4BBUAqSx797AcHAg8eTys9Zzw8Z3pnPAf98R5PKz1nPDxnPStPHgIUBjtkdmQ7O2QCTx4cATcbMhsBNB0gPGd6Zzw8Zz0ZG/7NHCA8Z3pnPCAc/soZGDtkOjpkdmQ7AAAAAAIAAAAABlkGawBDAFAAAAE2NCc3PgEnAy4BDwEmLwEuASMhIgYPAQYHJyYGBwMGFh8BBhQXBw4BFxMeAT8BFh8BHgEzITI2PwE2NxcWNjcTNiYnBSIuATQ+ATIeARQOAQWrBQWeCgYHlgcaDLo8QhwDFQ7+1g4VAhxEOroNGgeVBwULnQUFnQsFB5UHGg26O0McAhUOASoOFQIcRDq6DRoHlQcFC/04R3hGRniOeEZGeAM3Kj4qewkbDAEDDAkFSy4bxg4SEg7GHC1LBQkM/v0MGwl7Kj4qewkbDP79DAkFSy4bxg4SEg7GHC1LBQkMAQMMGwlBRniOeEZGeI54RgABAAAAAAZrBmsAGAAAExQXHgEXFiA3PgE3NhAnLgEnJiAHDgEHBpU7Oc6GiwEwi4bOOTs7Oc6Gi/7Qi4bOOTsDgJiLhs45Ozs5zoaLATCLhs45Ozs5zoaLAAAAAAIAAAAABmsGawAYADEAAAEiBw4BBwYQFx4BFxYgNz4BNzYQJy4BJyYDIicuAScmNDc+ATc2MhceARcWFAcOAQcGA4CYi4bOOTs7Oc6GiwEwi4bOOTs7Oc6Gi5h5b2umLS8vLaZrb/Jva6YtLy8tpmtvBms7Oc6Gi/7Qi4bOOTs7Oc6GiwEwi4bOOTv6wC8tpmtv8m9rpi0vLy2ma2/yb2umLS8AAwAAAAAGawZrABgAMQA+AAABIgcOAQcGEBceARcWIDc+ATc2ECcuAScmAyInLgEnJjQ3PgE3NjIXHgEXFhQHDgEHBhMUDgEiLgE0PgEyHgEDgJiKhs85Ozs5z4aKATCKhs85Ozs5z4aKmHlva6YtLy8tpmtv8m9rpi0vLy2ma29nPGd6Zzw8Z3pnPAZrOznPhor+0IqGzzk7OznPhooBMIqGzzk7+sAvLaZrb/Jva6YtLy8tpmtv8m9rpi0vAlU9Zzw8Z3pnPDxnAAAABAAAAAAGIAYhABMAHwApAC0AAAEhIg4BFREUHgEzITI+ATURNC4BASM1IxUjETMVMzU7ASEyFhURFAYjITczNSMFi/vqKEUoKEUoBBYoRSgoRf2CcJVwcJVwlgEqHywsH/7WcJWVBiAoRSj76ihFKChFKAQWKEUo/ICVlQHAu7ssH/7WHyxw4AAAAAACAAAAAAZrBmsAGAAkAAABIgcOAQcGEBceARcWIDc+ATc2ECcuAScmEwcJAScJATcJARcBA4CYi4bOOTs7Oc6GiwEwi4bOOTs7Oc6Gi91p/vT+9GkBC/71aQEMAQxp/vUGazs5zoaL/tCLhs45Ozs5zoaLATCLhs45O/wJaQEL/vVpAQwBDGn+9QELaf70AAABAAAAAAXWBrYAJwAAAREJAREyFxYXFhQHBgcGIicmJyY1IxQXHgEXFjI3PgE3NjQnLgEnJgOA/osBdXpoZjs9PTtmaPRoZjs9lS8tpWtv9G9rpS0vLy2la28FiwEq/ov+iwEqPTtmaPNpZTw9PTxlaXl5b2umLS8vLaZrb/Nva6UuLwABAAAAAAU/BwAAFAAAAREjIgYdASEDIxEhESMRMzU0NjMyBT+dVjwBJSf+/s7//9Ctkwb0/vhISL3+2P0JAvcBKNq6zQAAAAAEAAAAAAaOBwAAMABFAGAAbAAAARQeAxUUBwYEIyImJyY1NDY3NiUuATU0NwYjIiY1NDY3PgEzIQcjHgEVFA4DJzI2NzY1NC4CIyIGBwYVFB4DEzI+AjU0LgEvASYvAiYjIg4DFRQeAgEzFSMVIzUjNTM1MwMfQFtaQDBI/uqfhOU5JVlKgwERIB8VLhaUy0g/TdNwAaKKg0pMMUVGMZImUBo1Ij9qQCpRGS8UKz1ZNjprWzcODxMeChwlThAgNWhvUzZGcX0Da9XVadTUaQPkJEVDUIBOWlN6c1NgPEdRii5SEipAKSQxBMGUUpo2QkBYP4xaSHNHO0A+IRs5ZjqGfVInITtlLmdnUjT8lxo0Xj4ZMCQYIwsXHTgCDiQ4XTtGazsdA2xs29ts2QADAAAAAAaABmwAAwAOACoAAAERIREBFgYrASImNDYyFgERIRE0JiMiBgcGFREhEhAvASEVIz4DMzIWAd3+tgFfAWdUAlJkZ6ZkBI/+t1FWP1UVC/63AgEBAUkCFCpHZz+r0ASP/CED3wEySWJik2Fh/N39yAISaXdFMx4z/dcBjwHwMDCQIDA4H+MAAAEAAAAABpQGAAAxAAABBgcWFRQCDgEEIyAnFjMyNy4BJxYzMjcuAT0BFhcuATU0NxYEFyY1NDYzMhc2NwYHNgaUQ18BTJvW/tKs/vHhIyvhsGmmHyEcKypwk0ROQk4seQFbxgi9hoxgbWAlaV0FaGJFDhyC/v3ut22RBIoCfWEFCxexdQQmAyyOU1hLlbMKJiSGvWYVOXM/CgAAAAEAAAAABYAHAAAiAAABFw4BBwYuAzURIzU+BDc+ATsBESEVIREUHgI3NgUwUBewWWitcE4hqEhyRDAUBQEHBPQBTf6yDSBDME4Bz+0jPgECOFx4eDoCINcaV11vVy0FB/5Y/P36HjQ1HgECAAEAAAAABoAGgABKAAABFAIEIyInNj8BHgEzMj4BNTQuASMiDgMVFBYXFj8BNjc2JyY1NDYzMhYVFAYjIiY3PgI1NCYjIgYVFBcDBhcmAjU0EiQgBBIGgM7+n9FvazsTNhRqPXm+aHfijmm2f1srUE0eCAgGAgYRM9Gpl6mJaz1KDgglFzYyPlYZYxEEzv7OAWEBogFhzgOA0f6fziBdR9MnOYnwlnLIfjpgfYZDaJ4gDCAfGAYXFD1al9mkg6ruVz0jdVkfMkJyVUkx/l5Ga1sBfOnRAWHOzv6fAAAHAAAAAAcBBM8AFwAhADgATwBmAHEAdAAAAREzNhcWFxYXFhcWBw4BBwYHBicmLwEmNxY2NzYuAQcRFAUWNzY/ATY3NjU2JyMGFxYfARYXFhcUFxY3Nj8BNjc2NzYnIwYXFh8BFhcWFRYXFjc2PwE2NzY3NicjBhcWHwEWFxYVFgUzPwEVMxEjBgsBARUnAxwcaC5MND0sTSsvCgdVREdTNWg1KgECq1JrCQcwYkABfhoSCxAKJBQXAX4dAQMCBgMnFxsBJBoSCxAKJBQWAQF+HgEEAgUEJxcbASMZEwsQCiQUFgEBfh4BBAIFBCcXGwH5Q+5B4arNDfHvAhaOAckC/QIBAwwPHzdcZXlZmC8xCAQBAQIDBMIDVkxCZDQF/pUHwgcTCyAUQEdPU8etCAgFCQZHTFxbwLoHEwsgFEBHT1PHrQgIBQkGR0xcW8C6BxMLIBRAR09Tx60ICAUJBkdMXFvAwGQBZQMMFf6D/oYB/fkBAAABAAAAAAYhBrYALAAAASIHDgEHBhURFB4BOwERITU0Nz4BNzYyFx4BFxYdASERMzI+ATURNCcuAScmA4CJfXi6MzU8Zz3g/tUpKJFeYdRhXpEoKf7V4D1nPDUzunh9BrU0M7t4fYn99j1nPAJVlWthXpAoKSkokF5ha5X9qzxnPQIKiX14uzM0AAAAAAIAAAAABUAFQAACAAYAAAkCIREzEQHAAnv9hQLrlQHAAcABwPyAA4AAAAAAAgAAAAAFQAVAAAMABgAAATMRIwkBEQHAlZUBBQJ7BUD8gAHA/kADgAAAAAAAABAAxgABAAAAAAABAAcAAAABAAAAAAACAAcABwABAAAAAAADAAcADgABAAAAAAAEAAcAFQABAAAAAAAFAAsAHAABAAAAAAAGAAcAJwABAAAAAAAKACsALgABAAAAAAALABMAWQADAAEECQABAA4AbAADAAEECQACAA4AegADAAEECQADAA4AiAADAAEECQAEAA4AlgADAAEECQAFABYApAADAAEECQAGAA4AugADAAEECQAKAFYAyAADAAEECQALACYBHlZpZGVvSlNSZWd1bGFyVmlkZW9KU1ZpZGVvSlNWZXJzaW9uIDEuMFZpZGVvSlNHZW5lcmF0ZWQgYnkgc3ZnMnR0ZiBmcm9tIEZvbnRlbGxvIHByb2plY3QuaHR0cDovL2ZvbnRlbGxvLmNvbQBWAGkAZABlAG8ASgBTAFIAZQBnAHUAbABhAHIAVgBpAGQAZQBvAEoAUwBWAGkAZABlAG8ASgBTAFYAZQByAHMAaQBvAG4AIAAxAC4AMABWAGkAZABlAG8ASgBTAEcAZQBuAGUAcgBhAHQAZQBkACAAYgB5ACAAcwB2AGcAMgB0AHQAZgAgAGYAcgBvAG0AIABGAG8AbgB0AGUAbABsAG8AIABwAHIAbwBqAGUAYwB0AC4AaAB0AHQAcAA6AC8ALwBmAG8AbgB0AGUAbABsAG8ALgBjAG8AbQAAAAIAAAAAAAAAEQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIQECAQMBBAEFAQYBBwEIAQkBCgELAQwBDQEOAQ8BEAERARIBEwEUARUBFgEXARgBGQEaARsBHAEdAR4BHwEgASEBIgAEcGxheQtwbGF5LWNpcmNsZQVwYXVzZQt2b2x1bWUtbXV0ZQp2b2x1bWUtbG93CnZvbHVtZS1taWQLdm9sdW1lLWhpZ2gQZnVsbHNjcmVlbi1lbnRlcg9mdWxsc2NyZWVuLWV4aXQGc3F1YXJlB3NwaW5uZXIJc3VidGl0bGVzCGNhcHRpb25zCGNoYXB0ZXJzBXNoYXJlA2NvZwZjaXJjbGUOY2lyY2xlLW91dGxpbmUTY2lyY2xlLWlubmVyLWNpcmNsZQJoZAZjYW5jZWwGcmVwbGF5CGZhY2Vib29rBWdwbHVzCGxpbmtlZGluB3R3aXR0ZXIGdHVtYmxyCXBpbnRlcmVzdBFhdWRpby1kZXNjcmlwdGlvbgVhdWRpbwluZXh0LWl0ZW0NcHJldmlvdXMtaXRlbQAAAAA=) format("truetype");font-weight:400;font-style:normal}.video-js .vjs-big-play-button .vjs-icon-placeholder:before,.video-js .vjs-play-control .vjs-icon-placeholder,.vjs-icon-play{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-big-play-button .vjs-icon-placeholder:before,.video-js .vjs-play-control .vjs-icon-placeholder:before,.vjs-icon-play:before{content:"\\F101"}.vjs-icon-play-circle{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-play-circle:before{content:"\\F102"}.video-js .vjs-play-control.vjs-playing .vjs-icon-placeholder,.vjs-icon-pause{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-play-control.vjs-playing .vjs-icon-placeholder:before,.vjs-icon-pause:before{content:"\\F103"}.video-js .vjs-mute-control.vjs-vol-0 .vjs-icon-placeholder,.vjs-icon-volume-mute{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-mute-control.vjs-vol-0 .vjs-icon-placeholder:before,.vjs-icon-volume-mute:before{content:"\\F104"}.video-js .vjs-mute-control.vjs-vol-1 .vjs-icon-placeholder,.vjs-icon-volume-low{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-mute-control.vjs-vol-1 .vjs-icon-placeholder:before,.vjs-icon-volume-low:before{content:"\\F105"}.video-js .vjs-mute-control.vjs-vol-2 .vjs-icon-placeholder,.vjs-icon-volume-mid{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-mute-control.vjs-vol-2 .vjs-icon-placeholder:before,.vjs-icon-volume-mid:before{content:"\\F106"}.video-js .vjs-mute-control .vjs-icon-placeholder,.vjs-icon-volume-high{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-mute-control .vjs-icon-placeholder:before,.vjs-icon-volume-high:before{content:"\\F107"}.video-js .vjs-fullscreen-control .vjs-icon-placeholder,.vjs-icon-fullscreen-enter{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-fullscreen-control .vjs-icon-placeholder:before,.vjs-icon-fullscreen-enter:before{content:"\\F108"}.video-js.vjs-fullscreen .vjs-fullscreen-control .vjs-icon-placeholder,.vjs-icon-fullscreen-exit{font-family:VideoJS;font-weight:400;font-style:normal}.video-js.vjs-fullscreen .vjs-fullscreen-control .vjs-icon-placeholder:before,.vjs-icon-fullscreen-exit:before{content:"\\F109"}.vjs-icon-square{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-square:before{content:"\\F10A"}.vjs-icon-spinner{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-spinner:before{content:"\\F10B"}.video-js .vjs-subs-caps-button .vjs-icon-placeholder,.video-js .vjs-subtitles-button .vjs-icon-placeholder,.video-js.video-js:lang(en-AU) .vjs-subs-caps-button .vjs-icon-placeholder,.video-js.video-js:lang(en-GB) .vjs-subs-caps-button .vjs-icon-placeholder,.video-js.video-js:lang(en-IE) .vjs-subs-caps-button .vjs-icon-placeholder,.video-js.video-js:lang(en-NZ) .vjs-subs-caps-button .vjs-icon-placeholder,.vjs-icon-subtitles{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-subs-caps-button .vjs-icon-placeholder:before,.video-js .vjs-subtitles-button .vjs-icon-placeholder:before,.video-js.video-js:lang(en-AU) .vjs-subs-caps-button .vjs-icon-placeholder:before,.video-js.video-js:lang(en-GB) .vjs-subs-caps-button .vjs-icon-placeholder:before,.video-js.video-js:lang(en-IE) .vjs-subs-caps-button .vjs-icon-placeholder:before,.video-js.video-js:lang(en-NZ) .vjs-subs-caps-button .vjs-icon-placeholder:before,.vjs-icon-subtitles:before{content:"\\F10C"}.video-js .vjs-captions-button .vjs-icon-placeholder,.video-js:lang(en) .vjs-subs-caps-button .vjs-icon-placeholder,.video-js:lang(fr-CA) .vjs-subs-caps-button .vjs-icon-placeholder,.vjs-icon-captions{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-captions-button .vjs-icon-placeholder:before,.video-js:lang(en) .vjs-subs-caps-button .vjs-icon-placeholder:before,.video-js:lang(fr-CA) .vjs-subs-caps-button .vjs-icon-placeholder:before,.vjs-icon-captions:before{content:"\\F10D"}.video-js .vjs-chapters-button .vjs-icon-placeholder,.vjs-icon-chapters{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-chapters-button .vjs-icon-placeholder:before,.vjs-icon-chapters:before{content:"\\F10E"}.vjs-icon-share{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-share:before{content:"\\F10F"}.vjs-icon-cog{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-cog:before{content:"\\F110"}.video-js .vjs-play-progress,.video-js .vjs-volume-level,.vjs-icon-circle{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-play-progress:before,.video-js .vjs-volume-level:before,.vjs-icon-circle:before{content:"\\F111"}.vjs-icon-circle-outline{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-circle-outline:before{content:"\\F112"}.vjs-icon-circle-inner-circle{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-circle-inner-circle:before{content:"\\F113"}.vjs-icon-hd{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-hd:before{content:"\\F114"}.video-js .vjs-control.vjs-close-button .vjs-icon-placeholder,.vjs-icon-cancel{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-control.vjs-close-button .vjs-icon-placeholder:before,.vjs-icon-cancel:before{content:"\\F115"}.video-js .vjs-play-control.vjs-ended .vjs-icon-placeholder,.vjs-icon-replay{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-play-control.vjs-ended .vjs-icon-placeholder:before,.vjs-icon-replay:before{content:"\\F116"}.vjs-icon-facebook{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-facebook:before{content:"\\F117"}.vjs-icon-gplus{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-gplus:before{content:"\\F118"}.vjs-icon-linkedin{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-linkedin:before{content:"\\F119"}.vjs-icon-twitter{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-twitter:before{content:"\\F11A"}.vjs-icon-tumblr{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-tumblr:before{content:"\\F11B"}.vjs-icon-pinterest{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-pinterest:before{content:"\\F11C"}.video-js .vjs-descriptions-button .vjs-icon-placeholder,.vjs-icon-audio-description{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-descriptions-button .vjs-icon-placeholder:before,.vjs-icon-audio-description:before{content:"\\F11D"}.video-js .vjs-audio-button .vjs-icon-placeholder,.vjs-icon-audio{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-audio-button .vjs-icon-placeholder:before,.vjs-icon-audio:before{content:"\\F11E"}.vjs-icon-next-item{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-next-item:before{content:"\\F11F"}.vjs-icon-previous-item{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-previous-item:before{content:"\\F120"}.video-js{display:block;vertical-align:top;box-sizing:border-box;color:#fff;background-color:#000;position:relative;padding:0;font-size:10px;line-height:1;font-weight:400;font-style:normal;font-family:Arial,Helvetica,sans-serif;word-break:initial}.video-js:-moz-full-screen{position:absolute}.video-js:-webkit-full-screen{width:100%!important;height:100%!important}.video-js[tabindex="-1"]{outline:0}.video-js *,.video-js :after,.video-js :before{box-sizing:inherit}.video-js ul{font-family:inherit;font-size:inherit;line-height:inherit;list-style-position:outside;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}.video-js.vjs-16-9,.video-js.vjs-4-3,.video-js.vjs-fluid{width:100%;max-width:100%;height:0}.video-js.vjs-16-9{padding-top:56.25%}.video-js.vjs-4-3{padding-top:75%}.video-js.vjs-fill{width:100%;height:100%}.video-js .vjs-tech{position:absolute;top:0;left:0;width:100%;height:100%}body.vjs-full-window{padding:0;margin:0;height:100%;overflow-y:auto}.vjs-full-window .video-js.vjs-fullscreen{position:fixed;overflow:hidden;z-index:1000;left:0;top:0;bottom:0;right:0}.video-js.vjs-fullscreen{width:100%!important;height:100%!important;padding-top:0!important}.video-js.vjs-fullscreen.vjs-user-inactive{cursor:none}.vjs-hidden{display:none!important}.vjs-disabled{opacity:.5;cursor:default}.video-js .vjs-offscreen{height:1px;left:-9999px;position:absolute;top:0;width:1px}.vjs-lock-showing{display:block!important;opacity:1;visibility:visible}.vjs-no-js{padding:20px;color:#fff;background-color:#000;font-size:18px;font-family:Arial,Helvetica,sans-serif;text-align:center;width:300px;height:150px;margin:0 auto}.vjs-no-js a,.vjs-no-js a:visited{color:#66a8cc}.video-js .vjs-big-play-button{font-size:3em;line-height:1.5em;height:1.5em;width:3em;display:block;position:absolute;top:10px;left:10px;padding:0;cursor:pointer;opacity:1;border:.06666em solid #fff;background-color:#2b333f;background-color:rgba(43,51,63,.7);-webkit-border-radius:.3em;-moz-border-radius:.3em;border-radius:.3em;-webkit-transition:all .4s;-moz-transition:all .4s;-ms-transition:all .4s;-o-transition:all .4s;transition:all .4s}.vjs-big-play-centered .vjs-big-play-button{top:50%;left:50%;margin-top:-.75em;margin-left:-1.5em}.video-js .vjs-big-play-button:focus,.video-js:hover .vjs-big-play-button{border-color:#fff;background-color:#73859f;background-color:rgba(115,133,159,.5);-webkit-transition:all 0s;-moz-transition:all 0s;-ms-transition:all 0s;-o-transition:all 0s;transition:all 0s}.vjs-controls-disabled .vjs-big-play-button,.vjs-error .vjs-big-play-button,.vjs-has-started .vjs-big-play-button,.vjs-using-native-controls .vjs-big-play-button{display:none}.vjs-has-started.vjs-paused.vjs-show-big-play-button-on-pause .vjs-big-play-button{display:block}.video-js button{background:0 0;border:none;color:inherit;display:inline-block;overflow:visible;font-size:inherit;line-height:inherit;text-transform:none;text-decoration:none;transition:none;-webkit-appearance:none;-moz-appearance:none;appearance:none}.vjs-control .vjs-button{width:100%;height:100%}.video-js .vjs-control.vjs-close-button{cursor:pointer;height:3em;position:absolute;right:0;top:.5em;z-index:2}.video-js .vjs-modal-dialog{background:rgba(0,0,0,.8);background:-webkit-linear-gradient(-90deg,rgba(0,0,0,.8),rgba(255,255,255,0));background:linear-gradient(180deg,rgba(0,0,0,.8),rgba(255,255,255,0));overflow:auto;box-sizing:content-box}.video-js .vjs-modal-dialog>*{box-sizing:border-box}.vjs-modal-dialog .vjs-modal-dialog-content{font-size:1.2em;line-height:1.5;padding:20px 24px;z-index:1}.vjs-menu-button{cursor:pointer}.vjs-menu-button.vjs-disabled{cursor:default}.vjs-workinghover .vjs-menu-button.vjs-disabled:hover .vjs-menu{display:none}.vjs-menu .vjs-menu-content{display:block;padding:0;margin:0;font-family:Arial,Helvetica,sans-serif;overflow:auto;box-sizing:content-box}.vjs-menu .vjs-menu-content>*{box-sizing:border-box}.vjs-scrubbing .vjs-menu-button:hover .vjs-menu{display:none}.vjs-menu li{list-style:none;margin:0;padding:.2em 0;line-height:1.4em;font-size:1.2em;text-align:center;text-transform:lowercase}.vjs-menu li.vjs-menu-item:focus,.vjs-menu li.vjs-menu-item:hover{background-color:#73859f;background-color:rgba(115,133,159,.5)}.vjs-menu li.vjs-selected,.vjs-menu li.vjs-selected:focus,.vjs-menu li.vjs-selected:hover{background-color:#fff;color:#2b333f}.vjs-menu li.vjs-menu-title{text-align:center;text-transform:uppercase;font-size:1em;line-height:2em;padding:0;margin:0 0 .3em 0;font-weight:700;cursor:default}.vjs-menu-button-popup .vjs-menu{display:none;position:absolute;bottom:0;width:10em;left:-3em;height:0;margin-bottom:1.5em;border-top-color:rgba(43,51,63,.7)}.vjs-menu-button-popup .vjs-menu .vjs-menu-content{background-color:#2b333f;background-color:rgba(43,51,63,.7);position:absolute;width:100%;bottom:1.5em;max-height:15em}.vjs-menu-button-popup .vjs-menu.vjs-lock-showing,.vjs-workinghover .vjs-menu-button-popup:hover .vjs-menu{display:block}.video-js .vjs-menu-button-inline{-webkit-transition:all .4s;-moz-transition:all .4s;-ms-transition:all .4s;-o-transition:all .4s;transition:all .4s;overflow:hidden}.video-js .vjs-menu-button-inline:before{width:2.222222222em}.video-js .vjs-menu-button-inline.vjs-slider-active,.video-js .vjs-menu-button-inline:focus,.video-js .vjs-menu-button-inline:hover,.video-js.vjs-no-flex .vjs-menu-button-inline{width:12em}.vjs-menu-button-inline .vjs-menu{opacity:0;height:100%;width:auto;position:absolute;left:4em;top:0;padding:0;margin:0;-webkit-transition:all .4s;-moz-transition:all .4s;-ms-transition:all .4s;-o-transition:all .4s;transition:all .4s}.vjs-menu-button-inline.vjs-slider-active .vjs-menu,.vjs-menu-button-inline:focus .vjs-menu,.vjs-menu-button-inline:hover .vjs-menu{display:block;opacity:1}.vjs-no-flex .vjs-menu-button-inline .vjs-menu{display:block;opacity:1;position:relative;width:auto}.vjs-no-flex .vjs-menu-button-inline.vjs-slider-active .vjs-menu,.vjs-no-flex .vjs-menu-button-inline:focus .vjs-menu,.vjs-no-flex .vjs-menu-button-inline:hover .vjs-menu{width:auto}.vjs-menu-button-inline .vjs-menu-content{width:auto;height:100%;margin:0;overflow:hidden}.video-js .vjs-control-bar{display:none;width:100%;position:absolute;bottom:0;left:0;right:0;height:3em;background-color:#2b333f;background-color:rgba(43,51,63,.7)}.vjs-has-started .vjs-control-bar{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;visibility:visible;opacity:1;-webkit-transition:visibility .1s,opacity .1s;-moz-transition:visibility .1s,opacity .1s;-ms-transition:visibility .1s,opacity .1s;-o-transition:visibility .1s,opacity .1s;transition:visibility .1s,opacity .1s}.vjs-has-started.vjs-user-inactive.vjs-playing .vjs-control-bar{visibility:visible;opacity:0;-webkit-transition:visibility 1s,opacity 1s;-moz-transition:visibility 1s,opacity 1s;-ms-transition:visibility 1s,opacity 1s;-o-transition:visibility 1s,opacity 1s;transition:visibility 1s,opacity 1s}.vjs-controls-disabled .vjs-control-bar,.vjs-error .vjs-control-bar,.vjs-using-native-controls .vjs-control-bar{display:none!important}.vjs-audio.vjs-has-started.vjs-user-inactive.vjs-playing .vjs-control-bar{opacity:1;visibility:visible}.vjs-has-started.vjs-no-flex .vjs-control-bar{display:table}.video-js .vjs-control{position:relative;text-align:center;margin:0;padding:0;height:100%;width:4em;-webkit-box-flex:none;-moz-box-flex:none;-webkit-flex:none;-ms-flex:none;flex:none}.vjs-button>.vjs-icon-placeholder:before{font-size:1.8em;line-height:1.67}.video-js .vjs-control:focus,.video-js .vjs-control:focus:before,.video-js .vjs-control:hover:before{text-shadow:0 0 1em #fff}.video-js .vjs-control-text{border:0;clip:rect(0 0 0 0);height:1px;overflow:hidden;padding:0;position:absolute;width:1px}.vjs-no-flex .vjs-control{display:table-cell;vertical-align:middle}.video-js .vjs-custom-control-spacer{display:none}.video-js .vjs-progress-control{cursor:pointer;-webkit-box-flex:auto;-moz-box-flex:auto;-webkit-flex:auto;-ms-flex:auto;flex:auto;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;min-width:4em}.video-js .vjs-progress-control.disabled{cursor:default}.vjs-live .vjs-progress-control{display:none}.vjs-no-flex .vjs-progress-control{width:auto}.video-js .vjs-progress-holder{-webkit-box-flex:auto;-moz-box-flex:auto;-webkit-flex:auto;-ms-flex:auto;flex:auto;-webkit-transition:all .2s;-moz-transition:all .2s;-ms-transition:all .2s;-o-transition:all .2s;transition:all .2s;height:.3em}.video-js .vjs-progress-control .vjs-progress-holder{margin:0 10px}.video-js .vjs-progress-control:hover .vjs-progress-holder{font-size:1.666666666666666666em}.video-js .vjs-progress-control:hover .vjs-progress-holder.disabled{font-size:1em}.video-js .vjs-progress-holder .vjs-load-progress,.video-js .vjs-progress-holder .vjs-load-progress div,.video-js .vjs-progress-holder .vjs-play-progress{position:absolute;display:block;height:100%;margin:0;padding:0;width:0;left:0;top:0}.video-js .vjs-play-progress{background-color:#fff}.video-js .vjs-play-progress:before{font-size:.9em;position:absolute;right:-.5em;top:-.333333333333333em;z-index:1}.video-js .vjs-load-progress{background:#bfc7d3;background:rgba(115,133,159,.5)}.video-js .vjs-load-progress div{background:#fff;background:rgba(115,133,159,.75)}.video-js .vjs-time-tooltip{background-color:#fff;background-color:rgba(255,255,255,.8);-webkit-border-radius:.3em;-moz-border-radius:.3em;border-radius:.3em;color:#000;float:right;font-family:Arial,Helvetica,sans-serif;font-size:1em;padding:6px 8px 8px 8px;pointer-events:none;position:relative;top:-3.4em;visibility:hidden;z-index:1}.video-js .vjs-progress-holder:focus .vjs-time-tooltip{display:none}.video-js .vjs-progress-control:hover .vjs-progress-holder:focus .vjs-time-tooltip,.video-js .vjs-progress-control:hover .vjs-time-tooltip{display:block;font-size:.6em;visibility:visible}.video-js .vjs-progress-control.disabled:hover .vjs-time-tooltip{font-size:1em}.video-js .vjs-progress-control .vjs-mouse-display{display:none;position:absolute;width:1px;height:100%;background-color:#000;z-index:1}.vjs-no-flex .vjs-progress-control .vjs-mouse-display{z-index:0}.video-js .vjs-progress-control:hover .vjs-mouse-display{display:block}.video-js.vjs-user-inactive .vjs-progress-control .vjs-mouse-display{visibility:hidden;opacity:0;-webkit-transition:visibility 1s,opacity 1s;-moz-transition:visibility 1s,opacity 1s;-ms-transition:visibility 1s,opacity 1s;-o-transition:visibility 1s,opacity 1s;transition:visibility 1s,opacity 1s}.video-js.vjs-user-inactive.vjs-no-flex .vjs-progress-control .vjs-mouse-display{display:none}.vjs-mouse-display .vjs-time-tooltip{color:#fff;background-color:#000;background-color:rgba(0,0,0,.8)}.video-js .vjs-slider{position:relative;cursor:pointer;padding:0;margin:0 .45em 0 .45em;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-color:#73859f;background-color:rgba(115,133,159,.5)}.video-js .vjs-slider.disabled{cursor:default}.video-js .vjs-slider:focus{text-shadow:0 0 1em #fff;-webkit-box-shadow:0 0 1em #fff;-moz-box-shadow:0 0 1em #fff;box-shadow:0 0 1em #fff}.video-js .vjs-mute-control{cursor:pointer;-webkit-box-flex:none;-moz-box-flex:none;-webkit-flex:none;-ms-flex:none;flex:none;padding-left:2em;padding-right:2em;padding-bottom:3em}.video-js .vjs-volume-control{cursor:pointer;margin-right:1em;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex}.video-js .vjs-volume-control.vjs-volume-horizontal{width:5em}.video-js .vjs-volume-panel .vjs-volume-control{visibility:visible;opacity:0;width:1px;height:1px;margin-left:-1px}.video-js .vjs-volume-panel{-webkit-transition:width 1s;-moz-transition:width 1s;-ms-transition:width 1s;-o-transition:width 1s;transition:width 1s}.video-js .vjs-volume-panel .vjs-mute-control:hover~.vjs-volume-control,.video-js .vjs-volume-panel .vjs-volume-control.vjs-slider-active,.video-js .vjs-volume-panel .vjs-volume-control:active,.video-js .vjs-volume-panel .vjs-volume-control:hover,.video-js .vjs-volume-panel:active .vjs-volume-control,.video-js .vjs-volume-panel:focus .vjs-volume-control,.video-js .vjs-volume-panel:hover .vjs-volume-control{visibility:visible;opacity:1;position:relative;-webkit-transition:visibility .1s,opacity .1s,height .1s,width .1s,left 0s,top 0s;-moz-transition:visibility .1s,opacity .1s,height .1s,width .1s,left 0s,top 0s;-ms-transition:visibility .1s,opacity .1s,height .1s,width .1s,left 0s,top 0s;-o-transition:visibility .1s,opacity .1s,height .1s,width .1s,left 0s,top 0s;transition:visibility .1s,opacity .1s,height .1s,width .1s,left 0s,top 0s}.video-js .vjs-volume-panel .vjs-mute-control:hover~.vjs-volume-control.vjs-volume-horizontal,.video-js .vjs-volume-panel .vjs-volume-control.vjs-slider-active.vjs-volume-horizontal,.video-js .vjs-volume-panel .vjs-volume-control:active.vjs-volume-horizontal,.video-js .vjs-volume-panel .vjs-volume-control:hover.vjs-volume-horizontal,.video-js .vjs-volume-panel:active .vjs-volume-control.vjs-volume-horizontal,.video-js .vjs-volume-panel:focus .vjs-volume-control.vjs-volume-horizontal,.video-js .vjs-volume-panel:hover .vjs-volume-control.vjs-volume-horizontal{width:5em;height:3em}.video-js .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-slider-active,.video-js .vjs-volume-panel.vjs-volume-panel-horizontal:active,.video-js .vjs-volume-panel.vjs-volume-panel-horizontal:hover{width:9em;-webkit-transition:width .1s;-moz-transition:width .1s;-ms-transition:width .1s;-o-transition:width .1s;transition:width .1s}.video-js .vjs-volume-panel .vjs-volume-control.vjs-volume-vertical{height:8em;width:3em;left:-3.5em;-webkit-transition:visibility 1s,opacity 1s,height 1s 1s,width 1s 1s,left 1s 1s,top 1s 1s;-moz-transition:visibility 1s,opacity 1s,height 1s 1s,width 1s 1s,left 1s 1s,top 1s 1s;-ms-transition:visibility 1s,opacity 1s,height 1s 1s,width 1s 1s,left 1s 1s,top 1s 1s;-o-transition:visibility 1s,opacity 1s,height 1s 1s,width 1s 1s,left 1s 1s,top 1s 1s;transition:visibility 1s,opacity 1s,height 1s 1s,width 1s 1s,left 1s 1s,top 1s 1s}.video-js .vjs-volume-panel .vjs-volume-control.vjs-volume-horizontal{-webkit-transition:visibility 1s,opacity 1s,height 1s 1s,width 1s,left 1s 1s,top 1s 1s;-moz-transition:visibility 1s,opacity 1s,height 1s 1s,width 1s,left 1s 1s,top 1s 1s;-ms-transition:visibility 1s,opacity 1s,height 1s 1s,width 1s,left 1s 1s,top 1s 1s;-o-transition:visibility 1s,opacity 1s,height 1s 1s,width 1s,left 1s 1s,top 1s 1s;transition:visibility 1s,opacity 1s,height 1s 1s,width 1s,left 1s 1s,top 1s 1s}.video-js.vjs-no-flex .vjs-volume-panel .vjs-volume-control.vjs-volume-horizontal{width:5em;height:3em;visibility:visible;opacity:1;position:relative;-webkit-transition:none;-moz-transition:none;-ms-transition:none;-o-transition:none;transition:none}.video-js.vjs-no-flex .vjs-volume-control.vjs-volume-vertical,.video-js.vjs-no-flex .vjs-volume-panel .vjs-volume-control.vjs-volume-vertical{position:absolute;bottom:3em;left:.5em}.video-js .vjs-volume-panel{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex}.video-js .vjs-volume-bar{margin:1.35em .45em}.vjs-volume-bar.vjs-slider-horizontal{width:5em;height:.3em}.vjs-volume-bar.vjs-slider-vertical{width:.3em;height:5em;margin:1.35em auto}.video-js .vjs-volume-level{position:absolute;bottom:0;left:0;background-color:#fff}.video-js .vjs-volume-level:before{position:absolute;font-size:.9em}.vjs-slider-vertical .vjs-volume-level{width:.3em}.vjs-slider-vertical .vjs-volume-level:before{top:-.5em;left:-.3em}.vjs-slider-horizontal .vjs-volume-level{height:.3em}.vjs-slider-horizontal .vjs-volume-level:before{top:-.3em;right:-.5em}.video-js .vjs-volume-panel.vjs-volume-panel-vertical{width:4em}.vjs-volume-bar.vjs-slider-vertical .vjs-volume-level{height:100%}.vjs-volume-bar.vjs-slider-horizontal .vjs-volume-level{width:100%}.video-js .vjs-volume-vertical{width:3em;height:8em;bottom:8em;background-color:#2b333f;background-color:rgba(43,51,63,.7)}.video-js .vjs-volume-horizontal .vjs-menu{left:-2em}.vjs-poster{display:inline-block;vertical-align:middle;background-repeat:no-repeat;background-position:50% 50%;background-size:contain;background-color:#000;cursor:pointer;margin:0;padding:0;position:absolute;top:0;right:0;bottom:0;left:0;height:100%}.vjs-poster img{display:block;vertical-align:middle;margin:0 auto;max-height:100%;padding:0;width:100%}.vjs-has-started .vjs-poster{display:none}.vjs-audio.vjs-has-started .vjs-poster{display:block}.vjs-using-native-controls .vjs-poster{display:none}.video-js .vjs-live-control{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:flex-start;-webkit-align-items:flex-start;-ms-flex-align:flex-start;align-items:flex-start;-webkit-box-flex:auto;-moz-box-flex:auto;-webkit-flex:auto;-ms-flex:auto;flex:auto;font-size:1em;line-height:3em}.vjs-no-flex .vjs-live-control{display:table-cell;width:auto;text-align:left}.video-js .vjs-time-control{-webkit-box-flex:none;-moz-box-flex:none;-webkit-flex:none;-ms-flex:none;flex:none;font-size:1em;line-height:3em;min-width:2em;width:auto;padding-left:1em;padding-right:1em}.vjs-live .vjs-time-control{display:none}.video-js .vjs-current-time,.vjs-no-flex .vjs-current-time{display:none}.vjs-no-flex .vjs-remaining-time.vjs-time-control.vjs-control{width:0!important;white-space:nowrap}.video-js .vjs-duration,.vjs-no-flex .vjs-duration{display:none}.vjs-time-divider{display:none;line-height:3em}.vjs-live .vjs-time-divider{display:none}.video-js .vjs-play-control .vjs-icon-placeholder{cursor:pointer;-webkit-box-flex:none;-moz-box-flex:none;-webkit-flex:none;-ms-flex:none;flex:none}.vjs-text-track-display{position:absolute;bottom:3em;left:0;right:0;top:0;pointer-events:none}.video-js.vjs-user-inactive.vjs-playing .vjs-text-track-display{bottom:1em}.video-js .vjs-text-track{font-size:1.4em;text-align:center;margin-bottom:.1em;background-color:#000;background-color:rgba(0,0,0,.5)}.vjs-subtitles{color:#fff}.vjs-captions{color:#fc6}.vjs-tt-cue{display:block}video::-webkit-media-text-track-display{-moz-transform:translateY(-3em);-ms-transform:translateY(-3em);-o-transform:translateY(-3em);-webkit-transform:translateY(-3em);transform:translateY(-3em)}.video-js.vjs-user-inactive.vjs-playing video::-webkit-media-text-track-display{-moz-transform:translateY(-1.5em);-ms-transform:translateY(-1.5em);-o-transform:translateY(-1.5em);-webkit-transform:translateY(-1.5em);transform:translateY(-1.5em)}.video-js .vjs-fullscreen-control{cursor:pointer;-webkit-box-flex:none;-moz-box-flex:none;-webkit-flex:none;-ms-flex:none;flex:none}.vjs-playback-rate .vjs-playback-rate-value,.vjs-playback-rate>.vjs-menu-button{position:absolute;top:0;left:0;width:100%;height:100%}.vjs-playback-rate .vjs-playback-rate-value{pointer-events:none;font-size:1.5em;line-height:2;text-align:center}.vjs-playback-rate .vjs-menu{width:4em;left:0}.vjs-error .vjs-error-display .vjs-modal-dialog-content{font-size:1.4em;text-align:center}.vjs-error .vjs-error-display:before{color:#fff;content:\'X\';font-family:Arial,Helvetica,sans-serif;font-size:4em;left:0;line-height:1;margin-top:-.5em;position:absolute;text-shadow:.05em .05em .1em #000;text-align:center;top:50%;vertical-align:middle;width:100%}.vjs-loading-spinner{display:none;position:absolute;top:50%;left:50%;margin:-25px 0 0 -25px;opacity:.85;text-align:left;border:6px solid rgba(43,51,63,.7);box-sizing:border-box;background-clip:padding-box;width:50px;height:50px;border-radius:25px;visibility:hidden}.vjs-seeking .vjs-loading-spinner,.vjs-waiting .vjs-loading-spinner{display:block;animation:0s linear .3s forwards vjs-spinner-show}.vjs-loading-spinner:after,.vjs-loading-spinner:before{content:"";position:absolute;margin:-6px;box-sizing:inherit;width:inherit;height:inherit;border-radius:inherit;opacity:1;border:inherit;border-color:transparent;border-top-color:#fff}.vjs-seeking .vjs-loading-spinner:after,.vjs-seeking .vjs-loading-spinner:before,.vjs-waiting .vjs-loading-spinner:after,.vjs-waiting .vjs-loading-spinner:before{-webkit-animation:vjs-spinner-spin 1.1s cubic-bezier(.6,.2,0,.8) infinite,vjs-spinner-fade 1.1s linear infinite;animation:vjs-spinner-spin 1.1s cubic-bezier(.6,.2,0,.8) infinite,vjs-spinner-fade 1.1s linear infinite}.vjs-seeking .vjs-loading-spinner:before,.vjs-waiting .vjs-loading-spinner:before{border-top-color:#fff}.vjs-seeking .vjs-loading-spinner:after,.vjs-waiting .vjs-loading-spinner:after{border-top-color:#fff;-webkit-animation-delay:.44s;animation-delay:.44s}@keyframes vjs-spinner-show{to{visibility:visible}}@-webkit-keyframes vjs-spinner-show{to{visibility:visible}}@keyframes vjs-spinner-spin{100%{transform:rotate(360deg)}}@-webkit-keyframes vjs-spinner-spin{100%{-webkit-transform:rotate(360deg)}}@keyframes vjs-spinner-fade{0%{border-top-color:#73859f}20%{border-top-color:#73859f}35%{border-top-color:#fff}60%{border-top-color:#73859f}100%{border-top-color:#73859f}}@-webkit-keyframes vjs-spinner-fade{0%{border-top-color:#73859f}20%{border-top-color:#73859f}35%{border-top-color:#fff}60%{border-top-color:#73859f}100%{border-top-color:#73859f}}.vjs-chapters-button .vjs-menu ul{width:24em}.video-js .vjs-subs-caps-button+.vjs-menu .vjs-captions-menu-item .vjs-menu-item-text .vjs-icon-placeholder{position:absolute}.video-js .vjs-subs-caps-button+.vjs-menu .vjs-captions-menu-item .vjs-menu-item-text .vjs-icon-placeholder:before{font-family:VideoJS;content:"\\F10D";font-size:1.5em;line-height:inherit}.video-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-custom-control-spacer{-webkit-box-flex:auto;-moz-box-flex:auto;-webkit-flex:auto;-ms-flex:auto;flex:auto}.video-js.vjs-layout-tiny:not(.vjs-fullscreen).vjs-no-flex .vjs-custom-control-spacer{width:auto}.video-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-audio-button,.video-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-captions-button,.video-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-chapters-button,.video-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-current-time,.video-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-descriptions-button,.video-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-duration,.video-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-mute-control,.video-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-playback-rate,.video-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-progress-control,.video-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-remaining-time,.video-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-subtitles-button,.video-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-time-divider,.video-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-volume-control{display:none}.video-js.vjs-layout-x-small:not(.vjs-fullscreen) .vjs-audio-button,.video-js.vjs-layout-x-small:not(.vjs-fullscreen) .vjs-captions-button,.video-js.vjs-layout-x-small:not(.vjs-fullscreen) .vjs-chapters-button,.video-js.vjs-layout-x-small:not(.vjs-fullscreen) .vjs-current-time,.video-js.vjs-layout-x-small:not(.vjs-fullscreen) .vjs-descriptions-button,.video-js.vjs-layout-x-small:not(.vjs-fullscreen) .vjs-duration,.video-js.vjs-layout-x-small:not(.vjs-fullscreen) .vjs-mute-control,.video-js.vjs-layout-x-small:not(.vjs-fullscreen) .vjs-playback-rate,.video-js.vjs-layout-x-small:not(.vjs-fullscreen) .vjs-remaining-time,.video-js.vjs-layout-x-small:not(.vjs-fullscreen) .vjs-subtitles-button,.video-js.vjs-layout-x-small:not(.vjs-fullscreen) .vjs-time-divider,.video-js.vjs-layout-x-small:not(.vjs-fullscreen) .vjs-volume-control{display:none}.video-js.vjs-layout-small:not(.vjs-fullscreen) .vjs-captions-button,.video-js.vjs-layout-small:not(.vjs-fullscreen) .vjs-chapters-button,.video-js.vjs-layout-small:not(.vjs-fullscreen) .vjs-current-time,.video-js.vjs-layout-small:not(.vjs-fullscreen) .vjs-descriptions-button,.video-js.vjs-layout-small:not(.vjs-fullscreen) .vjs-duration,.video-js.vjs-layout-small:not(.vjs-fullscreen) .vjs-mute-control,.video-js.vjs-layout-small:not(.vjs-fullscreen) .vjs-playback-rate,.video-js.vjs-layout-small:not(.vjs-fullscreen) .vjs-remaining-time,.video-js.vjs-layout-small:not(.vjs-fullscreen) .vjs-subtitles-button .vjs-audio-button,.video-js.vjs-layout-small:not(.vjs-fullscreen) .vjs-time-divider,.video-js.vjs-layout-small:not(.vjs-fullscreen) .vjs-volume-control{display:none}.vjs-modal-dialog.vjs-text-track-settings{background-color:#2b333f;background-color:rgba(43,51,63,.75);color:#fff;height:70%}.vjs-text-track-settings .vjs-modal-dialog-content{display:table}.vjs-text-track-settings .vjs-track-settings-colors,.vjs-text-track-settings .vjs-track-settings-controls,.vjs-text-track-settings .vjs-track-settings-font{display:table-cell}.vjs-text-track-settings .vjs-track-settings-controls{text-align:right;vertical-align:bottom}@supports (display:grid){.vjs-text-track-settings .vjs-modal-dialog-content{display:grid;grid-template-columns:1fr 1fr;grid-template-rows:1fr auto}.vjs-text-track-settings .vjs-track-settings-colors{display:block;grid-column:1;grid-row:1}.vjs-text-track-settings .vjs-track-settings-font{grid-column:2;grid-row:1}.vjs-text-track-settings .vjs-track-settings-controls{grid-column:2;grid-row:2}}.vjs-track-setting>select{margin-right:5px}.vjs-text-track-settings fieldset{margin:5px;padding:3px;border:none}.vjs-text-track-settings fieldset span{display:inline-block}.vjs-text-track-settings legend{color:#fff;margin:0 0 5px 0}.vjs-text-track-settings .vjs-label{position:absolute;clip:rect(1px 1px 1px 1px);clip:rect(1px,1px,1px,1px);display:block;margin:0 0 5px 0;padding:0;border:0;height:1px;width:1px;overflow:hidden}.vjs-track-settings-controls button:active,.vjs-track-settings-controls button:focus{outline-style:solid;outline-width:medium;background-image:linear-gradient(0deg,#fff 88%,#73859f 100%)}.vjs-track-settings-controls button:hover{color:rgba(43,51,63,.75)}.vjs-track-settings-controls button{background-color:#fff;background-image:linear-gradient(-180deg,#fff 88%,#73859f 100%);color:#2b333f;cursor:pointer;border-radius:2px}.vjs-track-settings-controls .vjs-default-button{margin-right:1em}@media print{.video-js>:not(.vjs-tech):not(.vjs-poster){visibility:hidden}}.vjs-resize-manager{position:absolute;top:0;left:0;width:100%;height:100%;border:none;visibility:hidden}@media \\0screen{.vjs-user-inactive.vjs-playing .vjs-control-bar :before{content:""}}@media \\0screen{.vjs-has-started.vjs-user-inactive.vjs-playing .vjs-control-bar{visibility:hidden}}',""])},function(e,t,i){var n=i(89);"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};i(37)(n,r),n.locals&&(e.exports=n.locals)},function(e,t,i){"use strict";var n;n=null,n=void 0===window.videojs?i(0):window.videojs,function(e,t){function i(e,t,i,n){return a={label:i,sources:t},"function"==typeof n?n(e,t,i):(e.src(t.map(function(e){return{src:e.src,type:e.type,res:e.res}})),e)}var n,r={},a={},o={},s=t.getComponent("MenuItem"),l=t.extend(s,{constructor:function(e,t,i,n){this.onClickListener=i,this.label=n,s.call(this,e,t),this.src=t.src,this.on("click",this.onClick),this.on("touchstart",this.onClick),t.initialySelected&&(this.showAsLabel(),this.selected(!0),this.addClass("vjs-selected"))},showAsLabel:function(){this.label&&(this.label.innerHTML=this.options_.label)},onClick:function(e){this.onClickListener(this);var t=this.player_.currentTime(),n=this.player_.paused();this.showAsLabel(),this.addClass("vjs-selected"),n||this.player_.bigPlayButton.hide(),"function"!=typeof e&&"function"==typeof this.options_.customSourcePicker&&(e=this.options_.customSourcePicker);var r="loadeddata";"Youtube"!==this.player_.techName_&&"none"===this.player_.preload()&&"Flash"!==this.player_.techName_&&(r="timeupdate"),i(this.player_,this.src,this.options_.label,e).one(r,function(){this.player_.currentTime(t),this.player_.handleTechSeeked_(),n||(this.player_.play(),this.player_.handleTechSeeked_()),this.player_.trigger("resolutionchange")})}}),c=t.getComponent("MenuButton"),u=t.extend(c,{constructor:function(e,i,n,r){if(this.sources=i.sources,this.label=r,this.label.innerHTML=i.initialySelectedLabel,c.call(this,e,i,n),this.controlText("Quality"),n.dynamicLabel)this.el().appendChild(r);else{var a=document.createElement("span");t.dom.addClass(a,"vjs-resolution-button-staticlabel"),this.el().appendChild(a)}},createItems:function(){var e=[],t=this.sources&&this.sources.label||{},i=function(t){e.map(function(e){e.selected(e===t),e.removeClass("vjs-selected")})};for(var n in t)t.hasOwnProperty(n)&&(e.push(new l(this.player_,{label:n,src:t[n],initialySelected:n===this.options_.initialySelectedLabel,customSourcePicker:this.options_.customSourcePicker},i,this.label)),o[n]=e[e.length-1]);return e}});n=function(e){function n(e,t){return e.res&&t.res?+t.res-+e.res:0}function s(e){var t={label:{},res:{},type:{}};return e.map(function(e){l(t,"label",e),l(t,"res",e),l(t,"type",e),c(t,"label",e),c(t,"res",e),c(t,"type",e)}),t}function l(e,t,i){null==e[t][i[t]]&&(e[t][i[t]]=[])}function c(e,t,i){e[t][i[t]].push(i)}var h=t.mergeOptions(r,e),d=this,p=document.createElement("span"),f={};t.dom.addClass(p,"vjs-resolution-button-label"),d.updateSrc=function(e){if(!e)return d.src();d.controlBar.resolutionSwitcher&&(d.controlBar.resolutionSwitcher.dispose(),delete d.controlBar.resolutionSwitcher),e=e.sort(n);var r=function(e,t){var i=h.default,n="";return"high"===i?(i=t[0].res,n=t[0].label):"low"!==i&&null!=i&&e.res[i]?e.res[i]&&(n=e.res[i][0].label):(i=t[t.length-1].res,n=t[t.length-1].label),{res:i,label:n,sources:e.res[i]}}(f=s(e),e),a=new u(d,{sources:f,initialySelectedLabel:r.label,initialySelectedRes:r.res,customSourcePicker:h.customSourcePicker},h,p);return t.dom.addClass(a.el(),"vjs-resolution-button"),d.controlBar.resolutionSwitcher=d.controlBar.el_.insertBefore(a.el_,d.controlBar.getChild("fullscreenToggle").el_),d.controlBar.resolutionSwitcher.dispose=function(){this.parentNode.removeChild(this)},i(d,r.sources,r.label)},d.currentResolution=function(e,t){return null==e?a:(null!=o[e]&&o[e].onClick(t),d)},d.getGroupedSrc=function(){return f},d.ready(function(){d.options_.sources.length>1&&d.updateSrc(d.options_.sources),"Youtube"===d.techName_&&function(e){e.tech_.ytPlayer.setPlaybackQuality("default"),e.tech_.ytPlayer.addEventListener("onPlaybackQualityChange",function(){e.trigger("resolutionchange")}),e.one("play",function(){var t={highres:{res:1080,label:"1080",yt:"highres"},hd1080:{res:1080,label:"1080",yt:"hd1080"},hd720:{res:720,label:"720",yt:"hd720"},large:{res:480,label:"480",yt:"large"},medium:{res:360,label:"360",yt:"medium"},small:{res:240,label:"240",yt:"small"},tiny:{res:144,label:"144",yt:"tiny"},auto:{res:0,label:"auto",yt:"default"}},i=[];e.tech_.ytPlayer.getAvailableQualityLevels().map(function(n){i.push({src:e.src().src,type:e.src().type,label:t[n].label,res:t[n].res,_yt:t[n].yt})});var n=((f=s(i)).label.auto,new u(e,{sources:f,initialySelectedLabel:"auto",initialySelectedRes:0,customSourcePicker:function(t,i,n){return e.tech_.ytPlayer.setPlaybackQuality(i[0]._yt),e}},h,p));n.el().classList.add("vjs-resolution-button"),e.controlBar.resolutionSwitcher=e.controlBar.addChild(n)})}(d)})},t.registerPlugin("videoJsResolutionSwitcher",n)}(window,n)},function(e,t){function i(e){return"number"==typeof e&&e>=0&&e<=100}var n={"":!0,up:!0};e.exports=function(){var e=100,t=3,r=0,a=100,o=0,s=100,l="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return e},set:function(t){if(!i(t))throw new Error("Width must be between 0 and 100.");e=t}},lines:{enumerable:!0,get:function(){return t},set:function(e){if("number"!=typeof e)throw new TypeError("Lines must be set to a number.");t=e}},regionAnchorY:{enumerable:!0,get:function(){return a},set:function(e){if(!i(e))throw new Error("RegionAnchorX must be between 0 and 100.");a=e}},regionAnchorX:{enumerable:!0,get:function(){return r},set:function(e){if(!i(e))throw new Error("RegionAnchorY must be between 0 and 100.");r=e}},viewportAnchorY:{enumerable:!0,get:function(){return s},set:function(e){if(!i(e))throw new Error("ViewportAnchorY must be between 0 and 100.");s=e}},viewportAnchorX:{enumerable:!0,get:function(){return o},set:function(e){if(!i(e))throw new Error("ViewportAnchorX must be between 0 and 100.");o=e}},scroll:{enumerable:!0,get:function(){return l},set:function(e){var t=function(e){return"string"==typeof e&&!!n[e.toLowerCase()]&&e.toLowerCase()}(e);if(!1===t)throw new SyntaxError("An invalid or illegal string was specified.");l=t}}})}},function(e,t){function i(e){return"string"==typeof e&&!!s[e.toLowerCase()]&&e.toLowerCase()}function n(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)e[n]=i[n]}return e}function r(e,t,r){var s=this,l=/MSIE\s8\.0/.test(navigator.userAgent),c={};l?s=document.createElement("custom"):c.enumerable=!0,s.hasBeenReset=!1;var u="",h=!1,d=e,p=t,f=r,m=null,g="",v=!0,y="auto",b="start",_=50,A="middle",E=50,w="middle";if(Object.defineProperty(s,"id",n({},c,{get:function(){return u},set:function(e){u=""+e}})),Object.defineProperty(s,"pauseOnExit",n({},c,{get:function(){return h},set:function(e){h=!!e}})),Object.defineProperty(s,"startTime",n({},c,{get:function(){return d},set:function(e){if("number"!=typeof e)throw new TypeError("Start time must be set to a number.");d=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"endTime",n({},c,{get:function(){return p},set:function(e){if("number"!=typeof e)throw new TypeError("End time must be set to a number.");p=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"text",n({},c,{get:function(){return f},set:function(e){f=""+e,this.hasBeenReset=!0}})),Object.defineProperty(s,"region",n({},c,{get:function(){return m},set:function(e){m=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"vertical",n({},c,{get:function(){return g},set:function(e){var t=function(e){return"string"==typeof e&&!!o[e.toLowerCase()]&&e.toLowerCase()}(e);if(!1===t)throw new SyntaxError("An invalid or illegal string was specified.");g=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"snapToLines",n({},c,{get:function(){return v},set:function(e){v=!!e,this.hasBeenReset=!0}})),Object.defineProperty(s,"line",n({},c,{get:function(){return y},set:function(e){if("number"!=typeof e&&e!==a)throw new SyntaxError("An invalid number or illegal string was specified.");y=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"lineAlign",n({},c,{get:function(){return b},set:function(e){var t=i(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");b=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"position",n({},c,{get:function(){return _},set:function(e){if(e<0||e>100)throw new Error("Position must be between 0 and 100.");_=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"positionAlign",n({},c,{get:function(){return A},set:function(e){var t=i(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");A=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"size",n({},c,{get:function(){return E},set:function(e){if(e<0||e>100)throw new Error("Size must be between 0 and 100.");E=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"align",n({},c,{get:function(){return w},set:function(e){var t=i(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");w=t,this.hasBeenReset=!0}})),s.displayState=void 0,l)return s}var a="auto",o={"":!0,lr:!0,rl:!0},s={start:!0,middle:!0,end:!0,left:!0,right:!0};r.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)},e.exports=r},function(e,t){function i(e,t){this.name="ParsingError",this.code=e.code,this.message=t||e.message}function n(e){function t(e,t,i,n){return 3600*(0|e)+60*(0|t)+(0|i)+(0|n)/1e3}var i=e.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return i?i[3]?t(i[1],i[2],i[3].replace(":",""),i[4]):i[1]>59?t(i[1],i[2],0,i[4]):t(0,i[1],i[2],i[4]):null}function r(){this.values=f(null)}function a(e,t,i,n){var r=n?e.split(n):[e];for(var a in r)if("string"==typeof r[a]){var o=r[a].split(i);2===o.length&&t(o[0],o[1])}}function o(e,t,o){function s(){var t=n(e);if(null===t)throw new i(i.Errors.BadTimeStamp,"Malformed timestamp: "+c);return e=e.replace(/^[^\sa-zA-Z-]+/,""),t}function l(){e=e.replace(/^\s+/,"")}var c=e;if(l(),t.startTime=s(),l(),"--\x3e"!==e.substr(0,3))throw new i(i.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): "+c);e=e.substr(3),l(),t.endTime=s(),l(),function(e,t){var i=new r;a(e,function(e,t){switch(e){case"region":for(var n=o.length-1;n>=0;n--)if(o[n].id===t){i.set(e,o[n].region);break}break;case"vertical":i.alt(e,t,["rl","lr"]);break;case"line":var r=t.split(","),a=r[0];i.integer(e,a),i.percent(e,a)&&i.set("snapToLines",!1),i.alt(e,a,["auto"]),2===r.length&&i.alt("lineAlign",r[1],["start","middle","end"]);break;case"position":r=t.split(","),i.percent(e,r[0]),2===r.length&&i.alt("positionAlign",r[1],["start","middle","end"]);break;case"size":i.percent(e,t);break;case"align":i.alt(e,t,["start","middle","end","left","right"])}},/:/,/\s/),t.region=i.get("region",null),t.vertical=i.get("vertical",""),t.line=i.get("line","auto"),t.lineAlign=i.get("lineAlign","start"),t.snapToLines=i.get("snapToLines",!0),t.size=i.get("size",100),t.align=i.get("align","middle"),t.position=i.get("position",{start:0,left:0,middle:50,end:100,right:100},t.align),t.positionAlign=i.get("positionAlign",{start:"start",left:"start",middle:"middle",end:"end",right:"end"},t.align)}(e,t)}function s(e,t){function i(e){return m[e]}for(var r,a=e.document.createElement("div"),o=a,s=[];null!==(r=function(){if(!t)return null;var e,i=t.match(/^([^<]*)(<[^>]*>?)?/);return e=i[1]?i[1]:i[2],t=t.substr(e.length),e}());)if("<"!==r[0])o.appendChild(e.document.createTextNode(function(e){for(;u=e.match(/&(amp|lt|gt|lrm|rlm|nbsp);/);)e=e.replace(u[0],i);return e}(r)));else{if("/"===r[1]){s.length&&s[s.length-1]===r.substr(2).replace(">","")&&(s.pop(),o=o.parentNode);continue}var l,c=n(r.substr(1,r.length-2));if(c){l=e.document.createProcessingInstruction("timestamp",c),o.appendChild(l);continue}var u=r.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!u)continue;if(!(l=function(t,i){var n=g[t];if(!n)return null;var r=e.document.createElement(n);r.localName=n;var a=v[t];return a&&i&&(r[a]=i.trim()),r}(u[1],u[3])))continue;if(!function(e,t){return!y[t.localName]||y[t.localName]===e.localName}(o,l))continue;u[2]&&(l.className=u[2].substr(1).replace("."," ")),s.push(u[1]),o.appendChild(l),o=l}return a}function l(e){for(var t=0;t<b.length;t++){var i=b[t];if(e>=i[0]&&e<=i[1])return!0}return!1}function c(){}function u(e,t,i){var n=/MSIE\s8\.0/.test(navigator.userAgent),r="rgba(255, 255, 255, 1)",a="rgba(0, 0, 0, 0.8)";n&&(r="rgb(255, 255, 255)",a="rgb(0, 0, 0)"),c.call(this),this.cue=t,this.cueDiv=s(e,t.text);var o={color:r,backgroundColor:a,position:"relative",left:0,right:0,top:0,bottom:0,display:"inline"};n||(o.writingMode=""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",o.unicodeBidi="plaintext"),this.applyStyles(o,this.cueDiv),this.div=e.document.createElement("div"),o={textAlign:"middle"===t.align?"center":t.align,font:i.font,whiteSpace:"pre-line",position:"absolute"},n||(o.direction=function(e){function t(e,t){for(var i=t.childNodes.length-1;i>=0;i--)e.push(t.childNodes[i])}function i(e){if(!e||!e.length)return null;var n=e.pop(),r=n.textContent||n.innerText;if(r){var a=r.match(/^.*(\n|\r)/);return a?(e.length=0,a[0]):r}return"ruby"===n.tagName?i(e):n.childNodes?(t(e,n),i(e)):void 0}var n=[],r="";if(!e||!e.childNodes)return"ltr";for(t(n,e);r=i(n);)for(var a=0;a<r.length;a++)if(l(r.charCodeAt(a)))return"rtl";return"ltr"}(this.cueDiv),o.writingMode=""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl".stylesunicodeBidi="plaintext"),this.applyStyles(o),this.div.appendChild(this.cueDiv);var u=0;switch(t.positionAlign){case"start":u=t.position;break;case"middle":u=t.position-t.size/2;break;case"end":u=t.position-t.size}""===t.vertical?this.applyStyles({left:this.formatStyle(u,"%"),width:this.formatStyle(t.size,"%")}):this.applyStyles({top:this.formatStyle(u,"%"),height:this.formatStyle(t.size,"%")}),this.move=function(e){this.applyStyles({top:this.formatStyle(e.top,"px"),bottom:this.formatStyle(e.bottom,"px"),left:this.formatStyle(e.left,"px"),right:this.formatStyle(e.right,"px"),height:this.formatStyle(e.height,"px"),width:this.formatStyle(e.width,"px")})}}function h(e){var t,i,n,r,a=/MSIE\s8\.0/.test(navigator.userAgent);if(e.div){i=e.div.offsetHeight,n=e.div.offsetWidth,r=e.div.offsetTop;var o=(o=e.div.childNodes)&&(o=o[0])&&o.getClientRects&&o.getClientRects();e=e.div.getBoundingClientRect(),t=o?Math.max(o[0]&&o[0].height||0,e.height/o.length):0}this.left=e.left,this.right=e.right,this.top=e.top||r,this.height=e.height||i,this.bottom=e.bottom||r+(e.height||i),this.width=e.width||n,this.lineHeight=void 0!==t?t:e.lineHeight,a&&!this.lineHeight&&(this.lineHeight=13)}function d(e,t,i,n){var r=new h(t),a=t.cue,o=function(e){if("number"==typeof e.line&&(e.snapToLines||e.line>=0&&e.line<=100))return e.line;if(!e.track||!e.track.textTrackList||!e.track.textTrackList.mediaElement)return-1;for(var t=e.track,i=t.textTrackList,n=0,r=0;r<i.length&&i[r]!==t;r++)"showing"===i[r].mode&&n++;return-1*++n}(a),s=[];if(a.snapToLines){var l;switch(a.vertical){case"":s=["+y","-y"],l="height";break;case"rl":s=["+x","-x"],l="width";break;case"lr":s=["-x","+x"],l="width"}var c=r.lineHeight,u=c*Math.round(o),d=i[l]+c,p=s[0];Math.abs(u)>d&&(u=u<0?-1:1,u*=Math.ceil(d/c)*c),o<0&&(u+=""===a.vertical?i.height:i.width,s=s.reverse()),r.move(p,u)}else{var f=r.lineHeight/i.height*100;switch(a.lineAlign){case"middle":o-=f/2;break;case"end":o-=f}switch(a.vertical){case"":t.applyStyles({top:t.formatStyle(o,"%")});break;case"rl":t.applyStyles({left:t.formatStyle(o,"%")});break;case"lr":t.applyStyles({right:t.formatStyle(o,"%")})}s=["+y","-x","+x","-y"],r=new h(t)}var m=function(e,t){for(var r,a=new h(e),o=1,s=0;s<t.length;s++){for(;e.overlapsOppositeAxis(i,t[s])||e.within(i)&&e.overlapsAny(n);)e.move(t[s]);if(e.within(i))return e;var l=e.intersectPercentage(i);o>l&&(r=new h(e),o=l),e=new h(a)}return r||a}(r,s);t.move(m.toCSSCompatValues(i))}function p(){}var f=Object.create||function(){function e(){}return function(t){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return e.prototype=t,new e}}();i.prototype=f(Error.prototype),i.prototype.constructor=i,i.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},r.prototype={set:function(e,t){this.get(e)||""===t||(this.values[e]=t)},get:function(e,t,i){return i?this.has(e)?this.values[e]:t[i]:this.has(e)?this.values[e]:t},has:function(e){return e in this.values},alt:function(e,t,i){for(var n=0;n<i.length;++n)if(t===i[n]){this.set(e,t);break}},integer:function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},percent:function(e,t){return!!(t.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(t=parseFloat(t))>=0&&t<=100)&&(this.set(e,t),!0)}};var m={"&amp;":"&","&lt;":"<","&gt;":">","&lrm;":"\u200e","&rlm;":"\u200f","&nbsp;":"\xa0"},g={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},v={v:"title",lang:"lang"},y={rt:"ruby"},b=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];c.prototype.applyStyles=function(e,t){for(var i in t=t||this.div,e)e.hasOwnProperty(i)&&(t.style[i]=e[i])},c.prototype.formatStyle=function(e,t){return 0===e?0:e+t},u.prototype=f(c.prototype),u.prototype.constructor=u,h.prototype.move=function(e,t){switch(t=void 0!==t?t:this.lineHeight,e){case"+x":this.left+=t,this.right+=t;break;case"-x":this.left-=t,this.right-=t;break;case"+y":this.top+=t,this.bottom+=t;break;case"-y":this.top-=t,this.bottom-=t}},h.prototype.overlaps=function(e){return this.left<e.right&&this.right>e.left&&this.top<e.bottom&&this.bottom>e.top},h.prototype.overlapsAny=function(e){for(var t=0;t<e.length;t++)if(this.overlaps(e[t]))return!0;return!1},h.prototype.within=function(e){return this.top>=e.top&&this.bottom<=e.bottom&&this.left>=e.left&&this.right<=e.right},h.prototype.overlapsOppositeAxis=function(e,t){switch(t){case"+x":return this.left<e.left;case"-x":return this.right>e.right;case"+y":return this.top<e.top;case"-y":return this.bottom>e.bottom}},h.prototype.intersectPercentage=function(e){return Math.max(0,Math.min(this.right,e.right)-Math.max(this.left,e.left))*Math.max(0,Math.min(this.bottom,e.bottom)-Math.max(this.top,e.top))/(this.height*this.width)},h.prototype.toCSSCompatValues=function(e){return{top:this.top-e.top,bottom:e.bottom-this.bottom,left:this.left-e.left,right:e.right-this.right,height:this.height,width:this.width}},h.getSimpleBoxPosition=function(e){var t=e.div?e.div.offsetHeight:e.tagName?e.offsetHeight:0,i=e.div?e.div.offsetWidth:e.tagName?e.offsetWidth:0,n=e.div?e.div.offsetTop:e.tagName?e.offsetTop:0;return{left:(e=e.div?e.div.getBoundingClientRect():e.tagName?e.getBoundingClientRect():e).left,right:e.right,top:e.top||n,height:e.height||t,bottom:e.bottom||n+(e.height||t),width:e.width||i}},p.StringDecoder=function(){return{decode:function(e){if(!e)return"";if("string"!=typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}},p.convertCueToDOMTree=function(e,t){return e&&t?s(e,t):null},p.processCues=function(e,t,i){if(!e||!t||!i)return null;for(;i.firstChild;)i.removeChild(i.firstChild);var n=e.document.createElement("div");if(n.style.position="absolute",n.style.left="0",n.style.right="0",n.style.top="0",n.style.bottom="0",n.style.margin="1.5%",i.appendChild(n),function(e){for(var t=0;t<e.length;t++)if(e[t].hasBeenReset||!e[t].displayState)return!0;return!1}(t)){var r=[],a=h.getSimpleBoxPosition(n),o={font:Math.round(.05*a.height*100)/100+"px sans-serif"};!function(){for(var i,s,l=0;l<t.length;l++)s=t[l],i=new u(e,s,o),n.appendChild(i.div),d(0,i,a,r),s.displayState=i.div,r.push(h.getSimpleBoxPosition(i))}()}else for(var s=0;s<t.length;s++)n.appendChild(t[s].displayState)},p.Parser=function(e,t,i){i||(i=t,t={}),t||(t={}),this.window=e,this.vttjs=t,this.state="INITIAL",this.buffer="",this.decoder=i||new TextDecoder("utf8"),this.regionList=[]},p.Parser.prototype={reportOrThrowError:function(e){if(!(e instanceof i))throw e;this.onparsingerror&&this.onparsingerror(e)},parse:function(e){function t(){for(var e=s.buffer,t=0;t<e.length&&"\r"!==e[t]&&"\n"!==e[t];)++t;var i=e.substr(0,t);return"\r"===e[t]&&++t,"\n"===e[t]&&++t,s.buffer=e.substr(t),i}var s=this;e&&(s.buffer+=s.decoder.decode(e,{stream:!0}));try{var l;if("INITIAL"===s.state){if(!/\r\n|\n/.test(s.buffer))return this;var c=(l=t()).match(/^WEBVTT([ \t].*)?$/);if(!c||!c[0])throw new i(i.Errors.BadSignature);s.state="HEADER"}for(var u=!1;s.buffer;){if(!/\r\n|\n/.test(s.buffer))return this;switch(u?u=!1:l=t(),s.state){case"HEADER":/:/.test(l)?function(e){e.match(/X-TIMESTAMP-MAP/)?a(e,function(e,t){switch(e){case"X-TIMESTAMP-MAP":i=t,o=new r,a(i,function(e,t){switch(e){case"MPEGT":o.integer(e+"S",t);break;case"LOCA":o.set(e+"L",n(t))}},/[^\d]:/,/,/),s.ontimestampmap&&s.ontimestampmap({MPEGTS:o.get("MPEGTS"),LOCAL:o.get("LOCAL")})}var i,o},/=/):a(e,function(e,t){switch(e){case"Region":!function(e){var t=new r;if(a(e,function(e,i){switch(e){case"id":t.set(e,i);break;case"width":t.percent(e,i);break;case"lines":t.integer(e,i);break;case"regionanchor":case"viewportanchor":var n=i.split(",");if(2!==n.length)break;var a=new r;if(a.percent("x",n[0]),a.percent("y",n[1]),!a.has("x")||!a.has("y"))break;t.set(e+"X",a.get("x")),t.set(e+"Y",a.get("y"));break;case"scroll":t.alt(e,i,["up"])}},/=/,/\s/),t.has("id")){var i=new(s.vttjs.VTTRegion||s.window.VTTRegion);i.width=t.get("width",100),i.lines=t.get("lines",3),i.regionAnchorX=t.get("regionanchorX",0),i.regionAnchorY=t.get("regionanchorY",100),i.viewportAnchorX=t.get("viewportanchorX",0),i.viewportAnchorY=t.get("viewportanchorY",100),i.scroll=t.get("scroll",""),s.onregion&&s.onregion(i),s.regionList.push({id:t.get("id"),region:i})}}(t)}},/:/)}(l):l||(s.state="ID");continue;case"NOTE":l||(s.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(l)){s.state="NOTE";break}if(!l)continue;if(s.cue=new(s.vttjs.VTTCue||s.window.VTTCue)(0,0,""),s.state="CUE",-1===l.indexOf("--\x3e")){s.cue.id=l;continue}case"CUE":try{o(l,s.cue,s.regionList)}catch(e){s.reportOrThrowError(e),s.cue=null,s.state="BADCUE";continue}s.state="CUETEXT";continue;case"CUETEXT":var h=-1!==l.indexOf("--\x3e");if(!l||h&&(u=!0)){s.oncue&&s.oncue(s.cue),s.cue=null,s.state="ID";continue}s.cue.text&&(s.cue.text+="\n"),s.cue.text+=l;continue;case"BADCUE":l||(s.state="ID");continue}}}catch(e){s.reportOrThrowError(e),"CUETEXT"===s.state&&s.cue&&s.oncue&&s.oncue(s.cue),s.cue=null,s.state="INITIAL"===s.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){try{if(this.buffer+=this.decoder.decode(),(this.cue||"HEADER"===this.state)&&(this.buffer+="\n\n",this.parse()),"INITIAL"===this.state)throw new i(i.Errors.BadSignature)}catch(e){this.reportOrThrowError(e)}return this.onflush&&this.onflush(),this}},e.exports=p},function(e,t,i){var n=i(1),r=e.exports={WebVTT:i(94),VTTCue:i(93),VTTRegion:i(92)};n.vttjs=r,n.WebVTT=r.WebVTT;var a=r.VTTCue,o=r.VTTRegion,s=n.VTTCue,l=n.VTTRegion;r.shim=function(){n.VTTCue=a,n.VTTRegion=o},r.restore=function(){n.VTTCue=s,n.VTTRegion=l},n.VTTCue||r.shim()},function(e,t){e.exports=function(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var r in n)i.call(n,r)&&(e[r]=n[r])}return e};var i=Object.prototype.hasOwnProperty},function(e,t,i){var n=i(38);e.exports=function(e,t,i){if(!n(t))throw new TypeError("iterator must be a function");arguments.length<3&&(i=this),"[object Array]"===r.call(e)?function(e,t,i){for(var n=0,r=e.length;n<r;n++)a.call(e,n)&&t.call(i,e[n],n,e)}(e,t,i):"string"==typeof e?function(e,t,i){for(var n=0,r=e.length;n<r;n++)t.call(i,e.charAt(n),n,e)}(e,t,i):function(e,t,i){for(var n in e)a.call(e,n)&&t.call(i,e[n],n,e)}(e,t,i)};var r=Object.prototype.toString,a=Object.prototype.hasOwnProperty},function(e,t){(t=e.exports=function(e){return e.replace(/^\s*|\s*$/g,"")}).left=function(e){return e.replace(/^\s*/,"")},t.right=function(e){return e.replace(/\s*$/,"")}},function(e,t,i){var n=i(98),r=i(97);e.exports=function(e){if(!e)return{};var t={};return r(n(e).split("\n"),function(e){var i,r=e.indexOf(":"),a=n(e.slice(0,r)).toLowerCase(),o=n(e.slice(r+1));void 0===t[a]?t[a]=o:(i=t[a],"[object Array]"===Object.prototype.toString.call(i)?t[a].push(o):t[a]=[t[a],o])}),t}},function(e,t,i){"use strict";function n(e,t,i){var n=e;return s(t)?(i=t,"string"==typeof e&&(n={uri:e})):n=c(t,{uri:e}),n.callback=i,n}function r(e,t,i){return a(t=n(e,t,i))}function a(e){function t(e){return clearTimeout(u),e instanceof Error||(e=new Error(""+(e||"Unknown XMLHttpRequest Error"))),e.statusCode=0,s(e,v)}function i(){if(!a){var t;clearTimeout(u),t=e.useXDR&&void 0===c.status?200:1223===c.status?204:c.status;var i=v,n=null;return 0!==t?(i={body:function(){var e=void 0;if(e=c.response?c.response:c.responseText||function(e){if("document"===e.responseType)return e.responseXML;var t=e.responseXML&&"parsererror"===e.responseXML.documentElement.nodeName;return""!==e.responseType||t?null:e.responseXML}(c),g)try{e=JSON.parse(e)}catch(e){}return e}(),statusCode:t,method:d,headers:{},url:h,rawRequest:c},c.getAllResponseHeaders&&(i.headers=l(c.getAllResponseHeaders()))):n=new Error("Internal XMLHttpRequest Error"),s(n,i,i.body)}}if(void 0===e.callback)throw new Error("callback argument missing");var n,a,o=!1,s=function(t,i,n){o||(o=!0,e.callback(t,i,n))},c=e.xhr||null;c||(c=e.cors||e.useXDR?new r.XDomainRequest:new r.XMLHttpRequest);var u,h=c.url=e.uri||e.url,d=c.method=e.method||"GET",p=e.body||e.data,f=c.headers=e.headers||{},m=!!e.sync,g=!1,v={body:void 0,headers:{},statusCode:0,method:d,url:h,rawRequest:c};if("json"in e&&!1!==e.json&&(g=!0,f.accept||f.Accept||(f.Accept="application/json"),"GET"!==d&&"HEAD"!==d&&(f["content-type"]||f["Content-Type"]||(f["Content-Type"]="application/json"),p=JSON.stringify(!0===e.json?p:e.json))),c.onreadystatechange=function(){4===c.readyState&&setTimeout(i,0)},c.onload=i,c.onerror=t,c.onprogress=function(){},c.onabort=function(){a=!0},c.ontimeout=t,c.open(d,h,!m,e.username,e.password),m||(c.withCredentials=!!e.withCredentials),!m&&e.timeout>0&&(u=setTimeout(function(){if(!a){a=!0,c.abort("timeout");var e=new Error("XMLHttpRequest timeout");e.code="ETIMEDOUT",t(e)}},e.timeout)),c.setRequestHeader)for(n in f)f.hasOwnProperty(n)&&c.setRequestHeader(n,f[n]);else if(e.headers&&!function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}(e.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in e&&(c.responseType=e.responseType),"beforeSend"in e&&"function"==typeof e.beforeSend&&e.beforeSend(c),c.send(p||null),c}var o=i(1),s=i(38),l=i(99),c=i(96);e.exports=r,r.XMLHttpRequest=o.XMLHttpRequest||function(){},r.XDomainRequest="withCredentials"in new r.XMLHttpRequest?r.XMLHttpRequest:o.XDomainRequest,function(e,t){for(var i=0;i<e.length;i++)!function(e){r["delete"===e?"del":e]=function(t,i,r){return(i=n(t,i,r)).method=e.toUpperCase(),a(i)}}(e[i])}(["get","put","post","patch","head","delete"])},function(e,t){e.exports=function(e,t){var i,n=null;try{i=JSON.parse(e,t)}catch(e){n=e}return[n,i]}},function(e,t){function i(e){return e.replace(/\n\r?\s*/g,"")}e.exports=function(e){for(var t="",n=0;n<arguments.length;n++)t+=i(e[n])+(arguments[n+1]||"");return t}},function(e,t){},function(e,t,i){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,i){"use strict";var n=i(40),r=i(41),a=i(104);e.exports=function(){function e(e,t,i,n,o,s){s!==a&&r(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var i={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return i.checkPropTypes=n,i.PropTypes=i,i}},function(e,t,i){e.exports=i(105)()},function(e,t,i){"use strict";e.exports={}},function(e,t,i){"use strict";var n=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},i=0;i<10;i++)t["_"+String.fromCharCode(i)]=i;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(e){n[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var i,o,s=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),l=1;l<arguments.length;l++){for(var c in i=Object(arguments[l]))r.call(i,c)&&(s[c]=i[c]);if(n){o=n(i);for(var u=0;u<o.length;u++)a.call(i,o[u])&&(s[o[u]]=i[o[u]])}}return s}},function(e,t,i){"use strict";function n(e){for(var t=arguments.length-1,i="http://reactjs.org/docs/error-decoder.html?invariant="+e,n=0;n<t;n++)i+="&args[]="+encodeURIComponent(arguments[n+1]);v(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",i)}function r(e,t,i){this.props=e,this.context=t,this.refs=y,this.updater=i||P}function a(){}function o(e,t,i){this.props=e,this.context=t,this.refs=y,this.updater=i||P}function s(e,t,i){var n=void 0,r={},a=null,o=null;if(null!=t)for(n in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)M.call(t,n)&&!R.hasOwnProperty(n)&&(r[n]=t[n]);var s=arguments.length-2;if(1===s)r.children=i;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];r.children=l}if(e&&e.defaultProps)for(n in s=e.defaultProps)void 0===r[n]&&(r[n]=s[n]);return{$$typeof:A,type:e,key:a,ref:o,props:r,_owner:I.current}}function l(e){return"object"==typeof e&&null!==e&&e.$$typeof===A}function c(e,t,i,n){if(L.length){var r=L.pop();return r.result=e,r.keyPrefix=t,r.func=i,r.context=n,r.count=0,r}return{result:e,keyPrefix:t,func:i,context:n,count:0}}function u(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>L.length&&L.push(e)}function h(e,t,i,r){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var o=!1;if(null===e)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case A:case E:o=!0}}if(o)return i(r,e,""===t?"."+d(e,0):t),1;if(o=0,t=""===t?".":t+":",Array.isArray(e))for(var s=0;s<e.length;s++){var l=t+d(a=e[s],s);o+=h(a,l,i,r)}else if("function"==typeof(l=null===e||void 0===e?null:"function"==typeof(l=O&&e[O]||e["@@iterator"])?l:null))for(e=l.call(e),s=0;!(a=e.next()).done;)o+=h(a=a.value,l=t+d(a,s++),i,r);else"object"===a&&n("31","[object Object]"===(i=""+e)?"object with keys {"+Object.keys(e).join(", ")+"}":i,"");return o}function d(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return t[e]})}(e.key):t.toString(36)}function p(e,t){e.func.call(e.context,t,e.count++)}function f(e,t,i){var n=e.result,r=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?m(e,n,i,b.thatReturnsArgument):null!=e&&(l(e)&&(t=r+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(D,"$&/")+"/")+i,e={$$typeof:A,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}),n.push(e))}function m(e,t,i,n,r){var a="";null!=i&&(a=(""+i).replace(D,"$&/")+"/"),t=c(t,a,n,r),null==e||h(e,"",f,t),u(t)}var g=i(108),v=i(41),y=i(107),b=i(40),_="function"==typeof Symbol&&Symbol.for,A=_?Symbol.for("react.element"):60103,E=_?Symbol.for("react.portal"):60106,w=_?Symbol.for("react.fragment"):60107,x=_?Symbol.for("react.strict_mode"):60108,T=_?Symbol.for("react.provider"):60109,S=_?Symbol.for("react.context"):60110,C=_?Symbol.for("react.async_mode"):60111,k=_?Symbol.for("react.forward_ref"):60112,O="function"==typeof Symbol&&Symbol.iterator,P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}};r.prototype.isReactComponent={},r.prototype.setState=function(e,t){"object"!=typeof e&&"function"!=typeof e&&null!=e&&n("85"),this.updater.enqueueSetState(this,e,t,"setState")},r.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},a.prototype=r.prototype;var j=o.prototype=new a;j.constructor=o,g(j,r.prototype),j.isPureReactComponent=!0;var I={current:null},M=Object.prototype.hasOwnProperty,R={key:!0,ref:!0,__self:!0,__source:!0},D=/\/+/g,L=[],N={Children:{map:function(e,t,i){if(null==e)return e;var n=[];return m(e,n,null,t,i),n},forEach:function(e,t,i){if(null==e)return e;t=c(null,null,t,i),null==e||h(e,"",p,t),u(t)},count:function(e){return null==e?0:h(e,"",b.thatReturnsNull,null)},toArray:function(e){var t=[];return m(e,t,null,b.thatReturnsArgument),t},only:function(e){return l(e)||n("143"),e}},createRef:function(){return{current:null}},Component:r,PureComponent:o,createContext:function(e,t){return void 0===t&&(t=null),(e={$$typeof:S,_calculateChangedBits:t,_defaultValue:e,_currentValue:e,_changedBits:0,Provider:null,Consumer:null}).Provider={$$typeof:T,_context:e},e.Consumer=e},forwardRef:function(e){return{$$typeof:k,render:e}},Fragment:w,StrictMode:x,unstable_AsyncMode:C,createElement:s,cloneElement:function(e,t,i){(null===e||void 0===e)&&n("267",e);var r=void 0,a=g({},e.props),o=e.key,s=e.ref,l=e._owner;if(null!=t){void 0!==t.ref&&(s=t.ref,l=I.current),void 0!==t.key&&(o=""+t.key);var c=void 0;for(r in e.type&&e.type.defaultProps&&(c=e.type.defaultProps),t)M.call(t,r)&&!R.hasOwnProperty(r)&&(a[r]=void 0===t[r]&&void 0!==c?c[r]:t[r])}if(1===(r=arguments.length-2))a.children=i;else if(1<r){c=Array(r);for(var u=0;u<r;u++)c[u]=arguments[u+2];a.children=c}return{$$typeof:A,type:e.type,key:o,ref:s,props:a,_owner:l}},createFactory:function(e){var t=s.bind(null,e);return t.type=e,t},isValidElement:l,version:"16.3.2",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentOwner:I,assign:g}},B=Object.freeze({default:N}),F=B&&N||B;e.exports=F.default?F.default:F},function(e,t,i){"use strict";e.exports=i(109)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=i(110),s=n(o),l=n(i(106)),c=n(i(0));i(91),i(90),i(85);var u=i(82),h=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.options={},i.sources=[],e.sources.length>1?i.sources=e.sources:i.options.source=e.sources,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"componentDidMount",value:function(){c.default.getTech("html5").registerSourceHandler((0,u.HlsSourceHandler)("html5"),0);var e=this;this.player=(0,c.default)(this.videoContainer,r({},this.props,{plugins:{videoJsResolutionSwitcher:{default:"low",dynamicLabel:!0}}},this.options),function(){var t=this,i=e.props,n=e.sources;i.onReady&&i.onReady(i),n.length>1&&(t.updateSrc([].concat(function(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}(n))),t.on("resolutionchange",function(){i.sourceChanged&&i.sourceChanged(t)}))})}},{key:"componentWillUnmount",value:function(){this.player&&this.player.dispose()}},{key:"render",value:function(){var e=this;return s.default.createElement("div",null,s.default.createElement("video",{ref:function(t){return e.videoContainer=t},className:"video-js"}))}}]),t}();t.default=h,h.propTypes={sources:l.default.array.isRequired,sourceChanged:l.default.func,onReady:l.default.func}},function(e,t,i){e.exports=i(111)}])})},1384:function(e,t,i){var n,r,a;!function(o){r=[i(70),i(1364)],n=o,void 0!==(a="function"===typeof n?n.apply(t,r):n)&&(e.exports=a)}(function(e){return e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase())})},1385:function(e,t,i){var n,r,a;!function(o){r=[i(70),i(1364)],n=o,void 0!==(a="function"===typeof n?n.apply(t,r):n)&&(e.exports=a)}(function(e){return e.ui.plugin={add:function(t,i,n){var r,a=e.ui[t].prototype;for(r in n)a.plugins[r]=a.plugins[r]||[],a.plugins[r].push([i,n[r]])},call:function(e,t,i,n){var r,a=e.plugins[t];if(a&&(n||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(r=0;r<a.length;r++)e.options[a[r][0]]&&a[r][1].apply(e.element,i)}}})},1386:function(e,t,i){var n,r,a;!function(o){r=[i(70),i(1364)],n=o,void 0!==(a="function"===typeof n?n.apply(t,r):n)&&(e.exports=a)}(function(e){return e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(i){return!!e.data(i,t)}}):function(t,i,n){return!!e.data(t,n[3])}})})},1387:function(e,t,i){var n,r,a;!function(o){r=[i(70),i(1364)],n=o,void 0!==(a="function"===typeof n?n.apply(t,r):n)&&(e.exports=a)}(function(e){return e.fn.scrollParent=function(t){var i=this.css("position"),n="absolute"===i,r=t?/(auto|scroll|hidden)/:/(auto|scroll)/,a=this.parents().filter(function(){var t=e(this);return(!n||"static"!==t.css("position"))&&r.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==i&&a.length?a:e(this[0].ownerDocument||document)}})},1388:function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=i(0),s=i.n(o),l=i(160),c=i(1389),u=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),h=function(e){function t(){return n(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){var e=this.props.setting||{};return e&&e.status&&"loading"===e.status&&(e.form=s.a.createElement("div",{className:"cell"},s.a.createElement("span",null,Object(l.a)("main","waiting"),"\u2026"),s.a.createElement("div",{className:"card"},s.a.createElement(c.a,null)))),e&&!e.form&&(e.form=s.a.createElement("ul",null,s.a.createElement("li",null,e.msg),s.a.createElement("li",null,s.a.createElement("span",{className:"btn",onClick:e.close},Object(l.a)("main","confirm"))))),s.a.createElement("div",{name:this.props.refresh,className:"dialog "+e.setting,style:{zIndex:e&&e.status&&"loading"===e.status?9999:999}},s.a.createElement("div",{className:"shadow",onClick:e.close}," "),e.close?"":s.a.createElement("div",{className:"shadow",onClick:e.close}," "),s.a.createElement("div",{className:"scope"},s.a.createElement("div",{className:"win",style:{height:(e.height||200)+"px",width:(e.width||400)+"px",marginTop:(e.top||30)+"vh"}},s.a.createElement("div",{className:"title "+("loading"===e.status?"loading":"")},s.a.createElement("span",null,e.title||Object(l.a)("main","reminder")),e.close?s.a.createElement("span",{className:"close",onClick:e.close}," "):""),s.a.createElement("div",{className:"main",style:e.mainStyle},e.form))))}}]),t}(s.a.Component);t.a=h},1389:function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=i(0),s=i.n(o),l=i(1409),c=(i.n(l),function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}()),u=function(e){function t(){return n(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),c(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"k-square-holder2"},s.a.createElement("div",{className:"k-square4 k-square4a"}),s.a.createElement("div",{className:"k-square4 k-square4b"}),s.a.createElement("div",{className:"k-square4 k-square4c"}),s.a.createElement("div",{className:"k-square4 k-square4d"}))}}]),t}(s.a.Component);t.a=u},1390:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;"undefined"!==typeof navigator&&function(e,t){void 0!==(__WEBPACK_AMD_DEFINE_RESULT__=function(){return t(e)}.call(exports,__webpack_require__,exports,module))&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}(window||{},function(window){"use strict";function ProjectInterface(){return{}}function roundValues(e){bm_rnd=e?Math.round:function(e){return e}}function styleDiv(e){e.style.position="absolute",e.style.top=0,e.style.left=0,e.style.display="block",e.style.transformOrigin=e.style.webkitTransformOrigin="0 0",e.style.backfaceVisibility=e.style.webkitBackfaceVisibility="visible",e.style.transformStyle=e.style.webkitTransformStyle=e.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(e,t,i,n){this.type=e,this.currentTime=t,this.totalTime=i,this.direction=n<0?-1:1}function BMCompleteEvent(e,t){this.type=e,this.direction=t<0?-1:1}function BMCompleteLoopEvent(e,t,i,n){this.type=e,this.currentLoop=i,this.totalLoops=t,this.direction=n<0?-1:1}function BMSegmentStartEvent(e,t,i){this.type=e,this.firstFrame=t,this.totalFrames=i}function BMDestroyEvent(e,t){this.type=e,this.target=t}function BMRenderFrameErrorEvent(e,t){this.type="renderFrameError",this.nativeError=e,this.currentTime=t}function BMConfigErrorEvent(e){this.type="configError",this.nativeError=e}function BMAnimationConfigErrorEvent(e,t){this.type=e,this.nativeError=t,this.currentTime=currentTime}function HSVtoRGB(e,t,i){var n,r,a,o,s,l,c,u;switch(o=Math.floor(6*e),s=6*e-o,l=i*(1-t),c=i*(1-s*t),u=i*(1-(1-s)*t),o%6){case 0:n=i,r=u,a=l;break;case 1:n=c,r=i,a=l;break;case 2:n=l,r=i,a=u;break;case 3:n=l,r=c,a=i;break;case 4:n=u,r=l,a=i;break;case 5:n=i,r=l,a=c}return[n,r,a]}function RGBtoHSV(e,t,i){var n,r=Math.max(e,t,i),a=Math.min(e,t,i),o=r-a,s=0===r?0:o/r,l=r/255;switch(r){case a:n=0;break;case e:n=t-i+o*(t<i?6:0),n/=6*o;break;case t:n=i-e+2*o,n/=6*o;break;case i:n=e-t+4*o,n/=6*o}return[n,s,l]}function addSaturationToRGB(e,t){var i=RGBtoHSV(255*e[0],255*e[1],255*e[2]);return i[1]+=t,i[1]>1?i[1]=1:i[1]<=0&&(i[1]=0),HSVtoRGB(i[0],i[1],i[2])}function addBrightnessToRGB(e,t){var i=RGBtoHSV(255*e[0],255*e[1],255*e[2]);return i[2]+=t,i[2]>1?i[2]=1:i[2]<0&&(i[2]=0),HSVtoRGB(i[0],i[1],i[2])}function addHueToRGB(e,t){var i=RGBtoHSV(255*e[0],255*e[1],255*e[2]);return i[0]+=t/360,i[0]>1?i[0]-=1:i[0]<0&&(i[0]+=1),HSVtoRGB(i[0],i[1],i[2])}function BaseEvent(){}function createSizedArray(e){return Array.apply(null,{length:e})}function createNS(e){return document.createElementNS(svgNS,e)}function createTag(e){return document.createElement(e)}function DynamicPropertyContainer(){}function extendPrototype(e,t){var i,n,r=e.length;for(i=0;i<r;i+=1){n=e[i].prototype;for(var a in n)n.hasOwnProperty(a)&&(t.prototype[a]=n[a])}}function getDescriptor(e,t){return Object.getOwnPropertyDescriptor(e,t)}function createProxyFunction(e){function t(){}return t.prototype=e,t}function bezFunction(){function e(e,t,i,n,r,a){var o=e*n+t*r+i*a-r*n-a*e-i*t;return o>-.001&&o<.001}function t(t,i,n,r,a,o,s,l,c){if(0===n&&0===o&&0===c)return e(t,i,r,a,s,l);var u,h=Math.sqrt(Math.pow(r-t,2)+Math.pow(a-i,2)+Math.pow(o-n,2)),d=Math.sqrt(Math.pow(s-t,2)+Math.pow(l-i,2)+Math.pow(c-n,2)),p=Math.sqrt(Math.pow(s-r,2)+Math.pow(l-a,2)+Math.pow(c-o,2));return(u=h>d?h>p?h-d-p:p-d-h:p>d?p-d-h:d-h-p)>-1e-4&&u<1e-4}function i(e){var t,i=segments_length_pool.newElement(),n=e.c,r=e.v,a=e.o,o=e.i,s=e._length,c=i.lengths,u=0;for(t=0;t<s-1;t+=1)c[t]=l(r[t],r[t+1],a[t],o[t+1]),u+=c[t].addedLength;return n&&s&&(c[t]=l(r[t],r[0],a[t],o[0]),u+=c[t].addedLength),i.totalLength=u,i}function n(e){this.segmentLength=0,this.points=new Array(e)}function r(e,t){this.partialLength=e,this.point=t}function a(e,t){var i=t.percents,n=t.lengths,r=i.length,a=bm_floor((r-1)*e),o=e*t.addedLength,s=0;if(a===r-1||0===a||o===n[a])return i[a];for(var l=n[a]>o?-1:1,c=!0;c;)if(n[a]<=o&&n[a+1]>o?(s=(o-n[a])/(n[a+1]-n[a]),c=!1):a+=l,a<0||a>=r-1){if(a===r-1)return i[a];c=!1}return i[a]+(i[a+1]-i[a])*s}function o(e,t,i,n,r,o){var s=a(r,o),l=1-s;return[Math.round(1e3*(l*l*l*e[0]+(s*l*l+l*s*l+l*l*s)*i[0]+(s*s*l+l*s*s+s*l*s)*n[0]+s*s*s*t[0]))/1e3,Math.round(1e3*(l*l*l*e[1]+(s*l*l+l*s*l+l*l*s)*i[1]+(s*s*l+l*s*s+s*l*s)*n[1]+s*s*s*t[1]))/1e3]}function s(e,t,i,n,r,o,s){r=r<0?0:r>1?1:r;var l=a(r,s);o=o>1?1:o;var c,h=a(o,s),d=e.length,p=1-l,f=1-h,m=p*p*p,g=l*p*p*3,v=l*l*p*3,y=l*l*l,b=p*p*f,_=l*p*f+p*l*f+p*p*h,A=l*l*f+p*l*h+l*p*h,E=l*l*h,w=p*f*f,x=l*f*f+p*h*f+p*f*h,T=l*h*f+p*h*h+l*f*h,S=l*h*h,C=f*f*f,k=h*f*f+f*h*f+f*f*h,O=h*h*f+f*h*h+h*f*h,P=h*h*h;for(c=0;c<d;c+=1)u[4*c]=Math.round(1e3*(m*e[c]+g*i[c]+v*n[c]+y*t[c]))/1e3,u[4*c+1]=Math.round(1e3*(b*e[c]+_*i[c]+A*n[c]+E*t[c]))/1e3,u[4*c+2]=Math.round(1e3*(w*e[c]+x*i[c]+T*n[c]+S*t[c]))/1e3,u[4*c+3]=Math.round(1e3*(C*e[c]+k*i[c]+O*n[c]+P*t[c]))/1e3;return u}var l=(Math,function(){return function(e,t,i,n){var r,a,o,s,l,c,u=defaultCurveSegments,h=0,d=[],p=[],f=bezier_length_pool.newElement();for(o=i.length,r=0;r<u;r+=1){for(l=r/(u-1),c=0,a=0;a<o;a+=1)s=bm_pow(1-l,3)*e[a]+3*bm_pow(1-l,2)*l*i[a]+3*(1-l)*bm_pow(l,2)*n[a]+bm_pow(l,3)*t[a],d[a]=s,null!==p[a]&&(c+=bm_pow(d[a]-p[a],2)),p[a]=d[a];c&&(c=bm_sqrt(c),h+=c),f.percents[r]=l,f.lengths[r]=h}return f.addedLength=h,f}}()),c=function(){var t={};return function(i,a,o,s){var l=(i[0]+"_"+i[1]+"_"+a[0]+"_"+a[1]+"_"+o[0]+"_"+o[1]+"_"+s[0]+"_"+s[1]).replace(/\./g,"p");if(!t[l]){var c,u,h,d,p,f,m,g=defaultCurveSegments,v=0,y=null;2===i.length&&(i[0]!=a[0]||i[1]!=a[1])&&e(i[0],i[1],a[0],a[1],i[0]+o[0],i[1]+o[1])&&e(i[0],i[1],a[0],a[1],a[0]+s[0],a[1]+s[1])&&(g=2);var b=new n(g);for(h=o.length,c=0;c<g;c+=1){for(m=createSizedArray(h),p=c/(g-1),f=0,u=0;u<h;u+=1)d=bm_pow(1-p,3)*i[u]+3*bm_pow(1-p,2)*p*(i[u]+o[u])+3*(1-p)*bm_pow(p,2)*(a[u]+s[u])+bm_pow(p,3)*a[u],m[u]=d,null!==y&&(f+=bm_pow(m[u]-y[u],2));f=bm_sqrt(f),v+=f,b.points[c]=new r(f,m),y=m}b.segmentLength=v,t[l]=b}return t[l]}}(),u=createTypedArray("float32",8);return{getSegmentsLength:i,getNewSegment:s,getPointInSegment:o,buildBezierData:c,pointOnLine2D:e,pointOnLine3D:t}}function dataFunctionManager(){function e(r,a,s){var l,c,u,h,d,p,f=r.length;for(c=0;c<f;c+=1)if("ks"in(l=r[c])&&!l.completed){if(l.completed=!0,l.tt&&(r[c-1].td=l.tt),[],-1,l.hasMask){var m=l.masksProperties;for(h=m.length,u=0;u<h;u+=1)if(m[u].pt.k.i)n(m[u].pt.k);else for(p=m[u].pt.k.length,d=0;d<p;d+=1)m[u].pt.k[d].s&&n(m[u].pt.k[d].s[0]),m[u].pt.k[d].e&&n(m[u].pt.k[d].e[0])}0===l.ty?(l.layers=t(l.refId,a),e(l.layers,a,s)):4===l.ty?i(l.shapes):5==l.ty&&o(l,s)}}function t(e,t){for(var i=0,n=t.length;i<n;){if(t[i].id===e)return t[i].layers.__used?JSON.parse(JSON.stringify(t[i].layers)):(t[i].layers.__used=!0,t[i].layers);i+=1}}function i(e){var t,r,a,o=e.length;for(t=o-1;t>=0;t-=1)if("sh"==e[t].ty){if(e[t].ks.k.i)n(e[t].ks.k);else for(a=e[t].ks.k.length,r=0;r<a;r+=1)e[t].ks.k[r].s&&n(e[t].ks.k[r].s[0]),e[t].ks.k[r].e&&n(e[t].ks.k[r].e[0]);!0}else"gr"==e[t].ty&&i(e[t].it)}function n(e){var t,i=e.i.length;for(t=0;t<i;t+=1)e.i[t][0]+=e.v[t][0],e.i[t][1]+=e.v[t][1],e.o[t][0]+=e.v[t][0],e.o[t][1]+=e.v[t][1]}function r(e,t){var i=t?t.split("."):[100,100,100];return e[0]>i[0]||!(i[0]>e[0])&&(e[1]>i[1]||!(i[1]>e[1])&&(e[2]>i[2]||!(i[2]>e[2])&&void 0))}function a(t,i){t.__complete||(c(t),s(t),l(t),u(t),e(t.layers,t.assets,i),t.__complete=!0)}function o(e,t){0!==e.t.a.length||"m"in e.t.p||(e.singleShape=!0)}var s=function(){function e(e){var t=e.t.d;e.t.d={k:[{s:t,t:0}]}}function t(t){var i,n=t.length;for(i=0;i<n;i+=1)5===t[i].ty&&e(t[i])}var i=[4,4,14];return function(e){if(r(i,e.v)&&(t(e.layers),e.assets)){var n,a=e.assets.length;for(n=0;n<a;n+=1)e.assets[n].layers&&t(e.assets[n].layers)}}}(),l=function(){var e=[4,7,99];return function(t){if(t.chars&&!r(e,t.v)){var i,a,o,s,l,c=t.chars.length;for(i=0;i<c;i+=1)if(t.chars[i].data&&t.chars[i].data.shapes)for(l=t.chars[i].data.shapes[0].it,o=l.length,a=0;a<o;a+=1)s=l[a].ks.k,s.__converted||(n(l[a].ks.k),s.__converted=!0)}}}(),c=function(){function e(t){var i,n,r,a=t.length;for(i=0;i<a;i+=1)if("gr"===t[i].ty)e(t[i].it);else if("fl"===t[i].ty||"st"===t[i].ty)if(t[i].c.k&&t[i].c.k[0].i)for(r=t[i].c.k.length,n=0;n<r;n+=1)t[i].c.k[n].s&&(t[i].c.k[n].s[0]/=255,t[i].c.k[n].s[1]/=255,t[i].c.k[n].s[2]/=255,t[i].c.k[n].s[3]/=255),t[i].c.k[n].e&&(t[i].c.k[n].e[0]/=255,t[i].c.k[n].e[1]/=255,t[i].c.k[n].e[2]/=255,t[i].c.k[n].e[3]/=255);else t[i].c.k[0]/=255,t[i].c.k[1]/=255,t[i].c.k[2]/=255,t[i].c.k[3]/=255}function t(t){var i,n=t.length;for(i=0;i<n;i+=1)4===t[i].ty&&e(t[i].shapes)}var i=[4,1,9];return function(e){if(r(i,e.v)&&(t(e.layers),e.assets)){var n,a=e.assets.length;for(n=0;n<a;n+=1)e.assets[n].layers&&t(e.assets[n].layers)}}}(),u=function(){function e(t){var i,n,r,a=t.length;for(i=a-1;i>=0;i-=1)if("sh"==t[i].ty){if(t[i].ks.k.i)t[i].ks.k.c=t[i].closed;else for(r=t[i].ks.k.length,n=0;n<r;n+=1)t[i].ks.k[n].s&&(t[i].ks.k[n].s[0].c=t[i].closed),t[i].ks.k[n].e&&(t[i].ks.k[n].e[0].c=t[i].closed);!0}else"gr"==t[i].ty&&e(t[i].it)}function t(t){var i,n,r,a,o,s,l=t.length;for(n=0;n<l;n+=1){if(i=t[n],i.hasMask){var c=i.masksProperties;for(a=c.length,r=0;r<a;r+=1)if(c[r].pt.k.i)c[r].pt.k.c=c[r].cl;else for(s=c[r].pt.k.length,o=0;o<s;o+=1)c[r].pt.k[o].s&&(c[r].pt.k[o].s[0].c=c[r].cl),c[r].pt.k[o].e&&(c[r].pt.k[o].e[0].c=c[r].cl)}4===i.ty&&e(i.shapes)}}var i=[4,4,18];return function(e){if(r(i,e.v)&&(t(e.layers),e.assets)){var n,a=e.assets.length;for(n=0;n<a;n+=1)e.assets[n].layers&&t(e.assets[n].layers)}}}(),h={};return h.completeData=a,h.checkColors=c,h.checkChars=l,h.checkShapes=u,h.completeLayers=e,h}function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}function ShapeModifier(){}function TrimModifier(){}function RoundCornersModifier(){}function RepeaterModifier(){}function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}function DashProperty(e,t,i,n){this.elem=e,this.frameId=-1,this.dataProps=createSizedArray(t.length),this.renderer=i,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",t.length?t.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(n);var r,a,o=t.length||0;for(r=0;r<o;r+=1)a=PropertyFactory.getProp(e,t[r].v,0,0,this),this.k=a.k||this.k,this.dataProps[r]={n:t[r].n,p:a};this.k||this.getValue(!0),this._isAnimated=this.k}function GradientProperty(e,t,i){this.data=t,this.c=createTypedArray("uint8c",4*t.p);var n=t.k.k[0].s?t.k.k[0].s.length-4*t.p:t.k.k.length-4*t.p;this.o=createTypedArray("float32",n),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=n,this.initDynamicPropertyContainer(i),this.prop=PropertyFactory.getProp(e,t.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}function TextAnimatorProperty(e,t,i){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=e,this._renderType=t,this._elem=i,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(i)}function TextAnimatorDataProperty(e,t,i){var n={propType:!1},r=PropertyFactory.getProp,a=t.a;this.a={r:a.r?r(e,a.r,0,degToRads,i):n,rx:a.rx?r(e,a.rx,0,degToRads,i):n,ry:a.ry?r(e,a.ry,0,degToRads,i):n,sk:a.sk?r(e,a.sk,0,degToRads,i):n,sa:a.sa?r(e,a.sa,0,degToRads,i):n,s:a.s?r(e,a.s,1,.01,i):n,a:a.a?r(e,a.a,1,0,i):n,o:a.o?r(e,a.o,0,.01,i):n,p:a.p?r(e,a.p,1,0,i):n,sw:a.sw?r(e,a.sw,0,0,i):n,sc:a.sc?r(e,a.sc,1,0,i):n,fc:a.fc?r(e,a.fc,1,0,i):n,fh:a.fh?r(e,a.fh,0,0,i):n,fs:a.fs?r(e,a.fs,0,.01,i):n,fb:a.fb?r(e,a.fb,0,.01,i):n,t:a.t?r(e,a.t,0,0,i):n},this.s=TextSelectorProp.getTextSelectorProp(e,t.s,i),this.s.t=t.s.t}function LetterProps(e,t,i,n,r,a){this.o=e,this.sw=t,this.sc=i,this.fc=n,this.m=r,this.p=a,this._mdf={o:!0,sw:!!t,sc:!!i,fc:!!n,m:!0,p:!0}}function TextProperty(e,t){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,this.data=t,this.elem=e,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}function BaseRenderer(){}function SVGRenderer(e,t){this.animationItem=e,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var i="";if(t&&t.title){var n=createNS("title"),r=createElementID();n.setAttribute("id",r),n.textContent=t.title,this.svgElement.appendChild(n),i+=r}if(t&&t.description){var a=createNS("desc"),o=createElementID();a.setAttribute("id",o),a.textContent=t.description,this.svgElement.appendChild(a),i+=" "+o}i&&this.svgElement.setAttribute("aria-labelledby",i);var s=createNS("defs");this.svgElement.appendChild(s);var l=createNS("g");this.svgElement.appendChild(l),this.layerElement=l,this.renderConfig={preserveAspectRatio:t&&t.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:t&&t.imagePreserveAspectRatio||"xMidYMid slice",progressiveLoad:t&&t.progressiveLoad||!1,hideOnTransparent:!t||!1!==t.hideOnTransparent,viewBoxOnly:t&&t.viewBoxOnly||!1,viewBoxSize:t&&t.viewBoxSize||!1,className:t&&t.className||"",id:t&&t.id||"",focusable:t&&t.focusable,filterSize:{width:t&&t.filterSize&&t.filterSize.width||"100%",height:t&&t.filterSize&&t.filterSize.height||"100%",x:t&&t.filterSize&&t.filterSize.x||"0%",y:t&&t.filterSize&&t.filterSize.y||"0%"}},this.globalData={_mdf:!1,frameNum:-1,defs:s,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}function CanvasRenderer(e,t){this.animationItem=e,this.renderConfig={clearCanvas:!t||void 0===t.clearCanvas||t.clearCanvas,context:t&&t.context||null,progressiveLoad:t&&t.progressiveLoad||!1,preserveAspectRatio:t&&t.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:t&&t.imagePreserveAspectRatio||"xMidYMid slice",className:t&&t.className||"",id:t&&t.id||""},this.renderConfig.dpr=t&&t.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=t&&t.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas"}function HybridRenderer(e,t){this.animationItem=e,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:t&&t.className||"",imagePreserveAspectRatio:t&&t.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!t||!1!==t.hideOnTransparent,filterSize:{width:t&&t.filterSize&&t.filterSize.width||"400%",height:t&&t.filterSize&&t.filterSize.height||"400%",x:t&&t.filterSize&&t.filterSize.x||"-100%",y:t&&t.filterSize&&t.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}function MaskElement(e,t,i){this.data=e,this.element=t,this.globalData=i,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var n,r=this.globalData.defs,a=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(a),this.solidPath="";var o,s,l,c,u,h,d,p=this.masksProperties,f=0,m=[],g=createElementID(),v="clipPath",y="clip-path";for(n=0;n<a;n++)if(("a"!==p[n].mode&&"n"!==p[n].mode||p[n].inv||100!==p[n].o.k||p[n].o.x)&&(v="mask",y="mask"),"s"!=p[n].mode&&"i"!=p[n].mode||0!==f?c=null:(c=createNS("rect"),c.setAttribute("fill","#ffffff"),c.setAttribute("width",this.element.comp.data.w||0),c.setAttribute("height",this.element.comp.data.h||0),m.push(c)),o=createNS("path"),"n"!=p[n].mode){f+=1,o.setAttribute("fill","s"===p[n].mode?"#000000":"#ffffff"),o.setAttribute("clip-rule","nonzero");var b;if(0!==p[n].x.k?(v="mask",y="mask",d=PropertyFactory.getProp(this.element,p[n].x,0,null,this.element),b=createElementID(),u=createNS("filter"),u.setAttribute("id",b),h=createNS("feMorphology"),h.setAttribute("operator","erode"),h.setAttribute("in","SourceGraphic"),h.setAttribute("radius","0"),u.appendChild(h),r.appendChild(u),o.setAttribute("stroke","s"===p[n].mode?"#000000":"#ffffff")):(h=null,d=null),this.storedData[n]={elem:o,x:d,expan:h,lastPath:"",lastOperator:"",filterId:b,lastRadius:0},"i"==p[n].mode){l=m.length;var _=createNS("g");for(s=0;s<l;s+=1)_.appendChild(m[s]);var A=createNS("mask");A.setAttribute("mask-type","alpha"),A.setAttribute("id",g+"_"+f),A.appendChild(o),r.appendChild(A),_.setAttribute("mask","url("+locationHref+"#"+g+"_"+f+")"),m.length=0,m.push(_)}else m.push(o);p[n].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[n]={elem:o,lastPath:"",op:PropertyFactory.getProp(this.element,p[n].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,p[n],3),invRect:c},this.viewData[n].prop.k||this.drawPath(p[n],this.viewData[n].prop.v,this.viewData[n])}else this.viewData[n]={op:PropertyFactory.getProp(this.element,p[n].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,p[n],3),elem:o,lastPath:""},r.appendChild(o);for(this.maskElement=createNS(v),a=m.length,n=0;n<a;n+=1)this.maskElement.appendChild(m[n]);f>0&&(this.maskElement.setAttribute("id",g),this.element.maskedElement.setAttribute(y,"url("+locationHref+"#"+g+")"),r.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}function HierarchyElement(){}function FrameElement(){}function TransformElement(){}function RenderableElement(){}function RenderableDOMElement(){}function ProcessedElement(e,t){this.elem=e,this.pos=t}function SVGStyleData(e,t){this.data=e,this.type=e.ty,this.d="",this.lvl=t,this._mdf=!1,this.closed=!0===e.hd,this.pElem=createNS("path"),this.msElem=null}function SVGShapeData(e,t,i){this.caches=[],this.styles=[],this.transformers=e,this.lStr="",this.sh=i,this.lvl=t,this._isAnimated=!!i.k;for(var n=0,r=e.length;n<r;){if(e[n].mProps.dynamicProperties.length){this._isAnimated=!0;break}n+=1}}function SVGTransformData(e,t,i){this.transform={mProps:e,op:t,container:i},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}function SVGStrokeStyleData(e,t,i){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(e,t.o,0,.01,this),this.w=PropertyFactory.getProp(e,t.w,0,null,this),this.d=new DashProperty(e,t.d||{},"svg",this),this.c=PropertyFactory.getProp(e,t.c,1,255,this),this.style=i,this._isAnimated=!!this._isAnimated}function SVGFillStyleData(e,t,i){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(e,t.o,0,.01,this),this.c=PropertyFactory.getProp(e,t.c,1,255,this),this.style=i}function SVGGradientFillStyleData(e,t,i){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.initGradientData(e,t,i)}function SVGGradientStrokeStyleData(e,t,i){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(e,t.w,0,null,this),this.d=new DashProperty(e,t.d||{},"svg",this),this.initGradientData(e,t,i),this._isAnimated=!!this._isAnimated}function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}function CVShapeData(e,t,i,n){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var r=4;"rc"==t.ty?r=5:"el"==t.ty?r=6:"sr"==t.ty&&(r=7),this.sh=ShapePropertyFactory.getShapeProp(e,t,r,e);var a,o,s=i.length;for(a=0;a<s;a+=1)i[a].closed||(o={transforms:n.addTransformSequence(i[a].transforms),trNodes:[]},this.styledShapes.push(o),i[a].elements.push(o))}function BaseElement(){}function NullElement(e,t,i){this.initFrame(),this.initBaseData(e,t,i),this.initFrame(),this.initTransform(e,t,i),this.initHierarchy()}function SVGBaseElement(){}function IShapeElement(){}function ITextElement(){}function ICompElement(){}function IImageElement(e,t,i){this.assetData=t.getAssetData(e.refId),this.initElement(e,t,i),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}function ISolidElement(e,t,i){this.initElement(e,t,i)}function SVGCompElement(e,t,i){this.layers=e.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(e,t,i),this.tm=e.tm?PropertyFactory.getProp(this,e.tm,0,t.frameRate,this):{_placeholder:!0}}function SVGTextElement(e,t,i){this.textSpans=[],this.renderType="svg",this.initElement(e,t,i)}function SVGShapeElement(e,t,i){this.shapes=[],this.shapesData=e.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(e,t,i),this.prevViewData=[]}function SVGTintFilter(e,t){this.filterManager=t;var i=createNS("feColorMatrix");if(i.setAttribute("type","matrix"),i.setAttribute("color-interpolation-filters","linearRGB"),i.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),i.setAttribute("result","f1"),e.appendChild(i),i=createNS("feColorMatrix"),i.setAttribute("type","matrix"),i.setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),i.setAttribute("result","f2"),e.appendChild(i),this.matrixFilter=i,100!==t.effectElements[2].p.v||t.effectElements[2].p.k){var n=createNS("feMerge");e.appendChild(n);var r;r=createNS("feMergeNode"),r.setAttribute("in","SourceGraphic"),n.appendChild(r),r=createNS("feMergeNode"),r.setAttribute("in","f2"),n.appendChild(r)}}function SVGFillFilter(e,t){this.filterManager=t;var i=createNS("feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),e.appendChild(i),this.matrixFilter=i}function SVGGaussianBlurEffect(e,t){e.setAttribute("x","-100%"),e.setAttribute("y","-100%"),e.setAttribute("width","300%"),e.setAttribute("height","300%"),this.filterManager=t;var i=createNS("feGaussianBlur");e.appendChild(i),this.feGaussianBlur=i}function SVGStrokeEffect(e,t){this.initialized=!1,this.filterManager=t,this.elem=e,this.paths=[]}function SVGTritoneFilter(e,t){this.filterManager=t;var i=createNS("feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("color-interpolation-filters","linearRGB"),i.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),i.setAttribute("result","f1"),e.appendChild(i);var n=createNS("feComponentTransfer");n.setAttribute("color-interpolation-filters","sRGB"),e.appendChild(n),this.matrixFilter=n;var r=createNS("feFuncR");r.setAttribute("type","table"),n.appendChild(r),this.feFuncR=r;var a=createNS("feFuncG");a.setAttribute("type","table"),n.appendChild(a),this.feFuncG=a;var o=createNS("feFuncB");o.setAttribute("type","table"),n.appendChild(o),this.feFuncB=o}function SVGProLevelsFilter(e,t){this.filterManager=t;var i=this.filterManager.effectElements,n=createNS("feComponentTransfer");(i[10].p.k||0!==i[10].p.v||i[11].p.k||1!==i[11].p.v||i[12].p.k||1!==i[12].p.v||i[13].p.k||0!==i[13].p.v||i[14].p.k||1!==i[14].p.v)&&(this.feFuncR=this.createFeFunc("feFuncR",n)),(i[17].p.k||0!==i[17].p.v||i[18].p.k||1!==i[18].p.v||i[19].p.k||1!==i[19].p.v||i[20].p.k||0!==i[20].p.v||i[21].p.k||1!==i[21].p.v)&&(this.feFuncG=this.createFeFunc("feFuncG",n)),(i[24].p.k||0!==i[24].p.v||i[25].p.k||1!==i[25].p.v||i[26].p.k||1!==i[26].p.v||i[27].p.k||0!==i[27].p.v||i[28].p.k||1!==i[28].p.v)&&(this.feFuncB=this.createFeFunc("feFuncB",n)),(i[31].p.k||0!==i[31].p.v||i[32].p.k||1!==i[32].p.v||i[33].p.k||1!==i[33].p.v||i[34].p.k||0!==i[34].p.v||i[35].p.k||1!==i[35].p.v)&&(this.feFuncA=this.createFeFunc("feFuncA",n)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(n.setAttribute("color-interpolation-filters","sRGB"),e.appendChild(n),n=createNS("feComponentTransfer")),(i[3].p.k||0!==i[3].p.v||i[4].p.k||1!==i[4].p.v||i[5].p.k||1!==i[5].p.v||i[6].p.k||0!==i[6].p.v||i[7].p.k||1!==i[7].p.v)&&(n.setAttribute("color-interpolation-filters","sRGB"),e.appendChild(n),this.feFuncRComposed=this.createFeFunc("feFuncR",n),this.feFuncGComposed=this.createFeFunc("feFuncG",n),this.feFuncBComposed=this.createFeFunc("feFuncB",n))}function SVGDropShadowEffect(e,t){var i=t.container.globalData.renderConfig.filterSize;e.setAttribute("x",i.x),e.setAttribute("y",i.y),e.setAttribute("width",i.width),e.setAttribute("height",i.height),this.filterManager=t;var n=createNS("feGaussianBlur");n.setAttribute("in","SourceAlpha"),n.setAttribute("result","drop_shadow_1"),n.setAttribute("stdDeviation","0"),this.feGaussianBlur=n,e.appendChild(n);var r=createNS("feOffset");r.setAttribute("dx","25"),r.setAttribute("dy","0"),r.setAttribute("in","drop_shadow_1"),r.setAttribute("result","drop_shadow_2"),this.feOffset=r,e.appendChild(r);var a=createNS("feFlood");a.setAttribute("flood-color","#00ff00"),a.setAttribute("flood-opacity","1"),a.setAttribute("result","drop_shadow_3"),this.feFlood=a,e.appendChild(a);var o=createNS("feComposite");o.setAttribute("in","drop_shadow_3"),o.setAttribute("in2","drop_shadow_2"),o.setAttribute("operator","in"),o.setAttribute("result","drop_shadow_4"),e.appendChild(o);var s=createNS("feMerge");e.appendChild(s);var l;l=createNS("feMergeNode"),s.appendChild(l),l=createNS("feMergeNode"),l.setAttribute("in","SourceGraphic"),this.feMergeNode=l,this.feMerge=s,this.originalNodeAdded=!1,s.appendChild(l)}function SVGMatte3Effect(e,t,i){this.initialized=!1,this.filterManager=t,this.filterElem=e,this.elem=i,i.matteElement=createNS("g"),i.matteElement.appendChild(i.layerElement),i.matteElement.appendChild(i.transformedElement),i.baseElement=i.matteElement}function SVGEffects(e){var t,i=e.data.ef?e.data.ef.length:0,n=createElementID(),r=filtersFactory.createFilter(n),a=0;this.filters=[];var o;for(t=0;t<i;t+=1)o=null,20===e.data.ef[t].ty?(a+=1,o=new SVGTintFilter(r,e.effectsManager.effectElements[t])):21===e.data.ef[t].ty?(a+=1,o=new SVGFillFilter(r,e.effectsManager.effectElements[t])):22===e.data.ef[t].ty?o=new SVGStrokeEffect(e,e.effectsManager.effectElements[t]):23===e.data.ef[t].ty?(a+=1,o=new SVGTritoneFilter(r,e.effectsManager.effectElements[t])):24===e.data.ef[t].ty?(a+=1,o=new SVGProLevelsFilter(r,e.effectsManager.effectElements[t])):25===e.data.ef[t].ty?(a+=1,o=new SVGDropShadowEffect(r,e.effectsManager.effectElements[t])):28===e.data.ef[t].ty?o=new SVGMatte3Effect(r,e.effectsManager.effectElements[t],e):29===e.data.ef[t].ty&&(a+=1,o=new SVGGaussianBlurEffect(r,e.effectsManager.effectElements[t])),o&&this.filters.push(o);a&&(e.globalData.defs.appendChild(r),e.layerElement.setAttribute("filter","url("+locationHref+"#"+n+")")),this.filters.length&&e.addRenderableComponent(this)}function CVContextData(){this.saved=[],this.cArrPos=0,this.cTr=new Matrix,this.cO=1;var e;for(this.savedOp=createTypedArray("float32",15),e=0;e<15;e+=1)this.saved[e]=createTypedArray("float32",16);this._length=15}function CVBaseElement(){}function CVImageElement(e,t,i){this.assetData=t.getAssetData(e.refId),this.img=t.imageLoader.getImage(this.assetData),this.initElement(e,t,i)}function CVCompElement(e,t,i){this.completeLayers=!1,this.layers=e.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(e,t,i),this.tm=e.tm?PropertyFactory.getProp(this,e.tm,0,t.frameRate,this):{_placeholder:!0}}function CVMaskElement(e,t){this.data=e,this.element=t,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var i,n=this.masksProperties.length,r=!1;for(i=0;i<n;i++)"n"!==this.masksProperties[i].mode&&(r=!0),this.viewData[i]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[i],3);this.hasMasks=r,r&&this.element.addRenderableComponent(this)}function CVShapeElement(e,t,i){this.shapes=[],this.shapesData=e.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(e,t,i)}function CVSolidElement(e,t,i){this.initElement(e,t,i)}function CVTextElement(e,t,i){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(e,t,i)}function CVEffects(){}function HBaseElement(e,t,i){}function HSolidElement(e,t,i){this.initElement(e,t,i)}function HCompElement(e,t,i){this.layers=e.layers,this.supports3d=!e.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(e,t,i),this.tm=e.tm?PropertyFactory.getProp(this,e.tm,0,t.frameRate,this):{_placeholder:!0}}function HShapeElement(e,t,i){this.shapes=[],this.shapesData=e.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(e,t,i),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}function HTextElement(e,t,i){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(e,t,i)}function HImageElement(e,t,i){this.assetData=t.getAssetData(e.refId),this.initElement(e,t,i)}function HCameraElement(e,t,i){this.initFrame(),this.initBaseData(e,t,i),this.initHierarchy();var n=PropertyFactory.getProp;if(this.pe=n(this,e.pe,0,0,this),e.ks.p.s?(this.px=n(this,e.ks.p.x,1,0,this),this.py=n(this,e.ks.p.y,1,0,this),this.pz=n(this,e.ks.p.z,1,0,this)):this.p=n(this,e.ks.p,1,0,this),e.ks.a&&(this.a=n(this,e.ks.a,1,0,this)),e.ks.or.k.length&&e.ks.or.k[0].to){var r,a=e.ks.or.k.length;for(r=0;r<a;r+=1)e.ks.or.k[r].to=null,e.ks.or.k[r].ti=null}this.or=n(this,e.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=n(this,e.ks.rx,0,degToRads,this),this.ry=n(this,e.ks.ry,0,degToRads,this),this.rz=n(this,e.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}function HEffects(){}function SliderEffect(e,t,i){this.p=PropertyFactory.getProp(t,e.v,0,0,i)}function AngleEffect(e,t,i){this.p=PropertyFactory.getProp(t,e.v,0,0,i)}function ColorEffect(e,t,i){this.p=PropertyFactory.getProp(t,e.v,1,0,i)}function PointEffect(e,t,i){this.p=PropertyFactory.getProp(t,e.v,1,0,i)}function LayerIndexEffect(e,t,i){this.p=PropertyFactory.getProp(t,e.v,0,0,i)}function MaskIndexEffect(e,t,i){this.p=PropertyFactory.getProp(t,e.v,0,0,i)}function CheckboxEffect(e,t,i){this.p=PropertyFactory.getProp(t,e.v,0,0,i)}function NoValueEffect(){this.p={}}function EffectsManager(){}function EffectsManager(e,t){var i=e.ef||[];this.effectElements=[];var n,r,a=i.length;for(n=0;n<a;n++)r=new GroupEffect(i[n],t),this.effectElements.push(r)}function GroupEffect(e,t){this.init(e,t)}function setLocationHref(e){locationHref=e}function searchAnimations(){!0===standalone?animationManager.searchAnimations(animationData,standalone,renderer):animationManager.searchAnimations()}function setSubframeRendering(e){subframeEnabled=e}function loadAnimation(e){return!0===standalone&&(e.animationData=JSON.parse(animationData)),animationManager.loadAnimation(e)}function setQuality(e){if("string"===typeof e)switch(e){case"high":defaultCurveSegments=200;break;case"medium":defaultCurveSegments=50;break;case"low":defaultCurveSegments=10}else!isNaN(e)&&e>1&&(defaultCurveSegments=e);roundValues(!(defaultCurveSegments>=50))}function inBrowser(){return"undefined"!==typeof navigator}function installPlugin(e,t){"expressions"===e&&(expressionsPlugin=t)}function getFactory(e){switch(e){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix}}function checkReady(){"complete"===document.readyState&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(e){for(var t=queryString.split("&"),i=0;i<t.length;i++){var n=t[i].split("=");if(decodeURIComponent(n[0])==e)return decodeURIComponent(n[1])}}var svgNS="http://www.w3.org/2000/svg",locationHref="",initialDefaultFrame=-999999,subframeEnabled=!0,expressionsPlugin,isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),cachedColors={},bm_rounder=Math.round,bm_rnd,bm_pow=Math.pow,bm_sqrt=Math.sqrt,bm_abs=Math.abs,bm_floor=Math.floor,bm_max=Math.max,bm_min=Math.min,blitter=10,BMMath={};!function(){var e,t=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],i=t.length;for(e=0;e<i;e+=1)BMMath[t[e]]=Math[t[e]]}(),BMMath.random=Math.random,BMMath.abs=function(e){if("object"===typeof e&&e.length){var t,i=createSizedArray(e.length),n=e.length;for(t=0;t<n;t+=1)i[t]=Math.abs(e[t]);return i}return Math.abs(e)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;roundValues(!1);var createElementID=function(){var e=0;return function(){return"__lottie_element_"+ ++e}}(),rgbToHex=function(){var e,t,i=[];for(e=0;e<256;e+=1)t=e.toString(16),i[e]=1==t.length?"0"+t:t;return function(e,t,n){return e<0&&(e=0),t<0&&(t=0),n<0&&(n=0),"#"+i[e]+i[t]+i[n]}}();BaseEvent.prototype={triggerEvent:function(e,t){if(this._cbs[e])for(var i=this._cbs[e].length,n=0;n<i;n++)this._cbs[e][n](t)},addEventListener:function(e,t){return this._cbs[e]||(this._cbs[e]=[]),this._cbs[e].push(t),function(){this.removeEventListener(e,t)}.bind(this)},removeEventListener:function(e,t){if(t){if(this._cbs[e]){for(var i=0,n=this._cbs[e].length;i<n;)this._cbs[e][i]===t&&(this._cbs[e].splice(i,1),i-=1,n-=1),i+=1;this._cbs[e].length||(this._cbs[e]=null)}}else this._cbs[e]=null}};var createTypedArray=function(){function e(e,t){var i,n=0,r=[];switch(e){case"int16":case"uint8c":i=1;break;default:i=1.1}for(n=0;n<t;n+=1)r.push(i);return r}function t(e,t){return"float32"===e?new Float32Array(t):"int16"===e?new Int16Array(t):"uint8c"===e?new Uint8ClampedArray(t):void 0}return"function"===typeof Uint8ClampedArray&&"function"===typeof Float32Array?t:e}();DynamicPropertyContainer.prototype={addDynamicProperty:function(e){-1===this.dynamicProperties.indexOf(e)&&(this.dynamicProperties.push(e),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){this._mdf=!1;var e,t=this.dynamicProperties.length;for(e=0;e<t;e+=1)this.dynamicProperties[e].getValue(),this.dynamicProperties[e]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(e){this.container=e,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var getBlendMode=function(){var e={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"};return function(t){return e[t]||""}}(),Matrix=function(){function e(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function t(e){if(0===e)return this;var t=O(e),i=P(e);return this._t(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1)}function i(e){if(0===e)return this;var t=O(e),i=P(e);return this._t(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1)}function n(e){if(0===e)return this;var t=O(e),i=P(e);return this._t(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1)}function r(e){if(0===e)return this;var t=O(e),i=P(e);return this._t(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1)}function a(e,t){return this._t(1,t,e,1,0,0)}function o(e,t){return this.shear(j(e),j(t))}function s(e,t){var i=O(t),n=P(t);return this._t(i,n,0,0,-n,i,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,j(e),1,0,0,0,0,1,0,0,0,0,1)._t(i,-n,0,0,n,i,0,0,0,0,1,0,0,0,0,1)}function l(e,t,i){return i||0===i||(i=1),1===e&&1===t&&1===i?this:this._t(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1)}function c(e,t,i,n,r,a,o,s,l,c,u,h,d,p,f,m){return this.props[0]=e,this.props[1]=t,this.props[2]=i,this.props[3]=n,this.props[4]=r,this.props[5]=a,this.props[6]=o,this.props[7]=s,this.props[8]=l,this.props[9]=c,this.props[10]=u,this.props[11]=h,this.props[12]=d,this.props[13]=p,this.props[14]=f,this.props[15]=m,this}function u(e,t,i){return i=i||0,0!==e||0!==t||0!==i?this._t(1,0,0,0,0,1,0,0,0,0,1,0,e,t,i,1):this}function h(e,t,i,n,r,a,o,s,l,c,u,h,d,p,f,m){var g=this.props;if(1===e&&0===t&&0===i&&0===n&&0===r&&1===a&&0===o&&0===s&&0===l&&0===c&&1===u&&0===h)return g[12]=g[12]*e+g[15]*d,g[13]=g[13]*a+g[15]*p,g[14]=g[14]*u+g[15]*f,g[15]=g[15]*m,this._identityCalculated=!1,this;var v=g[0],y=g[1],b=g[2],_=g[3],A=g[4],E=g[5],w=g[6],x=g[7],T=g[8],S=g[9],C=g[10],k=g[11],O=g[12],P=g[13],j=g[14],I=g[15];return g[0]=v*e+y*r+b*l+_*d,g[1]=v*t+y*a+b*c+_*p,g[2]=v*i+y*o+b*u+_*f,g[3]=v*n+y*s+b*h+_*m,g[4]=A*e+E*r+w*l+x*d,g[5]=A*t+E*a+w*c+x*p,g[6]=A*i+E*o+w*u+x*f,g[7]=A*n+E*s+w*h+x*m,g[8]=T*e+S*r+C*l+k*d,g[9]=T*t+S*a+C*c+k*p,g[10]=T*i+S*o+C*u+k*f,g[11]=T*n+S*s+C*h+k*m,g[12]=O*e+P*r+j*l+I*d,g[13]=O*t+P*a+j*c+I*p,g[14]=O*i+P*o+j*u+I*f,g[15]=O*n+P*s+j*h+I*m,this._identityCalculated=!1,this}function d(){return this._identityCalculated||(this._identity=!(1!==this.props[0]||0!==this.props[1]||0!==this.props[2]||0!==this.props[3]||0!==this.props[4]||1!==this.props[5]||0!==this.props[6]||0!==this.props[7]||0!==this.props[8]||0!==this.props[9]||1!==this.props[10]||0!==this.props[11]||0!==this.props[12]||0!==this.props[13]||0!==this.props[14]||1!==this.props[15]),this._identityCalculated=!0),this._identity}function p(e){for(var t=0;t<16;){if(e.props[t]!==this.props[t])return!1;t+=1}return!0}function f(e){var t;for(t=0;t<16;t+=1)e.props[t]=this.props[t]}function m(e){var t;for(t=0;t<16;t+=1)this.props[t]=e[t]}function g(e,t,i){return{x:e*this.props[0]+t*this.props[4]+i*this.props[8]+this.props[12],y:e*this.props[1]+t*this.props[5]+i*this.props[9]+this.props[13],z:e*this.props[2]+t*this.props[6]+i*this.props[10]+this.props[14]}}function v(e,t,i){return e*this.props[0]+t*this.props[4]+i*this.props[8]+this.props[12]}function y(e,t,i){return e*this.props[1]+t*this.props[5]+i*this.props[9]+this.props[13]}function b(e,t,i){return e*this.props[2]+t*this.props[6]+i*this.props[10]+this.props[14]}function _(){var e=this.props[0]*this.props[5]-this.props[1]*this.props[4],t=this.props[5]/e,i=-this.props[1]/e,n=-this.props[4]/e,r=this.props[0]/e,a=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/e,o=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/e,s=new Matrix;return s.props[0]=t,s.props[1]=i,s.props[4]=n,s.props[5]=r,s.props[12]=a,s.props[13]=o,s}function A(e){return this.getInverseMatrix().applyToPointArray(e[0],e[1],e[2]||0)}function E(e){var t,i=e.length,n=[];for(t=0;t<i;t+=1)n[t]=A(e[t]);return n}function w(e,t,i){var n=createTypedArray("float32",6);if(this.isIdentity())n[0]=e[0],n[1]=e[1],n[2]=t[0],n[3]=t[1],n[4]=i[0],n[5]=i[1];else{var r=this.props[0],a=this.props[1],o=this.props[4],s=this.props[5],l=this.props[12],c=this.props[13];n[0]=e[0]*r+e[1]*o+l,n[1]=e[0]*a+e[1]*s+c,n[2]=t[0]*r+t[1]*o+l,n[3]=t[0]*a+t[1]*s+c,n[4]=i[0]*r+i[1]*o+l,n[5]=i[0]*a+i[1]*s+c}return n}function x(e,t,i){return this.isIdentity()?[e,t,i]:[e*this.props[0]+t*this.props[4]+i*this.props[8]+this.props[12],e*this.props[1]+t*this.props[5]+i*this.props[9]+this.props[13],e*this.props[2]+t*this.props[6]+i*this.props[10]+this.props[14]]}function T(e,t){if(this.isIdentity())return e+","+t;var i=this.props;return Math.round(100*(e*i[0]+t*i[4]+i[12]))/100+","+Math.round(100*(e*i[1]+t*i[5]+i[13]))/100}function S(){for(var e=0,t=this.props,i="matrix3d(";e<16;)i+=I(1e4*t[e])/1e4,i+=15===e?")":",",e+=1;return i}function C(e){return e<1e-6&&e>0||e>-1e-6&&e<0?I(1e4*e)/1e4:e}function k(){var e=this.props;return"matrix("+C(e[0])+","+C(e[1])+","+C(e[4])+","+C(e[5])+","+C(e[12])+","+C(e[13])+")"}var O=Math.cos,P=Math.sin,j=Math.tan,I=Math.round;return function(){this.reset=e,this.rotate=t,this.rotateX=i,this.rotateY=n,this.rotateZ=r,this.skew=o,this.skewFromAxis=s,this.shear=a,this.scale=l,this.setTransform=c,this.translate=u,this.transform=h,this.applyToPoint=g,this.applyToX=v,this.applyToY=y,this.applyToZ=b,this.applyToPointArray=x,this.applyToTriplePoints=w,this.applyToPointStringified=T,this.toCSS=S,this.to2dCSS=k,this.clone=f,this.cloneFromProps=m,this.equals=p,this.inversePoints=E,this.inversePoint=A,this.getInverseMatrix=_,this._t=this.transform,this.isIdentity=d,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();!function(e,t){function i(i,c,u){var v=[];c=!0===c?{entropy:!0}:c||{};var y=o(a(c.entropy?[i,l(e)]:null===i?s():i,3),v),b=new n(v),_=function(){for(var e=b.g(d),t=f,i=0;e<m;)e=(e+i)*h,t*=h,i=b.g(1);for(;e>=g;)e/=2,t/=2,i>>>=1;return(e+i)/t};return _.int32=function(){return 0|b.g(4)},_.quick=function(){return b.g(4)/4294967296},_.double=_,o(l(b.S),e),(c.pass||u||function(e,i,n,a){return a&&(a.S&&r(a,b),e.state=function(){return r(b,{})}),n?(t[p]=e,i):e})(_,y,"global"in c?c.global:this==t,c.state)}function n(e){var t,i=e.length,n=this,r=0,a=n.i=n.j=0,o=n.S=[];for(i||(e=[i++]);r<h;)o[r]=r++;for(r=0;r<h;r++)o[r]=o[a=v&a+e[r%i]+(t=o[r])],o[a]=t;n.g=function(e){for(var t,i=0,r=n.i,a=n.j,o=n.S;e--;)t=o[r=v&r+1],i=i*h+o[v&(o[r]=o[a=v&a+t])+(o[a]=t)];return n.i=r,n.j=a,i}}function r(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function a(e,t){var i,n=[],r=typeof e;if(t&&"object"==r)for(i in e)try{n.push(a(e[i],t-1))}catch(e){}return n.length?n:"string"==r?e:e+"\0"}function o(e,t){for(var i,n=e+"",r=0;r<n.length;)t[v&r]=v&(i^=19*t[v&r])+n.charCodeAt(r++);return l(t)}function s(){try{if(c)return l(c.randomBytes(h));var t=new Uint8Array(h);return(u.crypto||u.msCrypto).getRandomValues(t),l(t)}catch(t){var i=u.navigator,n=i&&i.plugins;return[+new Date,u,n,u.screen,l(e)]}}function l(e){return String.fromCharCode.apply(0,e)}var c,u=this,h=256,d=6,p="random",f=t.pow(h,d),m=t.pow(2,52),g=2*m,v=h-1;t["seed"+p]=i,o(t.random(),e)}([],BMMath);var BezierFactory=function(){function e(e,t,i,n,r){var a=r||("bez_"+e+"_"+t+"_"+i+"_"+n).replace(/\./g,"p");if(u[a])return u[a];var o=new l([e,t,i,n]);return u[a]=o,o}function t(e,t){return 1-3*t+3*e}function i(e,t){return 3*t-6*e}function n(e){return 3*e}function r(e,r,a){return((t(r,a)*e+i(r,a))*e+n(r))*e}function a(e,r,a){return 3*t(r,a)*e*e+2*i(r,a)*e+n(r)}function o(e,t,i,n,a){var o,s,l=0;do{s=t+(i-t)/2,o=r(s,n,a)-e,o>0?i=s:t=s}while(Math.abs(o)>d&&++l<p);return s}function s(e,t,i,n){for(var o=0;o<h;++o){var s=a(t,i,n);if(0===s)return t;t-=(r(t,i,n)-e)/s}return t}function l(e){this._p=e,this._mSampleValues=g?new Float32Array(f):new Array(f),this._precomputed=!1,this.get=this.get.bind(this)}var c={};c.getBezierEasing=e;var u={},h=4,d=1e-7,p=10,f=11,m=1/(f-1),g="function"===typeof Float32Array;return l.prototype={get:function(e){var t=this._p[0],i=this._p[1],n=this._p[2],a=this._p[3];return this._precomputed||this._precompute(),t===i&&n===a?e:0===e?0:1===e?1:r(this._getTForX(e),i,a)},_precompute:function(){var e=this._p[0],t=this._p[1],i=this._p[2],n=this._p[3];this._precomputed=!0,e===t&&i===n||this._calcSampleValues()},_calcSampleValues:function(){for(var e=this._p[0],t=this._p[2],i=0;i<f;++i)this._mSampleValues[i]=r(i*m,e,t)},_getTForX:function(e){for(var t=this._p[0],i=this._p[2],n=this._mSampleValues,r=0,l=1,c=f-1;l!==c&&n[l]<=e;++l)r+=m;--l;var u=(e-n[l])/(n[l+1]-n[l]),h=r+u*m,d=a(h,t,i);return d>=.001?s(e,h,t,i):0===d?h:o(e,r,r+m,t,i)}},c}();!function(){for(var e=0,t=["ms","moz","webkit","o"],i=0;i<t.length&&!window.requestAnimationFrame;++i)window.requestAnimationFrame=window[t[i]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[i]+"CancelAnimationFrame"]||window[t[i]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t,i){var n=(new Date).getTime(),r=Math.max(0,16-(n-e)),a=setTimeout(function(){t(n+r)},r);return e=n+r,a}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}();var bez=bezFunction(),dataManager=dataFunctionManager(),FontManager=function(){function e(e){var t,i=e.split(","),n=i.length,r=[];for(t=0;t<n;t+=1)"sans-serif"!==i[t]&&"monospace"!==i[t]&&r.push(i[t]);return r.join(",")}function t(t,i){var n=createTag("span");n.style.fontFamily=i;var r=createTag("span");r.innerHTML="giItT1WQy@!-/#",n.style.position="absolute",n.style.left="-10000px",n.style.top="-10000px",n.style.fontSize="300px",n.style.fontVariant="normal",n.style.fontStyle="normal",n.style.fontWeight="normal",n.style.letterSpacing="0",n.appendChild(r),document.body.appendChild(n);var a=r.offsetWidth;return r.style.fontFamily=e(t)+", "+i,{node:r,w:a,parent:n}}function i(){var e,t,i,n=this.fonts.length,r=n;for(e=0;e<n;e+=1)this.fonts[e].loaded?r-=1:"n"===this.fonts[e].fOrigin||0===this.fonts[e].origin?this.fonts[e].loaded=!0:(t=this.fonts[e].monoCase.node,i=this.fonts[e].monoCase.w,t.offsetWidth!==i?(r-=1,this.fonts[e].loaded=!0):(t=this.fonts[e].sansCase.node,i=this.fonts[e].sansCase.w,t.offsetWidth!==i&&(r-=1,this.fonts[e].loaded=!0)),this.fonts[e].loaded&&(this.fonts[e].sansCase.parent.parentNode.removeChild(this.fonts[e].sansCase.parent),this.fonts[e].monoCase.parent.parentNode.removeChild(this.fonts[e].monoCase.parent)));0!==r&&Date.now()-this.initTime<h?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)}function n(e,t){var i=createNS("text");return i.style.fontSize="100px",i.setAttribute("font-family",t.fFamily),i.setAttribute("font-style",t.fStyle),i.setAttribute("font-weight",t.fWeight),i.textContent="1",t.fClass?(i.style.fontFamily="inherit",i.setAttribute("class",t.fClass)):i.style.fontFamily=t.fFamily,e.appendChild(i),createTag("canvas").getContext("2d").font=t.fWeight+" "+t.fStyle+" 100px "+t.fFamily,i}function r(e,i){if(!e)return void(this.isLoaded=!0);if(this.chars)return this.isLoaded=!0,void(this.fonts=e.list);var r,a=e.list,o=a.length,s=o;for(r=0;r<o;r+=1){var l,c,u=!0;if(a[r].loaded=!1,a[r].monoCase=t(a[r].fFamily,"monospace"),a[r].sansCase=t(a[r].fFamily,"sans-serif"),a[r].fPath){if("p"===a[r].fOrigin||3===a[r].origin){if(l=document.querySelectorAll('style[f-forigin="p"][f-family="'+a[r].fFamily+'"], style[f-origin="3"][f-family="'+a[r].fFamily+'"]'),l.length>0&&(u=!1),u){var h=createTag("style");h.setAttribute("f-forigin",a[r].fOrigin),h.setAttribute("f-origin",a[r].origin),h.setAttribute("f-family",a[r].fFamily),h.type="text/css",h.innerHTML="@font-face {font-family: "+a[r].fFamily+"; font-style: normal; src: url('"+a[r].fPath+"');}",i.appendChild(h)}}else if("g"===a[r].fOrigin||1===a[r].origin){for(l=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),c=0;c<l.length;c++)-1!==l[c].href.indexOf(a[r].fPath)&&(u=!1);if(u){var d=createTag("link");d.setAttribute("f-forigin",a[r].fOrigin),d.setAttribute("f-origin",a[r].origin),d.type="text/css",d.rel="stylesheet",d.href=a[r].fPath,document.body.appendChild(d)}}else if("t"===a[r].fOrigin||2===a[r].origin){for(l=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),c=0;c<l.length;c++)a[r].fPath===l[c].src&&(u=!1);if(u){var p=createTag("link");p.setAttribute("f-forigin",a[r].fOrigin),p.setAttribute("f-origin",a[r].origin),p.setAttribute("rel","stylesheet"),p.setAttribute("href",a[r].fPath),i.appendChild(p)}}}else a[r].loaded=!0,s-=1;a[r].helper=n(i,a[r]),a[r].cache={},this.fonts.push(a[r])}0===s?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}function a(e){if(e){this.chars||(this.chars=[]);var t,i,n,r=e.length,a=this.chars.length;for(t=0;t<r;t+=1){for(i=0,n=!1;i<a;)this.chars[i].style===e[t].style&&this.chars[i].fFamily===e[t].fFamily&&this.chars[i].ch===e[t].ch&&(n=!0),i+=1;n||(this.chars.push(e[t]),a+=1)}}}function o(e,t,i){for(var n=0,r=this.chars.length;n<r;){if(this.chars[n].ch===e&&this.chars[n].style===t&&this.chars[n].fFamily===i)return this.chars[n];n+=1}return("string"===typeof e&&13!==e.charCodeAt(0)||!e)&&console&&console.warn&&console.warn("Missing character from exported characters list: ",e,t,i),d}function s(e,t,i){var n=this.getFontByName(t),r=e.charCodeAt(0);if(!n.cache[r+1]){var a=n.helper;if(" "===e){a.textContent="|"+e+"|";var o=a.getComputedTextLength();a.textContent="||";var s=a.getComputedTextLength();n.cache[r+1]=(o-s)/100}else a.textContent=e,n.cache[r+1]=a.getComputedTextLength()/100}return n.cache[r+1]*i}function l(e){for(var t=0,i=this.fonts.length;t<i;){if(this.fonts[t].fName===e)return this.fonts[t];t+=1}return this.fonts[0]}function c(){return p}function u(){this.isLoaded=!0}var h=5e3,d={w:0,size:0,shapes:[]},p=[];p=p.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var f=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};return f.getCombinedCharacterCodes=c,f.prototype={addChars:a,addFonts:r,getCharData:o,getFontByName:l,measureText:s,checkLoadedFonts:i,setIsLoaded:u},f}(),PropertyFactory=function(){function e(e,r){var a,o=this.offsetTime;"multidimensional"===this.propType&&(a=createTypedArray("float32",this.pv.length));for(var s,l,c=r.lastIndex,u=c,h=this.keyframes.length-1,d=!0;d;){if(s=this.keyframes[u],l=this.keyframes[u+1],u===h-1&&e>=l.t-o){s.h&&(s=l),c=0;break}if(l.t-o>e){c=u;break}u<h-1?u+=1:(c=0,d=!1)}var p,f,m,g,v,y,b,_=l.t-o,A=s.t-o;if(s.to){s.bezierData||(s.bezierData=bez.buildBezierData(s.s,l.s||s.e,s.to,s.ti));var E=s.bezierData;if(e>=_||e<A){var w=e>=_?E.points.length-1:0;for(f=E.points[w].point.length,p=0;p<f;p+=1)a[p]=E.points[w].point[p]}else{s.__fnct?y=s.__fnct:(y=BezierFactory.getBezierEasing(s.o.x,s.o.y,s.i.x,s.i.y,s.n).get,s.__fnct=y),m=y((e-A)/(_-A));var x,T=E.segmentLength*m,S=r.lastFrame<e&&r._lastKeyframeIndex===u?r._lastAddedLength:0;for(v=r.lastFrame<e&&r._lastKeyframeIndex===u?r._lastPoint:0,d=!0,g=E.points.length;d;){if(S+=E.points[v].partialLength,0===T||0===m||v===E.points.length-1){for(f=E.points[v].point.length,p=0;p<f;p+=1)a[p]=E.points[v].point[p];break}if(T>=S&&T<S+E.points[v+1].partialLength){for(x=(T-S)/E.points[v+1].partialLength,f=E.points[v].point.length,p=0;p<f;p+=1)a[p]=E.points[v].point[p]+(E.points[v+1].point[p]-E.points[v].point[p])*x;break}v<g-1?v+=1:d=!1}r._lastPoint=v,r._lastAddedLength=S-E.points[v].partialLength,r._lastKeyframeIndex=u}}else{var C,k,O,P,j;if(h=s.s.length,b=l.s||s.e,this.sh&&1!==s.h)if(e>=_)a[0]=b[0],a[1]=b[1],a[2]=b[2];else if(e<=A)a[0]=s.s[0],a[1]=s.s[1],a[2]=s.s[2];else{var I=n(s.s),M=n(b),R=(e-A)/(_-A);i(a,t(I,M,R))}else for(u=0;u<h;u+=1)1!==s.h&&(e>=_?m=1:e<A?m=0:(s.o.x.constructor===Array?(s.__fnct||(s.__fnct=[]),s.__fnct[u]?y=s.__fnct[u]:(C="undefined"===typeof s.o.x[u]?s.o.x[0]:s.o.x[u],k="undefined"===typeof s.o.y[u]?s.o.y[0]:s.o.y[u],O="undefined"===typeof s.i.x[u]?s.i.x[0]:s.i.x[u],P="undefined"===typeof s.i.y[u]?s.i.y[0]:s.i.y[u],y=BezierFactory.getBezierEasing(C,k,O,P).get,s.__fnct[u]=y)):s.__fnct?y=s.__fnct:(C=s.o.x,k=s.o.y,O=s.i.x,P=s.i.y,y=BezierFactory.getBezierEasing(C,k,O,P).get,s.__fnct=y),m=y((e-A)/(_-A)))),b=l.s||s.e,j=1===s.h?s.s[u]:s.s[u]+(b[u]-s.s[u])*m,"multidimensional"===this.propType?a[u]=j:a=j}return r.lastIndex=c,a}function t(e,t,i){var n,r,a,o,s,l=[],c=e[0],u=e[1],h=e[2],d=e[3],p=t[0],f=t[1],m=t[2],g=t[3];return r=c*p+u*f+h*m+d*g,r<0&&(r=-r,p=-p,f=-f,m=-m,g=-g),1-r>1e-6?(n=Math.acos(r),a=Math.sin(n),o=Math.sin((1-i)*n)/a,s=Math.sin(i*n)/a):(o=1-i,s=i),l[0]=o*c+s*p,l[1]=o*u+s*f,l[2]=o*h+s*m,l[3]=o*d+s*g,l}function i(e,t){var i=t[0],n=t[1],r=t[2],a=t[3],o=Math.atan2(2*n*a-2*i*r,1-2*n*n-2*r*r),s=Math.asin(2*i*n+2*r*a),l=Math.atan2(2*i*a-2*n*r,1-2*i*i-2*r*r);e[0]=o/degToRads,e[1]=s/degToRads,e[2]=l/degToRads}function n(e){var t=e[0]*degToRads,i=e[1]*degToRads,n=e[2]*degToRads,r=Math.cos(t/2),a=Math.cos(i/2),o=Math.cos(n/2),s=Math.sin(t/2),l=Math.sin(i/2),c=Math.sin(n/2);return[s*l*o+r*a*c,s*a*o+r*l*c,r*l*o-s*a*c,r*a*o-s*l*c]}function r(){var e=this.comp.renderedFrame-this.offsetTime,t=this.keyframes[0].t-this.offsetTime,i=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(e===this._caching.lastFrame||this._caching.lastFrame!==p&&(this._caching.lastFrame>=i&&e>=i||this._caching.lastFrame<t&&e<t))){this._caching.lastFrame>=e&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var n=this.interpolateValue(e,this._caching);this.pv=n}return this._caching.lastFrame=e,this.pv}function a(e){var t;if("unidimensional"===this.propType)t=e*this.mult,f(this.v-t)>1e-5&&(this.v=t,this._mdf=!0);else for(var i=0,n=this.v.length;i<n;)t=e[i]*this.mult,f(this.v[i]-t)>1e-5&&(this.v[i]=t,this._mdf=!0),i+=1}function o(){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length){if(this.lock)return void this.setVValue(this.pv);this.lock=!0,this._mdf=this._isFirstFrame;var e,t=this.effectsSequence.length,i=this.kf?this.pv:this.data.k;for(e=0;e<t;e+=1)i=this.effectsSequence[e](i);this.setVValue(i),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function s(e){this.effectsSequence.push(e),this.container.addDynamicProperty(this)}function l(e,t,i,n){this.propType="unidimensional",this.mult=i||1,this.data=t,this.v=i?t.k*i:t.k,this.pv=t.k,this._mdf=!1,this.elem=e,this.container=n,this.comp=e.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=o,this.setVValue=a,this.addEffect=s}function c(e,t,i,n){this.propType="multidimensional",this.mult=i||1,this.data=t,this._mdf=!1,this.elem=e,this.container=n,this.comp=e.comp,this.k=!1,this.kf=!1,this.frameId=-1;var r,l=t.k.length;this.v=createTypedArray("float32",l),this.pv=createTypedArray("float32",l);createTypedArray("float32",l);for(this.vel=createTypedArray("float32",l),r=0;r<l;r+=1)this.v[r]=t.k[r]*this.mult,this.pv[r]=t.k[r];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=o,this.setVValue=a,this.addEffect=s}function u(t,i,n,l){this.propType="unidimensional",this.keyframes=i.k,this.offsetTime=t.data.st,this.frameId=-1,this._caching={lastFrame:p,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=i,this.mult=n||1,this.elem=t,this.container=l,this.comp=t.comp,this.v=p,this.pv=p,this._isFirstFrame=!0,this.getValue=o,this.setVValue=a,this.interpolateValue=e,this.effectsSequence=[r.bind(this)],this.addEffect=s}function h(t,i,n,l){this.propType="multidimensional";var c,u,h,d,f,m=i.k.length;for(c=0;c<m-1;c+=1)i.k[c].to&&i.k[c].s&&i.k[c+1]&&i.k[c+1].s&&(u=i.k[c].s,h=i.k[c+1].s,d=i.k[c].to,f=i.k[c].ti,(2===u.length&&(u[0]!==h[0]||u[1]!==h[1])&&bez.pointOnLine2D(u[0],u[1],h[0],h[1],u[0]+d[0],u[1]+d[1])&&bez.pointOnLine2D(u[0],u[1],h[0],h[1],h[0]+f[0],h[1]+f[1])||3===u.length&&(u[0]!==h[0]||u[1]!==h[1]||u[2]!==h[2])&&bez.pointOnLine3D(u[0],u[1],u[2],h[0],h[1],h[2],u[0]+d[0],u[1]+d[1],u[2]+d[2])&&bez.pointOnLine3D(u[0],u[1],u[2],h[0],h[1],h[2],h[0]+f[0],h[1]+f[1],h[2]+f[2]))&&(i.k[c].to=null,i.k[c].ti=null),u[0]===h[0]&&u[1]===h[1]&&0===d[0]&&0===d[1]&&0===f[0]&&0===f[1]&&(2===u.length||u[2]===h[2]&&0===d[2]&&0===f[2])&&(i.k[c].to=null,i.k[c].ti=null));this.effectsSequence=[r.bind(this)],this.keyframes=i.k,this.offsetTime=t.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=n||1,this.elem=t,this.container=l,this.comp=t.comp,this.getValue=o,this.setVValue=a,this.interpolateValue=e,this.frameId=-1;var g=i.k[0].s.length;for(this.v=createTypedArray("float32",g),this.pv=createTypedArray("float32",g),c=0;c<g;c+=1)this.v[c]=p,this.pv[c]=p;this._caching={lastFrame:p,lastIndex:0,value:createTypedArray("float32",g)},this.addEffect=s}function d(e,t,i,n,r){var a;if(t.k.length)if("number"===typeof t.k[0])a=new c(e,t,n,r);else switch(i){case 0:a=new u(e,t,n,r);break;case 1:a=new h(e,t,n,r)}else a=new l(e,t,n,r);return a.effectsSequence.length&&r.addDynamicProperty(a),a}var p=initialDefaultFrame,f=Math.abs;return{getProp:d}}(),TransformPropertyFactory=function(){function e(e){var t=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||t,this.a&&e.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&e.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&e.skewFromAxis(-this.sk.v,this.sa.v),this.r?e.rotate(-this.r.v):e.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?e.translate(this.px.v,this.py.v,-this.pz.v):e.translate(this.px.v,this.py.v,0):e.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}function t(e){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||e){if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var t,i,n=this.elem.globalData.frameRate;if(this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(t=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/n,0),i=this.p.getValueAtTime(this.p.keyframes[0].t/n,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(t=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/n,0),i=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/n,0)):(t=this.p.pv,i=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/n,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){t=[],i=[];var n,r=this.px,a=this.py;r._caching.lastFrame+r.offsetTime<=r.keyframes[0].t?(t[0]=r.getValueAtTime((r.keyframes[0].t+.01)/n,0),t[1]=a.getValueAtTime((a.keyframes[0].t+.01)/n,0),i[0]=r.getValueAtTime(r.keyframes[0].t/n,0),i[1]=a.getValueAtTime(a.keyframes[0].t/n,0)):r._caching.lastFrame+r.offsetTime>=r.keyframes[r.keyframes.length-1].t?(t[0]=r.getValueAtTime(r.keyframes[r.keyframes.length-1].t/n,0),t[1]=a.getValueAtTime(a.keyframes[a.keyframes.length-1].t/n,0),i[0]=r.getValueAtTime((r.keyframes[r.keyframes.length-1].t-.01)/n,0),i[1]=a.getValueAtTime((a.keyframes[a.keyframes.length-1].t-.01)/n,0)):(t=[r.pv,a.pv],i[0]=r.getValueAtTime((r._caching.lastFrame+r.offsetTime-.01)/n,r.offsetTime),i[1]=a.getValueAtTime((a._caching.lastFrame+a.offsetTime-.01)/n,a.offsetTime))}else t=i=s;this.v.rotate(-Math.atan2(t[1]-i[1],t[0]-i[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}}function i(){if(!this.a.k&&(this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1,!this.s.effectsSequence.length)){if(this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2,this.sk){if(this.sk.effectsSequence.length||this.sa.effectsSequence.length)return;this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3}if(this.r){if(this.r.effectsSequence.length)return;this.pre.rotate(-this.r.v),this.appliedTransformations=4}else this.rz.effectsSequence.length||this.ry.effectsSequence.length||this.rx.effectsSequence.length||this.or.effectsSequence.length||(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}}function n(){}function r(e){this._addDynamicProperty(e),this.elem.addDynamicProperty(e),this._isDirty=!0}function a(e,t,i){if(this.elem=e,this.frameId=-1,this.propType="transform",this.data=t,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(i||e),t.p&&t.p.s?(this.px=PropertyFactory.getProp(e,t.p.x,0,0,this),this.py=PropertyFactory.getProp(e,t.p.y,0,0,this),t.p.z&&(this.pz=PropertyFactory.getProp(e,t.p.z,0,0,this))):this.p=PropertyFactory.getProp(e,t.p||{k:[0,0,0]},1,0,this),t.rx){if(this.rx=PropertyFactory.getProp(e,t.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(e,t.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(e,t.rz,0,degToRads,this),t.or.k[0].ti){var n,r=t.or.k.length;for(n=0;n<r;n+=1)t.or.k[n].to=t.or.k[n].ti=null}this.or=PropertyFactory.getProp(e,t.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(e,t.r||{k:0},0,degToRads,this);t.sk&&(this.sk=PropertyFactory.getProp(e,t.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(e,t.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(e,t.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(e,t.s||{k:[100,100,100]},1,.01,this),t.o?this.o=PropertyFactory.getProp(e,t.o,0,.01,e):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}function o(e,t,i){return new a(e,t,i)}var s=[0,0];return a.prototype={applyToMatrix:e,getValue:t,precalculateMatrix:i,autoOrient:n},extendPrototype([DynamicPropertyContainer],a),a.prototype.addDynamicProperty=r,a.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty,{getTransformProperty:o}}();ShapePath.prototype.setPathData=function(e,t){this.c=e,this.setLength(t);for(var i=0;i<t;)this.v[i]=point_pool.newElement(),this.o[i]=point_pool.newElement(),this.i[i]=point_pool.newElement(),i+=1},ShapePath.prototype.setLength=function(e){for(;this._maxLength<e;)this.doubleArrayLength();this._length=e},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(e,t,i,n,r){var a;switch(this._length=Math.max(this._length,n+1),this._length>=this._maxLength&&this.doubleArrayLength(),i){case"v":a=this.v;break;case"i":a=this.i;break;case"o":a=this.o}(!a[n]||a[n]&&!r)&&(a[n]=point_pool.newElement()),a[n][0]=e,a[n][1]=t},ShapePath.prototype.setTripleAt=function(e,t,i,n,r,a,o,s){this.setXYAt(e,t,"v",o,s),this.setXYAt(i,n,"o",o,s),this.setXYAt(r,a,"i",o,s)},ShapePath.prototype.reverse=function(){var e=new ShapePath;e.setPathData(this.c,this._length);var t=this.v,i=this.o,n=this.i,r=0;this.c&&(e.setTripleAt(t[0][0],t[0][1],n[0][0],n[0][1],i[0][0],i[0][1],0,!1),r=1);var a,o=this._length-1,s=this._length;for(a=r;a<s;a+=1)e.setTripleAt(t[o][0],t[o][1],n[o][0],n[o][1],i[o][0],i[o][1],a,!1),o-=1;return e};var ShapePropertyFactory=function(){function e(e,t,i){var n,r,a,o,s,l,c,u,h,d=i.lastIndex,p=this.keyframes;if(e<p[0].t-this.offsetTime)n=p[0].s[0],a=!0,d=0;else if(e>=p[p.length-1].t-this.offsetTime)n=p[p.length-1].s?p[p.length-1].s[0]:p[p.length-2].e[0],a=!0;else{for(var f,m,g=d,v=p.length-1,y=!0;y&&(f=p[g],m=p[g+1],!(m.t-this.offsetTime>e));)g<v-1?g+=1:y=!1;if(a=1===f.h,d=g,!a){if(e>=m.t-this.offsetTime)u=1;else if(e<f.t-this.offsetTime)u=0;else{var b;f.__fnct?b=f.__fnct:(b=BezierFactory.getBezierEasing(f.o.x,f.o.y,f.i.x,f.i.y).get,f.__fnct=b),u=b((e-(f.t-this.offsetTime))/(m.t-this.offsetTime-(f.t-this.offsetTime)))}r=m.s?m.s[0]:f.e[0]}n=f.s[0]}for(l=t._length,c=n.i[0].length,i.lastIndex=d,o=0;o<l;o+=1)for(s=0;s<c;s+=1)h=a?n.i[o][s]:n.i[o][s]+(r.i[o][s]-n.i[o][s])*u,t.i[o][s]=h,h=a?n.o[o][s]:n.o[o][s]+(r.o[o][s]-n.o[o][s])*u,t.o[o][s]=h,h=a?n.v[o][s]:n.v[o][s]+(r.v[o][s]-n.v[o][s])*u,t.v[o][s]=h}function t(){var e=this.comp.renderedFrame-this.offsetTime,t=this.keyframes[0].t-this.offsetTime,i=this.keyframes[this.keyframes.length-1].t-this.offsetTime,n=this._caching.lastFrame;return n!==d&&(n<t&&e<t||n>i&&e>i)||(this._caching.lastIndex=n<e?this._caching.lastIndex:0,this.interpolateShape(e,this.pv,this._caching)),this._caching.lastFrame=e,this.pv}function i(){this.paths=this.localShapeCollection}function n(e,t){if(e._length!==t._length||e.c!==t.c)return!1;var i,n=e._length;for(i=0;i<n;i+=1)if(e.v[i][0]!==t.v[i][0]||e.v[i][1]!==t.v[i][1]||e.o[i][0]!==t.o[i][0]||e.o[i][1]!==t.o[i][1]||e.i[i][0]!==t.i[i][0]||e.i[i][1]!==t.i[i][1])return!1;return!0}function r(e){n(this.v,e)||(this.v=shape_pool.clone(e),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function a(){if(this.elem.globalData.frameId!==this.frameId){if(!this.effectsSequence.length)return void(this._mdf=!1);if(this.lock)return void this.setVValue(this.pv);this.lock=!0,this._mdf=!1;var e,t=this.kf?this.pv:this.data.ks?this.data.ks.k:this.data.pt.k,i=this.effectsSequence.length;for(e=0;e<i;e+=1)t=this.effectsSequence[e](t);this.setVValue(t),this.lock=!1,this.frameId=this.elem.globalData.frameId}}function o(e,t,n){this.propType="shape",this.comp=e.comp,this.container=e,this.elem=e,this.data=t,this.k=!1,this.kf=!1,this._mdf=!1;var r=3===n?t.pt.k:t.ks.k;this.v=shape_pool.clone(r),this.pv=shape_pool.clone(this.v),this.localShapeCollection=shapeCollection_pool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=i,this.effectsSequence=[]}function s(e){this.effectsSequence.push(e),this.container.addDynamicProperty(this)}function l(e,n,r){this.propType="shape",this.comp=e.comp,this.elem=e,this.container=e,this.offsetTime=e.data.st,this.keyframes=3===r?n.pt.k:n.ks.k,this.k=!0,this.kf=!0;var a=this.keyframes[0].s[0].i.length;this.keyframes[0].s[0].i[0].length;this.v=shape_pool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,a),this.pv=shape_pool.clone(this.v),this.localShapeCollection=shapeCollection_pool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=d,this.reset=i,this._caching={lastFrame:d,lastIndex:0},this.effectsSequence=[t.bind(this)]}function c(e,t,i){var n;if(3===i||4===i){n=(3===i?t.pt:t.ks).k.length?new l(e,t,i):new o(e,t,i)}else 5===i?n=new m(e,t):6===i?n=new p(e,t):7===i&&(n=new f(e,t));return n.k&&e.addDynamicProperty(n),n}function u(){return o}function h(){return l}var d=-999999;o.prototype.interpolateShape=e,o.prototype.getValue=a,o.prototype.setVValue=r,o.prototype.addEffect=s,l.prototype.getValue=a,l.prototype.interpolateShape=e,l.prototype.setVValue=r,l.prototype.addEffect=s;var p=function(){function e(e,t){this.v=shape_pool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollection_pool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=t.d,this.elem=e,this.comp=e.comp,this.frameId=-1,this.initDynamicPropertyContainer(e),this.p=PropertyFactory.getProp(e,t.p,1,0,this),this.s=PropertyFactory.getProp(e,t.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}var t=roundCorner;return e.prototype={reset:i,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var e=this.p.v[0],i=this.p.v[1],n=this.s.v[0]/2,r=this.s.v[1]/2,a=3!==this.d,o=this.v;o.v[0][0]=e,o.v[0][1]=i-r,o.v[1][0]=a?e+n:e-n,o.v[1][1]=i,o.v[2][0]=e,o.v[2][1]=i+r,o.v[3][0]=a?e-n:e+n,o.v[3][1]=i,o.i[0][0]=a?e-n*t:e+n*t,o.i[0][1]=i-r,o.i[1][0]=a?e+n:e-n,o.i[1][1]=i-r*t,o.i[2][0]=a?e+n*t:e-n*t,o.i[2][1]=i+r,o.i[3][0]=a?e-n:e+n,o.i[3][1]=i+r*t,o.o[0][0]=a?e+n*t:e-n*t,o.o[0][1]=i-r,o.o[1][0]=a?e+n:e-n,o.o[1][1]=i+r*t,o.o[2][0]=a?e-n*t:e+n*t,o.o[2][1]=i+r,o.o[3][0]=a?e-n:e+n,o.o[3][1]=i-r*t}},extendPrototype([DynamicPropertyContainer],e),e}(),f=function(){function e(e,t){this.v=shape_pool.newElement(),this.v.setPathData(!0,0),this.elem=e,this.comp=e.comp,this.data=t,this.frameId=-1,this.d=t.d,this.initDynamicPropertyContainer(e),1===t.sy?(this.ir=PropertyFactory.getProp(e,t.ir,0,0,this),this.is=PropertyFactory.getProp(e,t.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(e,t.pt,0,0,this),this.p=PropertyFactory.getProp(e,t.p,1,0,this),this.r=PropertyFactory.getProp(e,t.r,0,degToRads,this),this.or=PropertyFactory.getProp(e,t.or,0,0,this),this.os=PropertyFactory.getProp(e,t.os,0,.01,this),this.localShapeCollection=shapeCollection_pool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return e.prototype={reset:i,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var e,t,i,n,r=2*Math.floor(this.pt.v),a=2*Math.PI/r,o=!0,s=this.or.v,l=this.ir.v,c=this.os.v,u=this.is.v,h=2*Math.PI*s/(2*r),d=2*Math.PI*l/(2*r),p=-Math.PI/2;p+=this.r.v;var f=3===this.data.d?-1:1;for(this.v._length=0,e=0;e<r;e+=1){t=o?s:l,i=o?c:u,n=o?h:d;var m=t*Math.cos(p),g=t*Math.sin(p),v=0===m&&0===g?0:g/Math.sqrt(m*m+g*g),y=0===m&&0===g?0:-m/Math.sqrt(m*m+g*g);m+=+this.p.v[0],g+=+this.p.v[1],this.v.setTripleAt(m,g,m-v*n*i*f,g-y*n*i*f,m+v*n*i*f,g+y*n*i*f,e,!0),o=!o,p+=a*f}},convertPolygonToPath:function(){var e,t=Math.floor(this.pt.v),i=2*Math.PI/t,n=this.or.v,r=this.os.v,a=2*Math.PI*n/(4*t),o=-Math.PI/2,s=3===this.data.d?-1:1;for(o+=this.r.v,this.v._length=0,e=0;e<t;e+=1){var l=n*Math.cos(o),c=n*Math.sin(o),u=0===l&&0===c?0:c/Math.sqrt(l*l+c*c),h=0===l&&0===c?0:-l/Math.sqrt(l*l+c*c);l+=+this.p.v[0],c+=+this.p.v[1],this.v.setTripleAt(l,c,l-u*a*r*s,c-h*a*r*s,l+u*a*r*s,c+h*a*r*s,e,!0),o+=i*s}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],e),e}(),m=function(){function e(e,t){this.v=shape_pool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollection_pool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=e,this.comp=e.comp,this.frameId=-1,this.d=t.d,this.initDynamicPropertyContainer(e),this.p=PropertyFactory.getProp(e,t.p,1,0,this),this.s=PropertyFactory.getProp(e,t.s,1,0,this),this.r=PropertyFactory.getProp(e,t.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return e.prototype={convertRectToPath:function(){var e=this.p.v[0],t=this.p.v[1],i=this.s.v[0]/2,n=this.s.v[1]/2,r=bm_min(i,n,this.r.v),a=r*(1-roundCorner);this.v._length=0,2===this.d||1===this.d?(this.v.setTripleAt(e+i,t-n+r,e+i,t-n+r,e+i,t-n+a,0,!0),this.v.setTripleAt(e+i,t+n-r,e+i,t+n-a,e+i,t+n-r,1,!0),0!==r?(this.v.setTripleAt(e+i-r,t+n,e+i-r,t+n,e+i-a,t+n,2,!0),this.v.setTripleAt(e-i+r,t+n,e-i+a,t+n,e-i+r,t+n,3,!0),this.v.setTripleAt(e-i,t+n-r,e-i,t+n-r,e-i,t+n-a,4,!0),this.v.setTripleAt(e-i,t-n+r,e-i,t-n+a,e-i,t-n+r,5,!0),this.v.setTripleAt(e-i+r,t-n,e-i+r,t-n,e-i+a,t-n,6,!0),this.v.setTripleAt(e+i-r,t-n,e+i-a,t-n,e+i-r,t-n,7,!0)):(this.v.setTripleAt(e-i,t+n,e-i+a,t+n,e-i,t+n,2),this.v.setTripleAt(e-i,t-n,e-i,t-n+a,e-i,t-n,3))):(this.v.setTripleAt(e+i,t-n+r,e+i,t-n+a,e+i,t-n+r,0,!0),0!==r?(this.v.setTripleAt(e+i-r,t-n,e+i-r,t-n,e+i-a,t-n,1,!0),this.v.setTripleAt(e-i+r,t-n,e-i+a,t-n,e-i+r,t-n,2,!0),this.v.setTripleAt(e-i,t-n+r,e-i,t-n+r,e-i,t-n+a,3,!0),this.v.setTripleAt(e-i,t+n-r,e-i,t+n-a,e-i,t+n-r,4,!0),this.v.setTripleAt(e-i+r,t+n,e-i+r,t+n,e-i+a,t+n,5,!0),this.v.setTripleAt(e+i-r,t+n,e+i-a,t+n,e+i-r,t+n,6,!0),this.v.setTripleAt(e+i,t+n-r,e+i,t+n-r,e+i,t+n-a,7,!0)):(this.v.setTripleAt(e-i,t-n,e-i+a,t-n,e-i,t-n,1,!0),this.v.setTripleAt(e-i,t+n,e-i,t+n-a,e-i,t+n,2,!0),this.v.setTripleAt(e+i,t+n,e+i-a,t+n,e+i,t+n,3,!0)))},getValue:function(e){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:i},extendPrototype([DynamicPropertyContainer],e),e}(),g={};return g.getShapeProp=c,g.getConstructorFunction=u,g.getKeyframedConstructorFunction=h,g}(),ShapeModifiers=function(){function e(e,t){n[e]||(n[e]=t)}function t(e,t,i){return new n[e](t,i)}var i={},n={};return i.registerModifier=e,i.getModifier=t,i}();ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(e){if(!this.closed){e.sh.container.addDynamicProperty(e.sh);var t={shape:e.sh,data:e,localShapeCollection:shapeCollection_pool.newShapeCollection()};this.shapes.push(t),this.addShapeToModifier(t),this._isAnimated&&e.setAsAnimated()}},ShapeModifier.prototype.init=function(e,t){this.shapes=[],this.elem=e,this.initDynamicPropertyContainer(e),this.initModifierProperties(e,t),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier),extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(e,t){this.s=PropertyFactory.getProp(e,t.s,0,.01,this),this.e=PropertyFactory.getProp(e,t.e,0,.01,this),this.o=PropertyFactory.getProp(e,t.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=t.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(e){e.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(e,t,i,n,r){var a=[];t<=1?a.push({s:e,e:t}):e>=1?a.push({s:e-1,e:t-1}):(a.push({s:e,e:1}),a.push({s:0,e:t-1}));var o,s,l=[],c=a.length;for(o=0;o<c;o+=1)if(s=a[o],s.e*r<n||s.s*r>n+i);else{var u,h;u=s.s*r<=n?0:(s.s*r-n)/i,h=s.e*r>=n+i?1:(s.e*r-n)/i,l.push([u,h])}return l.length||l.push([0,0]),l},TrimModifier.prototype.releasePathsData=function(e){var t,i=e.length;for(t=0;t<i;t+=1)segments_length_pool.release(e[t]);return e.length=0,e},TrimModifier.prototype.processShapes=function(e){var t,i;if(this._mdf||e){var n=this.o.v%360/360;if(n<0&&(n+=1),t=(this.s.v>1?1:this.s.v<0?0:this.s.v)+n,i=(this.e.v>1?1:this.e.v<0?0:this.e.v)+n,t>i){var r=t;t=i,i=r}t=1e-4*Math.round(1e4*t),i=1e-4*Math.round(1e4*i),this.sValue=t,this.eValue=i}else t=this.sValue,i=this.eValue;var a,o,s,l,c,u,h,d=this.shapes.length,p=0;if(i===t)for(o=0;o<d;o+=1)this.shapes[o].localShapeCollection.releaseShapes(),this.shapes[o].shape._mdf=!0,this.shapes[o].shape.paths=this.shapes[o].localShapeCollection;else if(1===i&&0===t||0===i&&1===t){if(this._mdf)for(o=0;o<d;o+=1)this.shapes[o].pathsData.length=0,this.shapes[o].shape._mdf=!0}else{var f,m,g=[];for(o=0;o<d;o+=1)if(f=this.shapes[o],f.shape._mdf||this._mdf||e||2===this.m){if(a=f.shape.paths,l=a._length,h=0,!f.shape._mdf&&f.pathsData.length)h=f.totalShapeLength;else{for(c=this.releasePathsData(f.pathsData),s=0;s<l;s+=1)u=bez.getSegmentsLength(a.shapes[s]),c.push(u),h+=u.totalLength;f.totalShapeLength=h,f.pathsData=c}p+=h,f.shape._mdf=!0}else f.shape.paths=f.localShapeCollection;var v,y=t,b=i,_=0;for(o=d-1;o>=0;o-=1)if(f=this.shapes[o],f.shape._mdf){for(m=f.localShapeCollection,m.releaseShapes(),2===this.m&&d>1?(v=this.calculateShapeEdges(t,i,f.totalShapeLength,_,p),_+=f.totalShapeLength):v=[[y,b]],l=v.length,s=0;s<l;s+=1){y=v[s][0],b=v[s][1],g.length=0,b<=1?g.push({s:f.totalShapeLength*y,e:f.totalShapeLength*b}):y>=1?g.push({s:f.totalShapeLength*(y-1),e:f.totalShapeLength*(b-1)}):(g.push({s:f.totalShapeLength*y,e:f.totalShapeLength}),g.push({s:0,e:f.totalShapeLength*(b-1)}));var A=this.addShapes(f,g[0]);if(g[0].s!==g[0].e){if(g.length>1){var E=f.shape.paths.shapes[f.shape.paths._length-1];if(E.c){var w=A.pop();this.addPaths(A,m),A=this.addShapes(f,g[1],w)}else this.addPaths(A,m),A=this.addShapes(f,g[1])}this.addPaths(A,m)}}f.shape.paths=m}}},TrimModifier.prototype.addPaths=function(e,t){var i,n=e.length;for(i=0;i<n;i+=1)t.addShape(e[i])},TrimModifier.prototype.addSegment=function(e,t,i,n,r,a,o){r.setXYAt(t[0],t[1],"o",a),r.setXYAt(i[0],i[1],"i",a+1),o&&r.setXYAt(e[0],e[1],"v",a),r.setXYAt(n[0],n[1],"v",a+1)},TrimModifier.prototype.addSegmentFromArray=function(e,t,i,n){t.setXYAt(e[1],e[5],"o",i),t.setXYAt(e[2],e[6],"i",i+1),n&&t.setXYAt(e[0],e[4],"v",i),t.setXYAt(e[3],e[7],"v",i+1)},TrimModifier.prototype.addShapes=function(e,t,i){var n,r,a,o,s,l,c,u,h=e.pathsData,d=e.shape.paths.shapes,p=e.shape.paths._length,f=0,m=[],g=!0;for(i?(s=i._length,u=i._length):(i=shape_pool.newElement(),s=0,u=0),m.push(i),n=0;n<p;n+=1){for(l=h[n].lengths,i.c=d[n].c,a=d[n].c?l.length:l.length+1,r=1;r<a;r+=1)if(o=l[r-1],f+o.addedLength<t.s)f+=o.addedLength,i.c=!1;else{if(f>t.e){i.c=!1;break}t.s<=f&&t.e>=f+o.addedLength?(this.addSegment(d[n].v[r-1],d[n].o[r-1],d[n].i[r],d[n].v[r],i,s,g),g=!1):(c=bez.getNewSegment(d[n].v[r-1],d[n].v[r],d[n].o[r-1],d[n].i[r],(t.s-f)/o.addedLength,(t.e-f)/o.addedLength,l[r-1]),this.addSegmentFromArray(c,i,s,g),g=!1,i.c=!1),f+=o.addedLength,s+=1}if(d[n].c&&l.length){if(o=l[r-1],f<=t.e){var v=l[r-1].addedLength;t.s<=f&&t.e>=f+v?(this.addSegment(d[n].v[r-1],d[n].o[r-1],d[n].i[0],d[n].v[0],i,s,g),g=!1):(c=bez.getNewSegment(d[n].v[r-1],d[n].v[0],d[n].o[r-1],d[n].i[0],(t.s-f)/v,(t.e-f)/v,l[r-1]),this.addSegmentFromArray(c,i,s,g),g=!1,i.c=!1)}else i.c=!1;f+=o.addedLength,s+=1}if(i._length&&(i.setXYAt(i.v[u][0],i.v[u][1],"i",u),i.setXYAt(i.v[i._length-1][0],i.v[i._length-1][1],"o",i._length-1)),f>t.e)break;n<p-1&&(i=shape_pool.newElement(),g=!0,m.push(i),s=0)}return m},ShapeModifiers.registerModifier("tm",TrimModifier),extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(e,t){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(e,t.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(e,t){var i=shape_pool.newElement();i.c=e.c;var n,r,a,o,s,l,c,u,h,d,p,f,m,g=e._length,v=0;for(n=0;n<g;n+=1)r=e.v[n],o=e.o[n],a=e.i[n],r[0]===o[0]&&r[1]===o[1]&&r[0]===a[0]&&r[1]===a[1]?0!==n&&n!==g-1||e.c?(s=0===n?e.v[g-1]:e.v[n-1],l=Math.sqrt(Math.pow(r[0]-s[0],2)+Math.pow(r[1]-s[1],2)),c=l?Math.min(l/2,t)/l:0,u=f=r[0]+(s[0]-r[0])*c,h=m=r[1]-(r[1]-s[1])*c,d=u-(u-r[0])*roundCorner,p=h-(h-r[1])*roundCorner,i.setTripleAt(u,h,d,p,f,m,v),v+=1,s=n===g-1?e.v[0]:e.v[n+1],l=Math.sqrt(Math.pow(r[0]-s[0],2)+Math.pow(r[1]-s[1],2)),c=l?Math.min(l/2,t)/l:0,u=d=r[0]+(s[0]-r[0])*c,h=p=r[1]+(s[1]-r[1])*c,f=u-(u-r[0])*roundCorner,m=h-(h-r[1])*roundCorner,i.setTripleAt(u,h,d,p,f,m,v),v+=1):(i.setTripleAt(r[0],r[1],o[0],o[1],a[0],a[1],v),v+=1):(i.setTripleAt(e.v[n][0],e.v[n][1],e.o[n][0],e.o[n][1],e.i[n][0],e.i[n][1],v),v+=1);return i},RoundCornersModifier.prototype.processShapes=function(e){var t,i,n,r,a=this.shapes.length,o=this.rd.v;if(0!==o){var s,l;for(i=0;i<a;i+=1){if(s=this.shapes[i],s.shape.paths,l=s.localShapeCollection,s.shape._mdf||this._mdf||e)for(l.releaseShapes(),s.shape._mdf=!0,t=s.shape.paths.shapes,r=s.shape.paths._length,n=0;n<r;n+=1)l.addShape(this.processPath(t[n],o));s.shape.paths=s.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)},ShapeModifiers.registerModifier("rd",RoundCornersModifier),extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(e,t){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(e,t.c,0,null,this),this.o=PropertyFactory.getProp(e,t.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(e,t.tr,this),this.so=PropertyFactory.getProp(e,t.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(e,t.tr.eo,0,.01,this),this.data=t,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(e,t,i,n,r,a){var o=a?-1:1,s=n.s.v[0]+(1-n.s.v[0])*(1-r),l=n.s.v[1]+(1-n.s.v[1])*(1-r);e.translate(n.p.v[0]*o*r,n.p.v[1]*o*r,n.p.v[2]),t.translate(-n.a.v[0],-n.a.v[1],n.a.v[2]),t.rotate(-n.r.v*o*r),t.translate(n.a.v[0],n.a.v[1],n.a.v[2]),i.translate(-n.a.v[0],-n.a.v[1],n.a.v[2]),i.scale(a?1/s:s,a?1/l:l),i.translate(n.a.v[0],n.a.v[1],n.a.v[2])},RepeaterModifier.prototype.init=function(e,t,i,n){this.elem=e,this.arr=t,this.pos=i,this.elemsData=n,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(e),this.initModifierProperties(e,t[i]);for(var r=0;i>0;)i-=1,this._elements.unshift(t[i]),r+=1;this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(e){var t,i=e.length;for(t=0;t<i;t+=1)e[t]._processed=!1,"gr"===e[t].ty&&this.resetElements(e[t].it)},RepeaterModifier.prototype.cloneElements=function(e){var t=(e.length,JSON.parse(JSON.stringify(e)));return this.resetElements(t),t},RepeaterModifier.prototype.changeGroupRender=function(e,t){var i,n=e.length;for(i=0;i<n;i+=1)e[i]._render=t,"gr"===e[i].ty&&this.changeGroupRender(e[i].it,t)},RepeaterModifier.prototype.processShapes=function(e){var t,i,n,r,a;if(this._mdf||e){var o=Math.ceil(this.c.v);if(this._groups.length<o){for(;this._groups.length<o;){var s={it:this.cloneElements(this._elements),ty:"gr"};s.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,s),this._groups.splice(0,0,s),this._currentCopies+=1}this.elem.reloadShapes()}a=0;var l;for(n=0;n<=this._groups.length-1;n+=1)l=a<o,this._groups[n]._render=l,this.changeGroupRender(this._groups[n].it,l),a+=1;this._currentCopies=o;var c=this.o.v,u=c%1,h=c>0?Math.floor(c):Math.ceil(c),d=(this.tr.v.props,this.pMatrix.props),p=this.rMatrix.props,f=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var m=0;if(c>0){for(;m<h;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),m+=1;u&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,u,!1),m+=u)}else if(c<0){for(;m>h;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),m-=1;u&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-u,!0),m-=u)}n=1===this.data.m?0:this._currentCopies-1,r=1===this.data.m?1:-1,a=this._currentCopies;for(var g,v;a;){if(t=this.elemsData[n].it,i=t[t.length-1].transform.mProps.v.props,v=i.length,t[t.length-1].transform.mProps._mdf=!0,t[t.length-1].transform.op._mdf=!0,t[t.length-1].transform.op.v=this.so.v+(this.eo.v-this.so.v)*(n/(this._currentCopies-1)),0!==m){for((0!==n&&1===r||n!==this._currentCopies-1&&-1===r)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(p[0],p[1],p[2],p[3],p[4],p[5],p[6],p[7],p[8],p[9],p[10],p[11],p[12],p[13],p[14],p[15]),this.matrix.transform(f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],f[8],f[9],f[10],f[11],f[12],f[13],f[14],f[15]),this.matrix.transform(d[0],d[1],d[2],d[3],d[4],d[5],d[6],d[7],d[8],d[9],d[10],d[11],d[12],d[13],d[14],d[15]),g=0;g<v;g+=1)i[g]=this.matrix.props[g];this.matrix.reset()}else for(this.matrix.reset(),g=0;g<v;g+=1)i[g]=this.matrix.props[g];m+=1,a-=1,n+=r}}else for(a=this._currentCopies,n=0,r=1;a;)t=this.elemsData[n].it,i=t[t.length-1].transform.mProps.v.props,t[t.length-1].transform.mProps._mdf=!1,t[t.length-1].transform.op._mdf=!1,a-=1,n+=r},RepeaterModifier.prototype.addShape=function(){},ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeCollection.prototype.addShape=function(e){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=e,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var e;for(e=0;e<this._length;e+=1)shape_pool.release(this.shapes[e]);this._length=0},DashProperty.prototype.getValue=function(e){if((this.elem.globalData.frameId!==this.frameId||e)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||e,this._mdf)){var t=0,i=this.dataProps.length;for("svg"===this.renderer&&(this.dashStr=""),t=0;t<i;t+=1)"o"!=this.dataProps[t].n?"svg"===this.renderer?this.dashStr+=" "+this.dataProps[t].p.v:this.dashArray[t]=this.dataProps[t].p.v:this.dashoffset[0]=this.dataProps[t].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty),GradientProperty.prototype.comparePoints=function(e,t){for(var i=0,n=this.o.length/2;i<n;){if(Math.abs(e[4*i]-e[4*t+2*i])>.01)return!1;i+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!==this.c.length/4)return!1;if(this.data.k.k[0].s)for(var e=0,t=this.data.k.k.length;e<t;){if(!this.comparePoints(this.data.k.k[e].s,this.data.p))return!1;e+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(e){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||e){var t,i,n,r=4*this.data.p;for(t=0;t<r;t+=1)i=t%4===0?100:255,n=Math.round(this.prop.v[t]*i),this.c[t]!==n&&(this.c[t]=n,this._cmdf=!e);if(this.o.length)for(r=this.prop.v.length,t=4*this.data.p;t<r;t+=1)i=t%2===0?100:1,n=t%2===0?Math.round(100*this.prop.v[t]):this.prop.v[t],this.o[t-4*this.data.p]!==n&&(this.o[t-4*this.data.p]=n,this._omdf=!e);this._mdf=!e}},extendPrototype([DynamicPropertyContainer],GradientProperty);var buildShapeString=function(e,t,i,n){if(0===t)return"";var r,a=e.o,o=e.i,s=e.v,l=" M"+n.applyToPointStringified(s[0][0],s[0][1]);for(r=1;r<t;r+=1)l+=" C"+n.applyToPointStringified(a[r-1][0],a[r-1][1])+" "+n.applyToPointStringified(o[r][0],o[r][1])+" "+n.applyToPointStringified(s[r][0],s[r][1]);return i&&t&&(l+=" C"+n.applyToPointStringified(a[r-1][0],a[r-1][1])+" "+n.applyToPointStringified(o[0][0],o[0][1])+" "+n.applyToPointStringified(s[0][0],s[0][1]),l+="z"),l},ImagePreloader=function(){function e(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function t(e,t,i){var n="";if(e.e)n=e.p;else if(t){var r=e.p;-1!==r.indexOf("images/")&&(r=r.split("/")[1]),n=t+r}else n=i,n+=e.u?e.u:"",n+=e.p;return n}function i(e){var i=t(e,this.assetsPath,this.path),n=createNS("image");n.addEventListener("load",this._imageLoaded,!1),n.addEventListener("error",function(){r.img=d,this._imageLoaded()}.bind(this),!1),n.setAttributeNS("http://www.w3.org/1999/xlink","href",i);var r={img:n,assetData:e};return r}function n(e){var i=t(e,this.assetsPath,this.path),n=createTag("img");n.crossOrigin="anonymous",n.addEventListener("load",this._imageLoaded,!1),n.addEventListener("error",function(){r.img=d,this._imageLoaded()}.bind(this),!1),n.src=i;var r={img:n,assetData:e};return r}function r(e,t){this.imagesLoadedCb=t;var i,n=e.length;for(i=0;i<n;i+=1)e[i].layers||(this.totalImages+=1,this.images.push(this._createImageData(e[i])))}function a(e){this.path=e||""}function o(e){this.assetsPath=e||""}function s(e){for(var t=0,i=this.images.length;t<i;){if(this.images[t].assetData===e)return this.images[t].img;t+=1}}function l(){this.imagesLoadedCb=null,this.images.length=0}function c(){return this.totalImages===this.loadedAssets}function u(e){this._createImageData="svg"===e?this.createImageData.bind(this):this.createImgData.bind(this)}function h(t){this._imageLoaded=e.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.loadedAssets=0,this.imagesLoadedCb=null,this.images=[]}var d=function(){var e=createTag("canvas");e.width=1,e.height=1;var t=e.getContext("2d");return t.fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),e}();return h.prototype={loadAssets:r,setAssetsPath:o,setPath:a,loaded:c,destroy:l,getImage:s,createImgData:n,createImageData:i,imageLoaded:e,setCacheType:u},h}(),featureSupport=function(){var e={maskType:!0};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(e.maskType=!1),e}(),filtersFactory=function(){function e(e){var t=createNS("filter");return t.setAttribute("id",e),t.setAttribute("filterUnits","objectBoundingBox"),t.setAttribute("x","0%"),t.setAttribute("y","0%"),t.setAttribute("width","100%"),t.setAttribute("height","100%"),t}function t(){var e=createNS("feColorMatrix");return e.setAttribute("type","matrix"),e.setAttribute("color-interpolation-filters","sRGB"),e.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),e}var i={};return i.createFilter=e,i.createAlphaToLuminanceFilter=t,i}(),assetLoader=function(){function e(e){return e.response&&"object"===typeof e.response?e.response:e.response&&"string"===typeof e.response?JSON.parse(e.response):e.responseText?JSON.parse(e.responseText):void 0}function t(t,i,n){var r,a=new XMLHttpRequest;a.open("GET",t,!0);try{a.responseType="json"}catch(e){}a.send(),a.onreadystatechange=function(){if(4==a.readyState)if(200==a.status)r=e(a),i(r);else try{r=e(a),i(r)}catch(e){n&&n(e)}}}return{load:t}}();TextAnimatorProperty.prototype.searchProperties=function(){var e,t,i=this._textData.a.length,n=PropertyFactory.getProp;for(e=0;e<i;e+=1)t=this._textData.a[e],this._animatorsData[e]=new TextAnimatorDataProperty(this._elem,t,this);this._textData.p&&"m"in this._textData.p?(this._pathData={f:n(this._elem,this._textData.p.f,0,0,this),l:n(this._elem,this._textData.p.l,0,0,this),r:this._textData.p.r,m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=n(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(e,t){if(this.lettersChangedFlag=t,this._mdf||this._isFirstFrame||t||this._hasMaskedPath&&this._pathData.m._mdf){this._isFirstFrame=!1;var i,n,r,a,o,s,l,c,u,h,d,p,f,m,g,v,y,b,_,A=this._moreOptions.alignment.v,E=this._animatorsData,w=this._textData,x=this.mHelper,T=this._renderType,S=this.renderedLetters.length,C=(this.data,e.l);if(this._hasMaskedPath){if(_=this._pathData.m,!this._pathData.n||this._pathData._mdf){var k=_.v;this._pathData.r&&(k=k.reverse()),o={tLength:0,segments:[]},a=k._length-1;var O;for(v=0,r=0;r<a;r+=1)O=bez.buildBezierData(k.v[r],k.v[r+1],[k.o[r][0]-k.v[r][0],k.o[r][1]-k.v[r][1]],[k.i[r+1][0]-k.v[r+1][0],k.i[r+1][1]-k.v[r+1][1]]),o.tLength+=O.segmentLength,o.segments.push(O),v+=O.segmentLength;r=a,_.v.c&&(O=bez.buildBezierData(k.v[r],k.v[0],[k.o[r][0]-k.v[r][0],k.o[r][1]-k.v[r][1]],[k.i[0][0]-k.v[0][0],k.i[0][1]-k.v[0][1]]),o.tLength+=O.segmentLength,o.segments.push(O),v+=O.segmentLength),this._pathData.pi=o}if(o=this._pathData.pi,s=this._pathData.f.v,d=0,h=1,c=0,u=!0,m=o.segments,s<0&&_.v.c)for(o.tLength<Math.abs(s)&&(s=-Math.abs(s)%o.tLength),d=m.length-1,f=m[d].points,h=f.length-1;s<0;)s+=f[h].partialLength,(h-=1)<0&&(d-=1,f=m[d].points,h=f.length-1);f=m[d].points,p=f[h-1],l=f[h],g=l.partialLength}a=C.length,i=0,n=0;var P,j,I,M,R,D=1.2*e.finalSize*.714,L=!0;M=E.length;var N,B,F,U,z,H,V,G,q,W,Y,X,Q,K=-1,Z=s,J=d,$=h,ee=-1,te=0,ie="",ne=this.defaultPropsArray;if(2===e.j||1===e.j){var re=0,ae=0,oe=2===e.j?-.5:-1,se=0,le=!0;for(r=0;r<a;r+=1)if(C[r].n){for(re&&(re+=ae);se<r;)C[se].animatorJustifyOffset=re,se+=1;re=0,le=!0}else{for(I=0;I<M;I+=1)P=E[I].a,P.t.propType&&(le&&2===e.j&&(ae+=P.t.v*oe),j=E[I].s,N=j.getMult(C[r].anIndexes[I],w.a[I].s.totalChars),N.length?re+=P.t.v*N[0]*oe:re+=P.t.v*N*oe);le=!1}for(re&&(re+=ae);se<r;)C[se].animatorJustifyOffset=re,se+=1}for(r=0;r<a;r+=1){if(x.reset(),z=1,C[r].n)i=0,n+=e.yOffset,n+=L?1:0,s=Z,L=!1,te=0,this._hasMaskedPath&&(d=J,h=$,f=m[d].points,p=f[h-1],l=f[h],g=l.partialLength,c=0),Q=W=X=ie="",ne=this.defaultPropsArray;else{if(this._hasMaskedPath){if(ee!==C[r].line){switch(e.j){case 1:s+=v-e.lineWidths[C[r].line];break;case 2:s+=(v-e.lineWidths[C[r].line])/2}ee=C[r].line}K!==C[r].ind&&(C[K]&&(s+=C[K].extra),s+=C[r].an/2,K=C[r].ind),s+=A[0]*C[r].an/200;var ce=0;for(I=0;I<M;I+=1)P=E[I].a,P.p.propType&&(j=E[I].s,N=j.getMult(C[r].anIndexes[I],w.a[I].s.totalChars),N.length?ce+=P.p.v[0]*N[0]:ce+=P.p.v[0]*N),P.a.propType&&(j=E[I].s,N=j.getMult(C[r].anIndexes[I],w.a[I].s.totalChars),N.length?ce+=P.a.v[0]*N[0]:ce+=P.a.v[0]*N);for(u=!0;u;)c+g>=s+ce||!f?(y=(s+ce-c)/l.partialLength,F=p.point[0]+(l.point[0]-p.point[0])*y,U=p.point[1]+(l.point[1]-p.point[1])*y,x.translate(-A[0]*C[r].an/200,-A[1]*D/100),u=!1):f&&(c+=l.partialLength,h+=1,h>=f.length&&(h=0,d+=1,m[d]?f=m[d].points:_.v.c?(h=0,d=0,f=m[d].points):(c-=l.partialLength,f=null)),f&&(p=l,l=f[h],g=l.partialLength));B=C[r].an/2-C[r].add,x.translate(-B,0,0)}else B=C[r].an/2-C[r].add,x.translate(-B,0,0),x.translate(-A[0]*C[r].an/200,-A[1]*D/100,0);for(te+=C[r].l/2,I=0;I<M;I+=1)P=E[I].a,P.t.propType&&(j=E[I].s,N=j.getMult(C[r].anIndexes[I],w.a[I].s.totalChars),0===i&&0===e.j||(this._hasMaskedPath?N.length?s+=P.t.v*N[0]:s+=P.t.v*N:N.length?i+=P.t.v*N[0]:i+=P.t.v*N));for(te+=C[r].l/2,e.strokeWidthAnim&&(V=e.sw||0),e.strokeColorAnim&&(H=e.sc?[e.sc[0],e.sc[1],e.sc[2]]:[0,0,0]),e.fillColorAnim&&e.fc&&(G=[e.fc[0],e.fc[1],e.fc[2]]),I=0;I<M;I+=1)P=E[I].a,P.a.propType&&(j=E[I].s,N=j.getMult(C[r].anIndexes[I],w.a[I].s.totalChars),N.length?x.translate(-P.a.v[0]*N[0],-P.a.v[1]*N[1],P.a.v[2]*N[2]):x.translate(-P.a.v[0]*N,-P.a.v[1]*N,P.a.v[2]*N));for(I=0;I<M;I+=1)P=E[I].a,P.s.propType&&(j=E[I].s,N=j.getMult(C[r].anIndexes[I],w.a[I].s.totalChars),N.length?x.scale(1+(P.s.v[0]-1)*N[0],1+(P.s.v[1]-1)*N[1],1):x.scale(1+(P.s.v[0]-1)*N,1+(P.s.v[1]-1)*N,1));for(I=0;I<M;I+=1){if(P=E[I].a,j=E[I].s,N=j.getMult(C[r].anIndexes[I],w.a[I].s.totalChars),P.sk.propType&&(N.length?x.skewFromAxis(-P.sk.v*N[0],P.sa.v*N[1]):x.skewFromAxis(-P.sk.v*N,P.sa.v*N)),P.r.propType&&(N.length?x.rotateZ(-P.r.v*N[2]):x.rotateZ(-P.r.v*N)),P.ry.propType&&(N.length?x.rotateY(P.ry.v*N[1]):x.rotateY(P.ry.v*N)),P.rx.propType&&(N.length?x.rotateX(P.rx.v*N[0]):x.rotateX(P.rx.v*N)),P.o.propType&&(N.length?z+=(P.o.v*N[0]-z)*N[0]:z+=(P.o.v*N-z)*N),e.strokeWidthAnim&&P.sw.propType&&(N.length?V+=P.sw.v*N[0]:V+=P.sw.v*N),e.strokeColorAnim&&P.sc.propType)for(q=0;q<3;q+=1)N.length?H[q]=H[q]+(P.sc.v[q]-H[q])*N[0]:H[q]=H[q]+(P.sc.v[q]-H[q])*N;if(e.fillColorAnim&&e.fc){if(P.fc.propType)for(q=0;q<3;q+=1)N.length?G[q]=G[q]+(P.fc.v[q]-G[q])*N[0]:G[q]=G[q]+(P.fc.v[q]-G[q])*N;P.fh.propType&&(G=N.length?addHueToRGB(G,P.fh.v*N[0]):addHueToRGB(G,P.fh.v*N)),P.fs.propType&&(G=N.length?addSaturationToRGB(G,P.fs.v*N[0]):addSaturationToRGB(G,P.fs.v*N)),P.fb.propType&&(G=N.length?addBrightnessToRGB(G,P.fb.v*N[0]):addBrightnessToRGB(G,P.fb.v*N))}}for(I=0;I<M;I+=1)P=E[I].a,P.p.propType&&(j=E[I].s,N=j.getMult(C[r].anIndexes[I],w.a[I].s.totalChars),this._hasMaskedPath?N.length?x.translate(0,P.p.v[1]*N[0],-P.p.v[2]*N[1]):x.translate(0,P.p.v[1]*N,-P.p.v[2]*N):N.length?x.translate(P.p.v[0]*N[0],P.p.v[1]*N[1],-P.p.v[2]*N[2]):x.translate(P.p.v[0]*N,P.p.v[1]*N,-P.p.v[2]*N));if(e.strokeWidthAnim&&(W=V<0?0:V),e.strokeColorAnim&&(Y="rgb("+Math.round(255*H[0])+","+Math.round(255*H[1])+","+Math.round(255*H[2])+")"),e.fillColorAnim&&e.fc&&(X="rgb("+Math.round(255*G[0])+","+Math.round(255*G[1])+","+Math.round(255*G[2])+")"),this._hasMaskedPath){if(x.translate(0,-e.ls),x.translate(0,A[1]*D/100+n,0),w.p.p){b=(l.point[1]-p.point[1])/(l.point[0]-p.point[0]);var ue=180*Math.atan(b)/Math.PI;l.point[0]<p.point[0]&&(ue+=180),x.rotate(-ue*Math.PI/180)}x.translate(F,U,0),s-=A[0]*C[r].an/200,C[r+1]&&K!==C[r+1].ind&&(s+=C[r].an/2,s+=e.tr/1e3*e.finalSize)}else{switch(x.translate(i,n,0),e.ps&&x.translate(e.ps[0],e.ps[1]+e.ascent,0),e.j){case 1:x.translate(C[r].animatorJustifyOffset+e.justifyOffset+(e.boxWidth-e.lineWidths[C[r].line]),0,0);break;case 2:x.translate(C[r].animatorJustifyOffset+e.justifyOffset+(e.boxWidth-e.lineWidths[C[r].line])/2,0,0)}x.translate(0,-e.ls),x.translate(B,0,0),x.translate(A[0]*C[r].an/200,A[1]*D/100,0),i+=C[r].l+e.tr/1e3*e.finalSize}"html"===T?ie=x.toCSS():"svg"===T?ie=x.to2dCSS():ne=[x.props[0],x.props[1],x.props[2],x.props[3],x.props[4],x.props[5],x.props[6],x.props[7],x.props[8],x.props[9],x.props[10],x.props[11],x.props[12],x.props[13],x.props[14],x.props[15]],Q=z}S<=r?(R=new LetterProps(Q,W,Y,X,ie,ne),this.renderedLetters.push(R),S+=1,this.lettersChangedFlag=!0):(R=this.renderedLetters[r],this.lettersChangedFlag=R.update(Q,W,Y,X,ie,ne)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty),LetterProps.prototype.update=function(e,t,i,n,r,a){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var o=!1;return this.o!==e&&(this.o=e,this._mdf.o=!0,o=!0),this.sw!==t&&(this.sw=t,this._mdf.sw=!0,o=!0),this.sc!==i&&(this.sc=i,this._mdf.sc=!0,o=!0),this.fc!==n&&(this.fc=n,this._mdf.fc=!0,o=!0),this.m!==r&&(this.m=r,this._mdf.m=!0,o=!0),!a.length||this.p[0]===a[0]&&this.p[1]===a[1]&&this.p[4]===a[4]&&this.p[5]===a[5]&&this.p[12]===a[12]&&this.p[13]===a[13]||(this.p=a,this._mdf.p=!0,o=!0),o},TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e},TextProperty.prototype.setCurrentData=function(e){e.__complete||this.completeTextData(e),this.currentData=e,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(e){this.effectsSequence.push(e),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(e){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length||e){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var t=this.currentData,i=this.keysIndex;if(this.lock)return void this.setCurrentData(this.currentData);this.lock=!0,this._mdf=!1;var n,r=this.effectsSequence.length,a=e||this.data.d.k[this.keysIndex].s;for(n=0;n<r;n+=1)a=i!==this.keysIndex?this.effectsSequence[n](a,a.t):this.effectsSequence[n](this.currentData,a.t);t!==a&&this.setCurrentData(a),this.pv=this.v=this.currentData,this.lock=!1,this.frameId=this.elem.globalData.frameId}},TextProperty.prototype.getKeyframeValue=function(){for(var e=this.data.d.k,t=this.elem.comp.renderedFrame,i=0,n=e.length;i<=n-1&&(e[i].s,!(i===n-1||e[i+1].t>t));)i+=1;return this.keysIndex!==i&&(this.keysIndex=i),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(e){for(var t,i=FontManager.getCombinedCharacterCodes(),n=[],r=0,a=e.length;r<a;)t=e.charCodeAt(r),-1!==i.indexOf(t)?n[n.length-1]+=e.charAt(r):t>=55296&&t<=56319?(t=e.charCodeAt(r+1),t>=56320&&t<=57343?(n.push(e.substr(r,2)),++r):n.push(e.charAt(r))):n.push(e.charAt(r)),r+=1;return n},TextProperty.prototype.completeTextData=function(e){e.__complete=!0;var t,i,n,r,a,o,s,l=this.elem.globalData.fontManager,c=this.data,u=[],h=0,d=c.m.g,p=0,f=0,m=0,g=[],v=0,y=0,b=l.getFontByName(e.f),_=0,A=b.fStyle?b.fStyle.split(" "):[],E="normal",w="normal";i=A.length;for(t=0;t<i;t+=1)switch(A[t].toLowerCase()){case"italic":w="italic";break;case"bold":E="700";break;case"black":E="900";break;case"medium":E="500";break;case"regular":case"normal":E="400";break;case"light":case"thin":E="200"}e.fWeight=b.fWeight||E,e.fStyle=w,e.finalSize=e.s,e.finalText=this.buildFinalText(e.t),i=e.finalText.length,e.finalLineHeight=e.lh;var x,T=e.tr/1e3*e.finalSize;if(e.sz)for(var S,C,k=!0,O=e.sz[0],P=e.sz[1];k;){C=this.buildFinalText(e.t),S=0,v=0,i=C.length,T=e.tr/1e3*e.finalSize;var j=-1;for(t=0;t<i;t+=1)x=C[t].charCodeAt(0),n=!1," "===C[t]?j=t:13!==x&&3!==x||(v=0,n=!0,S+=e.finalLineHeight||1.2*e.finalSize),l.chars?(s=l.getCharData(C[t],b.fStyle,b.fFamily),_=n?0:s.w*e.finalSize/100):_=l.measureText(C[t],e.f,e.finalSize),v+_>O&&" "!==C[t]?(-1===j?i+=1:t=j,S+=e.finalLineHeight||1.2*e.finalSize,C.splice(t,j===t?1:0,"\r"),j=-1,v=0):(v+=_,v+=T);S+=b.ascent*e.finalSize/100,this.canResize&&e.finalSize>this.minimumFontSize&&P<S?(e.finalSize-=1,e.finalLineHeight=e.finalSize*e.lh/e.s):(e.finalText=C,i=e.finalText.length,k=!1)}v=-T,_=0;var I,M=0;for(t=0;t<i;t+=1)if(n=!1,I=e.finalText[t],x=I.charCodeAt(0),13===x||3===x?(M=0,g.push(v),y=v>y?v:y,v=-2*T,r="",n=!0,m+=1):r=I,l.chars?(s=l.getCharData(I,b.fStyle,l.getFontByName(e.f).fFamily),_=n?0:s.w*e.finalSize/100):_=l.measureText(r,e.f,e.finalSize)," "===I?M+=_+T:(v+=_+T+M,M=0),u.push({l:_,an:_,add:p,n:n,anIndexes:[],val:r,line:m,animatorJustifyOffset:0}),2==d){if(p+=_,""===r||" "===r||t===i-1){for(""!==r&&" "!==r||(p-=_);f<=t;)u[f].an=p,u[f].ind=h,u[f].extra=_,f+=1;h+=1,p=0}}else if(3==d){if(p+=_,""===r||t===i-1){for(""===r&&(p-=_);f<=t;)u[f].an=p,u[f].ind=h,u[f].extra=_,f+=1;p=0,h+=1}}else u[h].ind=h,u[h].extra=0,h+=1;if(e.l=u,y=v>y?v:y,g.push(v),e.sz)e.boxWidth=e.sz[0],e.justifyOffset=0;else switch(e.boxWidth=y,e.j){case 1:e.justifyOffset=-e.boxWidth;break;case 2:e.justifyOffset=-e.boxWidth/2;break;default:e.justifyOffset=0}e.lineWidths=g;var R,D,L=c.a;o=L.length;var N,B,F=[];for(a=0;a<o;a+=1){for(R=L[a],R.a.sc&&(e.strokeColorAnim=!0),R.a.sw&&(e.strokeWidthAnim=!0),(R.a.fc||R.a.fh||R.a.fs||R.a.fb)&&(e.fillColorAnim=!0),B=0,N=R.s.b,t=0;t<i;t+=1)D=u[t],D.anIndexes[a]=B,(1==N&&""!==D.val||2==N&&""!==D.val&&" "!==D.val||3==N&&(D.n||" "==D.val||t==i-1)||4==N&&(D.n||t==i-1))&&(1===R.s.rn&&F.push(B),B+=1);c.a[a].s.totalChars=B;var U,z=-1;if(1===R.s.rn)for(t=0;t<i;t+=1)D=u[t],z!=D.anIndexes[a]&&(z=D.anIndexes[a],U=F.splice(Math.floor(Math.random()*F.length),1)[0]),D.anIndexes[a]=U}e.yOffset=e.finalLineHeight||1.2*e.finalSize,e.ls=e.ls||0,e.ascent=b.ascent*e.finalSize/100},TextProperty.prototype.updateDocumentData=function(e,t){t=void 0===t?this.keysIndex:t;var i=this.copyData({},this.data.d.k[t].s);i=this.copyData(i,e),this.data.d.k[t].s=i,this.recalculate(t),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(e){var t=this.data.d.k[e].s;t.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(t)},TextProperty.prototype.canResizeFont=function(e){this.canResize=e,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(e){this.minimumFontSize=Math.floor(e)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=function(){function e(e,t){this._currentTextLength=-1,this.k=!1,this.data=t,this.elem=e,this.comp=e.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(e),this.s=PropertyFactory.getProp(e,t.s||{k:0},0,0,this),this.e="e"in t?PropertyFactory.getProp(e,t.e,0,0,this):{v:100},this.o=PropertyFactory.getProp(e,t.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(e,t.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(e,t.ne||{k:0},0,0,this),this.a=PropertyFactory.getProp(e,t.a,0,.01,this),this.dynamicProperties.length||this.getValue()}function t(t,i,n){return new e(t,i,n)}var i=Math.max,n=Math.min,r=Math.floor;return e.prototype={getMult:function(e){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var t=0,a=0,o=1,s=1;this.ne.v>0?t=this.ne.v/100:a=-this.ne.v/100,this.xe.v>0?o=1-this.xe.v/100:s=1+this.xe.v/100;var l=BezierFactory.getBezierEasing(t,a,o,s).get,c=0,u=this.finalS,h=this.finalE,d=this.data.sh;if(2===d)c=h===u?e>=h?1:0:i(0,n(.5/(h-u)+(e-u)/(h-u),1)),c=l(c);else if(3===d)c=h===u?e>=h?0:1:1-i(0,n(.5/(h-u)+(e-u)/(h-u),1)),c=l(c);else if(4===d)h===u?c=0:(c=i(0,n(.5/(h-u)+(e-u)/(h-u),1)),c<.5?c*=2:c=1-2*(c-.5)),c=l(c);else if(5===d){if(h===u)c=0;else{var p=h-u;e=n(i(0,e+.5-u),h-u);var f=-p/2+e,m=p/2;c=Math.sqrt(1-f*f/(m*m))}c=l(c)}else 6===d?(h===u?c=0:(e=n(i(0,e+.5-u),h-u),c=(1+Math.cos(Math.PI+2*Math.PI*e/(h-u)))/2),c=l(c)):(e>=r(u)&&(c=e-u<0?i(0,n(n(h,1)-(u-e),1)):i(0,n(h-e,1))),c=l(c));return c*this.a.v},getValue:function(e){this.iterateDynamicProperties(),this._mdf=e||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,e&&2===this.data.r&&(this.e.v=this._currentTextLength);var t=2===this.data.r?1:100/this.data.totalChars,i=this.o.v/t,n=this.s.v/t+i,r=this.e.v/t+i;if(n>r){var a=n;n=r,r=a}this.finalS=n,this.finalE=r}},extendPrototype([DynamicPropertyContainer],e),{getTextSelectorProp:t}}(),pool_factory=function(){return function(e,t,i,n){function r(){var e;return o?(o-=1,e=l[o]):e=t(),e}function a(e){o===s&&(l=pooling.double(l),s*=2),i&&i(e),l[o]=e,o+=1}var o=0,s=e,l=createSizedArray(s);return{newElement:r,release:a}}}(),pooling=function(){function e(e){return e.concat(createSizedArray(e.length))}return{double:e}}(),point_pool=function(){function e(){return createTypedArray("float32",2)}return pool_factory(8,e)}(),shape_pool=function(){function e(){return new ShapePath}function t(e){var t,i=e._length;for(t=0;t<i;t+=1)point_pool.release(e.v[t]),point_pool.release(e.i[t]),point_pool.release(e.o[t]),e.v[t]=null,e.i[t]=null,e.o[t]=null;e._length=0,e.c=!1}function i(e){var t,i=n.newElement(),r=void 0===e._length?e.v.length:e._length;i.setLength(r),i.c=e.c;for(t=0;t<r;t+=1)i.setTripleAt(e.v[t][0],e.v[t][1],e.o[t][0],e.o[t][1],e.i[t][0],e.i[t][1],t);return i}var n=pool_factory(4,e,t);return n.clone=i,n}(),shapeCollection_pool=function(){function e(){var e;return n?(n-=1,e=a[n]):e=new ShapeCollection,e}function t(e){var t,i=e._length;for(t=0;t<i;t+=1)shape_pool.release(e.shapes[t]);e._length=0,n===r&&(a=pooling.double(a),r*=2),a[n]=e,n+=1}var i={newShapeCollection:e,release:t},n=0,r=4,a=createSizedArray(r);return i}(),segments_length_pool=function(){function e(){return{lengths:[],totalLength:0}}function t(e){var t,i=e.lengths.length;for(t=0;t<i;t+=1)bezier_length_pool.release(e.lengths[t]);e.lengths.length=0}return pool_factory(8,e,t)}(),bezier_length_pool=function(){function e(){return{addedLength:0,percents:createTypedArray("float32",defaultCurveSegments),lengths:createTypedArray("float32",defaultCurveSegments)}}return pool_factory(8,e)}();BaseRenderer.prototype.checkLayers=function(e){var t,i,n=this.layers.length;for(this.completeLayers=!0,t=n-1;t>=0;t--)this.elements[t]||(i=this.layers[t],i.ip-i.st<=e-this.layers[t].st&&i.op-i.st>e-this.layers[t].st&&this.buildItem(t)),this.completeLayers=!!this.elements[t]&&this.completeLayers;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(e){switch(e.ty){case 2:return this.createImage(e);case 0:return this.createComp(e);case 1:return this.createSolid(e);case 3:return this.createNull(e);case 4:return this.createShape(e);case 5:return this.createText(e);case 13:return this.createCamera(e)}return this.createNull(e)},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.buildAllItems=function(){var e,t=this.layers.length;for(e=0;e<t;e+=1)this.buildItem(e);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(e){this.completeLayers=!1;var t,i,n=e.length,r=this.layers.length;for(t=0;t<n;t+=1)for(i=0;i<r;){if(this.layers[i].id==e[t].id){this.layers[i]=e[t];break}i+=1}},BaseRenderer.prototype.setProjectInterface=function(e){this.globalData.projectInterface=e},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(e,t,i){for(var n=this.elements,r=this.layers,a=0,o=r.length;a<o;)r[a].ind==t&&(n[a]&&!0!==n[a]?(i.push(n[a]),n[a].setAsParent(),void 0!==r[a].parent?this.buildElementParenting(e,r[a].parent,i):e.setHierarchy(i)):(this.buildItem(a),this.addPendingElement(e))),a+=1},BaseRenderer.prototype.addPendingElement=function(e){this.pendingElements.push(e)},BaseRenderer.prototype.searchExtraCompositions=function(e){var t,i=e.length;for(t=0;t<i;t+=1)if(e[t].xt){var n=this.createComp(e[t]);n.initExpressions(),this.globalData.projectInterface.registerComposition(n)}},BaseRenderer.prototype.setupGlobalData=function(e,t){this.globalData.fontManager=new FontManager,this.globalData.fontManager.addChars(e.chars),this.globalData.fontManager.addFonts(e.fonts,t),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.frameId=0,this.globalData.frameRate=e.fr,this.globalData.nm=e.nm,this.globalData.compSize={w:e.w,h:e.h}},extendPrototype([BaseRenderer],SVGRenderer),SVGRenderer.prototype.createNull=function(e){return new NullElement(e,this.globalData,this)},SVGRenderer.prototype.createShape=function(e){return new SVGShapeElement(e,this.globalData,this)},SVGRenderer.prototype.createText=function(e){return new SVGTextElement(e,this.globalData,this)},SVGRenderer.prototype.createImage=function(e){return new IImageElement(e,this.globalData,this)},SVGRenderer.prototype.createComp=function(e){return new SVGCompElement(e,this.globalData,this)},SVGRenderer.prototype.createSolid=function(e){return new ISolidElement(e,this.globalData,this)},SVGRenderer.prototype.configAnimation=function(e){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+e.w+" "+e.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",e.w),this.svgElement.setAttribute("height",e.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)"),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),void 0!==this.renderConfig.focusable&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var t=this.globalData.defs;this.setupGlobalData(e,t),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=e;var i=createNS("clipPath"),n=createNS("rect");n.setAttribute("width",e.w),n.setAttribute("height",e.h),n.setAttribute("x",0),n.setAttribute("y",0);var r=createElementID();i.setAttribute("id",r),i.appendChild(n),this.layerElement.setAttribute("clip-path","url("+locationHref+"#"+r+")"),t.appendChild(i),this.layers=e.layers,this.elements=createSizedArray(e.layers.length)},SVGRenderer.prototype.destroy=function(){this.animationItem.wrapper.innerHTML="",this.layerElement=null,this.globalData.defs=null;var e,t=this.layers?this.layers.length:0;for(e=0;e<t;e++)this.elements[e]&&this.elements[e].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRenderer.prototype.updateContainerSize=function(){},SVGRenderer.prototype.buildItem=function(e){var t=this.elements;if(!t[e]&&99!=this.layers[e].ty){t[e]=!0;var i=this.createItem(this.layers[e]);t[e]=i,expressionsPlugin&&(0===this.layers[e].ty&&this.globalData.projectInterface.registerComposition(i),i.initExpressions()),this.appendElementInPos(i,e),this.layers[e].tt&&(this.elements[e-1]&&!0!==this.elements[e-1]?i.setMatte(t[e-1].layerId):(this.buildItem(e-1),this.addPendingElement(i)))}},SVGRenderer.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var e=this.pendingElements.pop();if(e.checkParenting(),e.data.tt)for(var t=0,i=this.elements.length;t<i;){if(this.elements[t]===e){e.setMatte(this.elements[t-1].layerId);break}t+=1}}},SVGRenderer.prototype.renderFrame=function(e){if(this.renderedFrame!==e&&!this.destroyed){null===e?e=this.renderedFrame:this.renderedFrame=e,this.globalData.frameNum=e,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=e,this.globalData._mdf=!1;var t,i=this.layers.length;for(this.completeLayers||this.checkLayers(e),t=i-1;t>=0;t--)(this.completeLayers||this.elements[t])&&this.elements[t].prepareFrame(e-this.layers[t].st);if(this.globalData._mdf)for(t=0;t<i;t+=1)(this.completeLayers||this.elements[t])&&this.elements[t].renderFrame()}},SVGRenderer.prototype.appendElementInPos=function(e,t){var i=e.getBaseElement();if(i){for(var n,r=0;r<t;)this.elements[r]&&!0!==this.elements[r]&&this.elements[r].getBaseElement()&&(n=this.elements[r].getBaseElement()),r+=1;n?this.layerElement.insertBefore(i,n):this.layerElement.appendChild(i)}},SVGRenderer.prototype.hide=function(){this.layerElement.style.display="none"},SVGRenderer.prototype.show=function(){this.layerElement.style.display="block"},extendPrototype([BaseRenderer],CanvasRenderer),CanvasRenderer.prototype.createShape=function(e){return new CVShapeElement(e,this.globalData,this)},CanvasRenderer.prototype.createText=function(e){return new CVTextElement(e,this.globalData,this)},CanvasRenderer.prototype.createImage=function(e){return new CVImageElement(e,this.globalData,this)},CanvasRenderer.prototype.createComp=function(e){return new CVCompElement(e,this.globalData,this)},CanvasRenderer.prototype.createSolid=function(e){return new CVSolidElement(e,this.globalData,this)},CanvasRenderer.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRenderer.prototype.ctxTransform=function(e){if(1!==e[0]||0!==e[1]||0!==e[4]||1!==e[5]||0!==e[12]||0!==e[13]){if(!this.renderConfig.clearCanvas)return void this.canvasContext.transform(e[0],e[1],e[4],e[5],e[12],e[13]);this.transformMat.cloneFromProps(e);var t=this.contextData.cTr.props;this.transformMat.transform(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15]),this.contextData.cTr.cloneFromProps(this.transformMat.props);var i=this.contextData.cTr.props;this.canvasContext.setTransform(i[0],i[1],i[4],i[5],i[12],i[13])}},CanvasRenderer.prototype.ctxOpacity=function(e){if(!this.renderConfig.clearCanvas)return this.canvasContext.globalAlpha*=e<0?0:e,void(this.globalData.currentGlobalAlpha=this.contextData.cO);this.contextData.cO*=e<0?0:e,this.globalData.currentGlobalAlpha!==this.contextData.cO&&(this.canvasContext.globalAlpha=this.contextData.cO,this.globalData.currentGlobalAlpha=this.contextData.cO)},CanvasRenderer.prototype.reset=function(){if(!this.renderConfig.clearCanvas)return void this.canvasContext.restore();this.contextData.reset()},CanvasRenderer.prototype.save=function(e){if(!this.renderConfig.clearCanvas)return void this.canvasContext.save();e&&this.canvasContext.save();var t=this.contextData.cTr.props;this.contextData._length<=this.contextData.cArrPos&&this.contextData.duplicate();var i,n=this.contextData.saved[this.contextData.cArrPos];for(i=0;i<16;i+=1)n[i]=t[i];this.contextData.savedOp[this.contextData.cArrPos]=this.contextData.cO,this.contextData.cArrPos+=1},CanvasRenderer.prototype.restore=function(e){if(!this.renderConfig.clearCanvas)return void this.canvasContext.restore();e&&(this.canvasContext.restore(),this.globalData.blendMode="source-over"),this.contextData.cArrPos-=1;var t,i=this.contextData.saved[this.contextData.cArrPos],n=this.contextData.cTr.props;for(t=0;t<16;t+=1)n[t]=i[t];this.canvasContext.setTransform(i[0],i[1],i[4],i[5],i[12],i[13]),i=this.contextData.savedOp[this.contextData.cArrPos],this.contextData.cO=i,this.globalData.currentGlobalAlpha!==i&&(this.canvasContext.globalAlpha=i,this.globalData.currentGlobalAlpha=i)},CanvasRenderer.prototype.configAnimation=function(e){this.animationItem.wrapper?(this.animationItem.container=createTag("canvas"),this.animationItem.container.style.width="100%",this.animationItem.container.style.height="100%",this.animationItem.container.style.transformOrigin=this.animationItem.container.style.mozTransformOrigin=this.animationItem.container.style.webkitTransformOrigin=this.animationItem.container.style["-webkit-transform"]="0px 0px 0px",this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)):this.canvasContext=this.renderConfig.context,this.data=e,this.layers=e.layers,this.transformCanvas={w:e.w,h:e.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(e,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(e.layers.length),this.updateContainerSize()},CanvasRenderer.prototype.updateContainerSize=function(){this.reset();var e,t;this.animationItem.wrapper&&this.animationItem.container?(e=this.animationItem.wrapper.offsetWidth,t=this.animationItem.wrapper.offsetHeight,this.animationItem.container.setAttribute("width",e*this.renderConfig.dpr),this.animationItem.container.setAttribute("height",t*this.renderConfig.dpr)):(e=this.canvasContext.canvas.width*this.renderConfig.dpr,t=this.canvasContext.canvas.height*this.renderConfig.dpr);var i,n;if(-1!==this.renderConfig.preserveAspectRatio.indexOf("meet")||-1!==this.renderConfig.preserveAspectRatio.indexOf("slice")){var r=this.renderConfig.preserveAspectRatio.split(" "),a=r[1]||"meet",o=r[0]||"xMidYMid",s=o.substr(0,4),l=o.substr(4);i=e/t,n=this.transformCanvas.w/this.transformCanvas.h,n>i&&"meet"===a||n<i&&"slice"===a?(this.transformCanvas.sx=e/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=e/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=t/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=t/(this.transformCanvas.h/this.renderConfig.dpr)),this.transformCanvas.tx="xMid"===s&&(n<i&&"meet"===a||n>i&&"slice"===a)?(e-this.transformCanvas.w*(t/this.transformCanvas.h))/2*this.renderConfig.dpr:"xMax"===s&&(n<i&&"meet"===a||n>i&&"slice"===a)?(e-this.transformCanvas.w*(t/this.transformCanvas.h))*this.renderConfig.dpr:0,this.transformCanvas.ty="YMid"===l&&(n>i&&"meet"===a||n<i&&"slice"===a)?(t-this.transformCanvas.h*(e/this.transformCanvas.w))/2*this.renderConfig.dpr:"YMax"===l&&(n>i&&"meet"===a||n<i&&"slice"===a)?(t-this.transformCanvas.h*(e/this.transformCanvas.w))*this.renderConfig.dpr:0}else"none"==this.renderConfig.preserveAspectRatio?(this.transformCanvas.sx=e/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=t/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRenderer.prototype.destroy=function(){this.renderConfig.clearCanvas&&(this.animationItem.wrapper.innerHTML="");var e,t=this.layers?this.layers.length:0;for(e=t-1;e>=0;e-=1)this.elements[e]&&this.elements[e].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRenderer.prototype.renderFrame=function(e,t){if((this.renderedFrame!==e||!0!==this.renderConfig.clearCanvas||t)&&!this.destroyed&&-1!==e){this.renderedFrame=e,this.globalData.frameNum=e-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||t,this.globalData.projectInterface.currentFrame=e;var i,n=this.layers.length;for(this.completeLayers||this.checkLayers(e),i=0;i<n;i++)(this.completeLayers||this.elements[i])&&this.elements[i].prepareFrame(e-this.layers[i].st);if(this.globalData._mdf){for(!0===this.renderConfig.clearCanvas?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),i=n-1;i>=0;i-=1)(this.completeLayers||this.elements[i])&&this.elements[i].renderFrame();!0!==this.renderConfig.clearCanvas&&this.restore()}}},CanvasRenderer.prototype.buildItem=function(e){var t=this.elements;if(!t[e]&&99!=this.layers[e].ty){var i=this.createItem(this.layers[e],this,this.globalData);t[e]=i,i.initExpressions()}},CanvasRenderer.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){this.pendingElements.pop().checkParenting()}},CanvasRenderer.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRenderer.prototype.show=function(){this.animationItem.container.style.display="block"},extendPrototype([BaseRenderer],HybridRenderer),HybridRenderer.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRenderer.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){this.pendingElements.pop().checkParenting()}},HybridRenderer.prototype.appendElementInPos=function(e,t){var i=e.getBaseElement();if(i){var n=this.layers[t];if(n.ddd&&this.supports3d)this.addTo3dContainer(i,t);else if(this.threeDElements)this.addTo3dContainer(i,t);else{for(var r,a,o,s=0;s<t;)this.elements[s]&&!0!==this.elements[s]&&this.elements[s].getBaseElement&&(a=this.elements[s],o=this.layers[s].ddd?this.getThreeDContainerByPos(s):a.getBaseElement(),r=o||r),s+=1;r?n.ddd&&this.supports3d||this.layerElement.insertBefore(i,r):n.ddd&&this.supports3d||this.layerElement.appendChild(i)}}},HybridRenderer.prototype.createShape=function(e){return this.supports3d?new HShapeElement(e,this.globalData,this):new SVGShapeElement(e,this.globalData,this)},HybridRenderer.prototype.createText=function(e){return this.supports3d?new HTextElement(e,this.globalData,this):new SVGTextElement(e,this.globalData,this)},HybridRenderer.prototype.createCamera=function(e){return this.camera=new HCameraElement(e,this.globalData,this),this.camera},HybridRenderer.prototype.createImage=function(e){return this.supports3d?new HImageElement(e,this.globalData,this):new IImageElement(e,this.globalData,this)},HybridRenderer.prototype.createComp=function(e){return this.supports3d?new HCompElement(e,this.globalData,this):new SVGCompElement(e,this.globalData,this)},HybridRenderer.prototype.createSolid=function(e){return this.supports3d?new HSolidElement(e,this.globalData,this):new ISolidElement(e,this.globalData,this)},HybridRenderer.prototype.createNull=SVGRenderer.prototype.createNull,HybridRenderer.prototype.getThreeDContainerByPos=function(e){for(var t=0,i=this.threeDElements.length;t<i;){if(this.threeDElements[t].startPos<=e&&this.threeDElements[t].endPos>=e)return this.threeDElements[t].perspectiveElem;t+=1}},HybridRenderer.prototype.createThreeDContainer=function(e,t){var i=createTag("div");styleDiv(i);var n=createTag("div");styleDiv(n),"3d"===t&&(i.style.width=this.globalData.compSize.w+"px",i.style.height=this.globalData.compSize.h+"px",i.style.transformOrigin=i.style.mozTransformOrigin=i.style.webkitTransformOrigin="50% 50%",n.style.transform=n.style.webkitTransform="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)"),i.appendChild(n);var r={container:n,perspectiveElem:i,startPos:e,endPos:e,type:t};return this.threeDElements.push(r),r},HybridRenderer.prototype.build3dContainers=function(){var e,t,i=this.layers.length,n="";for(e=0;e<i;e+=1)this.layers[e].ddd&&3!==this.layers[e].ty?("3d"!==n&&(n="3d",t=this.createThreeDContainer(e,"3d")),t.endPos=Math.max(t.endPos,e)):("2d"!==n&&(n="2d",t=this.createThreeDContainer(e,"2d")),t.endPos=Math.max(t.endPos,e));for(i=this.threeDElements.length,e=i-1;e>=0;e--)this.resizerElem.appendChild(this.threeDElements[e].perspectiveElem)},HybridRenderer.prototype.addTo3dContainer=function(e,t){for(var i=0,n=this.threeDElements.length;i<n;){if(t<=this.threeDElements[i].endPos){for(var r,a=this.threeDElements[i].startPos;a<t;)this.elements[a]&&this.elements[a].getBaseElement&&(r=this.elements[a].getBaseElement()),a+=1;r?this.threeDElements[i].container.insertBefore(e,r):this.threeDElements[i].container.appendChild(e);break}i+=1}},HybridRenderer.prototype.configAnimation=function(e){var t=createTag("div"),i=this.animationItem.wrapper;t.style.width=e.w+"px",t.style.height=e.h+"px",this.resizerElem=t,styleDiv(t),t.style.transformStyle=t.style.webkitTransformStyle=t.style.mozTransformStyle="flat",this.renderConfig.className&&t.setAttribute("class",this.renderConfig.className),i.appendChild(t),t.style.overflow="hidden";var n=createNS("svg");n.setAttribute("width","1"),n.setAttribute("height","1"),styleDiv(n),this.resizerElem.appendChild(n);var r=createNS("defs");n.appendChild(r),this.data=e,this.setupGlobalData(e,n),this.globalData.defs=r,this.layers=e.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRenderer.prototype.destroy=function(){this.animationItem.wrapper.innerHTML="",this.animationItem.container=null,this.globalData.defs=null;var e,t=this.layers?this.layers.length:0;for(e=0;e<t;e++)this.elements[e].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRenderer.prototype.updateContainerSize=function(){var e,t,i,n,r=this.animationItem.wrapper.offsetWidth,a=this.animationItem.wrapper.offsetHeight,o=r/a,s=this.globalData.compSize.w/this.globalData.compSize.h;s>o?(e=r/this.globalData.compSize.w,t=r/this.globalData.compSize.w,i=0,n=(a-this.globalData.compSize.h*(r/this.globalData.compSize.w))/2):(e=a/this.globalData.compSize.h,t=a/this.globalData.compSize.h,i=(r-this.globalData.compSize.w*(a/this.globalData.compSize.h))/2,n=0),this.resizerElem.style.transform=this.resizerElem.style.webkitTransform="matrix3d("+e+",0,0,0,0,"+t+",0,0,0,0,1,0,"+i+","+n+",0,1)"},HybridRenderer.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRenderer.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRenderer.prototype.show=function(){this.resizerElem.style.display="block"},HybridRenderer.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var e,t=this.globalData.compSize.w,i=this.globalData.compSize.h,n=this.threeDElements.length;for(e=0;e<n;e+=1)this.threeDElements[e].perspectiveElem.style.perspective=this.threeDElements[e].perspectiveElem.style.webkitPerspective=Math.sqrt(Math.pow(t,2)+Math.pow(i,2))+"px"}},HybridRenderer.prototype.searchExtraCompositions=function(e){var t,i=e.length,n=createTag("div");for(t=0;t<i;t+=1)if(e[t].xt){var r=this.createComp(e[t],n,this.globalData.comp,null);r.initExpressions(),this.globalData.projectInterface.registerComposition(r)}},MaskElement.prototype.getMaskProperty=function(e){return this.viewData[e].prop},MaskElement.prototype.renderFrame=function(e){var t,i=this.element.finalTransform.mat,n=this.masksProperties.length;for(t=0;t<n;t++)if((this.viewData[t].prop._mdf||e)&&this.drawPath(this.masksProperties[t],this.viewData[t].prop.v,this.viewData[t]),(this.viewData[t].op._mdf||e)&&this.viewData[t].elem.setAttribute("fill-opacity",this.viewData[t].op.v),"n"!==this.masksProperties[t].mode&&(this.viewData[t].invRect&&(this.element.finalTransform.mProp._mdf||e)&&this.viewData[t].invRect.setAttribute("transform",i.getInverseMatrix().to2dCSS()),this.storedData[t].x&&(this.storedData[t].x._mdf||e))){var r=this.storedData[t].expan;this.storedData[t].x.v<0?("erode"!==this.storedData[t].lastOperator&&(this.storedData[t].lastOperator="erode",this.storedData[t].elem.setAttribute("filter","url("+locationHref+"#"+this.storedData[t].filterId+")")),r.setAttribute("radius",-this.storedData[t].x.v)):("dilate"!==this.storedData[t].lastOperator&&(this.storedData[t].lastOperator="dilate",this.storedData[t].elem.setAttribute("filter",null)),this.storedData[t].elem.setAttribute("stroke-width",2*this.storedData[t].x.v))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var e="M0,0 ";return e+=" h"+this.globalData.compSize.w,e+=" v"+this.globalData.compSize.h,e+=" h-"+this.globalData.compSize.w,e+=" v-"+this.globalData.compSize.h+" "},MaskElement.prototype.drawPath=function(e,t,i){var n,r,a=" M"+t.v[0][0]+","+t.v[0][1];for(r=t._length,n=1;n<r;n+=1)a+=" C"+t.o[n-1][0]+","+t.o[n-1][1]+" "+t.i[n][0]+","+t.i[n][1]+" "+t.v[n][0]+","+t.v[n][1];if(t.c&&r>1&&(a+=" C"+t.o[n-1][0]+","+t.o[n-1][1]+" "+t.i[0][0]+","+t.i[0][1]+" "+t.v[0][0]+","+t.v[0][1]),i.lastPath!==a){var o="";i.elem&&(t.c&&(o=e.inv?this.solidPath+a:a),i.elem.setAttribute("d",o)),i.lastPath=a}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null},HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(e){this.hierarchy=e},setAsParent:function(){this._isParent=!0},checkParenting:function(){void 0!==this.data.parent&&this.comp.buildElementParenting(this,this.data.parent,[])}},FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(e,t){var i,n=this.dynamicProperties.length;for(i=0;i<n;i+=1)(t||this._isParent&&"transform"===this.dynamicProperties[i].propType)&&(this.dynamicProperties[i].getValue(),this.dynamicProperties[i]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(e){-1===this.dynamicProperties.indexOf(e)&&this.dynamicProperties.push(e)}},TransformElement.prototype={initTransform:function(){this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_opMdf:!1,mat:new Matrix},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var e,t=this.finalTransform.mat,i=0,n=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;i<n;){if(this.hierarchy[i].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}i+=1}if(this.finalTransform._matMdf)for(e=this.finalTransform.mProp.v.props,t.cloneFromProps(e),i=0;i<n;i+=1)e=this.hierarchy[i].finalTransform.mProp.v.props,t.transform(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}},globalToLocal:function(e){var t=[];t.push(this.finalTransform);for(var i=!0,n=this.comp;i;)n.finalTransform?(n.data.hasMask&&t.splice(0,0,n.finalTransform),n=n.comp):i=!1;var r,a,o=t.length;for(r=0;r<o;r+=1)a=t[r].mat.applyToPointArray(0,0,0),e=[e[0]-a[0],e[1]-a[1],0];return e},mHelper:new Matrix},RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(e){-1===this.renderableComponents.indexOf(e)&&this.renderableComponents.push(e)},removeRenderableComponent:function(e){-1!==this.renderableComponents.indexOf(e)&&this.renderableComponents.splice(this.renderableComponents.indexOf(e),1)},prepareRenderableFrame:function(e){this.checkLayerLimits(e)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(e){this.data.ip-this.data.st<=e&&this.data.op-this.data.st>e?!0!==this.isInRange&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):!1!==this.isInRange&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var e,t=this.renderableComponents.length;for(e=0;e<t;e+=1)this.renderableComponents[e].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return 5===this.data.ty?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}},function(){extendPrototype([RenderableElement,createProxyFunction({initElement:function(e,t,i){this.initFrame(),this.initBaseData(e,t,i),this.initTransform(e,t,i),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){if(!this.hidden&&(!this.isInRange||this.isTransparent)){(this.baseElement||this.layerElement).style.display="none",this.hidden=!0}},show:function(){if(this.isInRange&&!this.isTransparent){if(!this.data.hd){(this.baseElement||this.layerElement).style.display="block"}this.hidden=!1,this._isFirstFrame=!0}},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(e){this._mdf=!1,this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}})],RenderableDOMElement)}(),SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1},SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0},extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData),extendPrototype([DynamicPropertyContainer],SVGFillStyleData),SVGGradientFillStyleData.prototype.initGradientData=function(e,t,i){this.o=PropertyFactory.getProp(e,t.o,0,.01,this),this.s=PropertyFactory.getProp(e,t.s,1,null,this),this.e=PropertyFactory.getProp(e,t.e,1,null,this),this.h=PropertyFactory.getProp(e,t.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(e,t.a||{k:0},0,degToRads,this),this.g=new GradientProperty(e,t.g,this),this.style=i,this.stops=[],this.setGradientData(i.pElem,t),this.setGradientOpacity(t,i),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(e,t){var i=createElementID(),n=createNS(1===t.t?"linearGradient":"radialGradient");n.setAttribute("id",i),n.setAttribute("spreadMethod","pad"),n.setAttribute("gradientUnits","userSpaceOnUse");var r,a,o,s=[];for(o=4*t.g.p,a=0;a<o;a+=4)r=createNS("stop"),n.appendChild(r),s.push(r);e.setAttribute("gf"===t.ty?"fill":"stroke","url("+locationHref+"#"+i+")"),this.gf=n,this.cst=s},SVGGradientFillStyleData.prototype.setGradientOpacity=function(e,t){if(this.g._hasOpacity&&!this.g._collapsable){var i,n,r,a=createNS("mask"),o=createNS("path");a.appendChild(o);var s=createElementID(),l=createElementID();a.setAttribute("id",l);var c=createNS(1===e.t?"linearGradient":"radialGradient");c.setAttribute("id",s),c.setAttribute("spreadMethod","pad"),c.setAttribute("gradientUnits","userSpaceOnUse"),r=e.g.k.k[0].s?e.g.k.k[0].s.length:e.g.k.k.length;var u=this.stops;for(n=4*e.g.p;n<r;n+=2)i=createNS("stop"),i.setAttribute("stop-color","rgb(255,255,255)"),c.appendChild(i),u.push(i);o.setAttribute("gf"===e.ty?"fill":"stroke","url("+locationHref+"#"+s+")"),this.of=c,this.ms=a,this.ost=u,this.maskId=l,t.msElem=o}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData),extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);var SVGElementsRenderer=function(){function e(e){e.ty;switch(e.ty){case"fl":return n;case"gf":return a;case"gs":return r;case"st":return o;case"sh":case"el":case"rc":case"sr":return i;case"tr":return t}}function t(e,t,i){(i||t.transform.op._mdf)&&t.transform.container.setAttribute("opacity",t.transform.op.v),(i||t.transform.mProps._mdf)&&t.transform.container.setAttribute("transform",t.transform.mProps.v.to2dCSS())}function i(e,t,i){var n,r,a,o,c,u,h,d,p,f,m,g=t.styles.length,v=t.lvl;for(u=0;u<g;u+=1){if(o=t.sh._mdf||i,t.styles[u].lvl<v){for(d=l.reset(),f=v-t.styles[u].lvl,m=t.transformers.length-1;!o&&f>0;)o=t.transformers[m].mProps._mdf||o,f--,m--;if(o)for(f=v-t.styles[u].lvl,m=t.transformers.length-1;f>0;)p=t.transformers[m].mProps.v.props,d.transform(p[0],p[1],p[2],p[3],p[4],p[5],p[6],p[7],p[8],p[9],p[10],p[11],p[12],p[13],p[14],p[15]),f--,m--}else d=s;if(h=t.sh.paths,r=h._length,o){for(a="",n=0;n<r;n+=1)(c=h.shapes[n])&&c._length&&(a+=buildShapeString(c,c._length,c.c,d));t.caches[u]=a}else a=t.caches[u];t.styles[u].d+=!0===e.hd?"":a,t.styles[u]._mdf=o||t.styles[u]._mdf}}function n(e,t,i){var n=t.style;(t.c._mdf||i)&&n.pElem.setAttribute("fill","rgb("+bm_floor(t.c.v[0])+","+bm_floor(t.c.v[1])+","+bm_floor(t.c.v[2])+")"),(t.o._mdf||i)&&n.pElem.setAttribute("fill-opacity",t.o.v)}function r(e,t,i){a(e,t,i),o(e,t,i)}function a(e,t,i){var n=t.gf,r=t.g._hasOpacity,a=t.s.v,o=t.e.v;if(t.o._mdf||i){var s="gf"===e.ty?"fill-opacity":"stroke-opacity";t.style.pElem.setAttribute(s,t.o.v)}if(t.s._mdf||i){var l=1===e.t?"x1":"cx",c="x1"===l?"y1":"cy";n.setAttribute(l,a[0]),n.setAttribute(c,a[1]),r&&!t.g._collapsable&&(t.of.setAttribute(l,a[0]),t.of.setAttribute(c,a[1]))}var u,h,d,p;if(t.g._cmdf||i){u=t.cst;var f=t.g.c;for(d=u.length,h=0;h<d;h+=1)p=u[h],p.setAttribute("offset",f[4*h]+"%"),p.setAttribute("stop-color","rgb("+f[4*h+1]+","+f[4*h+2]+","+f[4*h+3]+")")}if(r&&(t.g._omdf||i)){var m=t.g.o;for(u=t.g._collapsable?t.cst:t.ost,d=u.length,h=0;h<d;h+=1)p=u[h],t.g._collapsable||p.setAttribute("offset",m[2*h]+"%"),p.setAttribute("stop-opacity",m[2*h+1])}if(1===e.t)(t.e._mdf||i)&&(n.setAttribute("x2",o[0]),n.setAttribute("y2",o[1]),r&&!t.g._collapsable&&(t.of.setAttribute("x2",o[0]),t.of.setAttribute("y2",o[1])));else{var g;if((t.s._mdf||t.e._mdf||i)&&(g=Math.sqrt(Math.pow(a[0]-o[0],2)+Math.pow(a[1]-o[1],2)),n.setAttribute("r",g),r&&!t.g._collapsable&&t.of.setAttribute("r",g)),t.e._mdf||t.h._mdf||t.a._mdf||i){g||(g=Math.sqrt(Math.pow(a[0]-o[0],2)+Math.pow(a[1]-o[1],2)));var v=Math.atan2(o[1]-a[1],o[0]-a[0]),y=t.h.v>=1?.99:t.h.v<=-1?-.99:t.h.v,b=g*y,_=Math.cos(v+t.a.v)*b+a[0],A=Math.sin(v+t.a.v)*b+a[1];n.setAttribute("fx",_),n.setAttribute("fy",A),r&&!t.g._collapsable&&(t.of.setAttribute("fx",_),t.of.setAttribute("fy",A))}}}function o(e,t,i){var n=t.style,r=t.d;r&&(r._mdf||i)&&r.dashStr&&(n.pElem.setAttribute("stroke-dasharray",r.dashStr),n.pElem.setAttribute("stroke-dashoffset",r.dashoffset[0])),t.c&&(t.c._mdf||i)&&n.pElem.setAttribute("stroke","rgb("+bm_floor(t.c.v[0])+","+bm_floor(t.c.v[1])+","+bm_floor(t.c.v[2])+")"),(t.o._mdf||i)&&n.pElem.setAttribute("stroke-opacity",t.o.v),(t.w._mdf||i)&&(n.pElem.setAttribute("stroke-width",t.w.v),n.msElem&&n.msElem.setAttribute("stroke-width",t.w.v))}var s=new Matrix,l=new Matrix;return{createRenderFunction:e}}();ShapeTransformManager.prototype={addTransformSequence:function(e){var t,i=e.length,n="_";for(t=0;t<i;t+=1)n+=e[t].transform.key+"_";var r=this.sequences[n];return r||(r={transforms:[].concat(e),finalTransform:new Matrix,_mdf:!1},this.sequences[n]=r,this.sequenceList.push(r)),r},processSequence:function(e,t){for(var i=0,n=e.transforms.length,r=t;i<n&&!t;){if(e.transforms[i].transform.mProps._mdf){r=!0;break}i+=1}if(r){var a;for(e.finalTransform.reset(),i=n-1;i>=0;i-=1)a=e.transforms[i].transform.mProps.v.props,e.finalTransform.transform(a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9],a[10],a[11],a[12],a[13],a[14],a[15])}e._mdf=r},processSequences:function(e){var t,i=this.sequenceList.length;for(t=0;t<i;t+=1)this.processSequence(this.sequenceList[t],e)},getNewKey:function(){return"_"+this.transform_key_count++}},CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated,BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var e=0,t=this.data.masksProperties.length;e<t;){if("n"!==this.data.masksProperties[e].mode&&!1!==this.data.masksProperties[e].cl)return!0;e+=1}return!1},initExpressions:function(){this.layerInterface=LayerExpressionInterface(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var e=EffectsExpressionInterface.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(e),0===this.data.ty||this.data.xt?this.compInterface=CompExpressionInterface(this):4===this.data.ty?(this.layerInterface.shapeInterface=ShapeExpressionInterface(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):5===this.data.ty&&(this.layerInterface.textInterface=TextExpressionInterface(this),this.layerInterface.text=this.layerInterface.textInterface)},setBlendMode:function(){var e=getBlendMode(this.data.bm);(this.baseElement||this.layerElement).style["mix-blend-mode"]=e},initBaseData:function(e,t,i){this.globalData=t,this.comp=i,this.data=e,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}},NullElement.prototype.prepareFrame=function(e){this.prepareProperties(e,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement),SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var e,t,i,n=null;if(this.data.td){if(3==this.data.td||1==this.data.td){var r=createNS("mask");r.setAttribute("id",this.layerId),r.setAttribute("mask-type",3==this.data.td?"luminance":"alpha"),r.appendChild(this.layerElement),n=r,this.globalData.defs.appendChild(r),featureSupport.maskType||1!=this.data.td||(r.setAttribute("mask-type","luminance"),e=createElementID(),t=filtersFactory.createFilter(e),this.globalData.defs.appendChild(t),t.appendChild(filtersFactory.createAlphaToLuminanceFilter()),i=createNS("g"),i.appendChild(this.layerElement),n=i,r.appendChild(i),i.setAttribute("filter","url("+locationHref+"#"+e+")"))}else if(2==this.data.td){var a=createNS("mask");a.setAttribute("id",this.layerId),a.setAttribute("mask-type","alpha");var o=createNS("g");a.appendChild(o),e=createElementID(),t=filtersFactory.createFilter(e);var s=createNS("feComponentTransfer");s.setAttribute("in","SourceGraphic"),t.appendChild(s);var l=createNS("feFuncA");l.setAttribute("type","table"),l.setAttribute("tableValues","1.0 0.0"),s.appendChild(l),this.globalData.defs.appendChild(t);var c=createNS("rect");c.setAttribute("width",this.comp.data.w),c.setAttribute("height",this.comp.data.h),c.setAttribute("x","0"),c.setAttribute("y","0"),c.setAttribute("fill","#ffffff"),c.setAttribute("opacity","0"),o.setAttribute("filter","url("+locationHref+"#"+e+")"),o.appendChild(c),o.appendChild(this.layerElement),n=o,featureSupport.maskType||(a.setAttribute("mask-type","luminance"),t.appendChild(filtersFactory.createAlphaToLuminanceFilter()),i=createNS("g"),o.appendChild(c),i.appendChild(this.layerElement),n=i,o.appendChild(i)),this.globalData.defs.appendChild(a)}}else this.data.tt?(this.matteElement.appendChild(this.layerElement),n=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0===this.data.ty&&!this.data.hd){var u=createNS("clipPath"),h=createNS("path");h.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var d=createElementID();if(u.setAttribute("id",d),u.appendChild(h),this.globalData.defs.appendChild(u),this.checkMasks()){var p=createNS("g");p.setAttribute("clip-path","url("+locationHref+"#"+d+")"),p.appendChild(this.layerElement),this.transformedElement=p,n?n.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+locationHref+"#"+d+")")}0!==this.data.bm&&this.setBlendMode()},renderElement:function(){this.finalTransform._matMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.mat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.mProp.o.v)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this)},setMatte:function(e){this.matteElement&&this.matteElement.setAttribute("mask","url("+locationHref+"#"+e+")")}},IShapeElement.prototype={addShapeToModifiers:function(e){var t,i=this.shapeModifiers.length;for(t=0;t<i;t+=1)this.shapeModifiers[t].addShape(e)},isShapeInAnimatedModifiers:function(e){for(var t=this.shapeModifiers.length;0<t;)if(this.shapeModifiers[0].isAnimatedWithShape(e))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var e,t=this.shapes.length;for(e=0;e<t;e+=1)this.shapes[e].sh.reset();for(t=this.shapeModifiers.length,e=t-1;e>=0;e-=1)this.shapeModifiers[e].processShapes(this._isFirstFrame)}},lcEnum:{1:"butt",2:"round",3:"square"},ljEnum:{1:"miter",2:"round",3:"bevel"},searchProcessedElement:function(e){for(var t=this.processedElements,i=0,n=t.length;i<n;){if(t[i].elem===e)return t[i].pos;i+=1}return 0},addProcessedElement:function(e,t){for(var i=this.processedElements,n=i.length;n;)if(n-=1,i[n].elem===e)return void(i[n].pos=t);i.push(new ProcessedElement(e,t))},prepareFrame:function(e){this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange)}},ITextElement.prototype.initElement=function(e,t,i){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(e,t,i),this.textProperty=new TextProperty(this,e.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(e.t,this.renderType,this),this.initTransform(e,t,i),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(e){this._mdf=!1,this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange),(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)},ITextElement.prototype.createPathShape=function(e,t){var i,n,r=t.length,a="";for(i=0;i<r;i+=1)n=t[i].ks.k,a+=buildShapeString(n,n.i.length,!0,e);return a},ITextElement.prototype.updateDocumentData=function(e,t){this.textProperty.updateDocumentData(e,t)},ITextElement.prototype.canResizeFont=function(e){this.textProperty.canResizeFont(e)},ITextElement.prototype.setMinimumFontSize=function(e){this.textProperty.setMinimumFontSize(e)},ITextElement.prototype.applyTextPropertiesToMatrix=function(e,t,i,n,r){switch(e.ps&&t.translate(e.ps[0],e.ps[1]+e.ascent,0),t.translate(0,-e.ls,0),e.j){case 1:t.translate(e.justifyOffset+(e.boxWidth-e.lineWidths[i]),0,0);break;case 2:t.translate(e.justifyOffset+(e.boxWidth-e.lineWidths[i])/2,0,0)}t.translate(n,r,0)},ITextElement.prototype.buildColor=function(e){return"rgb("+Math.round(255*e[0])+","+Math.round(255*e[1])+","+Math.round(255*e[2])+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(e,t,i){this.initFrame(),this.initBaseData(e,t,i),this.initTransform(e,t,i),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),!this.data.xt&&t.progressiveLoad||this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(e){if(this._mdf=!1,this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange),this.isInRange||this.data.xt){if(this.tm._placeholder)this.renderedFrame=e/this.data.sr;else{var t=this.tm.v;t===this.data.op&&(t=this.data.op-1),this.renderedFrame=t}var i,n=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),i=n-1;i>=0;i-=1)(this.completeLayers||this.elements[i])&&(this.elements[i].prepareFrame(this.renderedFrame-this.layers[i].st),this.elements[i]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var e,t=this.layers.length;for(e=0;e<t;e+=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame()},ICompElement.prototype.setElements=function(e){this.elements=e},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var e,t=this.layers.length;for(e=0;e<t;e+=1)this.elements[e]&&this.elements[e].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()},extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var e=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",e),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect},extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var e=createNS("rect");e.setAttribute("width",this.data.sw),e.setAttribute("height",this.data.sh),e.setAttribute("fill",this.data.sc),this.layerElement.appendChild(e)},extendPrototype([SVGRenderer,ICompElement,SVGBaseElement],SVGCompElement),extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextElement),SVGTextElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextElement.prototype.buildTextContents=function(e){for(var t=0,i=e.length,n=[],r="";t<i;)e[t]===String.fromCharCode(13)||e[t]===String.fromCharCode(3)?(n.push(r),r=""):r+=e[t],t+=1;return n.push(r),n},SVGTextElement.prototype.buildNewText=function(){var e,t,i=this.textProperty.currentData;this.renderedLetters=createSizedArray(i?i.l.length:0),i.fc?this.layerElement.setAttribute("fill",this.buildColor(i.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),i.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(i.sc)),this.layerElement.setAttribute("stroke-width",i.sw)),this.layerElement.setAttribute("font-size",i.finalSize);var n=this.globalData.fontManager.getFontByName(i.f);if(n.fClass)this.layerElement.setAttribute("class",n.fClass);else{this.layerElement.setAttribute("font-family",n.fFamily);var r=i.fWeight,a=i.fStyle;this.layerElement.setAttribute("font-style",a),this.layerElement.setAttribute("font-weight",r)}this.layerElement.setAttribute("aria-label",i.t);var o=i.l||[],s=!!this.globalData.fontManager.chars;t=o.length;var l,c,u=this.mHelper,h="",d=this.data.singleShape,p=0,f=0,m=!0,g=i.tr/1e3*i.finalSize;if(!d||s||i.sz){var v,y,b=this.textSpans.length;for(e=0;e<t;e+=1)s&&d&&0!==e||(l=b>e?this.textSpans[e]:createNS(s?"path":"text"),b<=e&&(l.setAttribute("stroke-linecap","butt"),l.setAttribute("stroke-linejoin","round"),l.setAttribute("stroke-miterlimit","4"),this.textSpans[e]=l,this.layerElement.appendChild(l)),l.style.display="inherit"),u.reset(),u.scale(i.finalSize/100,i.finalSize/100),d&&(o[e].n&&(p=-g,f+=i.yOffset,f+=m?1:0,m=!1),this.applyTextPropertiesToMatrix(i,u,o[e].line,p,f),p+=o[e].l||0,p+=g),s?(y=this.globalData.fontManager.getCharData(i.finalText[e],n.fStyle,this.globalData.fontManager.getFontByName(i.f).fFamily),v=y&&y.data||{},c=v.shapes?v.shapes[0].it:[],d?h+=this.createPathShape(u,c):l.setAttribute("d",this.createPathShape(u,c))):(d&&l.setAttribute("transform","translate("+u.props[12]+","+u.props[13]+")"),l.textContent=o[e].val,l.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"));d&&l&&l.setAttribute("d",h)}else{var _=this.textContainer,A="start";switch(i.j){case 1:A="end";break;case 2:A="middle"}_.setAttribute("text-anchor",A),_.setAttribute("letter-spacing",g);var E=this.buildTextContents(i.finalText);for(t=E.length,f=i.ps?i.ps[1]+i.ascent:0,e=0;e<t;e+=1)l=this.textSpans[e]||createNS("tspan"),l.textContent=E[e],l.setAttribute("x",0),l.setAttribute("y",f),l.style.display="inherit",_.appendChild(l),this.textSpans[e]=l,f+=i.finalLineHeight;this.layerElement.appendChild(_)}for(;e<this.textSpans.length;)this.textSpans[e].style.display="none",e+=1;this._sizeChanged=!0},SVGTextElement.prototype.sourceRectAtTime=function(e){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var t=this.layerElement.getBBox();this.bbox={top:t.y,left:t.x,width:t.width,height:t.height}}return this.bbox},SVGTextElement.prototype.renderInnerContent=function(){if(!this.data.singleShape&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){this._sizeChanged=!0;var e,t,i=this.textAnimator.renderedLetters,n=this.textProperty.currentData.l;t=n.length;var r,a;for(e=0;e<t;e+=1)n[e].n||(r=i[e],a=this.textSpans[e],r._mdf.m&&a.setAttribute("transform",r.m),r._mdf.o&&a.setAttribute("opacity",r.o),r._mdf.sw&&a.setAttribute("stroke-width",r.sw),r._mdf.sc&&a.setAttribute("stroke",r.sc),r._mdf.fc&&a.setAttribute("fill",r.fc))}},extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var e,t,i,n,r=this.shapes.length,a=this.stylesList.length,o=[],s=!1;for(i=0;i<a;i+=1){for(n=this.stylesList[i],s=!1,o.length=0,e=0;e<r;e+=1)t=this.shapes[e],-1!==t.styles.indexOf(n)&&(o.push(t),s=t._isAnimated||s);o.length>1&&s&&this.setShapesAsAnimated(o)}},SVGShapeElement.prototype.setShapesAsAnimated=function(e){var t,i=e.length;for(t=0;t<i;t+=1)e[t].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(e,t){var i,n=new SVGStyleData(e,t),r=n.pElem;if("st"===e.ty)i=new SVGStrokeStyleData(this,e,n);else if("fl"===e.ty)i=new SVGFillStyleData(this,e,n);else if("gf"===e.ty||"gs"===e.ty){var a="gf"===e.ty?SVGGradientFillStyleData:SVGGradientStrokeStyleData;i=new a(this,e,n),this.globalData.defs.appendChild(i.gf),i.maskId&&(this.globalData.defs.appendChild(i.ms),this.globalData.defs.appendChild(i.of),r.setAttribute("mask","url("+locationHref+"#"+i.maskId+")"))}return"st"!==e.ty&&"gs"!==e.ty||(r.setAttribute("stroke-linecap",this.lcEnum[e.lc]||"round"),r.setAttribute("stroke-linejoin",this.ljEnum[e.lj]||"round"),r.setAttribute("fill-opacity","0"),1===e.lj&&r.setAttribute("stroke-miterlimit",e.ml)),2===e.r&&r.setAttribute("fill-rule","evenodd"),e.ln&&r.setAttribute("id",e.ln),e.cl&&r.setAttribute("class",e.cl),e.bm&&(r.style["mix-blend-mode"]=getBlendMode(e.bm)),this.stylesList.push(n),this.addToAnimatedContents(e,i),i},SVGShapeElement.prototype.createGroupElement=function(e){var t=new ShapeGroupData;return e.ln&&t.gr.setAttribute("id",e.ln),e.cl&&t.gr.setAttribute("class",e.cl),e.bm&&(t.gr.style["mix-blend-mode"]=getBlendMode(e.bm)),t},SVGShapeElement.prototype.createTransformElement=function(e,t){var i=TransformPropertyFactory.getTransformProperty(this,e,this),n=new SVGTransformData(i,i.o,t);return this.addToAnimatedContents(e,n),n},SVGShapeElement.prototype.createShapeElement=function(e,t,i){var n=4;"rc"===e.ty?n=5:"el"===e.ty?n=6:"sr"===e.ty&&(n=7);var r=ShapePropertyFactory.getShapeProp(this,e,n,this),a=new SVGShapeData(t,i,r);return this.shapes.push(a),this.addShapeToModifiers(a),this.addToAnimatedContents(e,a),a},SVGShapeElement.prototype.addToAnimatedContents=function(e,t){for(var i=0,n=this.animatedContents.length;i<n;){if(this.animatedContents[i].element===t)return;i+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(e),element:t,data:e})},SVGShapeElement.prototype.setElementStyles=function(e){var t,i=e.styles,n=this.stylesList.length;for(t=0;t<n;t+=1)this.stylesList[t].closed||i.push(this.stylesList[t])},SVGShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var e,t=this.itemsData.length;for(e=0;e<t;e+=1)this.prevViewData[e]=this.itemsData[e];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),t=this.dynamicProperties.length,e=0;e<t;e+=1)this.dynamicProperties[e].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(e,t,i,n,r,a,o){var s,l,c,u,h,d,p=[].concat(a),f=e.length-1,m=[],g=[];for(s=f;s>=0;s-=1){if(d=this.searchProcessedElement(e[s]),d?t[s]=i[d-1]:e[s]._render=o,"fl"==e[s].ty||"st"==e[s].ty||"gf"==e[s].ty||"gs"==e[s].ty)d?t[s].style.closed=!1:t[s]=this.createStyleElement(e[s],r),e[s]._render&&n.appendChild(t[s].style.pElem),m.push(t[s].style);else if("gr"==e[s].ty){if(d)for(c=t[s].it.length,l=0;l<c;l+=1)t[s].prevViewData[l]=t[s].it[l];else t[s]=this.createGroupElement(e[s]);this.searchShapes(e[s].it,t[s].it,t[s].prevViewData,t[s].gr,r+1,p,o),e[s]._render&&n.appendChild(t[s].gr)}else"tr"==e[s].ty?(d||(t[s]=this.createTransformElement(e[s],n)),u=t[s].transform,p.push(u)):"sh"==e[s].ty||"rc"==e[s].ty||"el"==e[s].ty||"sr"==e[s].ty?(d||(t[s]=this.createShapeElement(e[s],p,r)),this.setElementStyles(t[s])):"tm"==e[s].ty||"rd"==e[s].ty||"ms"==e[s].ty?(d?(h=t[s],h.closed=!1):(h=ShapeModifiers.getModifier(e[s].ty),h.init(this,e[s]),t[s]=h,this.shapeModifiers.push(h)),g.push(h)):"rp"==e[s].ty&&(d?(h=t[s],h.closed=!0):(h=ShapeModifiers.getModifier(e[s].ty),t[s]=h,h.init(this,e,s,t),this.shapeModifiers.push(h),o=!1),g.push(h));this.addProcessedElement(e[s],s+1)}for(f=m.length,s=0;s<f;s+=1)m[s].closed=!0;for(f=g.length,s=0;s<f;s+=1)g[s].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){this.renderModifiers();var e,t=this.stylesList.length;for(e=0;e<t;e+=1)this.stylesList[e].reset();for(this.renderShape(),e=0;e<t;e+=1)(this.stylesList[e]._mdf||this._isFirstFrame)&&(this.stylesList[e].msElem&&(this.stylesList[e].msElem.setAttribute("d",this.stylesList[e].d),this.stylesList[e].d="M0 0"+this.stylesList[e].d),this.stylesList[e].pElem.setAttribute("d",this.stylesList[e].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var e,t,i=this.animatedContents.length;for(e=0;e<i;e+=1)t=this.animatedContents[e],(this._isFirstFrame||t.element._isAnimated)&&!0!==t.data&&t.fn(t.data,t.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null},SVGTintFilter.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var t=this.filterManager.effectElements[0].p.v,i=this.filterManager.effectElements[1].p.v,n=this.filterManager.effectElements[2].p.v/100;this.matrixFilter.setAttribute("values",i[0]-t[0]+" 0 0 0 "+t[0]+" "+(i[1]-t[1])+" 0 0 0 "+t[1]+" "+(i[2]-t[2])+" 0 0 0 "+t[2]+" 0 0 0 "+n+" 0")}},SVGFillFilter.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var t=this.filterManager.effectElements[2].p.v,i=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+t[0]+" 0 0 0 0 "+t[1]+" 0 0 0 0 "+t[2]+" 0 0 0 "+i+" 0")}},SVGGaussianBlurEffect.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var t=.3*this.filterManager.effectElements[0].p.v,i=this.filterManager.effectElements[1].p.v,n=3==i?0:t,r=2==i?0:t;this.feGaussianBlur.setAttribute("stdDeviation",n+" "+r);var a=1==this.filterManager.effectElements[2].p.v?"wrap":"duplicate";this.feGaussianBlur.setAttribute("edgeMode",a)}},SVGStrokeEffect.prototype.initialize=function(){var e,t,i,n,r=this.elem.layerElement.children||this.elem.layerElement.childNodes;for(1===this.filterManager.effectElements[1].p.v?(n=this.elem.maskManager.masksProperties.length,i=0):(i=this.filterManager.effectElements[0].p.v-1,n=i+1),t=createNS("g"),t.setAttribute("fill","none"),t.setAttribute("stroke-linecap","round"),t.setAttribute("stroke-dashoffset",1),i;i<n;i+=1)e=createNS("path"),t.appendChild(e),this.paths.push({p:e,m:i});if(3===this.filterManager.effectElements[10].p.v){var a=createNS("mask"),o=createElementID();a.setAttribute("id",o),a.setAttribute("mask-type","alpha"),a.appendChild(t),this.elem.globalData.defs.appendChild(a);var s=createNS("g");for(s.setAttribute("mask","url("+locationHref+"#"+o+")");r[0];)s.appendChild(r[0]);this.elem.layerElement.appendChild(s),this.masker=a,t.setAttribute("stroke","#fff")}else if(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v){if(2===this.filterManager.effectElements[10].p.v)for(r=this.elem.layerElement.children||this.elem.layerElement.childNodes;r.length;)this.elem.layerElement.removeChild(r[0]);this.elem.layerElement.appendChild(t),this.elem.layerElement.removeAttribute("mask"),t.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=t},SVGStrokeEffect.prototype.renderFrame=function(e){this.initialized||this.initialize();var t,i,n,r=this.paths.length;for(t=0;t<r;t+=1)if(-1!==this.paths[t].m&&(i=this.elem.maskManager.viewData[this.paths[t].m],n=this.paths[t].p,(e||this.filterManager._mdf||i.prop._mdf)&&n.setAttribute("d",i.lastPath),e||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||i.prop._mdf)){var a;if(0!==this.filterManager.effectElements[7].p.v||100!==this.filterManager.effectElements[8].p.v){var o=Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)/100,s=Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)/100,l=n.getTotalLength();a="0 0 0 "+l*o+" ";var c,u=l*(s-o),h=1+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v/100,d=Math.floor(u/h);for(c=0;c<d;c+=1)a+="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v/100+" ";a+="0 "+10*l+" 0 0"}else a="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v/100;n.setAttribute("stroke-dasharray",a)}if((e||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",2*this.filterManager.effectElements[4].p.v),(e||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v)&&(e||this.filterManager.effectElements[3].p._mdf)){var p=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bm_floor(255*p[0])+","+bm_floor(255*p[1])+","+bm_floor(255*p[2])+")")}},SVGTritoneFilter.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var t=this.filterManager.effectElements[0].p.v,i=this.filterManager.effectElements[1].p.v,n=this.filterManager.effectElements[2].p.v,r=n[0]+" "+i[0]+" "+t[0],a=n[1]+" "+i[1]+" "+t[1],o=n[2]+" "+i[2]+" "+t[2];this.feFuncR.setAttribute("tableValues",r),this.feFuncG.setAttribute("tableValues",a),this.feFuncB.setAttribute("tableValues",o)}},SVGProLevelsFilter.prototype.createFeFunc=function(e,t){var i=createNS(e);return i.setAttribute("type","table"),t.appendChild(i),i},SVGProLevelsFilter.prototype.getTableValue=function(e,t,i,n,r){for(var a,o,s=0,l=Math.min(e,t),c=Math.max(e,t),u=Array.call(null,{length:256}),h=0,d=r-n,p=t-e;s<=256;)a=s/256,o=a<=l?p<0?r:n:a>=c?p<0?n:r:n+d*Math.pow((a-e)/p,1/i),u[h++]=o,s+=256/255;return u.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var t,i=this.filterManager.effectElements;this.feFuncRComposed&&(e||i[3].p._mdf||i[4].p._mdf||i[5].p._mdf||i[6].p._mdf||i[7].p._mdf)&&(t=this.getTableValue(i[3].p.v,i[4].p.v,i[5].p.v,i[6].p.v,i[7].p.v),this.feFuncRComposed.setAttribute("tableValues",t),this.feFuncGComposed.setAttribute("tableValues",t),this.feFuncBComposed.setAttribute("tableValues",t)),this.feFuncR&&(e||i[10].p._mdf||i[11].p._mdf||i[12].p._mdf||i[13].p._mdf||i[14].p._mdf)&&(t=this.getTableValue(i[10].p.v,i[11].p.v,i[12].p.v,i[13].p.v,i[14].p.v),this.feFuncR.setAttribute("tableValues",t)),this.feFuncG&&(e||i[17].p._mdf||i[18].p._mdf||i[19].p._mdf||i[20].p._mdf||i[21].p._mdf)&&(t=this.getTableValue(i[17].p.v,i[18].p.v,i[19].p.v,i[20].p.v,i[21].p.v),this.feFuncG.setAttribute("tableValues",t)),this.feFuncB&&(e||i[24].p._mdf||i[25].p._mdf||i[26].p._mdf||i[27].p._mdf||i[28].p._mdf)&&(t=this.getTableValue(i[24].p.v,i[25].p.v,i[26].p.v,i[27].p.v,i[28].p.v),this.feFuncB.setAttribute("tableValues",t)),this.feFuncA&&(e||i[31].p._mdf||i[32].p._mdf||i[33].p._mdf||i[34].p._mdf||i[35].p._mdf)&&(t=this.getTableValue(i[31].p.v,i[32].p.v,i[33].p.v,i[34].p.v,i[35].p.v),this.feFuncA.setAttribute("tableValues",t))}},SVGDropShadowEffect.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){if((e||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),e||this.filterManager.effectElements[0].p._mdf){var t=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(255*t[0]),Math.round(255*t[1]),Math.round(255*t[2])))}if((e||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),e||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var i=this.filterManager.effectElements[3].p.v,n=(this.filterManager.effectElements[2].p.v-90)*degToRads,r=i*Math.cos(n),a=i*Math.sin(n);this.feOffset.setAttribute("dx",r),this.feOffset.setAttribute("dy",a)}}};var _svgMatteSymbols=[];SVGMatte3Effect.prototype.findSymbol=function(e){for(var t=0,i=_svgMatteSymbols.length;t<i;){if(_svgMatteSymbols[t]===e)return _svgMatteSymbols[t];t+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(e,t){var i=e.layerElement.parentNode;if(i){for(var n=i.children,r=0,a=n.length;r<a&&n[r]!==e.layerElement;)r+=1;var o;r<=a-2&&(o=n[r+1]);var s=createNS("use");s.setAttribute("href","#"+t),o?i.insertBefore(s,o):i.appendChild(s)}},SVGMatte3Effect.prototype.setElementAsMask=function(e,t){if(!this.findSymbol(t)){var i=createElementID(),n=createNS("mask");n.setAttribute("id",t.layerId),n.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(t);var r=e.globalData.defs;r.appendChild(n);var a=createNS("symbol");a.setAttribute("id",i),this.replaceInParent(t,i),a.appendChild(t.layerElement),r.appendChild(a);var o=createNS("use");o.setAttribute("href","#"+i),n.appendChild(o),t.data.hd=!1,t.show()}e.setMatte(t.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var e=this.filterManager.effectElements[0].p.v,t=this.elem.comp.elements,i=0,n=t.length;i<n;)t[i]&&t[i].data.ind===e&&this.setElementAsMask(this.elem,t[i]),i+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()},SVGEffects.prototype.renderFrame=function(e){var t,i=this.filters.length;for(t=0;t<i;t+=1)this.filters[t].renderFrame(e)},CVContextData.prototype.duplicate=function(){var e=2*this._length,t=this.savedOp;this.savedOp=createTypedArray("float32",e),this.savedOp.set(t);var i=0;for(i=this._length;i<e;i+=1)this.saved[i]=createTypedArray("float32",16);this._length=e},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.cO=1},CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){this.canvasContext=this.globalData.canvasContext,this.renderableEffectsManager=new CVEffects(this)},createContent:function(){},setBlendMode:function(){var e=this.globalData;if(e.blendMode!==this.data.bm){e.blendMode=this.data.bm;var t=getBlendMode(this.data.bm);e.canvasContext.globalCompositeOperation=t}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this)},hideElement:function(){this.hidden||this.isInRange&&!this.isTransparent||(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},renderFrame:function(){if(!this.hidden&&!this.data.hd){this.renderTransform(),this.renderRenderable(),this.setBlendMode();var e=0===this.data.ty;this.globalData.renderer.save(e),this.globalData.renderer.ctxTransform(this.finalTransform.mat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.mProp.o.v),this.renderInnerContent(),this.globalData.renderer.restore(e),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement,extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var e=createTag("canvas");e.width=this.assetData.w,e.height=this.assetData.h;var t,i,n=e.getContext("2d"),r=this.img.width,a=this.img.height,o=r/a,s=this.assetData.w/this.assetData.h,l=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;o>s&&"xMidYMid slice"===l||o<s&&"xMidYMid slice"!==l?(i=a,t=i*s):(t=r,i=t/s),n.drawImage(this.img,(r-t)/2,(a-i)/2,t,i,0,0,this.assetData.w,this.assetData.h),this.img=e}},CVImageElement.prototype.renderInnerContent=function(e){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null},extendPrototype([CanvasRenderer,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var e=this.canvasContext;e.beginPath(),e.moveTo(0,0),e.lineTo(this.data.w,0),e.lineTo(this.data.w,this.data.h),e.lineTo(0,this.data.h),e.lineTo(0,0),e.clip();var t,i=this.layers.length;for(t=i-1;t>=0;t-=1)(this.completeLayers||this.elements[t])&&this.elements[t].renderFrame()},CVCompElement.prototype.destroy=function(){var e,t=this.layers.length;for(e=t-1;e>=0;e-=1)this.elements[e]&&this.elements[e].destroy();this.layers=null,this.elements=null},CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var e,t,i,n,r=this.element.finalTransform.mat,a=this.element.canvasContext,o=this.masksProperties.length;for(a.beginPath(),e=0;e<o;e++)if("n"!==this.masksProperties[e].mode){this.masksProperties[e].inv&&(a.moveTo(0,0),a.lineTo(this.element.globalData.compSize.w,0),a.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),a.lineTo(0,this.element.globalData.compSize.h),a.lineTo(0,0)),n=this.viewData[e].v,t=r.applyToPointArray(n.v[0][0],n.v[0][1],0),a.moveTo(t[0],t[1]);var s,l=n._length;for(s=1;s<l;s++)i=r.applyToTriplePoints(n.o[s-1],n.i[s],n.v[s]),a.bezierCurveTo(i[0],i[1],i[2],i[3],i[4],i[5]);i=r.applyToTriplePoints(n.o[s-1],n.i[0],n.v[0]),a.bezierCurveTo(i[0],i[1],i[2],i[3],i[4],i[5])}this.element.globalData.renderer.save(!0),a.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null},extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(e,t){var i={data:e,type:e.ty,preTransforms:this.transformsManager.addTransformSequence(t),transforms:[],elements:[],closed:!0===e.hd},n={};if("fl"==e.ty||"st"==e.ty?(n.c=PropertyFactory.getProp(this,e.c,1,255,this),n.c.k||(i.co="rgb("+bm_floor(n.c.v[0])+","+bm_floor(n.c.v[1])+","+bm_floor(n.c.v[2])+")")):"gf"!==e.ty&&"gs"!==e.ty||(n.s=PropertyFactory.getProp(this,e.s,1,null,this),n.e=PropertyFactory.getProp(this,e.e,1,null,this),n.h=PropertyFactory.getProp(this,e.h||{k:0},0,.01,this),n.a=PropertyFactory.getProp(this,e.a||{k:0},0,degToRads,this),n.g=new GradientProperty(this,e.g,this)),n.o=PropertyFactory.getProp(this,e.o,0,.01,this),"st"==e.ty||"gs"==e.ty){if(i.lc=this.lcEnum[e.lc]||"round",i.lj=this.ljEnum[e.lj]||"round",1==e.lj&&(i.ml=e.ml),n.w=PropertyFactory.getProp(this,e.w,0,null,this),n.w.k||(i.wi=n.w.v),e.d){var r=new DashProperty(this,e.d,"canvas",this);n.d=r,n.d.k||(i.da=n.d.dashArray,i.do=n.d.dashoffset[0])}}else i.r=2===e.r?"evenodd":"nonzero";return this.stylesList.push(i),n.style=i,n},CVShapeElement.prototype.createGroupElement=function(e){return{it:[],prevViewData:[]}},CVShapeElement.prototype.createTransformElement=function(e){return{transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,e.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,e,this)}}},CVShapeElement.prototype.createShapeElement=function(e){var t=new CVShapeData(this,e,this.stylesList,this.transformsManager);return this.shapes.push(t),this.addShapeToModifiers(t),t},CVShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var e,t=this.itemsData.length;for(e=0;e<t;e+=1)this.prevViewData[e]=this.itemsData[e];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),t=this.dynamicProperties.length,e=0;e<t;e+=1)this.dynamicProperties[e].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(e){var t,i=this.stylesList.length;for(t=0;t<i;t+=1)this.stylesList[t].closed||this.stylesList[t].transforms.push(e)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var e,t=this.stylesList.length;for(e=0;e<t;e+=1)this.stylesList[e].closed||this.stylesList[e].transforms.pop()},CVShapeElement.prototype.closeStyles=function(e){var t,i=e.length;for(t=0;t<i;t+=1)e[t].closed=!0},CVShapeElement.prototype.searchShapes=function(e,t,i,n,r){var a,o,s,l,c,u,h=e.length-1,d=[],p=[],f=[].concat(r);for(a=h;a>=0;a-=1){if(l=this.searchProcessedElement(e[a]),l?t[a]=i[l-1]:e[a]._shouldRender=n,"fl"==e[a].ty||"st"==e[a].ty||"gf"==e[a].ty||"gs"==e[a].ty)l?t[a].style.closed=!1:t[a]=this.createStyleElement(e[a],f),d.push(t[a].style);else if("gr"==e[a].ty){if(l)for(s=t[a].it.length,o=0;o<s;o+=1)t[a].prevViewData[o]=t[a].it[o];else t[a]=this.createGroupElement(e[a]);this.searchShapes(e[a].it,t[a].it,t[a].prevViewData,n,f)}else"tr"==e[a].ty?(l||(u=this.createTransformElement(e[a]),t[a]=u),f.push(t[a]),this.addTransformToStyleList(t[a])):"sh"==e[a].ty||"rc"==e[a].ty||"el"==e[a].ty||"sr"==e[a].ty?l||(t[a]=this.createShapeElement(e[a])):"tm"==e[a].ty||"rd"==e[a].ty?(l?(c=t[a],c.closed=!1):(c=ShapeModifiers.getModifier(e[a].ty),c.init(this,e[a]),t[a]=c,this.shapeModifiers.push(c)),p.push(c)):"rp"==e[a].ty&&(l?(c=t[a],c.closed=!0):(c=ShapeModifiers.getModifier(e[a].ty),t[a]=c,c.init(this,e,a,t),this.shapeModifiers.push(c),n=!1),p.push(c));this.addProcessedElement(e[a],a+1)}for(this.removeTransformFromStyleList(),this.closeStyles(d),h=p.length,a=0;a<h;a+=1)p[a].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(e,t){(e._opMdf||t.op._mdf||this._isFirstFrame)&&(t.opacity=e.opacity,t.opacity*=t.op.v,t._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var e,t,i,n,r,a,o,s,l,c=this.stylesList.length,u=this.globalData.renderer,h=this.globalData.canvasContext;for(e=0;e<c;e+=1)if(l=this.stylesList[e],("st"!==(s=l.type)&&"gs"!==s||0!==l.wi)&&l.data._shouldRender&&0!==l.coOp&&0!==this.globalData.currentGlobalAlpha){for(u.save(),a=l.elements,"st"===s||"gs"===s?(h.strokeStyle="st"===s?l.co:l.grd,h.lineWidth=l.wi,h.lineCap=l.lc,h.lineJoin=l.lj,h.miterLimit=l.ml||0):h.fillStyle="fl"===s?l.co:l.grd,u.ctxOpacity(l.coOp),"st"!==s&&"gs"!==s&&h.beginPath(),u.ctxTransform(l.preTransforms.finalTransform.props),i=a.length,t=0;t<i;t+=1){for("st"!==s&&"gs"!==s||(h.beginPath(),l.da&&(h.setLineDash(l.da),h.lineDashOffset=l.do)),o=a[t].trNodes,r=o.length,n=0;n<r;n+=1)"m"==o[n].t?h.moveTo(o[n].p[0],o[n].p[1]):"c"==o[n].t?h.bezierCurveTo(o[n].pts[0],o[n].pts[1],o[n].pts[2],o[n].pts[3],o[n].pts[4],o[n].pts[5]):h.closePath();"st"!==s&&"gs"!==s||(h.stroke(),l.da&&h.setLineDash(this.dashResetter))}"st"!==s&&"gs"!==s&&h.fill(l.r),u.restore()}},CVShapeElement.prototype.renderShape=function(e,t,i,n){var r,a,o=t.length-1;for(a=e,r=o;r>=0;r-=1)"tr"==t[r].ty?(a=i[r].transform,this.renderShapeTransform(e,a)):"sh"==t[r].ty||"el"==t[r].ty||"rc"==t[r].ty||"sr"==t[r].ty?this.renderPath(t[r],i[r]):"fl"==t[r].ty?this.renderFill(t[r],i[r],a):"st"==t[r].ty?this.renderStroke(t[r],i[r],a):"gf"==t[r].ty||"gs"==t[r].ty?this.renderGradientFill(t[r],i[r],a):"gr"==t[r].ty?this.renderShape(a,t[r].it,i[r].it):t[r].ty;n&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(e,t){if(this._isFirstFrame||t._mdf||e.transforms._mdf){var i,n,r,a=e.trNodes,o=t.paths,s=o._length;a.length=0;var l=e.transforms.finalTransform;for(r=0;r<s;r+=1){var c=o.shapes[r];if(c&&c.v){for(n=c._length,i=1;i<n;i+=1)1===i&&a.push({t:"m",p:l.applyToPointArray(c.v[0][0],c.v[0][1],0)}),a.push({t:"c",pts:l.applyToTriplePoints(c.o[i-1],c.i[i],c.v[i])});1===n&&a.push({t:"m",p:l.applyToPointArray(c.v[0][0],c.v[0][1],0)}),c.c&&n&&(a.push({t:"c",pts:l.applyToTriplePoints(c.o[i-1],c.i[0],c.v[0])}),a.push({t:"z"}))}}e.trNodes=a}},CVShapeElement.prototype.renderPath=function(e,t){if(!0!==e.hd&&e._shouldRender){var i,n=t.styledShapes.length;for(i=0;i<n;i+=1)this.renderStyledShape(t.styledShapes[i],t.sh)}},CVShapeElement.prototype.renderFill=function(e,t,i){var n=t.style;(t.c._mdf||this._isFirstFrame)&&(n.co="rgb("+bm_floor(t.c.v[0])+","+bm_floor(t.c.v[1])+","+bm_floor(t.c.v[2])+")"),(t.o._mdf||i._opMdf||this._isFirstFrame)&&(n.coOp=t.o.v*i.opacity)},CVShapeElement.prototype.renderGradientFill=function(e,t,i){var n=t.style;if(!n.grd||t.g._mdf||t.s._mdf||t.e._mdf||1!==e.t&&(t.h._mdf||t.a._mdf)){var r,a=this.globalData.canvasContext,o=t.s.v,s=t.e.v;if(1===e.t)r=a.createLinearGradient(o[0],o[1],s[0],s[1]);else var l=Math.sqrt(Math.pow(o[0]-s[0],2)+Math.pow(o[1]-s[1],2)),c=Math.atan2(s[1]-o[1],s[0]-o[0]),u=t.h.v>=1?.99:t.h.v<=-1?-.99:t.h.v,h=l*u,d=Math.cos(c+t.a.v)*h+o[0],p=Math.sin(c+t.a.v)*h+o[1],r=a.createRadialGradient(d,p,0,o[0],o[1],l);var f,m=e.g.p,g=t.g.c,v=1;for(f=0;f<m;f+=1)t.g._hasOpacity&&t.g._collapsable&&(v=t.g.o[2*f+1]),r.addColorStop(g[4*f]/100,"rgba("+g[4*f+1]+","+g[4*f+2]+","+g[4*f+3]+","+v+")");n.grd=r}n.coOp=t.o.v*i.opacity},CVShapeElement.prototype.renderStroke=function(e,t,i){var n=t.style,r=t.d;r&&(r._mdf||this._isFirstFrame)&&(n.da=r.dashArray,n.do=r.dashoffset[0]),(t.c._mdf||this._isFirstFrame)&&(n.co="rgb("+bm_floor(t.c.v[0])+","+bm_floor(t.c.v[1])+","+bm_floor(t.c.v[2])+")"),(t.o._mdf||i._opMdf||this._isFirstFrame)&&(n.coOp=t.o.v*i.opacity),(t.w._mdf||this._isFirstFrame)&&(n.wi=t.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){var e=this.canvasContext;e.fillStyle=this.data.sc,e.fillRect(0,0,this.data.sw,this.data.sh)},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var e=this.textProperty.currentData;this.renderedLetters=createSizedArray(e.l?e.l.length:0);var t=!1;e.fc?(t=!0,this.values.fill=this.buildColor(e.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=t;var i=!1;e.sc&&(i=!0,this.values.stroke=this.buildColor(e.sc),this.values.sWidth=e.sw);var n,r,a=this.globalData.fontManager.getFontByName(e.f),o=e.l,s=this.mHelper;this.stroke=i,this.values.fValue=e.finalSize+"px "+this.globalData.fontManager.getFontByName(e.f).fFamily,r=e.finalText.length;var l,c,u,h,d,p,f,m,g,v,y=this.data.singleShape,b=e.tr/1e3*e.finalSize,_=0,A=0,E=!0,w=0;for(n=0;n<r;n+=1){for(l=this.globalData.fontManager.getCharData(e.finalText[n],a.fStyle,this.globalData.fontManager.getFontByName(e.f).fFamily),c=l&&l.data||{},s.reset(),y&&o[n].n&&(_=-b,A+=e.yOffset,A+=E?1:0,E=!1),d=c.shapes?c.shapes[0].it:[],f=d.length,s.scale(e.finalSize/100,e.finalSize/100),y&&this.applyTextPropertiesToMatrix(e,s,o[n].line,_,A),g=createSizedArray(f),p=0;p<f;p+=1){for(h=d[p].ks.k.i.length,m=d[p].ks.k,v=[],u=1;u<h;u+=1)1==u&&v.push(s.applyToX(m.v[0][0],m.v[0][1],0),s.applyToY(m.v[0][0],m.v[0][1],0)),v.push(s.applyToX(m.o[u-1][0],m.o[u-1][1],0),s.applyToY(m.o[u-1][0],m.o[u-1][1],0),s.applyToX(m.i[u][0],m.i[u][1],0),s.applyToY(m.i[u][0],m.i[u][1],0),s.applyToX(m.v[u][0],m.v[u][1],0),s.applyToY(m.v[u][0],m.v[u][1],0));v.push(s.applyToX(m.o[u-1][0],m.o[u-1][1],0),s.applyToY(m.o[u-1][0],m.o[u-1][1],0),s.applyToX(m.i[0][0],m.i[0][1],0),s.applyToY(m.i[0][0],m.i[0][1],0),s.applyToX(m.v[0][0],m.v[0][1],0),s.applyToY(m.v[0][0],m.v[0][1],0)),g[p]=v}y&&(_+=o[n].l,_+=b),this.textSpans[w]?this.textSpans[w].elem=g:this.textSpans[w]={elem:g},w+=1}},CVTextElement.prototype.renderInnerContent=function(){var e=this.canvasContext;this.finalTransform.mat.props;e.font=this.values.fValue,e.lineCap="butt",e.lineJoin="miter",e.miterLimit=4,this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var t,i,n,r,a,o,s=this.textAnimator.renderedLetters,l=this.textProperty.currentData.l;i=l.length;var c,u,h,d=null,p=null,f=null;for(t=0;t<i;t+=1)if(!l[t].n){if(c=s[t],c&&(this.globalData.renderer.save(),this.globalData.renderer.ctxTransform(c.p),this.globalData.renderer.ctxOpacity(c.o)),this.fill){for(c&&c.fc?d!==c.fc&&(d=c.fc,e.fillStyle=c.fc):d!==this.values.fill&&(d=this.values.fill,e.fillStyle=this.values.fill),u=this.textSpans[t].elem,r=u.length,this.globalData.canvasContext.beginPath(),n=0;n<r;n+=1)for(h=u[n],o=h.length,this.globalData.canvasContext.moveTo(h[0],h[1]),a=2;a<o;a+=6)this.globalData.canvasContext.bezierCurveTo(h[a],h[a+1],h[a+2],h[a+3],h[a+4],h[a+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.fill()}if(this.stroke){for(c&&c.sw?f!==c.sw&&(f=c.sw,e.lineWidth=c.sw):f!==this.values.sWidth&&(f=this.values.sWidth,e.lineWidth=this.values.sWidth),c&&c.sc?p!==c.sc&&(p=c.sc,e.strokeStyle=c.sc):p!==this.values.stroke&&(p=this.values.stroke,e.strokeStyle=this.values.stroke),u=this.textSpans[t].elem,r=u.length,this.globalData.canvasContext.beginPath(),n=0;n<r;n+=1)for(h=u[n],o=h.length,this.globalData.canvasContext.moveTo(h[0],h[1]),a=2;a<o;a+=6)this.globalData.canvasContext.bezierCurveTo(h[a],h[a+1],h[a+2],h[a+3],h[a+4],h[a+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.stroke()}c&&this.globalData.renderer.restore()}},CVEffects.prototype.renderFrame=function(){},HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects(this),this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0!==this.data.bm&&this.setBlendMode()},renderElement:function(){this.finalTransform._matMdf&&(this.transformedElement.style.transform=this.transformedElement.style.webkitTransform=this.finalTransform.mat.toCSS()),this.finalTransform._opMdf&&(this.transformedElement.style.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=HybridRenderer.prototype.buildElementParenting,extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var e;this.data.hasMask?(e=createNS("rect"),e.setAttribute("width",this.data.sw),e.setAttribute("height",this.data.sh),e.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):(e=createTag("div"),e.style.width=this.data.sw+"px",e.style.height=this.data.sh+"px",e.style.backgroundColor=this.data.sc),this.layerElement.appendChild(e)},extendPrototype([HybridRenderer,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(e,t){for(var i,n=0;n<t;)this.elements[n]&&this.elements[n].getBaseElement&&(i=this.elements[n].getBaseElement()),n+=1;i?this.layerElement.insertBefore(e,i):this.layerElement.appendChild(e)},extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var e;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),e=this.svgElement;else{e=createNS("svg");var t=this.comp.data?this.comp.data:this.globalData.compSize;e.setAttribute("width",t.w),e.setAttribute("height",t.h),e.appendChild(this.shapesContainer),this.layerElement.appendChild(e)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=e},HShapeElement.prototype.getTransformedPoint=function(e,t){var i,n=e.length;for(i=0;i<n;i+=1)t=e[i].mProps.v.applyToPointArray(t[0],t[1],0);return t},HShapeElement.prototype.calculateShapeBoundingBox=function(e,t){var i,n,r,a,o,s=e.sh.v,l=e.transformers,c=s._length;if(!(c<=1)){for(i=0;i<c-1;i+=1)n=this.getTransformedPoint(l,s.v[i]),r=this.getTransformedPoint(l,s.o[i]),a=this.getTransformedPoint(l,s.i[i+1]),o=this.getTransformedPoint(l,s.v[i+1]),this.checkBounds(n,r,a,o,t);s.c&&(n=this.getTransformedPoint(l,s.v[i]),r=this.getTransformedPoint(l,s.o[i]),a=this.getTransformedPoint(l,s.i[0]),o=this.getTransformedPoint(l,s.v[0]),this.checkBounds(n,r,a,o,t))}},HShapeElement.prototype.checkBounds=function(e,t,i,n,r){this.getBoundsOfCurve(e,t,i,n);var a=this.shapeBoundingBox;r.x=bm_min(a.left,r.x),r.xMax=bm_max(a.right,r.xMax),r.y=bm_min(a.top,r.y),r.yMax=bm_max(a.bottom,r.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(e,t,i,n){for(var r,a,o,s,l,c,u,h=[[e[0],n[0]],[e[1],n[1]]],d=0;d<2;++d)if(a=6*e[d]-12*t[d]+6*i[d],r=-3*e[d]+9*t[d]-9*i[d]+3*n[d],o=3*t[d]-3*e[d],a|=0,r|=0,o|=0,0!==r)(l=a*a-4*o*r)<0||(c=(-a+bm_sqrt(l))/(2*r),0<c&&c<1&&h[d].push(this.calculateF(c,e,t,i,n,d)),0<(u=(-a-bm_sqrt(l))/(2*r))&&u<1&&h[d].push(this.calculateF(u,e,t,i,n,d)));else{if(0===a)continue;0<(s=-o/a)&&s<1&&h[d].push(this.calculateF(s,e,t,i,n,d))}this.shapeBoundingBox.left=bm_min.apply(null,h[0]),this.shapeBoundingBox.top=bm_min.apply(null,h[1]),this.shapeBoundingBox.right=bm_max.apply(null,h[0]),this.shapeBoundingBox.bottom=bm_max.apply(null,h[1])},HShapeElement.prototype.calculateF=function(e,t,i,n,r,a){return bm_pow(1-e,3)*t[a]+3*bm_pow(1-e,2)*e*i[a]+3*(1-e)*bm_pow(e,2)*n[a]+bm_pow(e,3)*r[a]},HShapeElement.prototype.calculateBoundingBox=function(e,t){var i,n=e.length;for(i=0;i<n;i+=1)e[i]&&e[i].sh?this.calculateShapeBoundingBox(e[i],t):e[i]&&e[i].it&&this.calculateBoundingBox(e[i].it,t)},HShapeElement.prototype.currentBoxContains=function(e){return this.currentBBox.x<=e.x&&this.currentBBox.y<=e.y&&this.currentBBox.width+this.currentBBox.x>=e.x+e.width&&this.currentBBox.height+this.currentBBox.y>=e.y+e.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var e=this.tempBoundingBox,t=999999;if(e.x=t,e.xMax=-t,e.y=t,e.yMax=-t,this.calculateBoundingBox(this.itemsData,e),e.width=e.xMax<e.x?0:e.xMax-e.x,e.height=e.yMax<e.y?0:e.yMax-e.y,this.currentBoxContains(e))return;var i=!1;this.currentBBox.w!==e.width&&(this.currentBBox.w=e.width,this.shapeCont.setAttribute("width",e.width),i=!0),this.currentBBox.h!==e.height&&(this.currentBBox.h=e.height,this.shapeCont.setAttribute("height",e.height),i=!0),(i||this.currentBBox.x!==e.x||this.currentBBox.y!==e.y)&&(this.currentBBox.w=e.width,this.currentBBox.h=e.height,this.currentBBox.x=e.x,this.currentBBox.y=e.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),this.shapeCont.style.transform=this.shapeCont.style.webkitTransform="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)")}},extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var e=createNS("g");this.maskedElement.appendChild(e),this.innerElem=e}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var e=this.textProperty.currentData;this.renderedLetters=createSizedArray(e.l?e.l.length:0);var t=this.innerElem.style;t.color=t.fill=e.fc?this.buildColor(e.fc):"rgba(0,0,0,0)",e.sc&&(t.stroke=this.buildColor(e.sc),t.strokeWidth=e.sw+"px");var i=this.globalData.fontManager.getFontByName(e.f);if(!this.globalData.fontManager.chars)if(t.fontSize=e.finalSize+"px",t.lineHeight=e.finalSize+"px",i.fClass)this.innerElem.className=i.fClass;else{t.fontFamily=i.fFamily;var n=e.fWeight,r=e.fStyle;t.fontStyle=r,t.fontWeight=n}var a,o,s=e.l;o=s.length;var l,c,u,h,d=this.mHelper,p="",f=0;for(a=0;a<o;a+=1){if(this.globalData.fontManager.chars?(this.textPaths[f]?l=this.textPaths[f]:(l=createNS("path"),l.setAttribute("stroke-linecap","butt"),l.setAttribute("stroke-linejoin","round"),l.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[f]?(c=this.textSpans[f],u=c.children[0]):(c=createTag("div"),c.style.lineHeight=0,u=createNS("svg"),u.appendChild(l),styleDiv(c)))):this.isMasked?l=this.textPaths[f]?this.textPaths[f]:createNS("text"):this.textSpans[f]?(c=this.textSpans[f],l=this.textPaths[f]):(c=createTag("span"),styleDiv(c),l=createTag("span"),styleDiv(l),c.appendChild(l)),this.globalData.fontManager.chars){var m,g=this.globalData.fontManager.getCharData(e.finalText[a],i.fStyle,this.globalData.fontManager.getFontByName(e.f).fFamily);if(m=g?g.data:null,d.reset(),m&&m.shapes&&(h=m.shapes[0].it,d.scale(e.finalSize/100,e.finalSize/100),p=this.createPathShape(d,h),l.setAttribute("d",p)),this.isMasked)this.innerElem.appendChild(l);else{if(this.innerElem.appendChild(c),m&&m.shapes){document.body.appendChild(u);var v=u.getBBox();u.setAttribute("width",v.width+2),u.setAttribute("height",v.height+2),u.setAttribute("viewBox",v.x-1+" "+(v.y-1)+" "+(v.width+2)+" "+(v.height+2)),u.style.transform=u.style.webkitTransform="translate("+(v.x-1)+"px,"+(v.y-1)+"px)",s[a].yOffset=v.y-1}else u.setAttribute("width",1),u.setAttribute("height",1);c.appendChild(u)}}else l.textContent=s[a].val,l.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked?this.innerElem.appendChild(l):(this.innerElem.appendChild(c),l.style.transform=l.style.webkitTransform="translate3d(0,"+-e.finalSize/1.2+"px,0)");this.isMasked?this.textSpans[f]=l:this.textSpans[f]=c,this.textSpans[f].style.display="block",this.textPaths[f]=l,f+=1}for(;f<this.textSpans.length;)this.textSpans[f].style.display="none",f+=1},HTextElement.prototype.renderInnerContent=function(){if(this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;this.isMasked&&this.finalTransform._matMdf&&(this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),this.svgElement.style.transform=this.svgElement.style.webkitTransform="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)")}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag){var e,t,i=0,n=this.textAnimator.renderedLetters,r=this.textProperty.currentData.l;t=r.length;var a,o,s;for(e=0;e<t;e+=1)r[e].n?i+=1:(o=this.textSpans[e],s=this.textPaths[e],a=n[i],i+=1,a._mdf.m&&(this.isMasked?o.setAttribute("transform",a.m):o.style.transform=o.style.webkitTransform=a.m),o.style.opacity=a.o,a.sw&&a._mdf.sw&&s.setAttribute("stroke-width",a.sw),a.sc&&a._mdf.sc&&s.setAttribute("stroke",a.sc),a.fc&&a._mdf.fc&&(s.setAttribute("fill",a.fc),s.style.color=a.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var l=this.innerElem.getBBox();this.currentBBox.w!==l.width&&(this.currentBBox.w=l.width,this.svgElement.setAttribute("width",l.width)),this.currentBBox.h!==l.height&&(this.currentBBox.h=l.height,this.svgElement.setAttribute("height",l.height));this.currentBBox.w===l.width+2&&this.currentBBox.h===l.height+2&&this.currentBBox.x===l.x-1&&this.currentBBox.y===l.y-1||(this.currentBBox.w=l.width+2,this.currentBBox.h=l.height+2,this.currentBBox.x=l.x-1,this.currentBBox.y=l.y-1,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),this.svgElement.style.transform=this.svgElement.style.webkitTransform="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)")}}},extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var e=this.globalData.getAssetsPath(this.assetData),t=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",e),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(t),t.src=e,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)},extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var e,t,i=this.comp.threeDElements.length;for(e=0;e<i;e+=1)t=this.comp.threeDElements[e],"3d"===t.type&&(t.perspectiveElem.style.perspective=t.perspectiveElem.style.webkitPerspective=this.pe.v+"px",t.container.style.transformOrigin=t.container.style.mozTransformOrigin=t.container.style.webkitTransformOrigin="0px 0px 0px",t.perspectiveElem.style.transform=t.perspectiveElem.style.webkitTransform="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)")},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var e,t,i=this._isFirstFrame;if(this.hierarchy)for(t=this.hierarchy.length,e=0;e<t;e+=1)i=this.hierarchy[e].finalTransform.mProp._mdf||i;if(i||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy){for(t=this.hierarchy.length-1,e=t;e>=0;e-=1){var n=this.hierarchy[e].finalTransform.mProp;this.mat.translate(-n.p.v[0],-n.p.v[1],n.p.v[2]),this.mat.rotateX(-n.or.v[0]).rotateY(-n.or.v[1]).rotateZ(n.or.v[2]),this.mat.rotateX(-n.rx.v).rotateY(-n.ry.v).rotateZ(n.rz.v),this.mat.scale(1/n.s.v[0],1/n.s.v[1],1/n.s.v[2]),this.mat.translate(n.a.v[0],n.a.v[1],n.a.v[2])}}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var r;r=this.p?[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var a=Math.sqrt(Math.pow(r[0],2)+Math.pow(r[1],2)+Math.pow(r[2],2)),o=[r[0]/a,r[1]/a,r[2]/a],s=Math.sqrt(o[2]*o[2]+o[0]*o[0]),l=Math.atan2(o[1],s),c=Math.atan2(o[0],-o[2]);this.mat.rotateY(c).rotateX(-l)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var u=!this._prevMat.equals(this.mat);if((u||this.pe._mdf)&&this.comp.threeDElements){t=this.comp.threeDElements.length;var h;for(e=0;e<t;e+=1)h=this.comp.threeDElements[e],"3d"===h.type&&(u&&(h.container.style.transform=h.container.style.webkitTransform=this.mat.toCSS()),this.pe._mdf&&(h.perspectiveElem.style.perspective=h.perspectiveElem.style.webkitPerspective=this.pe.v+"px"));this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(e){this.prepareProperties(e,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null},HEffects.prototype.renderFrame=function(){};var animationManager=function(){function e(e){for(var t=0,i=e.target;t<T;)w[t].animation===i&&(w.splice(t,1),t-=1,T-=1,i.isPaused||r()),t+=1}function t(e,t){if(!e)return null;for(var i=0;i<T;){if(w[i].elem==e&&null!==w[i].elem)return w[i].animation;i+=1}var n=new AnimationItem;return a(n,e),n.setData(e,t),n}function i(){var e,t=w.length,i=[];for(e=0;e<t;e+=1)i.push(w[e].animation);return i}function n(){S+=1,b()}function r(){S-=1}function a(t,i){t.addEventListener("destroy",e),t.addEventListener("_active",n),t.addEventListener("_idle",r),w.push({elem:i,animation:t}),T+=1}function o(e){var t=new AnimationItem;return a(t,null),t.setParams(e),t}function s(e,t){var i;for(i=0;i<T;i+=1)w[i].animation.setSpeed(e,t)}function l(e,t){var i;for(i=0;i<T;i+=1)w[i].animation.setDirection(e,t)}function c(e){var t;for(t=0;t<T;t+=1)w[t].animation.play(e)}function u(e){var t,i=e-x;for(t=0;t<T;t+=1)w[t].animation.advanceTime(i);x=e,S&&!k?window.requestAnimationFrame(u):C=!0}function h(e){x=e,window.requestAnimationFrame(u)}function d(e){var t;for(t=0;t<T;t+=1)w[t].animation.pause(e)}function p(e,t,i){var n;for(n=0;n<T;n+=1)w[n].animation.goToAndStop(e,t,i)}function f(e){var t;for(t=0;t<T;t+=1)w[t].animation.stop(e)}function m(e){var t;for(t=0;t<T;t+=1)w[t].animation.togglePause(e)}function g(e){var t;for(t=T-1;t>=0;t-=1)w[t].animation.destroy(e)}function v(e,i,n){var r,a=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),o=a.length;for(r=0;r<o;r+=1)n&&a[r].setAttribute("data-bm-type",n),t(a[r],e);if(i&&0===o){n||(n="svg");var s=document.getElementsByTagName("body")[0];s.innerHTML="";var l=createTag("div");l.style.width="100%",l.style.height="100%",l.setAttribute("data-bm-type",n),s.appendChild(l),t(l,e)}}function y(){var e;for(e=0;e<T;e+=1)w[e].animation.resize()}function b(){!k&&S&&C&&(window.requestAnimationFrame(h),C=!1)}function _(){k=!0}function A(){k=!1,b()}var E={},w=[],x=0,T=0,S=0,C=!0,k=!1;return E.registerAnimation=t,E.loadAnimation=o,E.setSpeed=s,E.setDirection=l,E.play=c,E.pause=d,E.stop=f,E.togglePause=m,E.searchAnimations=v,E.resize=y,E.goToAndStop=p,E.destroy=g,E.freeze=_,E.unfreeze=A,E.getRegisteredAnimations=i,E}(),AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=subframeEnabled,this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(e){e.context&&(this.context=e.context),(e.wrapper||e.container)&&(this.wrapper=e.wrapper||e.container);var t=e.animType?e.animType:e.renderer?e.renderer:"svg";switch(t){case"canvas":this.renderer=new CanvasRenderer(this,e.rendererSettings);break;case"svg":this.renderer=new SVGRenderer(this,e.rendererSettings);break;default:this.renderer=new HybridRenderer(this,e.rendererSettings)}this.imagePreloader.setCacheType(t),this.renderer.setProjectInterface(this.projectInterface),this.animType=t,""===e.loop||null===e.loop||void 0===e.loop||!0===e.loop?this.loop=!0:!1===e.loop?this.loop=!1:this.loop=parseInt(e.loop),this.autoplay=!("autoplay"in e)||e.autoplay,this.name=e.name?e.name:"",this.autoloadSegments=!e.hasOwnProperty("autoloadSegments")||e.autoloadSegments,this.assetsPath=e.assetsPath,this.initialSegment=e.initialSegment,e.animationData?this.configAnimation(e.animationData):e.path&&(-1!==e.path.lastIndexOf("\\")?this.path=e.path.substr(0,e.path.lastIndexOf("\\")+1):this.path=e.path.substr(0,e.path.lastIndexOf("/")+1),this.fileName=e.path.substr(e.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),assetLoader.load(e.path,this.configAnimation.bind(this),function(){this.trigger("data_failed")}.bind(this)))},AnimationItem.prototype.setData=function(e,t){var i={wrapper:e,animationData:t?"object"===typeof t?t:JSON.parse(t):null},n=e.attributes;i.path=n.getNamedItem("data-animation-path")?n.getNamedItem("data-animation-path").value:n.getNamedItem("data-bm-path")?n.getNamedItem("data-bm-path").value:n.getNamedItem("bm-path")?n.getNamedItem("bm-path").value:"",i.animType=n.getNamedItem("data-anim-type")?n.getNamedItem("data-anim-type").value:n.getNamedItem("data-bm-type")?n.getNamedItem("data-bm-type").value:n.getNamedItem("bm-type")?n.getNamedItem("bm-type").value:n.getNamedItem("data-bm-renderer")?n.getNamedItem("data-bm-renderer").value:n.getNamedItem("bm-renderer")?n.getNamedItem("bm-renderer").value:"canvas";var r=n.getNamedItem("data-anim-loop")?n.getNamedItem("data-anim-loop").value:n.getNamedItem("data-bm-loop")?n.getNamedItem("data-bm-loop").value:n.getNamedItem("bm-loop")?n.getNamedItem("bm-loop").value:"";""===r||(i.loop="false"!==r&&("true"===r||parseInt(r)));var a=n.getNamedItem("data-anim-autoplay")?n.getNamedItem("data-anim-autoplay").value:n.getNamedItem("data-bm-autoplay")?n.getNamedItem("data-bm-autoplay").value:!n.getNamedItem("bm-autoplay")||n.getNamedItem("bm-autoplay").value;i.autoplay="false"!==a,i.name=n.getNamedItem("data-name")?n.getNamedItem("data-name").value:n.getNamedItem("data-bm-name")?n.getNamedItem("data-bm-name").value:n.getNamedItem("bm-name")?n.getNamedItem("bm-name").value:"","false"===(n.getNamedItem("data-anim-prerender")?n.getNamedItem("data-anim-prerender").value:n.getNamedItem("data-bm-prerender")?n.getNamedItem("data-bm-prerender").value:n.getNamedItem("bm-prerender")?n.getNamedItem("bm-prerender").value:"")&&(i.prerender=!1),this.setParams(i)},AnimationItem.prototype.includeLayers=function(e){e.op>this.animationData.op&&(this.animationData.op=e.op,this.totalFrames=Math.floor(e.op-this.animationData.ip));var t,i,n=this.animationData.layers,r=n.length,a=e.layers,o=a.length;for(i=0;i<o;i+=1)for(t=0;t<r;){if(n[t].id==a[i].id){n[t]=a[i];break}t+=1}if((e.chars||e.fonts)&&(this.renderer.globalData.fontManager.addChars(e.chars),this.renderer.globalData.fontManager.addFonts(e.fonts,this.renderer.globalData.defs)),e.assets)for(r=e.assets.length,t=0;t<r;t+=1)this.animationData.assets.push(e.assets[t]);this.animationData.__complete=!1,dataManager.completeData(this.animationData,this.renderer.globalData.fontManager),this.renderer.includeLayers(e.layers),expressionsPlugin&&expressionsPlugin.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var e=this.animationData.segments;if(!e||0===e.length||!this.autoloadSegments)return this.trigger("data_ready"),void(this.timeCompleted=this.totalFrames);var t=e.shift();this.timeCompleted=t.time*this.frameRate;var i=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,assetLoader.load(i,this.includeLayers.bind(this),function(){this.trigger("data_failed")}.bind(this))},AnimationItem.prototype.loadSegments=function(){this.animationData.segments||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(e){if(this.renderer)try{this.animationData=e,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(e),e.assets||(e.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(e.assets),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded()}catch(e){this.triggerConfigError(e)}},AnimationItem.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){this.isLoaded||!this.renderer.globalData.fontManager.isLoaded||!this.imagePreloader.loaded()&&"canvas"===this.renderer.rendererType||(this.isLoaded=!0,dataManager.completeData(this.animationData,this.renderer.globalData.fontManager),expressionsPlugin&&expressionsPlugin.initExpressions(this),this.renderer.initItems(),setTimeout(function(){this.trigger("DOMLoaded")}.bind(this),0),this.gotoFrame(),this.autoplay&&this.play())},AnimationItem.prototype.resize=function(){this.renderer.updateContainerSize()},AnimationItem.prototype.setSubframe=function(e){this.isSubframeEnabled=!!e},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame()},AnimationItem.prototype.renderFrame=function(){if(!1!==this.isLoaded)try{this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(e){this.triggerRenderFrameError(e)}},AnimationItem.prototype.play=function(e){e&&this.name!=e||!0===this.isPaused&&(this.isPaused=!1,this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(e){e&&this.name!=e||!1===this.isPaused&&(this.isPaused=!0,this._idle=!0,this.trigger("_idle"))},AnimationItem.prototype.togglePause=function(e){e&&this.name!=e||(!0===this.isPaused?this.play():this.pause())},AnimationItem.prototype.stop=function(e){e&&this.name!=e||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.goToAndStop=function(e,t,i){i&&this.name!=i||(t?this.setCurrentRawFrameValue(e):this.setCurrentRawFrameValue(e*this.frameModifier),this.pause())},AnimationItem.prototype.goToAndPlay=function(e,t,i){this.goToAndStop(e,t,i),this.play()},AnimationItem.prototype.advanceTime=function(e){if(!0!==this.isPaused&&!1!==this.isLoaded){var t=this.currentRawFrame+e*this.frameModifier,i=!1;t>=this.totalFrames-1&&this.frameModifier>0?this.loop&&this.playCount!==this.loop?t>=this.totalFrames?(this.playCount+=1,this.checkSegments(t%this.totalFrames)||(this.setCurrentRawFrameValue(t%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(t):this.checkSegments(t>this.totalFrames?t%this.totalFrames:0)||(i=!0,t=this.totalFrames-1):t<0?this.checkSegments(t%this.totalFrames)||(!this.loop||this.playCount--<=0&&!0!==this.loop?(i=!0,t=0):(this.setCurrentRawFrameValue(this.totalFrames+t%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0)):this.setCurrentRawFrameValue(t),i&&(this.setCurrentRawFrameValue(t),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(e,t){this.playCount=0,e[1]<e[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.timeCompleted=this.totalFrames=e[0]-e[1],this.firstFrame=e[1],this.setCurrentRawFrameValue(this.totalFrames-.001-t)):e[1]>e[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.timeCompleted=this.totalFrames=e[1]-e[0],this.firstFrame=e[0],this.setCurrentRawFrameValue(.001+t)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(e,t){var i=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<e?i=e:this.currentRawFrame+this.firstFrame>t&&(i=t-e)),this.firstFrame=e,this.timeCompleted=this.totalFrames=t-e,-1!==i&&this.goToAndStop(i,!0)},AnimationItem.prototype.playSegments=function(e,t){if(t&&(this.segments.length=0),"object"===typeof e[0]){var i,n=e.length;for(i=0;i<n;i+=1)this.segments.push(e[i])}else this.segments.push(e);this.segments.length&&t&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(e){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),e&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(e){return!!this.segments.length&&(this.adjustSegment(this.segments.shift(),e),!0)},AnimationItem.prototype.destroy=function(e){e&&this.name!=e||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=this.onLoopComplete=this.onComplete=this.onSegmentStart=this.onDestroy=null,this.renderer=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(e){this.currentRawFrame=e,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(e){this.playSpeed=e,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(e){this.playDirection=e<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(e){var t="";if(e.e)t=e.p;else if(this.assetsPath){var i=e.p;-1!==i.indexOf("images/")&&(i=i.split("/")[1]),t=this.assetsPath+i}else t=this.path,t+=e.u?e.u:"",t+=e.p;return t},AnimationItem.prototype.getAssetData=function(e){for(var t=0,i=this.assets.length;t<i;){if(e==this.assets[t].id)return this.assets[t];t+=1}},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(e){return e?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.trigger=function(e){if(this._cbs&&this._cbs[e])switch(e){case"enterFrame":this.triggerEvent(e,new BMEnterFrameEvent(e,this.currentFrame,this.totalFrames,this.frameModifier));break;case"loopComplete":this.triggerEvent(e,new BMCompleteLoopEvent(e,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(e,new BMCompleteEvent(e,this.frameMult));break;case"segmentStart":this.triggerEvent(e,new BMSegmentStartEvent(e,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(e,new BMDestroyEvent(e,this));break;default:this.triggerEvent(e)}"enterFrame"===e&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(e,this.currentFrame,this.totalFrames,this.frameMult)),"loopComplete"===e&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(e,this.loop,this.playCount,this.frameMult)),"complete"===e&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(e,this.frameMult)),"segmentStart"===e&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(e,this.firstFrame,this.totalFrames)),"destroy"===e&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(e,this))},AnimationItem.prototype.triggerRenderFrameError=function(e){var t=new BMRenderFrameErrorEvent(e,this.currentFrame);this.triggerEvent("error",t),this.onError&&this.onError.call(this,t)},AnimationItem.prototype.triggerConfigError=function(e){var t=new BMConfigErrorEvent(e,this.currentFrame);this.triggerEvent("error",t),this.onError&&this.onError.call(this,t)};var Expressions=function(){function e(e){function t(){a+=1}function i(){0===(a-=1)&&r()}function n(e){-1===o.indexOf(e)&&o.push(e)}function r(){var e,t=o.length;for(e=0;e<t;e+=1)o[e].release();o.length=0}var a=0,o=[];e.renderer.compInterface=CompExpressionInterface(e.renderer),e.renderer.globalData.projectInterface.registerComposition(e.renderer),e.renderer.globalData.pushExpression=t,e.renderer.globalData.popExpression=i,e.renderer.globalData.registerExpressionProperty=n}var t={};return t.initExpressions=e,t}();expressionsPlugin=Expressions;var ExpressionManager=function(){function $bm_isInstanceOfArray(e){return e.constructor===Array||e.constructor===Float32Array}function isNumerable(e,t){return"number"===e||"boolean"===e||"string"===e||t instanceof Number}function $bm_neg(e){var t=typeof e;if("number"===t||"boolean"===t||e instanceof Number)return-e;if($bm_isInstanceOfArray(e)){var i,n=e.length,r=[];for(i=0;i<n;i+=1)r[i]=-e[i];return r}return e.propType?e.v:void 0}function sum(e,t){var i=typeof e,n=typeof t;if("string"===i||"string"===n)return e+t;if(isNumerable(i,e)&&isNumerable(n,t))return e+t;if($bm_isInstanceOfArray(e)&&isNumerable(n,t))return e=e.slice(0),e[0]=e[0]+t,e;if(isNumerable(i,e)&&$bm_isInstanceOfArray(t))return t=t.slice(0),t[0]=e+t[0],t;if($bm_isInstanceOfArray(e)&&$bm_isInstanceOfArray(t)){for(var r=0,a=e.length,o=t.length,s=[];r<a||r<o;)("number"===typeof e[r]||e[r]instanceof Number)&&("number"===typeof t[r]||t[r]instanceof Number)?s[r]=e[r]+t[r]:s[r]=void 0===t[r]?e[r]:e[r]||t[r],r+=1;return s}return 0}function sub(e,t){var i=typeof e,n=typeof t;if(isNumerable(i,e)&&isNumerable(n,t))return"string"===i&&(e=parseInt(e)),"string"===n&&(t=parseInt(t)),e-t;if($bm_isInstanceOfArray(e)&&isNumerable(n,t))return e=e.slice(0),e[0]=e[0]-t,e;if(isNumerable(i,e)&&$bm_isInstanceOfArray(t))return t=t.slice(0),t[0]=e-t[0],t;if($bm_isInstanceOfArray(e)&&$bm_isInstanceOfArray(t)){for(var r=0,a=e.length,o=t.length,s=[];r<a||r<o;)("number"===typeof e[r]||e[r]instanceof Number)&&("number"===typeof t[r]||t[r]instanceof Number)?s[r]=e[r]-t[r]:s[r]=void 0===t[r]?e[r]:e[r]||t[r],r+=1;return s}return 0}function mul(e,t){var i,n=typeof e,r=typeof t;if(isNumerable(n,e)&&isNumerable(r,t))return e*t;var a,o;if($bm_isInstanceOfArray(e)&&isNumerable(r,t)){for(o=e.length,i=createTypedArray("float32",o),a=0;a<o;a+=1)i[a]=e[a]*t;return i}if(isNumerable(n,e)&&$bm_isInstanceOfArray(t)){for(o=t.length,i=createTypedArray("float32",o),a=0;a<o;a+=1)i[a]=e*t[a];return i}return 0}function div(e,t){var i,n=typeof e,r=typeof t;if(isNumerable(n,e)&&isNumerable(r,t))return e/t;var a,o;if($bm_isInstanceOfArray(e)&&isNumerable(r,t)){for(o=e.length,i=createTypedArray("float32",o),a=0;a<o;a+=1)i[a]=e[a]/t;return i}if(isNumerable(n,e)&&$bm_isInstanceOfArray(t)){for(o=t.length,i=createTypedArray("float32",o),a=0;a<o;a+=1)i[a]=e/t[a];return i}return 0}function mod(e,t){return"string"===typeof e&&(e=parseInt(e)),"string"===typeof t&&(t=parseInt(t)),e%t}function clamp(e,t,i){if(t>i){var n=i;i=t,t=n}return Math.min(Math.max(e,t),i)}function radiansToDegrees(e){return e/degToRads}function degreesToRadians(e){return e*degToRads}function length(e,t){if("number"===typeof e||e instanceof Number)return t=t||0,Math.abs(e-t);t||(t=helperLengthArray);var i,n=Math.min(e.length,t.length),r=0;for(i=0;i<n;i+=1)r+=Math.pow(t[i]-e[i],2);return Math.sqrt(r)}function normalize(e){return div(e,length(e))}function rgbToHsl(e){var t,i,n=e[0],r=e[1],a=e[2],o=Math.max(n,r,a),s=Math.min(n,r,a),l=(o+s)/2;if(o==s)t=i=0;else{var c=o-s;switch(i=l>.5?c/(2-o-s):c/(o+s),o){case n:t=(r-a)/c+(r<a?6:0);break;case r:t=(a-n)/c+2;break;case a:t=(n-r)/c+4}t/=6}return[t,i,l,e[3]]}function hue2rgb(e,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+6*(t-e)*i:i<.5?t:i<2/3?e+(t-e)*(2/3-i)*6:e}function hslToRgb(e){var t,i,n,r=e[0],a=e[1],o=e[2];if(0===a)t=i=n=o;else{var s=o<.5?o*(1+a):o+a-o*a,l=2*o-s;t=hue2rgb(l,s,r+1/3),i=hue2rgb(l,s,r),n=hue2rgb(l,s,r-1/3)}return[t,i,n,e[3]]}function linear(e,t,i,n,r){if(void 0!==n&&void 0!==r||(n=t,r=i,t=0,i=1),i<t){var a=i;i=t,t=a}if(e<=t)return n;if(e>=i)return r;var o=i===t?0:(e-t)/(i-t);if(!n.length)return n+(r-n)*o;var s,l=n.length,c=createTypedArray("float32",l);for(s=0;s<l;s+=1)c[s]=n[s]+(r[s]-n[s])*o;return c}function random(e,t){if(void 0===t&&(void 0===e?(e=0,t=1):(t=e,e=void 0)),t.length){var i,n=t.length;e||(e=createTypedArray("float32",n));var r=createTypedArray("float32",n),a=BMMath.random();for(i=0;i<n;i+=1)r[i]=e[i]+a*(t[i]-e[i]);return r}return void 0===e&&(e=0),e+BMMath.random()*(t-e)}function createPath(e,t,i,n){var r,a=e.length,o=shape_pool.newElement();o.setPathData(!!n,a);var s,l,c=[0,0];for(r=0;r<a;r+=1)s=t&&t[r]?t[r]:c,l=i&&i[r]?i[r]:c,o.setTripleAt(e[r][0],e[r][1],l[0]+e[r][0],l[1]+e[r][1],s[0]+e[r][0],s[1]+e[r][1],r,!0);return o}function initiateExpression(elem,data,property){function loopInDuration(e,t){return loopIn(e,t,!0)}function loopOutDuration(e,t){return loopOut(e,t,!0)}function lookAt(e,t){var i=[t[0]-e[0],t[1]-e[1],t[2]-e[2]],n=Math.atan2(i[0],Math.sqrt(i[1]*i[1]+i[2]*i[2]))/degToRads;return[-Math.atan2(i[1],i[2])/degToRads,n,0]}function easeOut(e,t,i,n,r){return applyEase(easeOutBez,e,t,i,n,r)}function easeIn(e,t,i,n,r){return applyEase(easeInBez,e,t,i,n,r)}function ease(e,t,i,n,r){return applyEase(easeInOutBez,e,t,i,n,r)}function applyEase(e,t,i,n,r,a){void 0===r?(r=i,a=n):t=(t-i)/(n-i),t=t>1?1:t<0?0:t;var o=e(t);if($bm_isInstanceOfArray(r)){var s,l=r.length,c=createTypedArray("float32",l);for(s=0;s<l;s+=1)c[s]=(a[s]-r[s])*o+r[s];return c}return(a-r)*o+r}function nearestKey(e){var t,i,n,r=data.k.length;if(data.k.length&&"number"!==typeof data.k[0])if(i=-1,(e*=elem.comp.globalData.frameRate)<data.k[0].t)i=1,n=data.k[0].t;else{for(t=0;t<r-1;t+=1){if(e===data.k[t].t){i=t+1,n=data.k[t].t;break}if(e>data.k[t].t&&e<data.k[t+1].t){e-data.k[t].t>data.k[t+1].t-e?(i=t+2,n=data.k[t+1].t):(i=t+1,n=data.k[t].t);break}}-1===i&&(i=t+1,n=data.k[t].t)}else i=0,n=0;var a={};return a.index=i,a.time=n/elem.comp.globalData.frameRate,a}function key(e){var t,i,n;if(!data.k.length||"number"===typeof data.k[0])throw new Error("The property has no keyframe at index "+e);e-=1,t={time:data.k[e].t/elem.comp.globalData.frameRate,value:[]};var r=data.k[e].hasOwnProperty("s")?data.k[e].s:data.k[e-1].e;for(n=r.length,i=0;i<n;i+=1)t[i]=r[i],t.value[i]=r[i];return t}function framesToTime(e,t){return t||(t=elem.comp.globalData.frameRate),e/t}function timeToFrames(e,t){return e||0===e||(e=time),t||(t=elem.comp.globalData.frameRate),e*t}function seedRandom(e){BMMath.seedrandom(randSeed+e)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(e,t){return"string"===typeof value?void 0===t?value.substring(e):value.substring(e,t):""}function substr(e,t){return"string"===typeof value?void 0===t?value.substr(e):value.substr(e,t):""}function posterizeTime(e){time=0===e?0:Math.floor(time*e)/e,value=valueAtTime(time)}function executeExpression(e){return value=e,_needsRandom&&seedRandom(randSeed),this.frameExpressionId===elem.globalData.frameId&&"textSelector"!==this.propType?value:("textSelector"===this.propType&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),$bm_transform=transform,transform&&(anchorPoint=transform.anchorPoint)),4!==elemType||content||(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),hasParent=!(!elem.hierarchy||!elem.hierarchy.length),hasParent&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,"shape"===scoped_bm_rt.propType&&(scoped_bm_rt=scoped_bm_rt.v),scoped_bm_rt)}var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=-1!==val.indexOf("random"),elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,__expression_functions=[];if(data.xf){var i,len=data.xf.length;for(i=0;i<len;i+=1)__expression_functions[i]=eval("(function(){ return "+data.xf[i]+"}())")}var scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||!0!==this.data.hd,wiggle=function(e,t){var i,n,r=this.pv.length?this.pv.length:1,a=createTypedArray("float32",r);e=5;var o=Math.floor(time*e);for(i=0,n=0;i<o;){for(n=0;n<r;n+=1)a[n]+=-t+2*t*BMMath.random();i+=1}var s=time*e,l=s-Math.floor(s),c=createTypedArray("float32",r);if(r>1){for(n=0;n<r;n+=1)c[n]=this.pv[n]+a[n]+(-t+2*t*BMMath.random())*l;return c}return this.pv+a[0]+(-t+2*t*BMMath.random())*l}.bind(this);thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty)),this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface),time,velocity,value,text,textIndex,textTotal,selectorValue,index=elem.data.ind,hasParent=!(!elem.hierarchy||!elem.hierarchy.length),parent,randSeed=Math.floor(1e6*Math.random()),globalData=elem.globalData;return executeExpression}var ob={},Math=BMMath,window=null,document=null,easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get,add=sum,$bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod,radians_to_degrees=radiansToDegrees,degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];return ob.initiateExpression=initiateExpression,ob}(),expressionHelpers=function(){function e(e,t,i){t.x&&(i.k=!0,i.x=!0,i.initiateExpression=ExpressionManager.initiateExpression,i.effectsSequence.push(i.initiateExpression(e,t,i).bind(i)))}function t(e){return e*=this.elem.globalData.frameRate,e-=this.offsetTime,e!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<e?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(e,this._cachingAtTime),this._cachingAtTime.lastFrame=e),this._cachingAtTime.value}function i(e){var t=this.getValueAtTime(e),i=this.getValueAtTime(e+-.01),n=0;if(t.length){var r;for(r=0;r<t.length;r+=1)n+=Math.pow(i[r]-t[r],2);n=100*Math.sqrt(n)}else n=0;return n}function n(e){if(void 0!==this.vel)return this.vel;var t,i=this.getValueAtTime(e),n=this.getValueAtTime(e+-.001);if(i.length){t=createTypedArray("float32",i.length);var r;for(r=0;r<i.length;r+=1)t[r]=(n[r]-i[r])/-.001}else t=(n-i)/-.001;return t}function r(){return this.pv}function a(e){this.propertyGroup=e}return{searchExpressions:e,getSpeedAtTime:i,getVelocityAtTime:n,getValueAtTime:t,getStaticValueAtTime:r,setGroupProperty:a}}();!function(){function e(e,t,i){if(!this.k||!this.keyframes)return this.pv;e=e?e.toLowerCase():"";var n=this.comp.renderedFrame,r=this.keyframes,a=r[r.length-1].t;if(n<=a)return this.pv;var o,s;i?(o=t?Math.abs(a-elem.comp.globalData.frameRate*t):Math.max(0,a-this.elem.data.ip),s=a-o):((!t||t>r.length-1)&&(t=r.length-1),s=r[r.length-1-t].t,o=a-s);var l,c,u;if("pingpong"===e){if(Math.floor((n-s)/o)%2!==0)return this.getValueAtTime((o-(n-s)%o+s)/this.comp.globalData.frameRate,0)}else{if("offset"===e){var h=this.getValueAtTime(s/this.comp.globalData.frameRate,0),d=this.getValueAtTime(a/this.comp.globalData.frameRate,0),p=this.getValueAtTime(((n-s)%o+s)/this.comp.globalData.frameRate,0),f=Math.floor((n-s)/o);if(this.pv.length){for(u=new Array(h.length),c=u.length,l=0;l<c;l+=1)u[l]=(d[l]-h[l])*f+p[l];return u}return(d-h)*f+p}if("continue"===e){var m=this.getValueAtTime(a/this.comp.globalData.frameRate,0),g=this.getValueAtTime((a-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(u=new Array(m.length),c=u.length,l=0;l<c;l+=1)u[l]=m[l]+(m[l]-g[l])*((n-a)/this.comp.globalData.frameRate)/5e-4;return u}return m+(n-a)/.001*(m-g)}}return this.getValueAtTime(((n-s)%o+s)/this.comp.globalData.frameRate,0)}function t(e,t,i){if(!this.k)return this.pv;e=e?e.toLowerCase():"";var n=this.comp.renderedFrame,r=this.keyframes,a=r[0].t;if(n>=a)return this.pv;var o,s;i?(o=t?Math.abs(elem.comp.globalData.frameRate*t):Math.max(0,this.elem.data.op-a),s=a+o):((!t||t>r.length-1)&&(t=r.length-1),s=r[t].t,o=s-a);var l,c,u;if("pingpong"===e){if(Math.floor((a-n)/o)%2===0)return this.getValueAtTime(((a-n)%o+a)/this.comp.globalData.frameRate,0)}else{if("offset"===e){var h=this.getValueAtTime(a/this.comp.globalData.frameRate,0),d=this.getValueAtTime(s/this.comp.globalData.frameRate,0),p=this.getValueAtTime((o-(a-n)%o+a)/this.comp.globalData.frameRate,0),f=Math.floor((a-n)/o)+1;if(this.pv.length){for(u=new Array(h.length),c=u.length,l=0;l<c;l+=1)u[l]=p[l]-(d[l]-h[l])*f;return u}return p-(d-h)*f}if("continue"===e){var m=this.getValueAtTime(a/this.comp.globalData.frameRate,0),g=this.getValueAtTime((a+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(u=new Array(m.length),c=u.length,l=0;l<c;l+=1)u[l]=m[l]+(m[l]-g[l])*(a-n)/.001;return u}return m+(m-g)*(a-n)/.001}}return this.getValueAtTime((o-(a-n)%o+a)/this.comp.globalData.frameRate,0)}function i(e,t){if(!this.k)return this.pv;if(e=.5*(e||.4),(t=Math.floor(t||5))<=1)return this.pv;var i,n=this.comp.renderedFrame/this.comp.globalData.frameRate,r=n-e,a=n+e,o=t>1?(a-r)/(t-1):1,s=0,l=0;i=this.pv.length?createTypedArray("float32",this.pv.length):0;for(var c;s<t;){if(c=this.getValueAtTime(r+s*o),this.pv.length)for(l=0;l<this.pv.length;l+=1)i[l]+=c[l];else i+=c;s+=1}if(this.pv.length)for(l=0;l<this.pv.length;l+=1)i[l]/=t;else i/=t;return i}function n(e){console.warn("Transform at time not supported")}function r(e){}function a(e){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shape_pool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),e*=this.elem.globalData.frameRate,e-=this.offsetTime,e!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<e?this._caching.lastIndex:0,this._cachingAtTime.lastTime=e,this.interpolateShape(e,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue}function o(){}var s=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(e,t,i){var a=s(e,t,i);return a.dynamicProperties.length?a.getValueAtTime=n.bind(a):a.getValueAtTime=r.bind(a),a.setGroupProperty=expressionHelpers.setGroupProperty,a};var l=PropertyFactory.getProp;PropertyFactory.getProp=function(n,r,a,o,s){var c=l(n,r,a,o,s);c.kf?c.getValueAtTime=expressionHelpers.getValueAtTime.bind(c):c.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(c),c.setGroupProperty=expressionHelpers.setGroupProperty,c.loopOut=e,c.loopIn=t,c.smooth=i,c.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(c),c.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(c),c.numKeys=1===r.a?r.k.length:0,c.propertyIndex=r.ix;var u=0;return 0!==a&&(u=createTypedArray("float32",1===r.a?r.k[0].s.length:r.k.length)),c._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:u},expressionHelpers.searchExpressions(n,r,c),c.k&&s.addDynamicProperty(c),c};var c=ShapePropertyFactory.getConstructorFunction(),u=ShapePropertyFactory.getKeyframedConstructorFunction();o.prototype={vertices:function(e,t){this.k&&this.getValue();var i=this.v;void 0!==t&&(i=this.getValueAtTime(t,0));var n,r=i._length,a=i[e],o=i.v,s=createSizedArray(r);for(n=0;n<r;n+=1)s[n]="i"===e||"o"===e?[a[n][0]-o[n][0],a[n][1]-o[n][1]]:[a[n][0],a[n][1]];return s},points:function(e){return this.vertices("v",e)},inTangents:function(e){return this.vertices("i",e)},outTangents:function(e){return this.vertices("o",e)},isClosed:function(){return this.v.c},pointOnPath:function(e,t){var i=this.v;void 0!==t&&(i=this.getValueAtTime(t,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(i));for(var n,r=this._segmentsLength,a=r.lengths,o=r.totalLength*e,s=0,l=a.length,c=0;s<l;){if(c+a[s].addedLength>o){var u=s,h=i.c&&s===l-1?0:s+1,d=(o-c)/a[s].addedLength;n=bez.getPointInSegment(i.v[u],i.v[h],i.o[u],i.i[h],d,a[s]);break}c+=a[s].addedLength,s+=1}return n||(n=i.c?[i.v[0][0],i.v[0][1]]:[i.v[i._length-1][0],i.v[i._length-1][1]]),n},vectorOnPath:function(e,t,i){e=1==e?this.v.c?0:.999:e;var n=this.pointOnPath(e,t),r=this.pointOnPath(e+.001,t),a=r[0]-n[0],o=r[1]-n[1],s=Math.sqrt(Math.pow(a,2)+Math.pow(o,2));return 0===s?[0,0]:"tangent"===i?[a/s,o/s]:[-o/s,a/s]},tangentOnPath:function(e,t){return this.vectorOnPath(e,t,"tangent")},normalOnPath:function(e,t){return this.vectorOnPath(e,t,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([o],c),extendPrototype([o],u),u.prototype.getValueAtTime=a,u.prototype.initiateExpression=ExpressionManager.initiateExpression;var h=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(e,t,i,n,r){var a=h(e,t,i,n,r);return a.propertyIndex=t.ix,a.lock=!1,3===i?expressionHelpers.searchExpressions(e,t.pt,a):4===i&&expressionHelpers.searchExpressions(e,t.ks,a),a.k&&e.addDynamicProperty(a),a}}(),function(){function e(){if(this.data.d.x)return this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0}TextProperty.prototype.getExpressionValue=function(e,t){var i=this.calculateExpression(t);if(e.t!==i){var n={};return this.copyData(n,e),n.t=i.toString(),n.__complete=!1,n}return e},TextProperty.prototype.searchProperty=function(){var e=this.searchKeyframes(),t=this.searchExpressions();return this.kf=e||t,this.kf},TextProperty.prototype.searchExpressions=e}();var ShapeExpressionInterface=function(){function e(e,t,o){var p,f=[],m=e?e.length:0;for(p=0;p<m;p+=1)"gr"==e[p].ty?f.push(i(e[p],t[p],o)):"fl"==e[p].ty?f.push(n(e[p],t[p],o)):"st"==e[p].ty?f.push(r(e[p],t[p],o)):"tm"==e[p].ty?f.push(a(e[p],t[p],o)):"tr"==e[p].ty||("el"==e[p].ty?f.push(s(e[p],t[p],o)):"sr"==e[p].ty?f.push(l(e[p],t[p],o)):"sh"==e[p].ty?f.push(d(e[p],t[p],o)):"rc"==e[p].ty?f.push(c(e[p],t[p],o)):"rd"==e[p].ty?f.push(u(e[p],t[p],o)):"rp"==e[p].ty&&f.push(h(e[p],t[p],o)));return f}function t(t,i,n){var r,a=function(e){for(var t=0,i=r.length;t<i;){if(r[t]._name===e||r[t].mn===e||r[t].propertyIndex===e||r[t].ix===e||r[t].ind===e)return r[t];t+=1}if("number"===typeof e)return r[e-1]};return a.propertyGroup=function(e){return 1===e?a:n(e-1)},r=e(t.it,i.it,a.propertyGroup),a.numProperties=r.length,a.propertyIndex=t.cix,a._name=t.nm,a}function i(e,i,n){var r=function(e){switch(e){case"ADBE Vectors Group":case"Contents":case 2:return r.content;default:return r.transform}};r.propertyGroup=function(e){return 1===e?r:n(e-1)};var a=t(e,i,r.propertyGroup),s=o(e.it[e.it.length-1],i.it[i.it.length-1],r.propertyGroup);return r.content=a,r.transform=s,Object.defineProperty(r,"_name",{get:function(){return e.nm}}),r.numProperties=e.np,r.propertyIndex=e.ix,r.nm=e.nm,r.mn=e.mn,r}function n(e,t,i){function n(e){return"Color"===e||"color"===e?n.color:"Opacity"===e||"opacity"===e?n.opacity:void 0}return Object.defineProperties(n,{color:{get:ExpressionPropertyInterface(t.c)},opacity:{get:ExpressionPropertyInterface(t.o)},_name:{value:e.nm},mn:{value:e.mn}}),t.c.setGroupProperty(i),t.o.setGroupProperty(i),n}function r(e,t,i){function n(e){return 1===e?ob:i(e-1)}function r(e){return 1===e?l:n(e-1)}function a(e){return"Color"===e||"color"===e?a.color:"Opacity"===e||"opacity"===e?a.opacity:"Stroke Width"===e||"stroke width"===e?a.strokeWidth:void 0}var o,s=e.d?e.d.length:0,l={};for(o=0;o<s;o+=1)!function(i){Object.defineProperty(l,e.d[i].nm,{get:ExpressionPropertyInterface(t.d.dataProps[i].p)})}(o),t.d.dataProps[o].p.setGroupProperty(r);return Object.defineProperties(a,{color:{get:ExpressionPropertyInterface(t.c)},opacity:{get:ExpressionPropertyInterface(t.o)},strokeWidth:{get:ExpressionPropertyInterface(t.w)},dash:{get:function(){return l}},_name:{value:e.nm},mn:{value:e.mn}}),t.c.setGroupProperty(n),t.o.setGroupProperty(n),t.w.setGroupProperty(n),a}function a(e,t,i){function n(e){return 1==e?r:i(--e)}function r(t){return t===e.e.ix||"End"===t||"end"===t?r.end:t===e.s.ix?r.start:t===e.o.ix?r.offset:void 0}return r.propertyIndex=e.ix,t.s.setGroupProperty(n),t.e.setGroupProperty(n),t.o.setGroupProperty(n),r.propertyIndex=e.ix,r.propertyGroup=i,Object.defineProperties(r,{start:{get:ExpressionPropertyInterface(t.s)},end:{get:ExpressionPropertyInterface(t.e)},offset:{get:ExpressionPropertyInterface(t.o)},_name:{value:e.nm}}),r.mn=e.mn,r}function o(e,t,i){function n(e){return 1==e?r:i(--e)}function r(t){return e.a.ix===t||"Anchor Point"===t?r.anchorPoint:e.o.ix===t||"Opacity"===t?r.opacity:e.p.ix===t||"Position"===t?r.position:e.r.ix===t||"Rotation"===t||"ADBE Vector Rotation"===t?r.rotation:e.s.ix===t||"Scale"===t?r.scale:e.sk&&e.sk.ix===t||"Skew"===t?r.skew:e.sa&&e.sa.ix===t||"Skew Axis"===t?r.skewAxis:void 0}return t.transform.mProps.o.setGroupProperty(n),t.transform.mProps.p.setGroupProperty(n),t.transform.mProps.a.setGroupProperty(n),t.transform.mProps.s.setGroupProperty(n),t.transform.mProps.r.setGroupProperty(n),t.transform.mProps.sk&&(t.transform.mProps.sk.setGroupProperty(n),t.transform.mProps.sa.setGroupProperty(n)),t.transform.op.setGroupProperty(n),Object.defineProperties(r,{opacity:{get:ExpressionPropertyInterface(t.transform.mProps.o)},position:{get:ExpressionPropertyInterface(t.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(t.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(t.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(t.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(t.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(t.transform.mProps.sa)},_name:{value:e.nm}}),r.ty="tr",r.mn=e.mn,r.propertyGroup=i,r}function s(e,t,i){function n(e){return 1==e?r:i(--e)}function r(t){return e.p.ix===t?r.position:e.s.ix===t?r.size:void 0}r.propertyIndex=e.ix;var a="tm"===t.sh.ty?t.sh.prop:t.sh;return a.s.setGroupProperty(n),a.p.setGroupProperty(n),Object.defineProperties(r,{size:{get:ExpressionPropertyInterface(a.s)},position:{get:ExpressionPropertyInterface(a.p)},_name:{value:e.nm}}),r.mn=e.mn,r}function l(e,t,i){function n(e){return 1==e?r:i(--e)}function r(t){return e.p.ix===t?r.position:e.r.ix===t?r.rotation:e.pt.ix===t?r.points:e.or.ix===t||"ADBE Vector Star Outer Radius"===t?r.outerRadius:e.os.ix===t?r.outerRoundness:!e.ir||e.ir.ix!==t&&"ADBE Vector Star Inner Radius"!==t?e.is&&e.is.ix===t?r.innerRoundness:void 0:r.innerRadius}var a="tm"===t.sh.ty?t.sh.prop:t.sh;return r.propertyIndex=e.ix,a.or.setGroupProperty(n),a.os.setGroupProperty(n),a.pt.setGroupProperty(n),a.p.setGroupProperty(n),a.r.setGroupProperty(n),e.ir&&(a.ir.setGroupProperty(n),a.is.setGroupProperty(n)),Object.defineProperties(r,{position:{get:ExpressionPropertyInterface(a.p)},rotation:{get:ExpressionPropertyInterface(a.r)},points:{get:ExpressionPropertyInterface(a.pt)},outerRadius:{get:ExpressionPropertyInterface(a.or)},outerRoundness:{get:ExpressionPropertyInterface(a.os)},innerRadius:{get:ExpressionPropertyInterface(a.ir)},innerRoundness:{get:ExpressionPropertyInterface(a.is)},_name:{value:e.nm}}),r.mn=e.mn,r}function c(e,t,i){function n(e){return 1==e?r:i(--e)}function r(t){return e.p.ix===t?r.position:e.r.ix===t?r.roundness:e.s.ix===t||"Size"===t||"ADBE Vector Rect Size"===t?r.size:void 0}var a="tm"===t.sh.ty?t.sh.prop:t.sh;return r.propertyIndex=e.ix,a.p.setGroupProperty(n),a.s.setGroupProperty(n),a.r.setGroupProperty(n),Object.defineProperties(r,{position:{get:ExpressionPropertyInterface(a.p)},roundness:{get:ExpressionPropertyInterface(a.r)},size:{get:ExpressionPropertyInterface(a.s)},_name:{value:e.nm}}),r.mn=e.mn,r}function u(e,t,i){function n(e){return 1==e?r:i(--e)}function r(t){if(e.r.ix===t||"Round Corners 1"===t)return r.radius}var a=t;return r.propertyIndex=e.ix,a.rd.setGroupProperty(n),Object.defineProperties(r,{radius:{get:ExpressionPropertyInterface(a.rd)},_name:{value:e.nm}}),r.mn=e.mn,r}function h(e,t,i){function n(e){return 1==e?r:i(--e)}function r(t){return e.c.ix===t||"Copies"===t?r.copies:e.o.ix===t||"Offset"===t?r.offset:void 0}var a=t;return r.propertyIndex=e.ix,a.c.setGroupProperty(n),a.o.setGroupProperty(n),Object.defineProperties(r,{copies:{get:ExpressionPropertyInterface(a.c)},offset:{get:ExpressionPropertyInterface(a.o)},_name:{value:e.nm}}),r.mn=e.mn,r}function d(e,t,i){function n(e){return 1==e?r:i(--e)}function r(e){if("Shape"===e||"shape"===e||"Path"===e||"path"===e||"ADBE Vector Shape"===e||2===e)return r.path}var a=t.sh;return a.setGroupProperty(n),Object.defineProperties(r,{path:{get:function(){return a.k&&a.getValue(),a}},shape:{get:function(){return a.k&&a.getValue(),a}},_name:{value:e.nm},ix:{value:e.ix},propertyIndex:{value:e.ix},mn:{value:e.mn}}),r}return function(t,i,n){function r(e){if("number"===typeof e)return a[e-1];for(var t=0,i=a.length;t<i;){if(a[t]._name===e)return a[t];t+=1}}var a;return r.propertyGroup=n,a=e(t,i,r),r.numProperties=a.length,r}}(),TextExpressionInterface=function(){return function(e){function t(){}var i;return Object.defineProperty(t,"sourceText",{get:function(){e.textProperty.getValue();var t=e.textProperty.currentData.t;return void 0!==t&&(e.textProperty.currentData.t=void 0,i=new String(t),i.value=t||new String(t)),i}}),t}}(),LayerExpressionInterface=function(){function e(e,t){var i=new Matrix;i.reset();var n;if(n=this._elem.finalTransform.mProp,n.applyToMatrix(i),this._elem.hierarchy&&this._elem.hierarchy.length){var r,a=this._elem.hierarchy.length;for(r=0;r<a;r+=1)this._elem.hierarchy[r].finalTransform.mProp.applyToMatrix(i);return i.applyToPointArray(e[0],e[1],e[2]||0)}return i.applyToPointArray(e[0],e[1],e[2]||0)}function t(e,t){var i=new Matrix;i.reset();var n;if(n=this._elem.finalTransform.mProp,n.applyToMatrix(i),this._elem.hierarchy&&this._elem.hierarchy.length){var r,a=this._elem.hierarchy.length;for(r=0;r<a;r+=1)this._elem.hierarchy[r].finalTransform.mProp.applyToMatrix(i);return i.inversePoint(e)}return i.inversePoint(e)}function i(e){var t=new Matrix;if(t.reset(),this._elem.finalTransform.mProp.applyToMatrix(t),this._elem.hierarchy&&this._elem.hierarchy.length){var i,n=this._elem.hierarchy.length;for(i=0;i<n;i+=1)this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(t);return t.inversePoint(e)}return t.inversePoint(e)}function n(){return[1,1,1,1]}return function(r){function a(e){s.mask=new MaskManagerInterface(e,r)}function o(e){s.effect=e}function s(e){switch(e){case"ADBE Root Vectors Group":case"Contents":case 2:return s.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return l;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return s.effect}}var l;s.toWorld=e,s.fromWorld=t,s.toComp=e,s.fromComp=i,s.sampleImage=n,s.sourceRectAtTime=r.sourceRectAtTime.bind(r),s._elem=r,l=TransformExpressionInterface(r.finalTransform.mProp);var c=getDescriptor(l,"anchorPoint");return Object.defineProperties(s,{hasParent:{get:function(){return r.hierarchy.length}},parent:{get:function(){return r.hierarchy[0].layerInterface}},rotation:getDescriptor(l,"rotation"),scale:getDescriptor(l,"scale"),position:getDescriptor(l,"position"),opacity:getDescriptor(l,"opacity"),anchorPoint:c,anchor_point:c,transform:{get:function(){return l}},active:{get:function(){return r.isInRange}}}),s.startTime=r.data.st,s.index=r.data.ind,s.source=r.data.refId,s.height=0===r.data.ty?r.data.h:100,s.width=0===r.data.ty?r.data.w:100,s.inPoint=r.data.ip/r.comp.globalData.frameRate,s.outPoint=r.data.op/r.comp.globalData.frameRate,s._name=r.data.nm,s.registerMaskInterface=a,s.registerEffectsInterface=o,s}}(),CompExpressionInterface=function(){return function(e){function t(t){for(var i=0,n=e.layers.length;i<n;){if(e.layers[i].nm===t||e.layers[i].ind===t)return e.elements[i].layerInterface;i+=1}return null}return Object.defineProperty(t,"_name",{value:e.data.nm}),t.layer=t,t.pixelAspect=1,t.height=e.data.h||e.globalData.compSize.h,t.width=e.data.w||e.globalData.compSize.w,t.pixelAspect=1,t.frameDuration=1/e.globalData.frameRate,t.displayStartTime=0,t.numLayers=e.layers.length,t}}(),TransformExpressionInterface=function(){return function(e){function t(e){switch(e){case"scale":case"Scale":case"ADBE Scale":case 6:return t.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return t.rotation;case"ADBE Rotate X":return t.xRotation;case"ADBE Rotate Y":return t.yRotation;case"position":case"Position":case"ADBE Position":case 2:return t.position;case"ADBE Position_0":return t.xPosition;case"ADBE Position_1":return t.yPosition;case"ADBE Position_2":return t.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return t.anchorPoint;case"opacity":case"Opacity":case 11:return t.opacity}}if(Object.defineProperty(t,"rotation",{get:ExpressionPropertyInterface(e.r||e.rz)}),Object.defineProperty(t,"zRotation",{get:ExpressionPropertyInterface(e.rz||e.r)}),Object.defineProperty(t,"xRotation",{get:ExpressionPropertyInterface(e.rx)}),Object.defineProperty(t,"yRotation",{get:ExpressionPropertyInterface(e.ry)}),Object.defineProperty(t,"scale",{get:ExpressionPropertyInterface(e.s)}),e.p)var i=ExpressionPropertyInterface(e.p);return Object.defineProperty(t,"position",{get:function(){return e.p?i():[e.px.v,e.py.v,e.pz?e.pz.v:0]}}),Object.defineProperty(t,"xPosition",{get:ExpressionPropertyInterface(e.px)}),Object.defineProperty(t,"yPosition",{get:ExpressionPropertyInterface(e.py)}),Object.defineProperty(t,"zPosition",{get:ExpressionPropertyInterface(e.pz)}),Object.defineProperty(t,"anchorPoint",{get:ExpressionPropertyInterface(e.a)}),Object.defineProperty(t,"opacity",{get:ExpressionPropertyInterface(e.o)}),Object.defineProperty(t,"skew",{get:ExpressionPropertyInterface(e.sk)}),Object.defineProperty(t,"skewAxis",{get:ExpressionPropertyInterface(e.sa)}),Object.defineProperty(t,"orientation",{get:ExpressionPropertyInterface(e.or)}),t}}(),ProjectInterface=function(){function e(e){this.compositions.push(e)}return function(){function t(e){for(var t=0,i=this.compositions.length;t<i;){if(this.compositions[t].data&&this.compositions[t].data.nm===e)return this.compositions[t].prepareFrame&&this.compositions[t].data.xt&&this.compositions[t].prepareFrame(this.currentFrame),this.compositions[t].compInterface;t+=1}}return t.compositions=[],t.currentFrame=0,t.registerComposition=e,t}}(),EffectsExpressionInterface=function(){function e(e,i){if(e.effectsManager){var n,r=[],a=e.data.ef,o=e.effectsManager.effectElements.length;for(n=0;n<o;n+=1)r.push(t(a[n],e.effectsManager.effectElements[n],i,e));return function(t){for(var i=e.data.ef||[],n=0,a=i.length;n<a;){if(t===i[n].nm||t===i[n].mn||t===i[n].ix)return r[n];n+=1}}}}function t(e,n,r,a){function o(e){return 1===e?u:r(e-1)}var s,l=[],c=e.ef.length;for(s=0;s<c;s+=1)5===e.ef[s].ty?l.push(t(e.ef[s],n.effectElements[s],n.effectElements[s].propertyGroup,a)):l.push(i(n.effectElements[s],e.ef[s].ty,a,o));var u=function(t){for(var i=e.ef,n=0,r=i.length;n<r;){if(t===i[n].nm||t===i[n].mn||t===i[n].ix)return 5===i[n].ty?l[n]:l[n]();n+=1}return l[0]()};return u.propertyGroup=o,"ADBE Color Control"===e.mn&&Object.defineProperty(u,"color",{get:function(){return l[0]()}}),Object.defineProperty(u,"numProperties",{get:function(){return e.np}}),u.active=u.enabled=0!==e.en,u}function i(e,t,i,n){function r(){return 10===t?i.comp.compInterface(e.p.v):a()}var a=ExpressionPropertyInterface(e.p);return e.p.setGroupProperty&&e.p.setGroupProperty(n),r}return{createEffectsInterface:e}}(),MaskManagerInterface=function(){function e(e,t){this._mask=e,this._data=t}return Object.defineProperty(e.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(e.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),100*this._mask.op.v}}),function(t,i){var n,r=createSizedArray(t.viewData.length),a=t.viewData.length;for(n=0;n<a;n+=1)r[n]=new e(t.viewData[n],t.masksProperties[n]);return function(e){for(n=0;n<a;){if(t.masksProperties[n].nm===e)return r[n];n+=1}}}}(),ExpressionPropertyInterface=function(){function e(e,t,i){Object.defineProperty(e,"velocity",{get:function(){return t.getVelocityAtTime(t.comp.currentFrame)}}),e.numKeys=t.keyframes?t.keyframes.length:0,e.key=function(n){if(e.numKeys){var r="";r="s"in t.keyframes[n-1]?t.keyframes[n-1].s:"e"in t.keyframes[n-2]?t.keyframes[n-2].e:t.keyframes[n-2].s;var a="unidimensional"===i?new Number(r):Object.assign({},r);return a.time=t.keyframes[n-1].t/t.elem.comp.globalData.frameRate,a}return 0},e.valueAtTime=t.getValueAtTime,e.speedAtTime=t.getSpeedAtTime,e.velocityAtTime=t.getVelocityAtTime,e.propertyGroup=t.propertyGroup}function t(t){t&&"pv"in t||(t=r);var i=1/t.mult,n=t.pv*i,a=new Number(n);return a.value=n,e(a,t,"unidimensional"),function(){return t.k&&t.getValue(),n=t.v*i,a.value!==n&&(a=new Number(n),a.value=n,e(a,t,"unidimensional")),a}}function i(t){t&&"pv"in t||(t=a);var i=1/t.mult,n=t.pv.length,r=createTypedArray("float32",n),o=createTypedArray("float32",n);return r.value=o,e(r,t,"multidimensional"),function(){t.k&&t.getValue();for(var e=0;e<n;e+=1)r[e]=o[e]=t.v[e]*i;return r}}function n(){return r}var r={pv:0,v:0,mult:1},a={pv:[0,0,0],v:[0,0,0],mult:1};return function(e){return e?"unidimensional"===e.propType?t(e):i(e):n}}();!function(){var e=function(){function e(e,t){return this.textIndex=e+1,this.textTotal=t,this.v=this.getValue()*this.mult,this.v}return function(t,i){this.pv=1,this.comp=t.comp,this.elem=t,this.mult=.01,this.propType="textSelector",this.textTotal=i.totalChars,this.selectorValue=100,this.lastValue=[1,1,1],this.k=!0,this.x=!0,this.getValue=ExpressionManager.initiateExpression.bind(this)(t,i,this),this.getMult=e,this.getVelocityAtTime=expressionHelpers.getVelocityAtTime,this.kf?this.getValueAtTime=expressionHelpers.getValueAtTime.bind(this):this.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(this),this.setGroupProperty=expressionHelpers.setGroupProperty}}(),t=TextSelectorProp.getTextSelectorProp;TextSelectorProp.getTextSelectorProp=function(i,n,r){return 1===n.t?new e(i,n,r):t(i,n,r)}}(),extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(e,t){this.data=e,this.effectElements=[],this.initDynamicPropertyContainer(t);var i,n,r=this.data.ef.length,a=this.data.ef;for(i=0;i<r;i+=1){switch(n=null,a[i].ty){case 0:n=new SliderEffect(a[i],t,this);break;case 1:n=new AngleEffect(a[i],t,this);break;case 2:n=new ColorEffect(a[i],t,this);break;case 3:n=new PointEffect(a[i],t,this);break;case 4:case 7:n=new CheckboxEffect(a[i],t,this);break;case 10:n=new LayerIndexEffect(a[i],t,this);break;case 11:n=new MaskIndexEffect(a[i],t,this);break;case 5:n=new EffectsManager(a[i],t,this);break;default:n=new NoValueEffect(a[i],t,this)}n&&this.effectElements.push(n)}};var lottie={},_isFrozen=!1;lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocationHref,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.__getFactory=getFactory,lottie.version="5.6.10";var standalone="__[STANDALONE]__",animationData="__[ANIMATIONDATA]__",renderer="";if(standalone){var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""},queryString=myScript.src.replace(/^[^\?]+\??/,"");renderer=getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);return lottie})},1391:function(e,t,i){"use strict";function n(e,t){y[t]=e}function r(e){u=e}function a(e){h=e}function o(){var e=[];for(var t in f)t&&e.push(t);for(var i in g)i&&e.push(i);for(var n in v)n&&e.push(n);e.length&&Object(c.a)("get_media_status",{media_id:e.join("|")},function(e){for(var t=0;t<e.length;t++){var i=e[t].media||{};i.media_id=(i.media_id||i.id).toString();for(var n in i)i[n.replace(/([A-Z])/g,"_$1").toLowerCase()]=i[n],i.preview_mp3=i.audio_preview_mp3,i.preview_hls=i.video_preview_hls,i.preview_mp4=i.video_preview_mp4;e[t]=i}u(e),h(e)},function(){})}function s(){clearInterval(b),b=setInterval(o,1e4);setTimeout(o,5e3)}function l(){y={},clearInterval(b),d={},p={},f={},m={},g={},v={}}i.d(t,"l",function(){return d}),i.d(t,"c",function(){return p}),i.d(t,"k",function(){return f}),i.d(t,"j",function(){return m}),i.d(t,"g",function(){return g}),i.d(t,"f",function(){return v}),i.d(t,"a",function(){return y}),t.h=n,t.i=r,t.e=a,t.d=s,t.b=l;var c=i(84),u=function(){},h=function(){},d={},p={},f={},m={},g={},v={},y={},b=setInterval(o,1e4)},1392:function(e,t,i){(function(t){!function(t,i){e.exports=i()}("undefined"!==typeof self&&self,function(){return function(e){function t(n){if(i[n])return i[n].exports;var r=i[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var i={};return t.m=e,t.c=i,t.d=function(e,i,n){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=109)}([function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(17),r=i(18),a=i(19),o=i(45),s=i(46),l=i(47),c=i(48),u=i(49),h=i(12),d=i(32),p=i(33),f=i(31),m=i(1),g={Scope:m.Scope,create:m.create,find:m.find,query:m.query,register:m.register,Container:n.default,Format:r.default,Leaf:a.default,Embed:c.default,Scroll:o.default,Block:l.default,Inline:s.default,Text:u.default,Attributor:{Attribute:h.default,Class:d.default,Style:p.default,Store:f.default}};t.default=g},function(e,t,i){"use strict";function n(e,t){var i=a(e);if(null==i)throw new l("Unable to create "+e+" blot");var n=i;return new n(e instanceof Node||e.nodeType===Node.TEXT_NODE?e:n.create(t),t)}function r(e,i){return void 0===i&&(i=!1),null==e?null:null!=e[t.DATA_KEY]?e[t.DATA_KEY].blot:i?r(e.parentNode,i):null}function a(e,t){void 0===t&&(t=p.ANY);var i;if("string"===typeof e)i=d[e]||c[e];else if(e instanceof Text||e.nodeType===Node.TEXT_NODE)i=d.text;else if("number"===typeof e)e&p.LEVEL&p.BLOCK?i=d.block:e&p.LEVEL&p.INLINE&&(i=d.inline);else if(e instanceof HTMLElement){var n=(e.getAttribute("class")||"").split(/\s+/);for(var r in n)if(i=u[n[r]])break;i=i||h[e.tagName]}return null==i?null:t&p.LEVEL&i.scope&&t&p.TYPE&i.scope?i:null}function o(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(e.length>1)return e.map(function(e){return o(e)});var i=e[0];if("string"!==typeof i.blotName&&"string"!==typeof i.attrName)throw new l("Invalid definition");if("abstract"===i.blotName)throw new l("Cannot register abstract class");if(d[i.blotName||i.attrName]=i,"string"===typeof i.keyName)c[i.keyName]=i;else if(null!=i.className&&(u[i.className]=i),null!=i.tagName){Array.isArray(i.tagName)?i.tagName=i.tagName.map(function(e){return e.toUpperCase()}):i.tagName=i.tagName.toUpperCase();var n=Array.isArray(i.tagName)?i.tagName:[i.tagName];n.forEach(function(e){null!=h[e]&&null!=i.className||(h[e]=i)})}return i}var s=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var l=function(e){function t(t){var i=this;return t="[Parchment] "+t,i=e.call(this,t)||this,i.message=t,i.name=i.constructor.name,i}return s(t,e),t}(Error);t.ParchmentError=l;var c={},u={},h={},d={};t.DATA_KEY="__blot";var p;!function(e){e[e.TYPE=3]="TYPE",e[e.LEVEL=12]="LEVEL",e[e.ATTRIBUTE=13]="ATTRIBUTE",e[e.BLOT=14]="BLOT",e[e.INLINE=7]="INLINE",e[e.BLOCK=11]="BLOCK",e[e.BLOCK_BLOT=10]="BLOCK_BLOT",e[e.INLINE_BLOT=6]="INLINE_BLOT",e[e.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",e[e.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",e[e.ANY=15]="ANY"}(p=t.Scope||(t.Scope={})),t.create=n,t.find=r,t.query=a,t.register=o},function(e,t,i){var n=i(51),r=i(11),a=i(3),o=i(20),s=String.fromCharCode(0),l=function(e){Array.isArray(e)?this.ops=e:null!=e&&Array.isArray(e.ops)?this.ops=e.ops:this.ops=[]};l.prototype.insert=function(e,t){var i={};return 0===e.length?this:(i.insert=e,null!=t&&"object"===typeof t&&Object.keys(t).length>0&&(i.attributes=t),this.push(i))},l.prototype.delete=function(e){return e<=0?this:this.push({delete:e})},l.prototype.retain=function(e,t){if(e<=0)return this;var i={retain:e};return null!=t&&"object"===typeof t&&Object.keys(t).length>0&&(i.attributes=t),this.push(i)},l.prototype.push=function(e){var t=this.ops.length,i=this.ops[t-1];if(e=a(!0,{},e),"object"===typeof i){if("number"===typeof e.delete&&"number"===typeof i.delete)return this.ops[t-1]={delete:i.delete+e.delete},this;if("number"===typeof i.delete&&null!=e.insert&&(t-=1,"object"!==typeof(i=this.ops[t-1])))return this.ops.unshift(e),this;if(r(e.attributes,i.attributes)){if("string"===typeof e.insert&&"string"===typeof i.insert)return this.ops[t-1]={insert:i.insert+e.insert},"object"===typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this;if("number"===typeof e.retain&&"number"===typeof i.retain)return this.ops[t-1]={retain:i.retain+e.retain},"object"===typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this}}return t===this.ops.length?this.ops.push(e):this.ops.splice(t,0,e),this},l.prototype.chop=function(){var e=this.ops[this.ops.length-1];return e&&e.retain&&!e.attributes&&this.ops.pop(),this},l.prototype.filter=function(e){return this.ops.filter(e)},l.prototype.forEach=function(e){this.ops.forEach(e)},l.prototype.map=function(e){return this.ops.map(e)},l.prototype.partition=function(e){var t=[],i=[];return this.forEach(function(n){(e(n)?t:i).push(n)}),[t,i]},l.prototype.reduce=function(e,t){return this.ops.reduce(e,t)},l.prototype.changeLength=function(){return this.reduce(function(e,t){return t.insert?e+o.length(t):t.delete?e-t.delete:e},0)},l.prototype.length=function(){return this.reduce(function(e,t){return e+o.length(t)},0)},l.prototype.slice=function(e,t){e=e||0,"number"!==typeof t&&(t=1/0);for(var i=[],n=o.iterator(this.ops),r=0;r<t&&n.hasNext();){var a;r<e?a=n.next(e-r):(a=n.next(t-r),i.push(a)),r+=o.length(a)}return new l(i)},l.prototype.compose=function(e){var t=o.iterator(this.ops),i=o.iterator(e.ops),n=[],a=i.peek();if(null!=a&&"number"===typeof a.retain&&null==a.attributes){for(var s=a.retain;"insert"===t.peekType()&&t.peekLength()<=s;)s-=t.peekLength(),n.push(t.next());a.retain-s>0&&i.next(a.retain-s)}for(var c=new l(n);t.hasNext()||i.hasNext();)if("insert"===i.peekType())c.push(i.next());else if("delete"===t.peekType())c.push(t.next());else{var u=Math.min(t.peekLength(),i.peekLength()),h=t.next(u),d=i.next(u);if("number"===typeof d.retain){var p={};"number"===typeof h.retain?p.retain=u:p.insert=h.insert;var f=o.attributes.compose(h.attributes,d.attributes,"number"===typeof h.retain);if(f&&(p.attributes=f),c.push(p),!i.hasNext()&&r(c.ops[c.ops.length-1],p)){var m=new l(t.rest());return c.concat(m).chop()}}else"number"===typeof d.delete&&"number"===typeof h.retain&&c.push(d)}return c.chop()},l.prototype.concat=function(e){var t=new l(this.ops.slice());return e.ops.length>0&&(t.push(e.ops[0]),t.ops=t.ops.concat(e.ops.slice(1))),t},l.prototype.diff=function(e,t){if(this.ops===e.ops)return new l;var i=[this,e].map(function(t){return t.map(function(i){if(null!=i.insert)return"string"===typeof i.insert?i.insert:s;var n=t===e?"on":"with";throw new Error("diff() called "+n+" non-document")}).join("")}),a=new l,c=n(i[0],i[1],t),u=o.iterator(this.ops),h=o.iterator(e.ops);return c.forEach(function(e){for(var t=e[1].length;t>0;){var i=0;switch(e[0]){case n.INSERT:i=Math.min(h.peekLength(),t),a.push(h.next(i));break;case n.DELETE:i=Math.min(t,u.peekLength()),u.next(i),a.delete(i);break;case n.EQUAL:i=Math.min(u.peekLength(),h.peekLength(),t);var s=u.next(i),l=h.next(i);r(s.insert,l.insert)?a.retain(i,o.attributes.diff(s.attributes,l.attributes)):a.push(l).delete(i)}t-=i}}),a.chop()},l.prototype.eachLine=function(e,t){t=t||"\n";for(var i=o.iterator(this.ops),n=new l,r=0;i.hasNext();){if("insert"!==i.peekType())return;var a=i.peek(),s=o.length(a)-i.peekLength(),c="string"===typeof a.insert?a.insert.indexOf(t,s)-s:-1;if(c<0)n.push(i.next());else if(c>0)n.push(i.next(c));else{if(!1===e(n,i.next(1).attributes||{},r))return;r+=1,n=new l}}n.length()>0&&e(n,{},r)},l.prototype.transform=function(e,t){if(t=!!t,"number"===typeof e)return this.transformPosition(e,t);for(var i=o.iterator(this.ops),n=o.iterator(e.ops),r=new l;i.hasNext()||n.hasNext();)if("insert"!==i.peekType()||!t&&"insert"===n.peekType())if("insert"===n.peekType())r.push(n.next());else{var a=Math.min(i.peekLength(),n.peekLength()),s=i.next(a),c=n.next(a);if(s.delete)continue;c.delete?r.push(c):r.retain(a,o.attributes.transform(s.attributes,c.attributes,t))}else r.retain(o.length(i.next()));return r.chop()},l.prototype.transformPosition=function(e,t){t=!!t;for(var i=o.iterator(this.ops),n=0;i.hasNext()&&n<=e;){var r=i.peekLength(),a=i.peekType();i.next(),"delete"!==a?("insert"===a&&(n<e||!t)&&(e+=r),n+=r):e-=Math.min(r,e-n)}return e},e.exports=l},function(e,t){"use strict";var i=Object.prototype.hasOwnProperty,n=Object.prototype.toString,r=Object.defineProperty,a=Object.getOwnPropertyDescriptor,o=function(e){return"function"===typeof Array.isArray?Array.isArray(e):"[object Array]"===n.call(e)},s=function(e){if(!e||"[object Object]"!==n.call(e))return!1;var t=i.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&i.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!t&&!r)return!1;var a;for(a in e);return"undefined"===typeof a||i.call(e,a)},l=function(e,t){r&&"__proto__"===t.name?r(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},c=function(e,t){if("__proto__"===t){if(!i.call(e,t))return;if(a)return a(e,t).value}return e[t]};e.exports=function e(){var t,i,n,r,a,u,h=arguments[0],d=1,p=arguments.length,f=!1;for("boolean"===typeof h&&(f=h,h=arguments[1]||{},d=2),(null==h||"object"!==typeof h&&"function"!==typeof h)&&(h={});d<p;++d)if(null!=(t=arguments[d]))for(i in t)n=c(h,i),r=c(t,i),h!==r&&(f&&r&&(s(r)||(a=o(r)))?(a?(a=!1,u=n&&o(n)?n:[]):u=n&&s(n)?n:{},l(h,{name:i,newValue:e(f,u,r)})):"undefined"!==typeof r&&l(h,{name:i,newValue:r}));return h}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null==e?t:("function"===typeof e.formats&&(t=(0,h.default)(t,e.formats())),null==e.parent||"scroll"==e.parent.blotName||e.parent.statics.scope!==e.statics.scope?t:s(e.parent,t))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BlockEmbed=t.bubbleFormats=void 0;var l=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),c=function e(t,i,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,i);if(void 0===r){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,i,n)}if("value"in r)return r.value;var o=r.get;if(void 0!==o)return o.call(n)},u=i(3),h=n(u),d=i(2),p=n(d),f=i(0),m=n(f),g=i(16),v=n(g),y=i(6),b=n(y),_=i(7),A=n(_),E=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),l(t,[{key:"attach",value:function(){c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"attach",this).call(this),this.attributes=new m.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return(new p.default).insert(this.value(),(0,h.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(e,t){var i=m.default.query(e,m.default.Scope.BLOCK_ATTRIBUTE);null!=i&&this.attributes.attribute(i,t)}},{key:"formatAt",value:function(e,t,i,n){this.format(i,n)}},{key:"insertAt",value:function(e,i,n){if("string"===typeof i&&i.endsWith("\n")){var r=m.default.create(w.blotName);this.parent.insertBefore(r,0===e?this:this.next),r.insertAt(0,i.slice(0,-1))}else c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,e,i,n)}}]),t}(m.default.Embed);E.scope=m.default.Scope.BLOCK_BLOT;var w=function(e){function t(e){r(this,t);var i=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.cache={},i}return o(t,e),l(t,[{key:"delta",value:function(){return null==this.cache.delta&&(this.cache.delta=this.descendants(m.default.Leaf).reduce(function(e,t){return 0===t.length()?e:e.insert(t.value(),s(t))},new p.default).insert("\n",s(this))),this.cache.delta}},{key:"deleteAt",value:function(e,i){c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"deleteAt",this).call(this,e,i),this.cache={}}},{key:"formatAt",value:function(e,i,n,r){i<=0||(m.default.query(n,m.default.Scope.BLOCK)?e+i===this.length()&&this.format(n,r):c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,e,Math.min(i,this.length()-e-1),n,r),this.cache={})}},{key:"insertAt",value:function(e,i,n){if(null!=n)return c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,e,i,n);if(0!==i.length){var r=i.split("\n"),a=r.shift();a.length>0&&(e<this.length()-1||null==this.children.tail?c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,Math.min(e,this.length()-1),a):this.children.tail.insertAt(this.children.tail.length(),a),this.cache={});var o=this;r.reduce(function(e,t){return o=o.split(e,!0),o.insertAt(0,t),t.length},e+a.length)}}},{key:"insertBefore",value:function(e,i){var n=this.children.head;c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertBefore",this).call(this,e,i),n instanceof v.default&&n.remove(),this.cache={}}},{key:"length",value:function(){return null==this.cache.length&&(this.cache.length=c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"length",this).call(this)+1),this.cache.length}},{key:"moveChildren",value:function(e,i){c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"moveChildren",this).call(this,e,i),this.cache={}}},{key:"optimize",value:function(e){c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e),this.cache={}}},{key:"path",value:function(e){return c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"path",this).call(this,e,!0)}},{key:"removeChild",value:function(e){c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"removeChild",this).call(this,e),this.cache={}}},{key:"split",value:function(e){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(i&&(0===e||e>=this.length()-1)){var n=this.clone();return 0===e?(this.parent.insertBefore(n,this),this):(this.parent.insertBefore(n,this.next),n)}var r=c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"split",this).call(this,e,i);return this.cache={},r}}]),t}(m.default.Block);w.blotName="block",w.tagName="P",w.defaultChild="break",w.allowedChildren=[b.default,m.default.Embed,A.default],t.bubbleFormats=s,t.BlockEmbed=E,t.default=w},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(t=(0,S.default)(!0,{container:e,modules:{clipboard:!0,keyboard:!0,history:!0}},t),t.theme&&t.theme!==I.DEFAULTS.theme){if(t.theme=I.import("themes/"+t.theme),null==t.theme)throw new Error("Invalid theme "+t.theme+". Did you register it?")}else t.theme=P.default;var i=(0,S.default)(!0,{},t.theme.DEFAULTS);[i,t].forEach(function(e){e.modules=e.modules||{},Object.keys(e.modules).forEach(function(t){!0===e.modules[t]&&(e.modules[t]={})})});var n=Object.keys(i.modules).concat(Object.keys(t.modules)),r=n.reduce(function(e,t){var i=I.import("modules/"+t);return null==i?j.error("Cannot load "+t+" module. Are you sure you registered it?"):e[t]=i.DEFAULTS||{},e},{});return null!=t.modules&&t.modules.toolbar&&t.modules.toolbar.constructor!==Object&&(t.modules.toolbar={container:t.modules.toolbar}),t=(0,S.default)(!0,{},I.DEFAULTS,{modules:r},i,t),["bounds","container","scrollingContainer"].forEach(function(e){"string"===typeof t[e]&&(t[e]=document.querySelector(t[e]))}),t.modules=Object.keys(t.modules).reduce(function(e,i){return t.modules[i]&&(e[i]=t.modules[i]),e},{}),t}function s(e,t,i,n){if(this.options.strict&&!this.isEnabled()&&t===y.default.sources.USER)return new f.default;var r=null==i?null:this.getSelection(),a=this.editor.delta,o=e();if(null!=r&&(!0===i&&(i=r.index),null==n?r=c(r,o,t):0!==n&&(r=c(r,i,n,t)),this.setSelection(r,y.default.sources.SILENT)),o.length()>0){var s,l=[y.default.events.TEXT_CHANGE,o,a,t];if((s=this.emitter).emit.apply(s,[y.default.events.EDITOR_CHANGE].concat(l)),t!==y.default.sources.SILENT){var u;(u=this.emitter).emit.apply(u,l)}}return o}function l(e,t,i,n,r){var a={};return"number"===typeof e.index&&"number"===typeof e.length?"number"!==typeof t?(r=n,n=i,i=t,t=e.length,e=e.index):(t=e.length,e=e.index):"number"!==typeof t&&(r=n,n=i,i=t,t=0),"object"===("undefined"===typeof i?"undefined":u(i))?(a=i,r=n):"string"===typeof i&&(null!=n?a[i]=n:r=i),r=r||y.default.sources.API,[e,t,a,r]}function c(e,t,i,n){if(null==e)return null;var r=void 0,a=void 0;if(t instanceof f.default){var o=[e.index,e.index+e.length].map(function(e){return t.transformPosition(e,n!==y.default.sources.USER)}),s=h(o,2);r=s[0],a=s[1]}else{var l=[e.index,e.index+e.length].map(function(e){return e<t||e===t&&n===y.default.sources.USER?e:i>=0?e+i:Math.max(t,e+i)}),c=h(l,2);r=c[0],a=c[1]}return new w.Range(r,a-r)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.overload=t.expandConfig=void 0;var u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h=function(){function e(e,t){var i=[],n=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(i.push(o.value),!t||i.length!==t);n=!0);}catch(e){r=!0,a=e}finally{try{!n&&s.return&&s.return()}finally{if(r)throw a}}return i}return function(t,i){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),d=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();i(50);var p=i(2),f=n(p),m=i(14),g=n(m),v=i(8),y=n(v),b=i(9),_=n(b),A=i(0),E=n(A),w=i(15),x=n(w),T=i(3),S=n(T),C=i(10),k=n(C),O=i(34),P=n(O),j=(0,k.default)("quill"),I=function(){function e(t){var i=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(a(this,e),this.options=o(t,n),this.container=this.options.container,null==this.container)return j.error("Invalid Quill container",t);this.options.debug&&e.debug(this.options.debug);var r=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new y.default,this.scroll=E.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new g.default(this.scroll),this.selection=new x.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(y.default.events.EDITOR_CHANGE,function(e){e===y.default.events.TEXT_CHANGE&&i.root.classList.toggle("ql-blank",i.editor.isBlank())}),this.emitter.on(y.default.events.SCROLL_UPDATE,function(e,t){var n=i.selection.lastRange,r=n&&0===n.length?n.index:void 0;s.call(i,function(){return i.editor.update(null,t,r)},e)});var l=this.clipboard.convert("<div class='ql-editor' style=\"white-space: normal;\">"+r+"<p><br></p></div>");this.setContents(l),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return d(e,null,[{key:"debug",value:function(e){!0===e&&(e="log"),k.default.level(e)}},{key:"find",value:function(e){return e.__quill||E.default.find(e)}},{key:"import",value:function(e){return null==this.imports[e]&&j.error("Cannot import "+e+". Are you sure it was registered?"),this.imports[e]}},{key:"register",value:function(e,t){var i=this,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"!==typeof e){var r=e.attrName||e.blotName;"string"===typeof r?this.register("formats/"+r,e,t):Object.keys(e).forEach(function(n){i.register(n,e[n],t)})}else null==this.imports[e]||n||j.warn("Overwriting "+e+" with",t),this.imports[e]=t,(e.startsWith("blots/")||e.startsWith("formats/"))&&"abstract"!==t.blotName?E.default.register(t):e.startsWith("modules")&&"function"===typeof t.register&&t.register()}}]),d(e,[{key:"addContainer",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"===typeof e){var i=e;e=document.createElement("div"),e.classList.add(i)}return this.container.insertBefore(e,t),e}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(e,t,i){var n=this,r=l(e,t,i),a=h(r,4);return e=a[0],t=a[1],i=a[3],s.call(this,function(){return n.editor.deleteText(e,t)},i,e,-1*t)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.scroll.enable(e),this.container.classList.toggle("ql-disabled",!e)}},{key:"focus",value:function(){var e=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=e,this.scrollIntoView()}},{key:"format",value:function(e,t){var i=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:y.default.sources.API;return s.call(this,function(){var n=i.getSelection(!0),a=new f.default;if(null==n)return a;if(E.default.query(e,E.default.Scope.BLOCK))a=i.editor.formatLine(n.index,n.length,r({},e,t));else{if(0===n.length)return i.selection.format(e,t),a;a=i.editor.formatText(n.index,n.length,r({},e,t))}return i.setSelection(n,y.default.sources.SILENT),a},n)}},{key:"formatLine",value:function(e,t,i,n,r){var a=this,o=void 0,c=l(e,t,i,n,r),u=h(c,4);return e=u[0],t=u[1],o=u[2],r=u[3],s.call(this,function(){return a.editor.formatLine(e,t,o)},r,e,0)}},{key:"formatText",value:function(e,t,i,n,r){var a=this,o=void 0,c=l(e,t,i,n,r),u=h(c,4);return e=u[0],t=u[1],o=u[2],r=u[3],s.call(this,function(){return a.editor.formatText(e,t,o)},r,e,0)}},{key:"getBounds",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=void 0;i="number"===typeof e?this.selection.getBounds(e,t):this.selection.getBounds(e.index,e.length);var n=this.container.getBoundingClientRect();return{bottom:i.bottom-n.top,height:i.height,left:i.left-n.left,right:i.right-n.left,top:i.top-n.top,width:i.width}}},{key:"getContents",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-e,i=l(e,t),n=h(i,2);return e=n[0],t=n[1],this.editor.getContents(e,t)}},{key:"getFormat",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelection(!0),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"number"===typeof e?this.editor.getFormat(e,t):this.editor.getFormat(e.index,e.length)}},{key:"getIndex",value:function(e){return e.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(e){return this.scroll.leaf(e)}},{key:"getLine",value:function(e){return this.scroll.line(e)}},{key:"getLines",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return"number"!==typeof e?this.scroll.lines(e.index,e.length):this.scroll.lines(e,t)}},{key:"getModule",value:function(e){return this.theme.modules[e]}},{key:"getSelection",value:function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-e,i=l(e,t),n=h(i,2);return e=n[0],t=n[1],this.editor.getText(e,t)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(t,i,n){var r=this,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.sources.API;return s.call(this,function(){return r.editor.insertEmbed(t,i,n)},a,t)}},{key:"insertText",value:function(e,t,i,n,r){var a=this,o=void 0,c=l(e,0,i,n,r),u=h(c,4);return e=u[0],o=u[2],r=u[3],s.call(this,function(){return a.editor.insertText(e,t,o)},r,e,t.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(e,t,i){this.clipboard.dangerouslyPasteHTML(e,t,i)}},{key:"removeFormat",value:function(e,t,i){var n=this,r=l(e,t,i),a=h(r,4);return e=a[0],t=a[1],i=a[3],s.call(this,function(){return n.editor.removeFormat(e,t)},i,e)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:y.default.sources.API;return s.call(this,function(){e=new f.default(e);var i=t.getLength(),n=t.editor.deleteText(0,i),r=t.editor.applyDelta(e),a=r.ops[r.ops.length-1];return null!=a&&"string"===typeof a.insert&&"\n"===a.insert[a.insert.length-1]&&(t.editor.deleteText(t.getLength()-1,1),r.delete(1)),n.compose(r)},i)}},{key:"setSelection",value:function(t,i,n){if(null==t)this.selection.setRange(null,i||e.sources.API);else{var r=l(t,i,n),a=h(r,4);t=a[0],i=a[1],n=a[3],this.selection.setRange(new w.Range(t,i),n),n!==y.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:y.default.sources.API,i=(new f.default).insert(e);return this.setContents(i,t)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y.default.sources.USER,t=this.scroll.update(e);return this.selection.update(e),t}},{key:"updateContents",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:y.default.sources.API;return s.call(this,function(){return e=new f.default(e),t.editor.applyDelta(e,i)},i,!0)}}]),e}();I.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},I.events=y.default.events,I.sources=y.default.sources,I.version="1.3.7",I.imports={delta:f.default,parchment:E.default,"core/module":_.default,"core/theme":P.default},t.expandConfig=o,t.overload=l,t.default=I},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=function e(t,i,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,i);if(void 0===r){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,i,n)}if("value"in r)return r.value;var o=r.get;if(void 0!==o)return o.call(n)},c=i(7),u=n(c),h=i(0),d=n(h),p=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"formatAt",value:function(e,i,n,r){if(t.compare(this.statics.blotName,n)<0&&d.default.query(n,d.default.Scope.BLOT)){var a=this.isolate(e,i);r&&a.wrap(n,r)}else l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,e,i,n,r)}},{key:"optimize",value:function(e){if(l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e),this.parent instanceof t&&t.compare(this.statics.blotName,this.parent.statics.blotName)>0){var i=this.parent.isolate(this.offset(),this.length());this.moveChildren(i),i.wrap(this)}}}],[{key:"compare",value:function(e,i){var n=t.order.indexOf(e),r=t.order.indexOf(i);return n>=0||r>=0?n-r:e===i?0:e<i?-1:1}}]),t}(d.default.Inline);p.allowedChildren=[p,d.default.Embed,u.default],p.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],t.default=p},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=i(0),s=function(e){return e&&e.__esModule?e:{default:e}}(o),l=function(e){function t(){return n(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),t}(s.default.Text);t.default=l},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=function e(t,i,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,i);if(void 0===r){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,i,n)}if("value"in r)return r.value;var o=r.get;if(void 0!==o)return o.call(n)},c=i(54),u=n(c),h=i(10),d=n(h),p=(0,d.default)("quill:events");["selectionchange","mousedown","mouseup","click"].forEach(function(e){document.addEventListener(e,function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(e){if(e.__quill&&e.__quill.emitter){var i;(i=e.__quill.emitter).handleDOM.apply(i,t)}})})});var f=function(e){function t(){r(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.listeners={},e.on("error",p.error),e}return o(t,e),s(t,[{key:"emit",value:function(){p.log.apply(p,arguments),l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(e){for(var t=arguments.length,i=Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];(this.listeners[e.type]||[]).forEach(function(t){var n=t.node,r=t.handler;(e.target===n||n.contains(e.target))&&r.apply(void 0,[e].concat(i))})}},{key:"listenDOM",value:function(e,t,i){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push({node:t,handler:i})}}]),t}(u.default);f.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},f.sources={API:"api",SILENT:"silent",USER:"user"},t.default=f},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n(this,e),this.quill=t,this.options=i};r.DEFAULTS={},t.default=r},function(e,t,i){"use strict";function n(e){if(a.indexOf(e)<=a.indexOf(o)){for(var t,i=arguments.length,n=Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];(t=console)[e].apply(t,n)}}function r(e){return a.reduce(function(t,i){return t[i]=n.bind(console,i,e),t},{})}Object.defineProperty(t,"__esModule",{value:!0});var a=["error","warn","log","info"],o="warn";n.level=r.level=function(e){o=e},t.default=r},function(e,t,i){function n(e){return null===e||void 0===e}function r(e){return!(!e||"object"!==typeof e||"number"!==typeof e.length)&&("function"===typeof e.copy&&"function"===typeof e.slice&&!(e.length>0&&"number"!==typeof e[0]))}function a(e,t,i){var a,u;if(n(e)||n(t))return!1;if(e.prototype!==t.prototype)return!1;if(l(e))return!!l(t)&&(e=o.call(e),t=o.call(t),c(e,t,i));if(r(e)){if(!r(t))return!1;if(e.length!==t.length)return!1;for(a=0;a<e.length;a++)if(e[a]!==t[a])return!1;return!0}try{var h=s(e),d=s(t)}catch(e){return!1}if(h.length!=d.length)return!1;for(h.sort(),d.sort(),a=h.length-1;a>=0;a--)if(h[a]!=d[a])return!1;for(a=h.length-1;a>=0;a--)if(u=h[a],!c(e[u],t[u],i))return!1;return typeof e===typeof t}var o=Array.prototype.slice,s=i(52),l=i(53),c=e.exports=function(e,t,i){return i||(i={}),e===t||(e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():!e||!t||"object"!=typeof e&&"object"!=typeof t?i.strict?e===t:e==t:a(e,t,i))}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(1),r=function(){function e(e,t,i){void 0===i&&(i={}),this.attrName=e,this.keyName=t;var r=n.Scope.TYPE&n.Scope.ATTRIBUTE;null!=i.scope?this.scope=i.scope&n.Scope.LEVEL|r:this.scope=n.Scope.ATTRIBUTE,null!=i.whitelist&&(this.whitelist=i.whitelist)}return e.keys=function(e){return[].map.call(e.attributes,function(e){return e.name})},e.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(e.setAttribute(this.keyName,t),!0)},e.prototype.canAdd=function(e,t){return null!=n.query(e,n.Scope.BLOT&(this.scope|n.Scope.TYPE))&&(null==this.whitelist||("string"===typeof t?this.whitelist.indexOf(t.replace(/["']/g,""))>-1:this.whitelist.indexOf(t)>-1))},e.prototype.remove=function(e){e.removeAttribute(this.keyName)},e.prototype.value=function(e){var t=e.getAttribute(this.keyName);return this.canAdd(e,t)&&t?t:""},e}();t.default=r},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Code=void 0;var s=function(){function e(e,t){var i=[],n=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(i.push(o.value),!t||i.length!==t);n=!0);}catch(e){r=!0,a=e}finally{try{!n&&s.return&&s.return()}finally{if(r)throw a}}return i}return function(t,i){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),c=function e(t,i,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,i);if(void 0===r){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,i,n)}if("value"in r)return r.value;var o=r.get;if(void 0!==o)return o.call(n)},u=i(2),h=n(u),d=i(0),p=n(d),f=i(4),m=n(f),g=i(6),v=n(g),y=i(7),b=n(y),_=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),t}(v.default);_.blotName="code",_.tagName="CODE";var A=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),l(t,[{key:"delta",value:function(){var e=this,t=this.domNode.textContent;return t.endsWith("\n")&&(t=t.slice(0,-1)),t.split("\n").reduce(function(t,i){return t.insert(i).insert("\n",e.formats())},new h.default)}},{key:"format",value:function(e,i){if(e!==this.statics.blotName||!i){var n=this.descendant(b.default,this.length()-1),r=s(n,1),a=r[0];null!=a&&a.deleteAt(a.length()-1,1),c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,i)}}},{key:"formatAt",value:function(e,i,n,r){if(0!==i&&null!=p.default.query(n,p.default.Scope.BLOCK)&&(n!==this.statics.blotName||r!==this.statics.formats(this.domNode))){var a=this.newlineIndex(e);if(!(a<0||a>=e+i)){var o=this.newlineIndex(e,!0)+1,s=a-o+1,l=this.isolate(o,s),c=l.next;l.format(n,r),c instanceof t&&c.formatAt(0,e-o+i-s,n,r)}}}},{key:"insertAt",value:function(e,t,i){if(null==i){var n=this.descendant(b.default,e),r=s(n,2),a=r[0],o=r[1];a.insertAt(o,t)}}},{key:"length",value:function(){var e=this.domNode.textContent.length;return this.domNode.textContent.endsWith("\n")?e:e+1}},{key:"newlineIndex",value:function(e){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1])return this.domNode.textContent.slice(0,e).lastIndexOf("\n");var t=this.domNode.textContent.slice(e).indexOf("\n");return t>-1?e+t:-1}},{key:"optimize",value:function(e){this.domNode.textContent.endsWith("\n")||this.appendChild(p.default.create("text","\n")),c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e);var i=this.next;null!=i&&i.prev===this&&i.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===i.statics.formats(i.domNode)&&(i.optimize(e),i.moveChildren(this),i.remove())}},{key:"replace",value:function(e){c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replace",this).call(this,e),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(e){var t=p.default.find(e);null==t?e.parentNode.removeChild(e):t instanceof p.default.Embed?t.remove():t.unwrap()})}}],[{key:"create",value:function(e){var i=c(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return i.setAttribute("spellcheck",!1),i}},{key:"formats",value:function(){return!0}}]),t}(m.default);A.blotName="code-block",A.tagName="PRE",A.TAB="  ",t.Code=_,t.default=A},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){return Object.keys(t).reduce(function(i,n){return null==e[n]?i:(t[n]===e[n]?i[n]=t[n]:Array.isArray(t[n])?t[n].indexOf(e[n])<0&&(i[n]=t[n].concat([e[n]])):i[n]=[t[n],e[n]],i)},{})}function s(e){return e.reduce(function(e,t){if(1===t.insert){var i=(0,S.default)(t.attributes);return delete i.image,e.insert({image:t.attributes.image},i)}if(null==t.attributes||!0!==t.attributes.list&&!0!==t.attributes.bullet||(t=(0,S.default)(t),t.attributes.list?t.attributes.list="ordered":(t.attributes.list="bullet",delete t.attributes.bullet)),"string"===typeof t.insert){var n=t.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return e.insert(n,t.attributes)}return e.push(t)},new d.default)}Object.defineProperty(t,"__esModule",{value:!0});var l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c=function(){function e(e,t){var i=[],n=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(i.push(o.value),!t||i.length!==t);n=!0);}catch(e){r=!0,a=e}finally{try{!n&&s.return&&s.return()}finally{if(r)throw a}}return i}return function(t,i){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),h=i(2),d=n(h),p=i(20),f=n(p),m=i(0),g=n(m),v=i(13),y=n(v),b=i(24),_=n(b),A=i(4),E=n(A),w=i(16),x=n(w),T=i(21),S=n(T),C=i(11),k=n(C),O=i(3),P=n(O),j=/^[ -~]*$/,I=function(){function e(t){a(this,e),this.scroll=t,this.delta=this.getDelta()}return u(e,[{key:"applyDelta",value:function(e){var t=this,i=!1;this.scroll.update();var n=this.scroll.length();return this.scroll.batchStart(),e=s(e),e.reduce(function(e,r){var a=r.retain||r.delete||r.insert.length||1,o=r.attributes||{};if(null!=r.insert){if("string"===typeof r.insert){var s=r.insert;s.endsWith("\n")&&i&&(i=!1,s=s.slice(0,-1)),e>=n&&!s.endsWith("\n")&&(i=!0),t.scroll.insertAt(e,s);var u=t.scroll.line(e),h=c(u,2),d=h[0],p=h[1],m=(0,P.default)({},(0,A.bubbleFormats)(d));if(d instanceof E.default){var v=d.descendant(g.default.Leaf,p),y=c(v,1),b=y[0];m=(0,P.default)(m,(0,A.bubbleFormats)(b))}o=f.default.attributes.diff(m,o)||{}}else if("object"===l(r.insert)){var _=Object.keys(r.insert)[0];if(null==_)return e;t.scroll.insertAt(e,_,r.insert[_])}n+=a}return Object.keys(o).forEach(function(i){t.scroll.formatAt(e,a,i,o[i])}),e+a},0),e.reduce(function(e,i){return"number"===typeof i.delete?(t.scroll.deleteAt(e,i.delete),e):e+(i.retain||i.insert.length||1)},0),this.scroll.batchEnd(),this.update(e)}},{key:"deleteText",value:function(e,t){return this.scroll.deleteAt(e,t),this.update((new d.default).retain(e).delete(t))}},{key:"formatLine",value:function(e,t){var i=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.scroll.update(),Object.keys(n).forEach(function(r){if(null==i.scroll.whitelist||i.scroll.whitelist[r]){var a=i.scroll.lines(e,Math.max(t,1)),o=t;a.forEach(function(t){var a=t.length();if(t instanceof y.default){var s=e-t.offset(i.scroll),l=t.newlineIndex(s+o)-s+1;t.formatAt(s,l,r,n[r])}else t.format(r,n[r]);o-=a})}}),this.scroll.optimize(),this.update((new d.default).retain(e).retain(t,(0,S.default)(n)))}},{key:"formatText",value:function(e,t){var i=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object.keys(n).forEach(function(r){i.scroll.formatAt(e,t,r,n[r])}),this.update((new d.default).retain(e).retain(t,(0,S.default)(n)))}},{key:"getContents",value:function(e,t){return this.delta.slice(e,e+t)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(e,t){return e.concat(t.delta())},new d.default)}},{key:"getFormat",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=[],n=[];0===t?this.scroll.path(e).forEach(function(e){var t=c(e,1),r=t[0];r instanceof E.default?i.push(r):r instanceof g.default.Leaf&&n.push(r)}):(i=this.scroll.lines(e,t),n=this.scroll.descendants(g.default.Leaf,e,t));var r=[i,n].map(function(e){if(0===e.length)return{};for(var t=(0,A.bubbleFormats)(e.shift());Object.keys(t).length>0;){var i=e.shift();if(null==i)return t;t=o((0,A.bubbleFormats)(i),t)}return t});return P.default.apply(P.default,r)}},{key:"getText",value:function(e,t){return this.getContents(e,t).filter(function(e){return"string"===typeof e.insert}).map(function(e){return e.insert}).join("")}},{key:"insertEmbed",value:function(e,t,i){return this.scroll.insertAt(e,t,i),this.update((new d.default).retain(e).insert(r({},t,i)))}},{key:"insertText",value:function(e,t){var i=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t=t.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(e,t),Object.keys(n).forEach(function(r){i.scroll.formatAt(e,t.length,r,n[r])}),this.update((new d.default).retain(e).insert(t,(0,S.default)(n)))}},{key:"isBlank",value:function(){if(0==this.scroll.children.length)return!0;if(this.scroll.children.length>1)return!1;var e=this.scroll.children.head;return e.statics.blotName===E.default.blotName&&(!(e.children.length>1)&&e.children.head instanceof x.default)}},{key:"removeFormat",value:function(e,t){var i=this.getText(e,t),n=this.scroll.line(e+t),r=c(n,2),a=r[0],o=r[1],s=0,l=new d.default;null!=a&&(s=a instanceof y.default?a.newlineIndex(o)-o+1:a.length()-o,l=a.delta().slice(o,o+s-1).insert("\n"));var u=this.getContents(e,t+s),h=u.diff((new d.default).insert(i).concat(l)),p=(new d.default).retain(e).concat(h);return this.applyDelta(p)}},{key:"update",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n=this.delta;if(1===t.length&&"characterData"===t[0].type&&t[0].target.data.match(j)&&g.default.find(t[0].target)){var r=g.default.find(t[0].target),a=(0,A.bubbleFormats)(r),o=r.offset(this.scroll),s=t[0].oldValue.replace(_.default.CONTENTS,""),l=(new d.default).insert(s),c=(new d.default).insert(r.value());e=(new d.default).retain(o).concat(l.diff(c,i)).reduce(function(e,t){return t.insert?e.insert(t.insert,a):e.push(t)},new d.default),this.delta=n.compose(e)}else this.delta=this.getDelta(),e&&(0,k.default)(n.compose(e),this.delta)||(e=n.diff(this.delta,i));return e}}]),e}();t.default=I},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){try{t.parentNode}catch(e){return!1}return t instanceof Text&&(t=t.parentNode),e.contains(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Range=void 0;var s=function(){function e(e,t){var i=[],n=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(i.push(o.value),!t||i.length!==t);n=!0);}catch(e){r=!0,a=e}finally{try{!n&&s.return&&s.return()}finally{if(r)throw a}}return i}return function(t,i){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),c=i(0),u=n(c),h=i(21),d=n(h),p=i(11),f=n(p),m=i(8),g=n(m),v=i(10),y=n(v),b=(0,y.default)("quill:selection"),_=function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;a(this,e),this.index=t,this.length=i},A=function(){function e(t,i){var n=this;a(this,e),this.emitter=i,this.scroll=t,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=u.default.create("cursor",this),this.lastRange=this.savedRange=new _(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){n.mouseDown||setTimeout(n.update.bind(n,g.default.sources.USER),1)}),this.emitter.on(g.default.events.EDITOR_CHANGE,function(e,t){e===g.default.events.TEXT_CHANGE&&t.length()>0&&n.update(g.default.sources.SILENT)}),this.emitter.on(g.default.events.SCROLL_BEFORE_UPDATE,function(){if(n.hasFocus()){var e=n.getNativeRange();null!=e&&e.start.node!==n.cursor.textNode&&n.emitter.once(g.default.events.SCROLL_UPDATE,function(){try{n.setNativeRange(e.start.node,e.start.offset,e.end.node,e.end.offset)}catch(e){}})}}),this.emitter.on(g.default.events.SCROLL_OPTIMIZE,function(e,t){if(t.range){var i=t.range,r=i.startNode,a=i.startOffset,o=i.endNode,s=i.endOffset;n.setNativeRange(r,a,o,s)}}),this.update(g.default.sources.SILENT)}return l(e,[{key:"handleComposition",value:function(){var e=this;this.root.addEventListener("compositionstart",function(){e.composing=!0}),this.root.addEventListener("compositionend",function(){if(e.composing=!1,e.cursor.parent){var t=e.cursor.restore();if(!t)return;setTimeout(function(){e.setNativeRange(t.startNode,t.startOffset,t.endNode,t.endOffset)},1)}})}},{key:"handleDragging",value:function(){var e=this;this.emitter.listenDOM("mousedown",document.body,function(){e.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){e.mouseDown=!1,e.update(g.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(e,t){if(null==this.scroll.whitelist||this.scroll.whitelist[e]){this.scroll.update();var i=this.getNativeRange();if(null!=i&&i.native.collapsed&&!u.default.query(e,u.default.Scope.BLOCK)){if(i.start.node!==this.cursor.textNode){var n=u.default.find(i.start.node,!1);if(null==n)return;if(n instanceof u.default.Leaf){var r=n.split(i.start.offset);n.parent.insertBefore(this.cursor,r)}else n.insertBefore(this.cursor,i.start.node);this.cursor.attach()}this.cursor.format(e,t),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=this.scroll.length();e=Math.min(e,i-1),t=Math.min(e+t,i-1)-e;var n=void 0,r=this.scroll.leaf(e),a=s(r,2),o=a[0],l=a[1];if(null==o)return null;var c=o.position(l,!0),u=s(c,2);n=u[0],l=u[1];var h=document.createRange();if(t>0){h.setStart(n,l);var d=this.scroll.leaf(e+t),p=s(d,2);if(o=p[0],l=p[1],null==o)return null;var f=o.position(l,!0),m=s(f,2);return n=m[0],l=m[1],h.setEnd(n,l),h.getBoundingClientRect()}var g="left",v=void 0;return n instanceof Text?(l<n.data.length?(h.setStart(n,l),h.setEnd(n,l+1)):(h.setStart(n,l-1),h.setEnd(n,l),g="right"),v=h.getBoundingClientRect()):(v=o.domNode.getBoundingClientRect(),l>0&&(g="right")),{bottom:v.top+v.height,height:v.height,left:v[g],right:v[g],top:v.top,width:0}}},{key:"getNativeRange",value:function(){var e=document.getSelection();if(null==e||e.rangeCount<=0)return null;var t=e.getRangeAt(0);if(null==t)return null;var i=this.normalizeNative(t);return b.info("getNativeRange",i),i}},{key:"getRange",value:function(){var e=this.getNativeRange();return null==e?[null,null]:[this.normalizedToRange(e),e]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(e){var t=this,i=[[e.start.node,e.start.offset]];e.native.collapsed||i.push([e.end.node,e.end.offset]);var n=i.map(function(e){var i=s(e,2),n=i[0],r=i[1],a=u.default.find(n,!0),o=a.offset(t.scroll);return 0===r?o:a instanceof u.default.Container?o+a.length():o+a.index(n,r)}),a=Math.min(Math.max.apply(Math,r(n)),this.scroll.length()-1),o=Math.min.apply(Math,[a].concat(r(n)));return new _(o,a-o)}},{key:"normalizeNative",value:function(e){if(!o(this.root,e.startContainer)||!e.collapsed&&!o(this.root,e.endContainer))return null;var t={start:{node:e.startContainer,offset:e.startOffset},end:{node:e.endContainer,offset:e.endOffset},native:e};return[t.start,t.end].forEach(function(e){for(var t=e.node,i=e.offset;!(t instanceof Text)&&t.childNodes.length>0;)if(t.childNodes.length>i)t=t.childNodes[i],i=0;else{if(t.childNodes.length!==i)break;t=t.lastChild,i=t instanceof Text?t.data.length:t.childNodes.length+1}e.node=t,e.offset=i}),t}},{key:"rangeToNative",value:function(e){var t=this,i=e.collapsed?[e.index]:[e.index,e.index+e.length],n=[],r=this.scroll.length();return i.forEach(function(e,i){e=Math.min(r-1,e);var a=void 0,o=t.scroll.leaf(e),l=s(o,2),c=l[0],u=l[1],h=c.position(u,0!==i),d=s(h,2);a=d[0],u=d[1],n.push(a,u)}),n.length<2&&(n=n.concat(n)),n}},{key:"scrollIntoView",value:function(e){var t=this.lastRange;if(null!=t){var i=this.getBounds(t.index,t.length);if(null!=i){var n=this.scroll.length()-1,r=this.scroll.line(Math.min(t.index,n)),a=s(r,1),o=a[0],l=o;if(t.length>0){var c=this.scroll.line(Math.min(t.index+t.length,n));l=s(c,1)[0]}if(null!=o&&null!=l){var u=e.getBoundingClientRect();i.top<u.top?e.scrollTop-=u.top-i.top:i.bottom>u.bottom&&(e.scrollTop+=i.bottom-u.bottom)}}}}},{key:"setNativeRange",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t,r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(b.info("setNativeRange",e,t,i,n),null==e||null!=this.root.parentNode&&null!=e.parentNode&&null!=i.parentNode){var a=document.getSelection();if(null!=a)if(null!=e){this.hasFocus()||this.root.focus();var o=(this.getNativeRange()||{}).native;if(null==o||r||e!==o.startContainer||t!==o.startOffset||i!==o.endContainer||n!==o.endOffset){"BR"==e.tagName&&(t=[].indexOf.call(e.parentNode.childNodes,e),e=e.parentNode),"BR"==i.tagName&&(n=[].indexOf.call(i.parentNode.childNodes,i),i=i.parentNode);var s=document.createRange();s.setStart(e,t),s.setEnd(i,n),a.removeAllRanges(),a.addRange(s)}}else a.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:g.default.sources.API;if("string"===typeof t&&(i=t,t=!1),b.info("setRange",e),null!=e){var n=this.rangeToNative(e);this.setNativeRange.apply(this,r(n).concat([t]))}else this.setNativeRange(null);this.update(i)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g.default.sources.USER,t=this.lastRange,i=this.getRange(),n=s(i,2),r=n[0],a=n[1];if(this.lastRange=r,null!=this.lastRange&&(this.savedRange=this.lastRange),!(0,f.default)(t,this.lastRange)){var o;!this.composing&&null!=a&&a.native.collapsed&&a.start.node!==this.cursor.textNode&&this.cursor.restore();var l=[g.default.events.SELECTION_CHANGE,(0,d.default)(this.lastRange),(0,d.default)(t),e];if((o=this.emitter).emit.apply(o,[g.default.events.EDITOR_CHANGE].concat(l)),e!==g.default.sources.SILENT){var c;(c=this.emitter).emit.apply(c,l)}}}}]),e}();t.Range=_,t.default=A},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=function e(t,i,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,i);if(void 0===r){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,i,n)}if("value"in r)return r.value;var o=r.get;if(void 0!==o)return o.call(n)},l=i(0),c=function(e){return e&&e.__esModule?e:{default:e}}(l),u=function(e){function t(){return n(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"insertInto",value:function(e,i){0===e.children.length?s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertInto",this).call(this,e,i):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),t}(c.default.Embed);u.blotName="break",u.tagName="BR",t.default=u},function(e,t,i){"use strict";function n(e){var t=s.find(e);if(null==t)try{t=s.create(e)}catch(i){t=s.create(s.Scope.INLINE),[].slice.call(e.childNodes).forEach(function(e){t.domNode.appendChild(e)}),e.parentNode&&e.parentNode.replaceChild(t.domNode,e),t.attach()}return t}var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=i(44),o=i(30),s=i(1),l=function(e){function t(t){var i=e.call(this,t)||this;return i.build(),i}return r(t,e),t.prototype.appendChild=function(e){this.insertBefore(e)},t.prototype.attach=function(){e.prototype.attach.call(this),this.children.forEach(function(e){e.attach()})},t.prototype.build=function(){var e=this;this.children=new a.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(t){try{var i=n(t);e.insertBefore(i,e.children.head||void 0)}catch(e){if(e instanceof s.ParchmentError)return;throw e}})},t.prototype.deleteAt=function(e,t){if(0===e&&t===this.length())return this.remove();this.children.forEachAt(e,t,function(e,t,i){e.deleteAt(t,i)})},t.prototype.descendant=function(e,i){var n=this.children.find(i),r=n[0],a=n[1];return null==e.blotName&&e(r)||null!=e.blotName&&r instanceof e?[r,a]:r instanceof t?r.descendant(e,a):[null,-1]},t.prototype.descendants=function(e,i,n){void 0===i&&(i=0),void 0===n&&(n=Number.MAX_VALUE);var r=[],a=n;return this.children.forEachAt(i,n,function(i,n,o){(null==e.blotName&&e(i)||null!=e.blotName&&i instanceof e)&&r.push(i),i instanceof t&&(r=r.concat(i.descendants(e,n,a))),a-=o}),r},t.prototype.detach=function(){this.children.forEach(function(e){e.detach()}),e.prototype.detach.call(this)},t.prototype.formatAt=function(e,t,i,n){this.children.forEachAt(e,t,function(e,t,r){e.formatAt(t,r,i,n)})},t.prototype.insertAt=function(e,t,i){var n=this.children.find(e),r=n[0],a=n[1];if(r)r.insertAt(a,t,i);else{var o=null==i?s.create("text",t):s.create(t,i);this.appendChild(o)}},t.prototype.insertBefore=function(e,t){if(null!=this.statics.allowedChildren&&!this.statics.allowedChildren.some(function(t){return e instanceof t}))throw new s.ParchmentError("Cannot insert "+e.statics.blotName+" into "+this.statics.blotName);e.insertInto(this,t)},t.prototype.length=function(){return this.children.reduce(function(e,t){return e+t.length()},0)},t.prototype.moveChildren=function(e,t){this.children.forEach(function(i){e.insertBefore(i,t)})},t.prototype.optimize=function(t){if(e.prototype.optimize.call(this,t),0===this.children.length)if(null!=this.statics.defaultChild){var i=s.create(this.statics.defaultChild);this.appendChild(i),i.optimize(t)}else this.remove()},t.prototype.path=function(e,i){void 0===i&&(i=!1);var n=this.children.find(e,i),r=n[0],a=n[1],o=[[this,e]];return r instanceof t?o.concat(r.path(a,i)):(null!=r&&o.push([r,a]),o)},t.prototype.removeChild=function(e){this.children.remove(e)},t.prototype.replace=function(i){i instanceof t&&i.moveChildren(this),e.prototype.replace.call(this,i)},t.prototype.split=function(e,t){if(void 0===t&&(t=!1),!t){if(0===e)return this;if(e===this.length())return this.next}var i=this.clone();return this.parent.insertBefore(i,this.next),this.children.forEachAt(e,this.length(),function(e,n,r){e=e.split(n,t),i.appendChild(e)}),i},t.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},t.prototype.update=function(e,t){var i=this,r=[],a=[];e.forEach(function(e){e.target===i.domNode&&"childList"===e.type&&(r.push.apply(r,e.addedNodes),a.push.apply(a,e.removedNodes))}),a.forEach(function(e){if(!(null!=e.parentNode&&"IFRAME"!==e.tagName&&document.body.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var t=s.find(e);null!=t&&(null!=t.domNode.parentNode&&t.domNode.parentNode!==i.domNode||t.detach())}}),r.filter(function(e){return e.parentNode==i.domNode}).sort(function(e,t){return e===t?0:e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(e){var t=null;null!=e.nextSibling&&(t=s.find(e.nextSibling));var r=n(e);r.next==t&&null!=r.next||(null!=r.parent&&r.parent.removeChild(i),i.insertBefore(r,t||void 0))})},t}(o.default);t.default=l},function(e,t,i){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=i(12),a=i(31),o=i(17),s=i(1),l=function(e){function t(t){var i=e.call(this,t)||this;return i.attributes=new a.default(i.domNode),i}return n(t,e),t.formats=function(e){return"string"===typeof this.tagName||(Array.isArray(this.tagName)?e.tagName.toLowerCase():void 0)},t.prototype.format=function(e,t){var i=s.query(e);i instanceof r.default?this.attributes.attribute(i,t):t&&(null==i||e===this.statics.blotName&&this.formats()[e]===t||this.replaceWith(e,t))},t.prototype.formats=function(){var e=this.attributes.values(),t=this.statics.formats(this.domNode);return null!=t&&(e[this.statics.blotName]=t),e},t.prototype.replaceWith=function(t,i){var n=e.prototype.replaceWith.call(this,t,i);return this.attributes.copy(n),n},t.prototype.update=function(t,i){var n=this;e.prototype.update.call(this,t,i),t.some(function(e){return e.target===n.domNode&&"attributes"===e.type})&&this.attributes.build()},t.prototype.wrap=function(i,n){var r=e.prototype.wrap.call(this,i,n);return r instanceof t&&r.statics.scope===this.statics.scope&&this.attributes.move(r),r},t}(o.default);t.default=l},function(e,t,i){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=i(30),a=i(1),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.value=function(e){return!0},t.prototype.index=function(e,t){return this.domNode===e||this.domNode.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(t,1):-1},t.prototype.position=function(e,t){var i=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return e>0&&(i+=1),[this.parent.domNode,i]},t.prototype.value=function(){var e;return e={},e[this.statics.blotName]=this.statics.value(this.domNode)||!0,e},t.scope=a.Scope.INLINE_BLOT,t}(r.default);t.default=o},function(e,t,i){function n(e){this.ops=e,this.index=0,this.offset=0}var r=i(11),a=i(3),o={attributes:{compose:function(e,t,i){"object"!==typeof e&&(e={}),"object"!==typeof t&&(t={});var n=a(!0,{},t);i||(n=Object.keys(n).reduce(function(e,t){return null!=n[t]&&(e[t]=n[t]),e},{}));for(var r in e)void 0!==e[r]&&void 0===t[r]&&(n[r]=e[r]);return Object.keys(n).length>0?n:void 0},diff:function(e,t){"object"!==typeof e&&(e={}),"object"!==typeof t&&(t={});var i=Object.keys(e).concat(Object.keys(t)).reduce(function(i,n){return r(e[n],t[n])||(i[n]=void 0===t[n]?null:t[n]),i},{});return Object.keys(i).length>0?i:void 0},transform:function(e,t,i){if("object"!==typeof e)return t;if("object"===typeof t){if(!i)return t;var n=Object.keys(t).reduce(function(i,n){return void 0===e[n]&&(i[n]=t[n]),i},{});return Object.keys(n).length>0?n:void 0}}},iterator:function(e){return new n(e)},length:function(e){return"number"===typeof e.delete?e.delete:"number"===typeof e.retain?e.retain:"string"===typeof e.insert?e.insert.length:1}};n.prototype.hasNext=function(){return this.peekLength()<1/0},n.prototype.next=function(e){e||(e=1/0);var t=this.ops[this.index];if(t){var i=this.offset,n=o.length(t);if(e>=n-i?(e=n-i,this.index+=1,this.offset=0):this.offset+=e,"number"===typeof t.delete)return{delete:e};var r={};return t.attributes&&(r.attributes=t.attributes),"number"===typeof t.retain?r.retain=e:"string"===typeof t.insert?r.insert=t.insert.substr(i,e):r.insert=t.insert,r}return{retain:1/0}},n.prototype.peek=function(){return this.ops[this.index]},n.prototype.peekLength=function(){return this.ops[this.index]?o.length(this.ops[this.index])-this.offset:1/0},n.prototype.peekType=function(){return this.ops[this.index]?"number"===typeof this.ops[this.index].delete?"delete":"number"===typeof this.ops[this.index].retain?"retain":"insert":"retain"},n.prototype.rest=function(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);var e=this.offset,t=this.index,i=this.next(),n=this.ops.slice(this.index);return this.offset=e,this.index=t,[i].concat(n)}return[]},e.exports=o},function(e,i){var n=function(){"use strict";function e(e,t){return null!=t&&e instanceof t}function i(n,r,a,o,h){function d(n,a){if(null===n)return null;if(0===a)return n;var g,v;if("object"!=typeof n)return n;if(e(n,l))g=new l;else if(e(n,c))g=new c;else if(e(n,u))g=new u(function(e,t){n.then(function(t){e(d(t,a-1))},function(e){t(d(e,a-1))})});else if(i.__isArray(n))g=[];else if(i.__isRegExp(n))g=new RegExp(n.source,s(n)),n.lastIndex&&(g.lastIndex=n.lastIndex);else if(i.__isDate(n))g=new Date(n.getTime());else{if(m&&t.isBuffer(n))return g=t.allocUnsafe?t.allocUnsafe(n.length):new t(n.length),n.copy(g),g;e(n,Error)?g=Object.create(n):"undefined"==typeof o?(v=Object.getPrototypeOf(n),g=Object.create(v)):(g=Object.create(o),v=o)}if(r){var y=p.indexOf(n);if(-1!=y)return f[y];p.push(n),f.push(g)}e(n,l)&&n.forEach(function(e,t){var i=d(t,a-1),n=d(e,a-1);g.set(i,n)}),e(n,c)&&n.forEach(function(e){var t=d(e,a-1);g.add(t)});for(var b in n){var _;v&&(_=Object.getOwnPropertyDescriptor(v,b)),_&&null==_.set||(g[b]=d(n[b],a-1))}if(Object.getOwnPropertySymbols)for(var A=Object.getOwnPropertySymbols(n),b=0;b<A.length;b++){var E=A[b],w=Object.getOwnPropertyDescriptor(n,E);(!w||w.enumerable||h)&&(g[E]=d(n[E],a-1),w.enumerable||Object.defineProperty(g,E,{enumerable:!1}))}if(h)for(var x=Object.getOwnPropertyNames(n),b=0;b<x.length;b++){var T=x[b],w=Object.getOwnPropertyDescriptor(n,T);w&&w.enumerable||(g[T]=d(n[T],a-1),Object.defineProperty(g,T,{enumerable:!1}))}return g}"object"===typeof r&&(a=r.depth,o=r.prototype,h=r.includeNonEnumerable,r=r.circular);var p=[],f=[],m="undefined"!=typeof t;return"undefined"==typeof r&&(r=!0),"undefined"==typeof a&&(a=1/0),d(n,a)}function n(e){return Object.prototype.toString.call(e)}function r(e){return"object"===typeof e&&"[object Date]"===n(e)}function a(e){return"object"===typeof e&&"[object Array]"===n(e)}function o(e){return"object"===typeof e&&"[object RegExp]"===n(e)}function s(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}var l;try{l=Map}catch(e){l=function(){}}var c;try{c=Set}catch(e){c=function(){}}var u;try{u=Promise}catch(e){u=function(){}}return i.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t},i.__objToStr=n,i.__isDate=r,i.__isArray=a,i.__isRegExp=o,i.__getRegExpFlags=s,i}();"object"===typeof e&&e.exports&&(e.exports=n)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return e instanceof g.default||e instanceof m.BlockEmbed}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){var i=[],n=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(i.push(o.value),!t||i.length!==t);n=!0);}catch(e){r=!0,a=e}finally{try{!n&&s.return&&s.return()}finally{if(r)throw a}}return i}return function(t,i){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),u=function e(t,i,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,i);if(void 0===r){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,i,n)}if("value"in r)return r.value;var o=r.get;if(void 0!==o)return o.call(n)},h=i(0),d=n(h),p=i(8),f=n(p),m=i(4),g=n(m),v=i(16),y=n(v),b=i(13),_=n(b),A=i(25),E=n(A),w=function(e){function t(e,i){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.emitter=i.emitter,Array.isArray(i.whitelist)&&(n.whitelist=i.whitelist.reduce(function(e,t){return e[t]=!0,e},{})),n.domNode.addEventListener("DOMNodeInserted",function(){}),n.optimize(),n.enable(),n}return o(t,e),c(t,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(e,i){var n=this.line(e),r=l(n,2),a=r[0],o=r[1],s=this.line(e+i),c=l(s,1),h=c[0];if(u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"deleteAt",this).call(this,e,i),null!=h&&a!==h&&o>0){if(a instanceof m.BlockEmbed||h instanceof m.BlockEmbed)return void this.optimize();if(a instanceof _.default){var d=a.newlineIndex(a.length(),!0);if(d>-1&&(a=a.split(d+1))===h)return void this.optimize()}else if(h instanceof _.default){var p=h.newlineIndex(0);p>-1&&h.split(p+1)}var f=h.children.head instanceof y.default?null:h.children.head;a.moveChildren(h,f),a.remove()}this.optimize()}},{key:"enable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.domNode.setAttribute("contenteditable",e)}},{key:"formatAt",value:function(e,i,n,r){(null==this.whitelist||this.whitelist[n])&&(u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,e,i,n,r),this.optimize())}},{key:"insertAt",value:function(e,i,n){if(null==n||null==this.whitelist||this.whitelist[i]){if(e>=this.length())if(null==n||null==d.default.query(i,d.default.Scope.BLOCK)){var r=d.default.create(this.statics.defaultChild);this.appendChild(r),null==n&&i.endsWith("\n")&&(i=i.slice(0,-1)),r.insertAt(0,i,n)}else{var a=d.default.create(i,n);this.appendChild(a)}else u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,e,i,n);this.optimize()}}},{key:"insertBefore",value:function(e,i){if(e.statics.scope===d.default.Scope.INLINE_BLOT){var n=d.default.create(this.statics.defaultChild);n.appendChild(e),e=n}u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertBefore",this).call(this,e,i)}},{key:"leaf",value:function(e){return this.path(e).pop()||[null,-1]}},{key:"line",value:function(e){return e===this.length()?this.line(e-1):this.descendant(s,e)}},{key:"lines",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return function e(t,i,n){var r=[],a=n;return t.children.forEachAt(i,n,function(t,i,n){s(t)?r.push(t):t instanceof d.default.Container&&(r=r.concat(e(t,i,a))),a-=n}),r}(this,e,t)}},{key:"optimize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!0!==this.batch&&(u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e,i),e.length>0&&this.emitter.emit(f.default.events.SCROLL_OPTIMIZE,e,i))}},{key:"path",value:function(e){return u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"path",this).call(this,e).slice(1)}},{key:"update",value:function(e){if(!0!==this.batch){var i=f.default.sources.USER;"string"===typeof e&&(i=e),Array.isArray(e)||(e=this.observer.takeRecords()),e.length>0&&this.emitter.emit(f.default.events.SCROLL_BEFORE_UPDATE,i,e),u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"update",this).call(this,e.concat([])),e.length>0&&this.emitter.emit(f.default.events.SCROLL_UPDATE,i,e)}}}]),t}(d.default.Scroll);w.blotName="scroll",w.className="ql-editor",w.tagName="DIV",w.defaultChild="block",w.allowedChildren=[g.default,m.BlockEmbed,E.default],t.default=w},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function s(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){var i,n=e===F.keys.LEFT?"prefix":"suffix";return i={key:e,shiftKey:t,altKey:null},r(i,n,/^$/),r(i,"handler",function(i){var n=i.index;e===F.keys.RIGHT&&(n+=i.length+1);var r=this.quill.getLeaf(n);return!(v(r,1)[0]instanceof P.default.Embed)||(e===F.keys.LEFT?t?this.quill.setSelection(i.index-1,i.length+1,I.default.sources.USER):this.quill.setSelection(i.index-1,I.default.sources.USER):t?this.quill.setSelection(i.index,i.length+1,I.default.sources.USER):this.quill.setSelection(i.index+i.length+1,I.default.sources.USER),!1)}),i}function c(e,t){if(!(0===e.index||this.quill.getLength()<=1)){var i=this.quill.getLine(e.index),n=v(i,1),r=n[0],a={};if(0===t.offset){var o=this.quill.getLine(e.index-1),s=v(o,1),l=s[0];if(null!=l&&l.length()>1){var c=r.formats(),u=this.quill.getFormat(e.index-1,1);a=k.default.attributes.diff(c,u)||{}}}var h=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(t.prefix)?2:1;this.quill.deleteText(e.index-h,h,I.default.sources.USER),Object.keys(a).length>0&&this.quill.formatLine(e.index-h,h,a,I.default.sources.USER),this.quill.focus()}}function u(e,t){var i=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(t.suffix)?2:1;if(!(e.index>=this.quill.getLength()-i)){var n={},r=0,a=this.quill.getLine(e.index),o=v(a,1),s=o[0];if(t.offset>=s.length()-1){var l=this.quill.getLine(e.index+1),c=v(l,1),u=c[0];if(u){var h=s.formats(),d=this.quill.getFormat(e.index,1);n=k.default.attributes.diff(h,d)||{},r=u.length()}}this.quill.deleteText(e.index,i,I.default.sources.USER),Object.keys(n).length>0&&this.quill.formatLine(e.index+r-1,i,n,I.default.sources.USER)}}function h(e){var t=this.quill.getLines(e),i={};if(t.length>1){var n=t[0].formats(),r=t[t.length-1].formats();i=k.default.attributes.diff(r,n)||{}}this.quill.deleteText(e,I.default.sources.USER),Object.keys(i).length>0&&this.quill.formatLine(e.index,1,i,I.default.sources.USER),this.quill.setSelection(e.index,I.default.sources.SILENT),this.quill.focus()}function d(e,t){var i=this;e.length>0&&this.quill.scroll.deleteAt(e.index,e.length);var n=Object.keys(t.format).reduce(function(e,i){return P.default.query(i,P.default.Scope.BLOCK)&&!Array.isArray(t.format[i])&&(e[i]=t.format[i]),e},{});this.quill.insertText(e.index,"\n",n,I.default.sources.USER),this.quill.setSelection(e.index+1,I.default.sources.SILENT),this.quill.focus(),Object.keys(t.format).forEach(function(e){null==n[e]&&(Array.isArray(t.format[e])||"link"!==e&&i.quill.format(e,t.format[e],I.default.sources.USER))})}function p(e){return{key:F.keys.TAB,shiftKey:!e,format:{"code-block":!0},handler:function(t){var i=P.default.query("code-block"),n=t.index,r=t.length,a=this.quill.scroll.descendant(i,n),o=v(a,2),s=o[0],l=o[1];if(null!=s){var c=this.quill.getIndex(s),u=s.newlineIndex(l,!0)+1,h=s.newlineIndex(c+l+r),d=s.domNode.textContent.slice(u,h).split("\n");l=0,d.forEach(function(t,a){e?(s.insertAt(u+l,i.TAB),l+=i.TAB.length,0===a?n+=i.TAB.length:r+=i.TAB.length):t.startsWith(i.TAB)&&(s.deleteAt(u+l,i.TAB.length),l-=i.TAB.length,0===a?n-=i.TAB.length:r-=i.TAB.length),l+=t.length+1}),this.quill.update(I.default.sources.USER),this.quill.setSelection(n,r,I.default.sources.SILENT)}}}}function f(e){return{key:e[0].toUpperCase(),shortKey:!0,handler:function(t,i){this.quill.format(e,!i.format[e],I.default.sources.USER)}}}function m(e){if("string"===typeof e||"number"===typeof e)return m({key:e});if("object"===("undefined"===typeof e?"undefined":g(e))&&(e=(0,_.default)(e,!1)),"string"===typeof e.key)if(null!=F.keys[e.key.toUpperCase()])e.key=F.keys[e.key.toUpperCase()];else{if(1!==e.key.length)return null;e.key=e.key.toUpperCase().charCodeAt(0)}return e.shortKey&&(e[B]=e.shortKey,delete e.shortKey),e}Object.defineProperty(t,"__esModule",{value:!0}),t.SHORTKEY=t.default=void 0;var g="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v=function(){function e(e,t){var i=[],n=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(i.push(o.value),!t||i.length!==t);n=!0);}catch(e){r=!0,a=e}finally{try{!n&&s.return&&s.return()}finally{if(r)throw a}}return i}return function(t,i){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),y=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),b=i(21),_=n(b),A=i(11),E=n(A),w=i(3),x=n(w),T=i(2),S=n(T),C=i(20),k=n(C),O=i(0),P=n(O),j=i(5),I=n(j),M=i(10),R=n(M),D=i(9),L=n(D),N=(0,R.default)("quill:keyboard"),B=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",F=function(e){function t(e,i){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i));return n.bindings={},Object.keys(n.options.bindings).forEach(function(t){("list autofill"!==t||null==e.scroll.whitelist||e.scroll.whitelist.list)&&n.options.bindings[t]&&n.addBinding(n.options.bindings[t])}),n.addBinding({key:t.keys.ENTER,shiftKey:null},d),n.addBinding({key:t.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(n.addBinding({key:t.keys.BACKSPACE},{collapsed:!0},c),n.addBinding({key:t.keys.DELETE},{collapsed:!0},u)):(n.addBinding({key:t.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},c),n.addBinding({key:t.keys.DELETE},{collapsed:!0,suffix:/^.?$/},u)),n.addBinding({key:t.keys.BACKSPACE},{collapsed:!1},h),n.addBinding({key:t.keys.DELETE},{collapsed:!1},h),n.addBinding({key:t.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},c),n.listen(),n}return s(t,e),y(t,null,[{key:"match",value:function(e,t){return t=m(t),!["altKey","ctrlKey","metaKey","shiftKey"].some(function(i){return!!t[i]!==e[i]&&null!==t[i]})&&t.key===(e.which||e.keyCode)}}]),y(t,[{key:"addBinding",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=m(e);if(null==n||null==n.key)return N.warn("Attempted to add invalid keyboard binding",n);"function"===typeof t&&(t={handler:t}),"function"===typeof i&&(i={handler:i}),n=(0,x.default)(n,t,i),this.bindings[n.key]=this.bindings[n.key]||[],this.bindings[n.key].push(n)}},{key:"listen",value:function(){var e=this;this.quill.root.addEventListener("keydown",function(i){if(!i.defaultPrevented){var n=i.which||i.keyCode,r=(e.bindings[n]||[]).filter(function(e){return t.match(i,e)});if(0!==r.length){var a=e.quill.getSelection();if(null!=a&&e.quill.hasFocus()){var o=e.quill.getLine(a.index),s=v(o,2),l=s[0],c=s[1],u=e.quill.getLeaf(a.index),h=v(u,2),d=h[0],p=h[1],f=0===a.length?[d,p]:e.quill.getLeaf(a.index+a.length),m=v(f,2),y=m[0],b=m[1],_=d instanceof P.default.Text?d.value().slice(0,p):"",A=y instanceof P.default.Text?y.value().slice(b):"",w={collapsed:0===a.length,empty:0===a.length&&l.length()<=1,format:e.quill.getFormat(a),offset:c,prefix:_,suffix:A};r.some(function(t){if(null!=t.collapsed&&t.collapsed!==w.collapsed)return!1;if(null!=t.empty&&t.empty!==w.empty)return!1;if(null!=t.offset&&t.offset!==w.offset)return!1;if(Array.isArray(t.format)){if(t.format.every(function(e){return null==w.format[e]}))return!1}else if("object"===g(t.format)&&!Object.keys(t.format).every(function(e){return!0===t.format[e]?null!=w.format[e]:!1===t.format[e]?null==w.format[e]:(0,E.default)(t.format[e],w.format[e])}))return!1;return!(null!=t.prefix&&!t.prefix.test(w.prefix))&&(!(null!=t.suffix&&!t.suffix.test(w.suffix))&&!0!==t.handler.call(e,a,w))})&&i.preventDefault()}}}})}}]),t}(L.default);F.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},F.DEFAULTS={bindings:{bold:f("bold"),italic:f("italic"),underline:f("underline"),indent:{key:F.keys.TAB,format:["blockquote","indent","list"],handler:function(e,t){if(t.collapsed&&0!==t.offset)return!0;this.quill.format("indent","+1",I.default.sources.USER)}},outdent:{key:F.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(e,t){if(t.collapsed&&0!==t.offset)return!0;this.quill.format("indent","-1",I.default.sources.USER)}},"outdent backspace":{key:F.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(e,t){null!=t.format.indent?this.quill.format("indent","-1",I.default.sources.USER):null!=t.format.list&&this.quill.format("list",!1,I.default.sources.USER)}},"indent code-block":p(!0),"outdent code-block":p(!1),"remove tab":{key:F.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(e){this.quill.deleteText(e.index-1,1,I.default.sources.USER)}},tab:{key:F.keys.TAB,handler:function(e){this.quill.history.cutoff();var t=(new S.default).retain(e.index).delete(e.length).insert("\t");this.quill.updateContents(t,I.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index+1,I.default.sources.SILENT)}},"list empty enter":{key:F.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(e,t){this.quill.format("list",!1,I.default.sources.USER),t.format.indent&&this.quill.format("indent",!1,I.default.sources.USER)}},"checklist enter":{key:F.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(e){var t=this.quill.getLine(e.index),i=v(t,2),n=i[0],r=i[1],a=(0,x.default)({},n.formats(),{list:"checked"}),o=(new S.default).retain(e.index).insert("\n",a).retain(n.length()-r-1).retain(1,{list:"unchecked"});this.quill.updateContents(o,I.default.sources.USER),this.quill.setSelection(e.index+1,I.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:F.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(e,t){var i=this.quill.getLine(e.index),n=v(i,2),r=n[0],a=n[1],o=(new S.default).retain(e.index).insert("\n",t.format).retain(r.length()-a-1).retain(1,{header:null});this.quill.updateContents(o,I.default.sources.USER),this.quill.setSelection(e.index+1,I.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(e,t){var i=t.prefix.length,n=this.quill.getLine(e.index),r=v(n,2),a=r[0],o=r[1];if(o>i)return!0;var s=void 0;switch(t.prefix.trim()){case"[]":case"[ ]":s="unchecked";break;case"[x]":s="checked";break;case"-":case"*":s="bullet";break;default:s="ordered"}this.quill.insertText(e.index," ",I.default.sources.USER),this.quill.history.cutoff();var l=(new S.default).retain(e.index-o).delete(i+1).retain(a.length()-2-o).retain(1,{list:s});this.quill.updateContents(l,I.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index-i,I.default.sources.SILENT)}},"code exit":{key:F.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(e){var t=this.quill.getLine(e.index),i=v(t,2),n=i[0],r=i[1],a=(new S.default).retain(e.index+n.length()-r-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(a,I.default.sources.USER)}},"embed left":l(F.keys.LEFT,!1),"embed left shift":l(F.keys.LEFT,!0),"embed right":l(F.keys.RIGHT,!1),"embed right shift":l(F.keys.RIGHT,!0)}},t.default=F,t.SHORTKEY=B},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){var i=[],n=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(i.push(o.value),!t||i.length!==t);n=!0);}catch(e){r=!0,a=e}finally{try{!n&&s.return&&s.return()}finally{if(r)throw a}}return i}return function(t,i){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function e(t,i,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,i);if(void 0===r){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,i,n)}if("value"in r)return r.value;var o=r.get;if(void 0!==o)return o.call(n)},c=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),u=i(0),h=n(u),d=i(7),p=n(d),f=function(e){function t(e,i){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.selection=i,n.textNode=document.createTextNode(t.CONTENTS),n.domNode.appendChild(n.textNode),n._length=0,n}return o(t,e),c(t,null,[{key:"value",value:function(){}}]),c(t,[{key:"detach",value:function(){null!=this.parent&&this.parent.removeChild(this)}},{key:"format",value:function(e,i){if(0!==this._length)return l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,i);for(var n=this,r=0;null!=n&&n.statics.scope!==h.default.Scope.BLOCK_BLOT;)r+=n.offset(n.parent),n=n.parent;null!=n&&(this._length=t.CONTENTS.length,n.optimize(),n.formatAt(r,t.CONTENTS.length,e,i),this._length=0)}},{key:"index",value:function(e,i){return e===this.textNode?0:l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"index",this).call(this,e,i)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!this.selection.composing&&null!=this.parent){var e=this.textNode,i=this.selection.getNativeRange(),n=void 0,r=void 0,a=void 0;if(null!=i&&i.start.node===e&&i.end.node===e){var o=[e,i.start.offset,i.end.offset];n=o[0],r=o[1],a=o[2]}for(;null!=this.domNode.lastChild&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==t.CONTENTS){var l=this.textNode.data.split(t.CONTENTS).join("");this.next instanceof p.default?(n=this.next.domNode,this.next.insertAt(0,l),this.textNode.data=t.CONTENTS):(this.textNode.data=l,this.parent.insertBefore(h.default.create(this.textNode),this),this.textNode=document.createTextNode(t.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),null!=r){var c=[r,a].map(function(e){return Math.max(0,Math.min(n.data.length,e-1))}),u=s(c,2);return r=u[0],a=u[1],{startNode:n,startOffset:r,endNode:n,endOffset:a}}}}},{key:"update",value:function(e,t){var i=this;if(e.some(function(e){return"characterData"===e.type&&e.target===i.textNode})){var n=this.restore();n&&(t.range=n)}}},{key:"value",value:function(){return""}}]),t}(h.default.Embed);f.blotName="cursor",f.className="ql-cursor",f.tagName="span",f.CONTENTS="\ufeff",t.default=f},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=i(0),l=n(s),c=i(4),u=n(c),h=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),t}(l.default.Container);h.allowedChildren=[u.default,c.BlockEmbed,h],t.default=h},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ColorStyle=t.ColorClass=t.ColorAttributor=void 0;var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=function e(t,i,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,i);if(void 0===r){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,i,n)}if("value"in r)return r.value;var o=r.get;if(void 0!==o)return o.call(n)},l=i(0),c=function(e){return e&&e.__esModule?e:{default:e}}(l),u=function(e){function t(){return n(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"value",value:function(e){var i=s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,e);return i.startsWith("rgb(")?(i=i.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+i.split(",").map(function(e){return("00"+parseInt(e).toString(16)).slice(-2)}).join("")):i}}]),t}(c.default.Attributor.Style),h=new c.default.Attributor.Class("color","ql-color",{scope:c.default.Scope.INLINE}),d=new u("color","color",{scope:c.default.Scope.INLINE});t.ColorAttributor=u,t.ColorClass=h,t.ColorStyle=d},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e,t){var i=document.createElement("a");i.href=e;var n=i.href.slice(0,i.href.indexOf(":"));return t.indexOf(n)>-1}Object.defineProperty(t,"__esModule",{value:!0}),t.sanitize=t.default=void 0;var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=function e(t,i,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,i);if(void 0===r){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,i,n)}if("value"in r)return r.value;var o=r.get;if(void 0!==o)return o.call(n)},c=i(6),u=function(e){return e&&e.__esModule?e:{default:e}}(c),h=function(e){function t(){return n(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"format",value:function(e,i){if(e!==this.statics.blotName||!i)return l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,i);i=this.constructor.sanitize(i),this.domNode.setAttribute("href",i)}}],[{key:"create",value:function(e){var i=l(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return e=this.sanitize(e),i.setAttribute("href",e),i.setAttribute("rel","noopener noreferrer"),i.setAttribute("target","_blank"),i}},{key:"formats",value:function(e){return e.getAttribute("href")}},{key:"sanitize",value:function(e){return o(e,this.PROTOCOL_WHITELIST)?e:this.SANITIZED_URL}}]),t}(u.default);h.blotName="link",h.tagName="A",h.SANITIZED_URL="about:blank",h.PROTOCOL_WHITELIST=["http","https","mailto","tel"],t.default=h,t.sanitize=o},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){e.setAttribute(t,!("true"===e.getAttribute(t)))}Object.defineProperty(t,"__esModule",{value:!0});var o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=i(23),c=n(l),u=i(107),h=n(u),d=0,p=function(){function e(t){var i=this;r(this,e),this.select=t,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){i.togglePicker()}),this.label.addEventListener("keydown",function(e){switch(e.keyCode){case c.default.keys.ENTER:i.togglePicker();break;case c.default.keys.ESCAPE:i.escape(),e.preventDefault()}}),this.select.addEventListener("change",this.update.bind(this))}return s(e,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),a(this.label,"aria-expanded"),a(this.options,"aria-hidden")}},{key:"buildItem",value:function(e){var t=this,i=document.createElement("span");return i.tabIndex="0",i.setAttribute("role","button"),i.classList.add("ql-picker-item"),e.hasAttribute("value")&&i.setAttribute("data-value",e.getAttribute("value")),e.textContent&&i.setAttribute("data-label",e.textContent),i.addEventListener("click",function(){t.selectItem(i,!0)}),i.addEventListener("keydown",function(e){switch(e.keyCode){case c.default.keys.ENTER:t.selectItem(i,!0),e.preventDefault();break;case c.default.keys.ESCAPE:t.escape(),e.preventDefault()}}),i}},{key:"buildLabel",value:function(){var e=document.createElement("span");return e.classList.add("ql-picker-label"),e.innerHTML=h.default,e.tabIndex="0",e.setAttribute("role","button"),e.setAttribute("aria-expanded","false"),this.container.appendChild(e),e}},{key:"buildOptions",value:function(){var e=this,t=document.createElement("span");t.classList.add("ql-picker-options"),t.setAttribute("aria-hidden","true"),t.tabIndex="-1",t.id="ql-picker-options-"+d,d+=1,this.label.setAttribute("aria-controls",t.id),this.options=t,[].slice.call(this.select.options).forEach(function(i){var n=e.buildItem(i);t.appendChild(n),!0===i.selected&&e.selectItem(n)}),this.container.appendChild(t)}},{key:"buildPicker",value:function(){var e=this;[].slice.call(this.select.attributes).forEach(function(t){e.container.setAttribute(t.name,t.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var e=this;this.close(),setTimeout(function(){return e.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.container.querySelector(".ql-selected");if(e!==i&&(null!=i&&i.classList.remove("ql-selected"),null!=e&&(e.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(e.parentNode.children,e),e.hasAttribute("data-value")?this.label.setAttribute("data-value",e.getAttribute("data-value")):this.label.removeAttribute("data-value"),e.hasAttribute("data-label")?this.label.setAttribute("data-label",e.getAttribute("data-label")):this.label.removeAttribute("data-label"),t))){if("function"===typeof Event)this.select.dispatchEvent(new Event("change"));else if("object"===("undefined"===typeof Event?"undefined":o(Event))){var n=document.createEvent("Event");n.initEvent("change",!0,!0),this.select.dispatchEvent(n)}this.close()}}},{key:"update",value:function(){var e=void 0;if(this.select.selectedIndex>-1){var t=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];e=this.select.options[this.select.selectedIndex],this.selectItem(t)}else this.selectItem(null);var i=null!=e&&e!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",i)}}]),e}();t.default=p},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(0),a=n(r),o=i(5),s=n(o),l=i(4),c=n(l),u=i(16),h=n(u),d=i(25),p=n(d),f=i(24),m=n(f),g=i(35),v=n(g),y=i(6),b=n(y),_=i(22),A=n(_),E=i(7),w=n(E),x=i(55),T=n(x),S=i(42),C=n(S),k=i(23),O=n(k);s.default.register({"blots/block":c.default,"blots/block/embed":l.BlockEmbed,"blots/break":h.default,"blots/container":p.default,"blots/cursor":m.default,"blots/embed":v.default,"blots/inline":b.default,"blots/scroll":A.default,"blots/text":w.default,"modules/clipboard":T.default,"modules/history":C.default,"modules/keyboard":O.default}),a.default.register(c.default,h.default,m.default,b.default,A.default,w.default),t.default=s.default},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(1),r=function(){function e(e){this.domNode=e,this.domNode[n.DATA_KEY]={blot:this}}return Object.defineProperty(e.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),e.create=function(e){if(null==this.tagName)throw new n.ParchmentError("Blot definition missing tagName");var t;return Array.isArray(this.tagName)?("string"===typeof e&&(e=e.toUpperCase(),parseInt(e).toString()===e&&(e=parseInt(e))),t="number"===typeof e?document.createElement(this.tagName[e-1]):this.tagName.indexOf(e)>-1?document.createElement(e):document.createElement(this.tagName[0])):t=document.createElement(this.tagName),this.className&&t.classList.add(this.className),t},e.prototype.attach=function(){null!=this.parent&&(this.scroll=this.parent.scroll)},e.prototype.clone=function(){var e=this.domNode.cloneNode(!1);return n.create(e)},e.prototype.detach=function(){null!=this.parent&&this.parent.removeChild(this),delete this.domNode[n.DATA_KEY]},e.prototype.deleteAt=function(e,t){this.isolate(e,t).remove()},e.prototype.formatAt=function(e,t,i,r){var a=this.isolate(e,t);if(null!=n.query(i,n.Scope.BLOT)&&r)a.wrap(i,r);else if(null!=n.query(i,n.Scope.ATTRIBUTE)){var o=n.create(this.statics.scope);a.wrap(o),o.format(i,r)}},e.prototype.insertAt=function(e,t,i){var r=null==i?n.create("text",t):n.create(t,i),a=this.split(e);this.parent.insertBefore(r,a)},e.prototype.insertInto=function(e,t){void 0===t&&(t=null),null!=this.parent&&this.parent.children.remove(this);var i=null;e.children.insertBefore(this,t),null!=t&&(i=t.domNode),this.domNode.parentNode==e.domNode&&this.domNode.nextSibling==i||e.domNode.insertBefore(this.domNode,i),this.parent=e,this.attach()},e.prototype.isolate=function(e,t){var i=this.split(e);return i.split(t),i},e.prototype.length=function(){return 1},e.prototype.offset=function(e){return void 0===e&&(e=this.parent),null==this.parent||this==e?0:this.parent.children.offset(this)+this.parent.offset(e)},e.prototype.optimize=function(e){null!=this.domNode[n.DATA_KEY]&&delete this.domNode[n.DATA_KEY].mutations},e.prototype.remove=function(){null!=this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},e.prototype.replace=function(e){null!=e.parent&&(e.parent.insertBefore(this,e.next),e.remove())},e.prototype.replaceWith=function(e,t){var i="string"===typeof e?n.create(e,t):e;return i.replace(this),i},e.prototype.split=function(e,t){return 0===e?this:this.next},e.prototype.update=function(e,t){},e.prototype.wrap=function(e,t){var i="string"===typeof e?n.create(e,t):e;return null!=this.parent&&this.parent.insertBefore(i,this.next),i.appendChild(this),i},e.blotName="abstract",e}();t.default=r},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(12),r=i(32),a=i(33),o=i(1),s=function(){function e(e){this.attributes={},this.domNode=e,this.build()}return e.prototype.attribute=function(e,t){t?e.add(this.domNode,t)&&(null!=e.value(this.domNode)?this.attributes[e.attrName]=e:delete this.attributes[e.attrName]):(e.remove(this.domNode),delete this.attributes[e.attrName])},e.prototype.build=function(){var e=this;this.attributes={};var t=n.default.keys(this.domNode),i=r.default.keys(this.domNode),s=a.default.keys(this.domNode);t.concat(i).concat(s).forEach(function(t){var i=o.query(t,o.Scope.ATTRIBUTE);i instanceof n.default&&(e.attributes[i.attrName]=i)})},e.prototype.copy=function(e){var t=this;Object.keys(this.attributes).forEach(function(i){var n=t.attributes[i].value(t.domNode);e.format(i,n)})},e.prototype.move=function(e){var t=this;this.copy(e),Object.keys(this.attributes).forEach(function(e){t.attributes[e].remove(t.domNode)}),this.attributes={}},e.prototype.values=function(){var e=this;return Object.keys(this.attributes).reduce(function(t,i){return t[i]=e.attributes[i].value(e.domNode),t},{})},e}();t.default=s},function(e,t,i){"use strict";function n(e,t){return(e.getAttribute("class")||"").split(/\s+/).filter(function(e){return 0===e.indexOf(t+"-")})}var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=i(12),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.keys=function(e){return(e.getAttribute("class")||"").split(/\s+/).map(function(e){return e.split("-").slice(0,-1).join("-")})},t.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(this.remove(e),e.classList.add(this.keyName+"-"+t),!0)},t.prototype.remove=function(e){n(e,this.keyName).forEach(function(t){e.classList.remove(t)}),0===e.classList.length&&e.removeAttribute("class")},t.prototype.value=function(e){var t=n(e,this.keyName)[0]||"",i=t.slice(this.keyName.length+1);return this.canAdd(e,i)?i:""},t}(a.default);t.default=o},function(e,t,i){"use strict";function n(e){var t=e.split("-"),i=t.slice(1).map(function(e){return e[0].toUpperCase()+e.slice(1)}).join("");return t[0]+i}var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=i(12),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.keys=function(e){return(e.getAttribute("style")||"").split(";").map(function(e){return e.split(":")[0].trim()})},t.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(e.style[n(this.keyName)]=t,!0)},t.prototype.remove=function(e){e.style[n(this.keyName)]="",e.getAttribute("style")||e.removeAttribute("style")},t.prototype.value=function(e){var t=e.style[n(this.keyName)];return this.canAdd(e,t)?t:""},t}(a.default);t.default=o},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(){function e(t,i){n(this,e),this.quill=t,this.options=i,this.modules={}}return r(e,[{key:"init",value:function(){var e=this;Object.keys(this.options.modules).forEach(function(t){null==e.modules[t]&&e.addModule(t)})}},{key:"addModule",value:function(e){var t=this.quill.constructor.import("modules/"+e);return this.modules[e]=new t(this.quill,this.options.modules[e]||{}),this.modules[e]}}]),e}();a.DEFAULTS={modules:{}},a.themes={default:a},t.default=a},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=function e(t,i,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,i);if(void 0===r){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,i,n)}if("value"in r)return r.value;var o=r.get;if(void 0!==o)return o.call(n)},c=i(0),u=n(c),h=i(7),d=n(h),p="\ufeff",f=function(e){function t(e){r(this,t);var i=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.contentNode=document.createElement("span"),i.contentNode.setAttribute("contenteditable",!1),[].slice.call(i.domNode.childNodes).forEach(function(e){i.contentNode.appendChild(e)}),i.leftGuard=document.createTextNode(p),i.rightGuard=document.createTextNode(p),i.domNode.appendChild(i.leftGuard),i.domNode.appendChild(i.contentNode),i.domNode.appendChild(i.rightGuard),i}return o(t,e),s(t,[{key:"index",value:function(e,i){return e===this.leftGuard?0:e===this.rightGuard?1:l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"index",this).call(this,e,i)}},{key:"restore",value:function(e){var t=void 0,i=void 0,n=e.data.split(p).join("");if(e===this.leftGuard)if(this.prev instanceof d.default){var r=this.prev.length();this.prev.insertAt(r,n),t={startNode:this.prev.domNode,startOffset:r+n.length}}else i=document.createTextNode(n),this.parent.insertBefore(u.default.create(i),this),t={startNode:i,startOffset:n.length};else e===this.rightGuard&&(this.next instanceof d.default?(this.next.insertAt(0,n),t={startNode:this.next.domNode,startOffset:n.length}):(i=document.createTextNode(n),this.parent.insertBefore(u.default.create(i),this.next),t={startNode:i,startOffset:n.length}));return e.data=p,t}},{key:"update",value:function(e,t){var i=this;e.forEach(function(e){if("characterData"===e.type&&(e.target===i.leftGuard||e.target===i.rightGuard)){var n=i.restore(e.target);n&&(t.range=n)}})}}]),t}(u.default.Embed);t.default=f},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AlignStyle=t.AlignClass=t.AlignAttribute=void 0;var n=i(0),r=function(e){return e&&e.__esModule?e:{default:e}}(n),a={scope:r.default.Scope.BLOCK,whitelist:["right","center","justify"]},o=new r.default.Attributor.Attribute("align","align",a),s=new r.default.Attributor.Class("align","ql-align",a),l=new r.default.Attributor.Style("align","text-align",a);t.AlignAttribute=o,t.AlignClass=s,t.AlignStyle=l},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BackgroundStyle=t.BackgroundClass=void 0;var n=i(0),r=function(e){return e&&e.__esModule?e:{default:e}}(n),a=i(26),o=new r.default.Attributor.Class("background","ql-bg",{scope:r.default.Scope.INLINE}),s=new a.ColorAttributor("background","background-color",{scope:r.default.Scope.INLINE});t.BackgroundClass=o,t.BackgroundStyle=s},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DirectionStyle=t.DirectionClass=t.DirectionAttribute=void 0;var n=i(0),r=function(e){return e&&e.__esModule?e:{default:e}}(n),a={scope:r.default.Scope.BLOCK,whitelist:["rtl"]},o=new r.default.Attributor.Attribute("direction","dir",a),s=new r.default.Attributor.Class("direction","ql-direction",a),l=new r.default.Attributor.Style("direction","direction",a);t.DirectionAttribute=o,t.DirectionClass=s,t.DirectionStyle=l},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.FontClass=t.FontStyle=void 0;var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=function e(t,i,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,i);if(void 0===r){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,i,n)}if("value"in r)return r.value;var o=r.get;if(void 0!==o)return o.call(n)},l=i(0),c=function(e){return e&&e.__esModule?e:{default:e}}(l),u={scope:c.default.Scope.INLINE,whitelist:["serif","monospace"]},h=new c.default.Attributor.Class("font","ql-font",u),d=function(e){function t(){return n(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"value",value:function(e){return s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,e).replace(/["']/g,"")}}]),t}(c.default.Attributor.Style),p=new d("font","font-family",u);t.FontStyle=p,t.FontClass=h},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SizeStyle=t.SizeClass=void 0;var n=i(0),r=function(e){return e&&e.__esModule?e:{default:e}}(n),a=new r.default.Attributor.Class("size","ql-size",{scope:r.default.Scope.INLINE,whitelist:["small","large","huge"]}),o=new r.default.Attributor.Style("size","font-size",{scope:r.default.Scope.INLINE,whitelist:["10px","18px","32px"]});t.SizeClass=a,t.SizeStyle=o},function(e,t,i){"use strict";e.exports={align:{"":i(76),center:i(77),right:i(78),justify:i(79)},background:i(80),blockquote:i(81),bold:i(82),clean:i(83),code:i(58),"code-block":i(58),color:i(84),direction:{"":i(85),rtl:i(86)},float:{center:i(87),full:i(88),left:i(89),right:i(90)},formula:i(91),header:{1:i(92),2:i(93)},italic:i(94),image:i(95),indent:{"+1":i(96),"-1":i(97)},link:i(98),list:{ordered:i(99),bullet:i(100),check:i(101)},script:{sub:i(102),super:i(103)},strike:i(104),underline:i(105),video:i(106)}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t=e.ops[e.ops.length-1];return null!=t&&(null!=t.insert?"string"===typeof t.insert&&t.insert.endsWith("\n"):null!=t.attributes&&Object.keys(t.attributes).some(function(e){return null!=h.default.query(e,h.default.Scope.BLOCK)}))}function l(e){var t=e.reduce(function(e,t){return e+=t.delete||0},0),i=e.length()-t;return s(e)&&(i-=1),i}Object.defineProperty(t,"__esModule",{value:!0}),t.getLastChangeIndex=t.default=void 0;var c=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),u=i(0),h=n(u),d=i(5),p=n(d),f=i(9),m=n(f),g=function(e){function t(e,i){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i));return n.lastRecorded=0,n.ignoreChange=!1,n.clear(),n.quill.on(p.default.events.EDITOR_CHANGE,function(e,t,i,r){e!==p.default.events.TEXT_CHANGE||n.ignoreChange||(n.options.userOnly&&r!==p.default.sources.USER?n.transform(t):n.record(t,i))}),n.quill.keyboard.addBinding({key:"Z",shortKey:!0},n.undo.bind(n)),n.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},n.redo.bind(n)),/Win/i.test(navigator.platform)&&n.quill.keyboard.addBinding({key:"Y",shortKey:!0},n.redo.bind(n)),n}return o(t,e),c(t,[{key:"change",value:function(e,t){if(0!==this.stack[e].length){var i=this.stack[e].pop();this.stack[t].push(i),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(i[e],p.default.sources.USER),this.ignoreChange=!1;var n=l(i[e]);this.quill.setSelection(n)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(e,t){if(0!==e.ops.length){this.stack.redo=[];var i=this.quill.getContents().diff(t),n=Date.now();if(this.lastRecorded+this.options.delay>n&&this.stack.undo.length>0){var r=this.stack.undo.pop();i=i.compose(r.undo),e=r.redo.compose(e)}else this.lastRecorded=n;this.stack.undo.push({redo:e,undo:i}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(e){this.stack.undo.forEach(function(t){t.undo=e.transform(t.undo,!0),t.redo=e.transform(t.redo,!0)}),this.stack.redo.forEach(function(t){t.undo=e.transform(t.undo,!0),t.redo=e.transform(t.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),t}(m.default);g.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1},t.default=g,t.getLastChangeIndex=l},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t=e.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||e.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return t?(t[1]||"https")+"://www.youtube.com/embed/"+t[2]+"?showinfo=0":(t=e.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(t[1]||"https")+"://player.vimeo.com/video/"+t[2]+"/":e}function l(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t.forEach(function(t){var n=document.createElement("option");t===i?n.setAttribute("selected","selected"):n.setAttribute("value",t),e.appendChild(n)})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BaseTooltip=void 0;var c=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),u=function e(t,i,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,i);if(void 0===r){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,i,n)}if("value"in r)return r.value;var o=r.get;if(void 0!==o)return o.call(n)},h=i(3),d=n(h),p=i(2),f=n(p),m=i(8),g=n(m),v=i(23),y=n(v),b=i(34),_=n(b),A=i(59),E=n(A),w=i(60),x=n(w),T=i(28),S=n(T),C=i(61),k=n(C),O=[!1,"center","right","justify"],P=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],j=[!1,"serif","monospace"],I=["1","2","3",!1],M=["small",!1,"large","huge"],R=function(e){function t(e,i){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i)),o=function t(i){if(!document.body.contains(e.root))return document.body.removeEventListener("click",t);null==n.tooltip||n.tooltip.root.contains(i.target)||document.activeElement===n.tooltip.textbox||n.quill.hasFocus()||n.tooltip.hide(),null!=n.pickers&&n.pickers.forEach(function(e){e.container.contains(i.target)||e.close()})};return e.emitter.listenDOM("click",document.body,o),n}return o(t,e),c(t,[{key:"addModule",value:function(e){var i=u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"addModule",this).call(this,e);return"toolbar"===e&&this.extendToolbar(i),i}},{key:"buildButtons",value:function(e,t){e.forEach(function(e){(e.getAttribute("class")||"").split(/\s+/).forEach(function(i){if(i.startsWith("ql-")&&(i=i.slice("ql-".length),null!=t[i]))if("direction"===i)e.innerHTML=t[i][""]+t[i].rtl;else if("string"===typeof t[i])e.innerHTML=t[i];else{var n=e.value||"";null!=n&&t[i][n]&&(e.innerHTML=t[i][n])}})})}},{key:"buildPickers",value:function(e,t){var i=this;this.pickers=e.map(function(e){if(e.classList.contains("ql-align"))return null==e.querySelector("option")&&l(e,O),new x.default(e,t.align);if(e.classList.contains("ql-background")||e.classList.contains("ql-color")){var i=e.classList.contains("ql-background")?"background":"color";return null==e.querySelector("option")&&l(e,P,"background"===i?"#ffffff":"#000000"),new E.default(e,t[i])}return null==e.querySelector("option")&&(e.classList.contains("ql-font")?l(e,j):e.classList.contains("ql-header")?l(e,I):e.classList.contains("ql-size")&&l(e,M)),new S.default(e)});var n=function(){i.pickers.forEach(function(e){e.update()})};this.quill.on(g.default.events.EDITOR_CHANGE,n)}}]),t}(_.default);R.DEFAULTS=(0,d.default)(!0,{},_.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var e=this,t=this.container.querySelector("input.ql-image[type=file]");null==t&&(t=document.createElement("input"),t.setAttribute("type","file"),t.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),t.classList.add("ql-image"),t.addEventListener("change",function(){if(null!=t.files&&null!=t.files[0]){var i=new FileReader;i.onload=function(i){var n=e.quill.getSelection(!0);e.quill.updateContents((new f.default).retain(n.index).delete(n.length).insert({image:i.target.result}),g.default.sources.USER),e.quill.setSelection(n.index+1,g.default.sources.SILENT),t.value=""},i.readAsDataURL(t.files[0])}}),this.container.appendChild(t)),t.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var D=function(e){function t(e,i){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i));return n.textbox=n.root.querySelector('input[type="text"]'),n.listen(),n}return o(t,e),c(t,[{key:"listen",value:function(){var e=this;this.textbox.addEventListener("keydown",function(t){y.default.match(t,"enter")?(e.save(),t.preventDefault()):y.default.match(t,"escape")&&(e.cancel(),t.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"link",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),null!=t?this.textbox.value=t:e!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+e)||""),this.root.setAttribute("data-mode",e)}},{key:"restoreFocus",value:function(){var e=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=e}},{key:"save",value:function(){var e=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":var t=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",e,g.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",e,g.default.sources.USER)),this.quill.root.scrollTop=t;break;case"video":e=s(e);case"formula":if(!e)break;var i=this.quill.getSelection(!0);if(null!=i){var n=i.index+i.length;this.quill.insertEmbed(n,this.root.getAttribute("data-mode"),e,g.default.sources.USER),"formula"===this.root.getAttribute("data-mode")&&this.quill.insertText(n+1," ",g.default.sources.USER),this.quill.setSelection(n+2,g.default.sources.USER)}}this.textbox.value="",this.hide()}}]),t}(k.default);t.BaseTooltip=D,t.default=R},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){this.head=this.tail=null,this.length=0}return e.prototype.append=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.insertBefore(e[0],null),e.length>1&&this.append.apply(this,e.slice(1))},e.prototype.contains=function(e){for(var t,i=this.iterator();t=i();)if(t===e)return!0;return!1},e.prototype.insertBefore=function(e,t){e&&(e.next=t,null!=t?(e.prev=t.prev,null!=t.prev&&(t.prev.next=e),t.prev=e,t===this.head&&(this.head=e)):null!=this.tail?(this.tail.next=e,e.prev=this.tail,this.tail=e):(e.prev=null,this.head=this.tail=e),this.length+=1)},e.prototype.offset=function(e){for(var t=0,i=this.head;null!=i;){if(i===e)return t;t+=i.length(),i=i.next}return-1},e.prototype.remove=function(e){this.contains(e)&&(null!=e.prev&&(e.prev.next=e.next),null!=e.next&&(e.next.prev=e.prev),e===this.head&&(this.head=e.next),e===this.tail&&(this.tail=e.prev),this.length-=1)},e.prototype.iterator=function(e){return void 0===e&&(e=this.head),function(){var t=e;return null!=e&&(e=e.next),t}},e.prototype.find=function(e,t){void 0===t&&(t=!1);for(var i,n=this.iterator();i=n();){var r=i.length();if(e<r||t&&e===r&&(null==i.next||0!==i.next.length()))return[i,e];e-=r}return[null,0]},e.prototype.forEach=function(e){for(var t,i=this.iterator();t=i();)e(t)},e.prototype.forEachAt=function(e,t,i){if(!(t<=0))for(var n,r=this.find(e),a=r[0],o=r[1],s=e-o,l=this.iterator(a);(n=l())&&s<e+t;){var c=n.length();e>s?i(n,e-s,Math.min(t,s+c-e)):i(n,0,Math.min(c,e+t-s)),s+=c}},e.prototype.map=function(e){return this.reduce(function(t,i){return t.push(e(i)),t},[])},e.prototype.reduce=function(e,t){for(var i,n=this.iterator();i=n();)t=e(t,i);return t},e}();t.default=n},function(e,t,i){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=i(17),a=i(1),o={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},s=function(e){function t(t){var i=e.call(this,t)||this;return i.scroll=i,i.observer=new MutationObserver(function(e){i.update(e)}),i.observer.observe(i.domNode,o),i.attach(),i}return n(t,e),t.prototype.detach=function(){e.prototype.detach.call(this),this.observer.disconnect()},t.prototype.deleteAt=function(t,i){this.update(),0===t&&i===this.length()?this.children.forEach(function(e){e.remove()}):e.prototype.deleteAt.call(this,t,i)},t.prototype.formatAt=function(t,i,n,r){this.update(),e.prototype.formatAt.call(this,t,i,n,r)},t.prototype.insertAt=function(t,i,n){this.update(),e.prototype.insertAt.call(this,t,i,n)},t.prototype.optimize=function(t,i){var n=this;void 0===t&&(t=[]),void 0===i&&(i={}),e.prototype.optimize.call(this,i);for(var o=[].slice.call(this.observer.takeRecords());o.length>0;)t.push(o.pop());for(var s=function(e,t){void 0===t&&(t=!0),null!=e&&e!==n&&null!=e.domNode.parentNode&&(null==e.domNode[a.DATA_KEY].mutations&&(e.domNode[a.DATA_KEY].mutations=[]),t&&s(e.parent))},l=function(e){null!=e.domNode[a.DATA_KEY]&&null!=e.domNode[a.DATA_KEY].mutations&&(e instanceof r.default&&e.children.forEach(l),e.optimize(i))},c=t,u=0;c.length>0;u+=1){if(u>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(c.forEach(function(e){var t=a.find(e.target,!0);null!=t&&(t.domNode===e.target&&("childList"===e.type?(s(a.find(e.previousSibling,!1)),[].forEach.call(e.addedNodes,function(e){var t=a.find(e,!1);s(t,!1),t instanceof r.default&&t.children.forEach(function(e){s(e,!1)})})):"attributes"===e.type&&s(t.prev)),s(t))}),this.children.forEach(l),c=[].slice.call(this.observer.takeRecords()),o=c.slice();o.length>0;)t.push(o.pop())}},t.prototype.update=function(t,i){var n=this;void 0===i&&(i={}),t=t||this.observer.takeRecords(),t.map(function(e){var t=a.find(e.target,!0);return null==t?null:null==t.domNode[a.DATA_KEY].mutations?(t.domNode[a.DATA_KEY].mutations=[e],t):(t.domNode[a.DATA_KEY].mutations.push(e),null)}).forEach(function(e){null!=e&&e!==n&&null!=e.domNode[a.DATA_KEY]&&e.update(e.domNode[a.DATA_KEY].mutations||[],i)}),null!=this.domNode[a.DATA_KEY].mutations&&e.prototype.update.call(this,this.domNode[a.DATA_KEY].mutations,i),this.optimize(t,i)},t.blotName="scroll",t.defaultChild="block",t.scope=a.Scope.BLOCK_BLOT,t.tagName="DIV",t}(r.default);t.default=s},function(e,t,i){"use strict";function n(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var i in e)if(e[i]!==t[i])return!1;return!0}var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=i(18),o=i(1),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.formats=function(i){if(i.tagName!==t.tagName)return e.formats.call(this,i)},t.prototype.format=function(i,n){var r=this;i!==this.statics.blotName||n?e.prototype.format.call(this,i,n):(this.children.forEach(function(e){e instanceof a.default||(e=e.wrap(t.blotName,!0)),r.attributes.copy(e)}),this.unwrap())},t.prototype.formatAt=function(t,i,n,r){if(null!=this.formats()[n]||o.query(n,o.Scope.ATTRIBUTE)){this.isolate(t,i).format(n,r)}else e.prototype.formatAt.call(this,t,i,n,r)},t.prototype.optimize=function(i){e.prototype.optimize.call(this,i);var r=this.formats();if(0===Object.keys(r).length)return this.unwrap();var a=this.next;a instanceof t&&a.prev===this&&n(r,a.formats())&&(a.moveChildren(this),a.remove())},t.blotName="inline",t.scope=o.Scope.INLINE_BLOT,t.tagName="SPAN",t}(a.default);t.default=s},function(e,t,i){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=i(18),a=i(1),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.formats=function(i){var n=a.query(t.blotName).tagName;if(i.tagName!==n)return e.formats.call(this,i)},t.prototype.format=function(i,n){null!=a.query(i,a.Scope.BLOCK)&&(i!==this.statics.blotName||n?e.prototype.format.call(this,i,n):this.replaceWith(t.blotName))},t.prototype.formatAt=function(t,i,n,r){null!=a.query(n,a.Scope.BLOCK)?this.format(n,r):e.prototype.formatAt.call(this,t,i,n,r)},t.prototype.insertAt=function(t,i,n){if(null==n||null!=a.query(i,a.Scope.INLINE))e.prototype.insertAt.call(this,t,i,n);else{var r=this.split(t),o=a.create(i,n);r.parent.insertBefore(o,r)}},t.prototype.update=function(t,i){navigator.userAgent.match(/Trident/)?this.build():e.prototype.update.call(this,t,i)},t.blotName="block",t.scope=a.Scope.BLOCK_BLOT,t.tagName="P",t}(r.default);t.default=o},function(e,t,i){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=i(19),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.formats=function(e){},t.prototype.format=function(t,i){e.prototype.formatAt.call(this,0,this.length(),t,i)},t.prototype.formatAt=function(t,i,n,r){0===t&&i===this.length()?this.format(n,r):e.prototype.formatAt.call(this,t,i,n,r)},t.prototype.formats=function(){return this.statics.formats(this.domNode)},t}(r.default);t.default=a},function(e,t,i){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=i(19),a=i(1),o=function(e){function t(t){var i=e.call(this,t)||this;return i.text=i.statics.value(i.domNode),i}return n(t,e),t.create=function(e){return document.createTextNode(e)},t.value=function(e){var t=e.data;return t.normalize&&(t=t.normalize()),t},t.prototype.deleteAt=function(e,t){this.domNode.data=this.text=this.text.slice(0,e)+this.text.slice(e+t)},t.prototype.index=function(e,t){return this.domNode===e?t:-1},t.prototype.insertAt=function(t,i,n){null==n?(this.text=this.text.slice(0,t)+i+this.text.slice(t),this.domNode.data=this.text):e.prototype.insertAt.call(this,t,i,n)},t.prototype.length=function(){return this.text.length},t.prototype.optimize=function(i){e.prototype.optimize.call(this,i),this.text=this.statics.value(this.domNode),0===this.text.length?this.remove():this.next instanceof t&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},t.prototype.position=function(e,t){return void 0===t&&(t=!1),[this.domNode,e]},t.prototype.split=function(e,t){if(void 0===t&&(t=!1),!t){if(0===e)return this;if(e===this.length())return this.next}var i=a.create(this.domNode.splitText(e));return this.parent.insertBefore(i,this.next),this.text=this.statics.value(this.domNode),i},t.prototype.update=function(e,t){var i=this;e.some(function(e){return"characterData"===e.type&&e.target===i.domNode})&&(this.text=this.statics.value(this.domNode))},t.prototype.value=function(){return this.text},t.blotName="text",t.scope=a.Scope.INLINE_BLOT,t}(r.default);t.default=o},function(e,t,i){"use strict";var n=document.createElement("div");if(n.classList.toggle("test-class",!1),n.classList.contains("test-class")){var r=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,t){return arguments.length>1&&!this.contains(e)===!t?t:r.call(this,e)}}String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.substr(t,e.length)===e}),String.prototype.endsWith||(String.prototype.endsWith=function(e,t){var i=this.toString();("number"!==typeof t||!isFinite(t)||Math.floor(t)!==t||t>i.length)&&(t=i.length),t-=e.length;var n=i.indexOf(e,t);return-1!==n&&n===t}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!==typeof e)throw new TypeError("predicate must be a function");for(var t,i=Object(this),n=i.length>>>0,r=arguments[1],a=0;a<n;a++)if(t=i[a],e.call(r,t,a,i))return t}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(e,t){function i(e,t,i){if(e==t)return e?[[g,e]]:[];(i<0||e.length<i)&&(i=null);var r=o(e,t),a=e.substring(0,r);e=e.substring(r),t=t.substring(r),r=s(e,t);var l=e.substring(e.length-r);e=e.substring(0,e.length-r),t=t.substring(0,t.length-r);var u=n(e,t);return a&&u.unshift([g,a]),l&&u.push([g,l]),c(u),null!=i&&(u=h(u,i)),u=d(u)}function n(e,t){var n;if(!e)return[[m,t]];if(!t)return[[f,e]];var a=e.length>t.length?e:t,o=e.length>t.length?t:e,s=a.indexOf(o);if(-1!=s)return n=[[m,a.substring(0,s)],[g,o],[m,a.substring(s+o.length)]],e.length>t.length&&(n[0][0]=n[2][0]=f),n;if(1==o.length)return[[f,e],[m,t]];var c=l(e,t);if(c){var u=c[0],h=c[1],d=c[2],p=c[3],v=c[4],y=i(u,d),b=i(h,p);return y.concat([[g,v]],b)}return r(e,t)}function r(e,t){for(var i=e.length,n=t.length,r=Math.ceil((i+n)/2),o=r,s=2*r,l=new Array(s),c=new Array(s),u=0;u<s;u++)l[u]=-1,c[u]=-1;l[o+1]=0,c[o+1]=0;for(var h=i-n,d=h%2!=0,p=0,g=0,v=0,y=0,b=0;b<r;b++){for(var _=-b+p;_<=b-g;_+=2){var A,E=o+_;A=_==-b||_!=b&&l[E-1]<l[E+1]?l[E+1]:l[E-1]+1;for(var w=A-_;A<i&&w<n&&e.charAt(A)==t.charAt(w);)A++,w++;if(l[E]=A,A>i)g+=2;else if(w>n)p+=2;else if(d){var x=o+h-_;if(x>=0&&x<s&&-1!=c[x]){var T=i-c[x];if(A>=T)return a(e,t,A,w)}}}for(var S=-b+v;S<=b-y;S+=2){var T,x=o+S;T=S==-b||S!=b&&c[x-1]<c[x+1]?c[x+1]:c[x-1]+1;for(var C=T-S;T<i&&C<n&&e.charAt(i-T-1)==t.charAt(n-C-1);)T++,C++;if(c[x]=T,T>i)y+=2;else if(C>n)v+=2;else if(!d){var E=o+h-S;if(E>=0&&E<s&&-1!=l[E]){var A=l[E],w=o+A-E;if(T=i-T,A>=T)return a(e,t,A,w)}}}}return[[f,e],[m,t]]}function a(e,t,n,r){var a=e.substring(0,n),o=t.substring(0,r),s=e.substring(n),l=t.substring(r),c=i(a,o),u=i(s,l);return c.concat(u)}function o(e,t){if(!e||!t||e.charAt(0)!=t.charAt(0))return 0;for(var i=0,n=Math.min(e.length,t.length),r=n,a=0;i<r;)e.substring(a,r)==t.substring(a,r)?(i=r,a=i):n=r,r=Math.floor((n-i)/2+i);return r}function s(e,t){if(!e||!t||e.charAt(e.length-1)!=t.charAt(t.length-1))return 0;for(var i=0,n=Math.min(e.length,t.length),r=n,a=0;i<r;)e.substring(e.length-r,e.length-a)==t.substring(t.length-r,t.length-a)?(i=r,a=i):n=r,r=Math.floor((n-i)/2+i);return r}function l(e,t){function i(e,t,i){for(var n,r,a,l,c=e.substring(i,i+Math.floor(e.length/4)),u=-1,h="";-1!=(u=t.indexOf(c,u+1));){var d=o(e.substring(i),t.substring(u)),p=s(e.substring(0,i),t.substring(0,u));h.length<p+d&&(h=t.substring(u-p,u)+t.substring(u,u+d),n=e.substring(0,i-p),r=e.substring(i+d),a=t.substring(0,u-p),l=t.substring(u+d))}return 2*h.length>=e.length?[n,r,a,l,h]:null}var n=e.length>t.length?e:t,r=e.length>t.length?t:e;if(n.length<4||2*r.length<n.length)return null;var a,l=i(n,r,Math.ceil(n.length/4)),c=i(n,r,Math.ceil(n.length/2));if(!l&&!c)return null;a=c?l&&l[4].length>c[4].length?l:c:l;var u,h,d,p;return e.length>t.length?(u=a[0],h=a[1],d=a[2],p=a[3]):(d=a[0],p=a[1],u=a[2],h=a[3]),[u,h,d,p,a[4]]}function c(e){e.push([g,""]);for(var t,i=0,n=0,r=0,a="",l="";i<e.length;)switch(e[i][0]){case m:r++,l+=e[i][1],i++;break;case f:n++,a+=e[i][1],i++;break;case g:n+r>1?(0!==n&&0!==r&&(t=o(l,a),0!==t&&(i-n-r>0&&e[i-n-r-1][0]==g?e[i-n-r-1][1]+=l.substring(0,t):(e.splice(0,0,[g,l.substring(0,t)]),i++),l=l.substring(t),a=a.substring(t)),0!==(t=s(l,a))&&(e[i][1]=l.substring(l.length-t)+e[i][1],l=l.substring(0,l.length-t),a=a.substring(0,a.length-t))),0===n?e.splice(i-r,n+r,[m,l]):0===r?e.splice(i-n,n+r,[f,a]):e.splice(i-n-r,n+r,[f,a],[m,l]),i=i-n-r+(n?1:0)+(r?1:0)+1):0!==i&&e[i-1][0]==g?(e[i-1][1]+=e[i][1],e.splice(i,1)):i++,r=0,n=0,a="",l=""}""===e[e.length-1][1]&&e.pop();var u=!1;for(i=1;i<e.length-1;)e[i-1][0]==g&&e[i+1][0]==g&&(e[i][1].substring(e[i][1].length-e[i-1][1].length)==e[i-1][1]?(e[i][1]=e[i-1][1]+e[i][1].substring(0,e[i][1].length-e[i-1][1].length),e[i+1][1]=e[i-1][1]+e[i+1][1],e.splice(i-1,1),u=!0):e[i][1].substring(0,e[i+1][1].length)==e[i+1][1]&&(e[i-1][1]+=e[i+1][1],e[i][1]=e[i][1].substring(e[i+1][1].length)+e[i+1][1],e.splice(i+1,1),u=!0)),i++;u&&c(e)}function u(e,t){if(0===t)return[g,e];for(var i=0,n=0;n<e.length;n++){var r=e[n];if(r[0]===f||r[0]===g){var a=i+r[1].length;if(t===a)return[n+1,e];if(t<a){e=e.slice();var o=t-i,s=[r[0],r[1].slice(0,o)],l=[r[0],r[1].slice(o)];return e.splice(n,1,s,l),[n+1,e]}i=a}}throw new Error("cursor_pos is out of bounds!")}function h(e,t){var i=u(e,t),n=i[1],r=i[0],a=n[r],o=n[r+1];if(null==a)return e;if(a[0]!==g)return e;if(null!=o&&a[1]+o[1]===o[1]+a[1])return n.splice(r,2,o,a),p(n,r,2);if(null!=o&&0===o[1].indexOf(a[1])){n.splice(r,2,[o[0],a[1]],[0,a[1]]);var s=o[1].slice(a[1].length);return s.length>0&&n.splice(r+2,0,[o[0],s]),p(n,r,3)}return e}function d(e){for(var t=!1,i=function(e){return e.charCodeAt(0)>=56320&&e.charCodeAt(0)<=57343},n=2;n<e.length;n+=1)e[n-2][0]===g&&function(e){return e.charCodeAt(e.length-1)>=55296&&e.charCodeAt(e.length-1)<=56319}(e[n-2][1])&&e[n-1][0]===f&&i(e[n-1][1])&&e[n][0]===m&&i(e[n][1])&&(t=!0,e[n-1][1]=e[n-2][1].slice(-1)+e[n-1][1],e[n][1]=e[n-2][1].slice(-1)+e[n][1],e[n-2][1]=e[n-2][1].slice(0,-1));if(!t)return e;for(var r=[],n=0;n<e.length;n+=1)e[n][1].length>0&&r.push(e[n]);return r}function p(e,t,i){for(var n=t+i-1;n>=0&&n>=t-1;n--)if(n+1<e.length){var r=e[n],a=e[n+1];r[0]===a[1]&&e.splice(n,2,[r[0],r[1]+a[1]])}return e}var f=-1,m=1,g=0,v=i;v.INSERT=m,v.DELETE=f,v.EQUAL=g,e.exports=v},function(e,t){function i(e){var t=[];for(var i in e)t.push(i);return t}t=e.exports="function"===typeof Object.keys?Object.keys:i,t.shim=i},function(e,t){function i(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function n(e){return e&&"object"==typeof e&&"number"==typeof e.length&&Object.prototype.hasOwnProperty.call(e,"callee")&&!Object.prototype.propertyIsEnumerable.call(e,"callee")||!1}var r="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();t=e.exports=r?i:n,t.supported=i,t.unsupported=n},function(e,t){"use strict";function i(){}function n(e,t,i){this.fn=e,this.context=t,this.once=i||!1}function r(){this._events=new i,this._eventsCount=0}var a=Object.prototype.hasOwnProperty,o="~";Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(o=!1)),r.prototype.eventNames=function(){var e,t,i=[];if(0===this._eventsCount)return i;for(t in e=this._events)a.call(e,t)&&i.push(o?t.slice(1):t);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},r.prototype.listeners=function(e,t){var i=o?o+e:e,n=this._events[i];if(t)return!!n;if(!n)return[];if(n.fn)return[n.fn];for(var r=0,a=n.length,s=new Array(a);r<a;r++)s[r]=n[r].fn;return s},r.prototype.emit=function(e,t,i,n,r,a){var s=o?o+e:e;if(!this._events[s])return!1;var l,c,u=this._events[s],h=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),h){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,i),!0;case 4:return u.fn.call(u.context,t,i,n),!0;case 5:return u.fn.call(u.context,t,i,n,r),!0;case 6:return u.fn.call(u.context,t,i,n,r,a),!0}for(c=1,l=new Array(h-1);c<h;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var d,p=u.length;for(c=0;c<p;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),h){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,i);break;case 4:u[c].fn.call(u[c].context,t,i,n);break;default:if(!l)for(d=1,l=new Array(h-1);d<h;d++)l[d-1]=arguments[d];u[c].fn.apply(u[c].context,l)}}return!0},r.prototype.on=function(e,t,i){var r=new n(t,i||this),a=o?o+e:e;return this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],r]:this._events[a].push(r):(this._events[a]=r,this._eventsCount++),this},r.prototype.once=function(e,t,i){var r=new n(t,i||this,!0),a=o?o+e:e;return this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],r]:this._events[a].push(r):(this._events[a]=r,this._eventsCount++),this},r.prototype.removeListener=function(e,t,n,r){var a=o?o+e:e;if(!this._events[a])return this;if(!t)return 0===--this._eventsCount?this._events=new i:delete this._events[a],this;var s=this._events[a];if(s.fn)s.fn!==t||r&&!s.once||n&&s.context!==n||(0===--this._eventsCount?this._events=new i:delete this._events[a]);else{for(var l=0,c=[],u=s.length;l<u;l++)(s[l].fn!==t||r&&!s[l].once||n&&s[l].context!==n)&&c.push(s[l]);c.length?this._events[a]=1===c.length?c[0]:c:0===--this._eventsCount?this._events=new i:delete this._events[a]}return this},r.prototype.removeAllListeners=function(e){var t;return e?(t=o?o+e:e,this._events[t]&&(0===--this._eventsCount?this._events=new i:delete this._events[t])):(this._events=new i,this._eventsCount=0),this},r.prototype.off=r.prototype.removeListener,r.prototype.addListener=r.prototype.on,r.prototype.setMaxListeners=function(){return this},r.prefixed=o,r.EventEmitter=r,"undefined"!==typeof e&&(e.exports=r)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function s(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t,i){return"object"===("undefined"===typeof t?"undefined":w(t))?Object.keys(t).reduce(function(e,i){return l(e,i,t[i])},e):e.reduce(function(e,n){return n.attributes&&n.attributes[t]?e.push(n):e.insert(n.insert,(0,C.default)({},r({},t,i),n.attributes))},new O.default)}function c(e){if(e.nodeType!==Node.ELEMENT_NODE)return{};return e["__ql-computed-style"]||(e["__ql-computed-style"]=window.getComputedStyle(e))}function u(e,t){for(var i="",n=e.ops.length-1;n>=0&&i.length<t.length;--n){var r=e.ops[n];if("string"!==typeof r.insert)break;i=r.insert+i}return i.slice(-1*t.length)===t}function h(e){return 0!==e.childNodes.length&&["block","list-item"].indexOf(c(e).display)>-1}function d(e,t,i){return e.nodeType===e.TEXT_NODE?i.reduce(function(t,i){return i(e,t)},new O.default):e.nodeType===e.ELEMENT_NODE?[].reduce.call(e.childNodes||[],function(n,r){var a=d(r,t,i);return r.nodeType===e.ELEMENT_NODE&&(a=t.reduce(function(e,t){return t(r,e)},a),a=(r[Y]||[]).reduce(function(e,t){return t(r,e)},a)),n.concat(a)},new O.default):new O.default}function p(e,t,i){return l(i,e,!0)}function f(e,t){var i=j.default.Attributor.Attribute.keys(e),n=j.default.Attributor.Class.keys(e),r=j.default.Attributor.Style.keys(e),a={};return i.concat(n).concat(r).forEach(function(t){var i=j.default.query(t,j.default.Scope.ATTRIBUTE);null!=i&&(a[i.attrName]=i.value(e),a[i.attrName])||(i=Q[t],null==i||i.attrName!==t&&i.keyName!==t||(a[i.attrName]=i.value(e)||void 0),null==(i=K[t])||i.attrName!==t&&i.keyName!==t||(i=K[t],a[i.attrName]=i.value(e)||void 0))}),Object.keys(a).length>0&&(t=l(t,a)),t}function m(e,t){var i=j.default.query(e);if(null==i)return t;if(i.prototype instanceof j.default.Embed){var n={},r=i.value(e);null!=r&&(n[i.blotName]=r,t=(new O.default).insert(n,i.formats(e)))}else"function"===typeof i.formats&&(t=l(t,i.blotName,i.formats(e)));return t}function g(e,t){return u(t,"\n")||t.insert("\n"),t}function v(){return new O.default}function y(e,t){var i=j.default.query(e);if(null==i||"list-item"!==i.blotName||!u(t,"\n"))return t;for(var n=-1,r=e.parentNode;!r.classList.contains("ql-clipboard");)"list"===(j.default.query(r)||{}).blotName&&(n+=1),r=r.parentNode;return n<=0?t:t.compose((new O.default).retain(t.length()-1).retain(1,{indent:n}))}function b(e,t){return u(t,"\n")||(h(e)||t.length()>0&&e.nextSibling&&h(e.nextSibling))&&t.insert("\n"),t}function _(e,t){if(h(e)&&null!=e.nextElementSibling&&!u(t,"\n\n")){var i=e.offsetHeight+parseFloat(c(e).marginTop)+parseFloat(c(e).marginBottom);e.nextElementSibling.offsetTop>e.offsetTop+1.5*i&&t.insert("\n")}return t}function A(e,t){var i={},n=e.style||{};return n.fontStyle&&"italic"===c(e).fontStyle&&(i.italic=!0),n.fontWeight&&(c(e).fontWeight.startsWith("bold")||parseInt(c(e).fontWeight)>=700)&&(i.bold=!0),Object.keys(i).length>0&&(t=l(t,i)),parseFloat(n.textIndent||0)>0&&(t=(new O.default).insert("\t").concat(t)),t}function E(e,t){var i=e.data;if("O:P"===e.parentNode.tagName)return t.insert(i.trim());if(0===i.trim().length&&e.parentNode.classList.contains("ql-clipboard"))return t;if(!c(e.parentNode).whiteSpace.startsWith("pre")){var n=function(e,t){return t=t.replace(/[^\u00a0]/g,""),t.length<1&&e?" ":t};i=i.replace(/\r\n/g," ").replace(/\n/g," "),i=i.replace(/\s\s+/g,n.bind(n,!0)),(null==e.previousSibling&&h(e.parentNode)||null!=e.previousSibling&&h(e.previousSibling))&&(i=i.replace(/^\s+/,n.bind(n,!1))),(null==e.nextSibling&&h(e.parentNode)||null!=e.nextSibling&&h(e.nextSibling))&&(i=i.replace(/\s+$/,n.bind(n,!1)))}return t.insert(i)}Object.defineProperty(t,"__esModule",{value:!0}),t.matchText=t.matchSpacing=t.matchNewline=t.matchBlot=t.matchAttributor=t.default=void 0;var w="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x=function(){function e(e,t){var i=[],n=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(i.push(o.value),!t||i.length!==t);n=!0);}catch(e){r=!0,a=e}finally{try{!n&&s.return&&s.return()}finally{if(r)throw a}}return i}return function(t,i){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),T=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),S=i(3),C=n(S),k=i(2),O=n(k),P=i(0),j=n(P),I=i(5),M=n(I),R=i(10),D=n(R),L=i(9),N=n(L),B=i(36),F=i(37),U=i(13),z=n(U),H=i(26),V=i(38),G=i(39),q=i(40),W=(0,D.default)("quill:clipboard"),Y="__ql-matcher",X=[[Node.TEXT_NODE,E],[Node.TEXT_NODE,b],["br",g],[Node.ELEMENT_NODE,b],[Node.ELEMENT_NODE,m],[Node.ELEMENT_NODE,_],[Node.ELEMENT_NODE,f],[Node.ELEMENT_NODE,A],["li",y],["b",p.bind(p,"bold")],["i",p.bind(p,"italic")],["style",v]],Q=[B.AlignAttribute,V.DirectionAttribute].reduce(function(e,t){return e[t.keyName]=t,e},{}),K=[B.AlignStyle,F.BackgroundStyle,H.ColorStyle,V.DirectionStyle,G.FontStyle,q.SizeStyle].reduce(function(e,t){return e[t.keyName]=t,e},{}),Z=function(e){function t(e,i){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i));return n.quill.root.addEventListener("paste",n.onPaste.bind(n)),n.container=n.quill.addContainer("ql-clipboard"),n.container.setAttribute("contenteditable",!0),n.container.setAttribute("tabindex",-1),n.matchers=[],X.concat(n.options.matchers).forEach(function(e){var t=x(e,2),r=t[0],a=t[1];(i.matchVisual||a!==_)&&n.addMatcher(r,a)}),n}return s(t,e),T(t,[{key:"addMatcher",value:function(e,t){this.matchers.push([e,t])}},{key:"convert",value:function(e){if("string"===typeof e)return this.container.innerHTML=e.replace(/\>\r?\n +\</g,"><"),this.convert();var t=this.quill.getFormat(this.quill.selection.savedRange.index);if(t[z.default.blotName]){var i=this.container.innerText;return this.container.innerHTML="",(new O.default).insert(i,r({},z.default.blotName,t[z.default.blotName]))}var n=this.prepareMatching(),a=x(n,2),o=a[0],s=a[1],l=d(this.container,o,s);return u(l,"\n")&&null==l.ops[l.ops.length-1].attributes&&(l=l.compose((new O.default).retain(l.length()-1).delete(1))),W.log("convert",this.container.innerHTML,l),this.container.innerHTML="",l}},{key:"dangerouslyPasteHTML",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:M.default.sources.API;if("string"===typeof e)this.quill.setContents(this.convert(e),t),this.quill.setSelection(0,M.default.sources.SILENT);else{var n=this.convert(t);this.quill.updateContents((new O.default).retain(e).concat(n),i),this.quill.setSelection(e+n.length(),M.default.sources.SILENT)}}},{key:"onPaste",value:function(e){var t=this;if(!e.defaultPrevented&&this.quill.isEnabled()){var i=this.quill.getSelection(),n=(new O.default).retain(i.index),r=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(M.default.sources.SILENT),setTimeout(function(){n=n.concat(t.convert()).delete(i.length),t.quill.updateContents(n,M.default.sources.USER),t.quill.setSelection(n.length()-i.length,M.default.sources.SILENT),t.quill.scrollingContainer.scrollTop=r,t.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var e=this,t=[],i=[];return this.matchers.forEach(function(n){var r=x(n,2),a=r[0],o=r[1];switch(a){case Node.TEXT_NODE:i.push(o);break;case Node.ELEMENT_NODE:t.push(o);break;default:[].forEach.call(e.container.querySelectorAll(a),function(e){e[Y]=e[Y]||[],e[Y].push(o)})}}),[t,i]}}]),t}(N.default);Z.DEFAULTS={matchers:[],matchVisual:!0},t.default=Z,t.matchAttributor=f,t.matchBlot=m,t.matchNewline=b,t.matchSpacing=_,t.matchText=E},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=function e(t,i,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,i);if(void 0===r){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,i,n)}if("value"in r)return r.value;var o=r.get;if(void 0!==o)return o.call(n)},l=i(6),c=function(e){return e&&e.__esModule?e:{default:e}}(l),u=function(e){function t(){return n(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"optimize",value:function(e){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return s(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),t}(c.default);u.blotName="bold",u.tagName=["STRONG","B"],t.default=u},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function s(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t,i){var n=document.createElement("button");n.setAttribute("type","button"),n.classList.add("ql-"+t),null!=i&&(n.value=i),e.appendChild(n)}function c(e,t){Array.isArray(t[0])||(t=[t]),t.forEach(function(t){var i=document.createElement("span");i.classList.add("ql-formats"),t.forEach(function(e){if("string"===typeof e)l(i,e);else{var t=Object.keys(e)[0],n=e[t];Array.isArray(n)?u(i,t,n):l(i,t,n)}}),e.appendChild(i)})}function u(e,t,i){var n=document.createElement("select");n.classList.add("ql-"+t),i.forEach(function(e){var t=document.createElement("option");!1!==e?t.setAttribute("value",e):t.setAttribute("selected","selected"),n.appendChild(t)}),e.appendChild(n)}Object.defineProperty(t,"__esModule",{value:!0}),t.addControls=t.default=void 0;var h=function(){function e(e,t){var i=[],n=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(i.push(o.value),!t||i.length!==t);n=!0);}catch(e){r=!0,a=e}finally{try{!n&&s.return&&s.return()}finally{if(r)throw a}}return i}return function(t,i){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),d=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),p=i(2),f=n(p),m=i(0),g=n(m),v=i(5),y=n(v),b=i(10),_=n(b),A=i(9),E=n(A),w=(0,_.default)("quill:toolbar"),x=function(e){function t(e,i){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i));if(Array.isArray(n.options.container)){var r=document.createElement("div");c(r,n.options.container),e.container.parentNode.insertBefore(r,e.container),n.container=r}else"string"===typeof n.options.container?n.container=document.querySelector(n.options.container):n.container=n.options.container;if(!(n.container instanceof HTMLElement)){var s;return s=w.error("Container required for toolbar",n.options),o(n,s)}return n.container.classList.add("ql-toolbar"),n.controls=[],n.handlers={},Object.keys(n.options.handlers).forEach(function(e){n.addHandler(e,n.options.handlers[e])}),[].forEach.call(n.container.querySelectorAll("button, select"),function(e){n.attach(e)}),n.quill.on(y.default.events.EDITOR_CHANGE,function(e,t){e===y.default.events.SELECTION_CHANGE&&n.update(t)}),n.quill.on(y.default.events.SCROLL_OPTIMIZE,function(){var e=n.quill.selection.getRange(),t=h(e,1),i=t[0];n.update(i)}),n}return s(t,e),d(t,[{key:"addHandler",value:function(e,t){this.handlers[e]=t}},{key:"attach",value:function(e){var t=this,i=[].find.call(e.classList,function(e){return 0===e.indexOf("ql-")});if(i){if(i=i.slice("ql-".length),"BUTTON"===e.tagName&&e.setAttribute("type","button"),null==this.handlers[i]){if(null!=this.quill.scroll.whitelist&&null==this.quill.scroll.whitelist[i])return void w.warn("ignoring attaching to disabled format",i,e);if(null==g.default.query(i))return void w.warn("ignoring attaching to nonexistent format",i,e)}var n="SELECT"===e.tagName?"change":"click";e.addEventListener(n,function(n){var a=void 0;if("SELECT"===e.tagName){if(e.selectedIndex<0)return;var o=e.options[e.selectedIndex];a=!o.hasAttribute("selected")&&(o.value||!1)}else a=!e.classList.contains("ql-active")&&(e.value||!e.hasAttribute("value")),n.preventDefault();t.quill.focus();var s=t.quill.selection.getRange(),l=h(s,1),c=l[0];if(null!=t.handlers[i])t.handlers[i].call(t,a);else if(g.default.query(i).prototype instanceof g.default.Embed){if(!(a=prompt("Enter "+i)))return;t.quill.updateContents((new f.default).retain(c.index).delete(c.length).insert(r({},i,a)),y.default.sources.USER)}else t.quill.format(i,a,y.default.sources.USER);t.update(c)}),this.controls.push([i,e])}}},{key:"update",value:function(e){var t=null==e?{}:this.quill.getFormat(e);this.controls.forEach(function(i){var n=h(i,2),r=n[0],a=n[1];if("SELECT"===a.tagName){var o=void 0;if(null==e)o=null;else if(null==t[r])o=a.querySelector("option[selected]");else if(!Array.isArray(t[r])){var s=t[r];"string"===typeof s&&(s=s.replace(/\"/g,'\\"')),o=a.querySelector('option[value="'+s+'"]')}null==o?(a.value="",a.selectedIndex=-1):o.selected=!0}else if(null==e)a.classList.remove("ql-active");else if(a.hasAttribute("value")){var l=t[r]===a.getAttribute("value")||null!=t[r]&&t[r].toString()===a.getAttribute("value")||null==t[r]&&!a.getAttribute("value");a.classList.toggle("ql-active",l)}else a.classList.toggle("ql-active",null!=t[r])})}}]),t}(E.default);x.DEFAULTS={},x.DEFAULTS={container:null,handlers:{clean:function(){var e=this,t=this.quill.getSelection();if(null!=t)if(0==t.length){var i=this.quill.getFormat();Object.keys(i).forEach(function(t){null!=g.default.query(t,g.default.Scope.INLINE)&&e.quill.format(t,!1)})}else this.quill.removeFormat(t,y.default.sources.USER)},direction:function(e){var t=this.quill.getFormat().align;"rtl"===e&&null==t?this.quill.format("align","right",y.default.sources.USER):e||"right"!==t||this.quill.format("align",!1,y.default.sources.USER),this.quill.format("direction",e,y.default.sources.USER)},indent:function(e){var t=this.quill.getSelection(),i=this.quill.getFormat(t),n=parseInt(i.indent||0);if("+1"===e||"-1"===e){var r="+1"===e?1:-1;"rtl"===i.direction&&(r*=-1),this.quill.format("indent",n+r,y.default.sources.USER)}},link:function(e){!0===e&&(e=prompt("Enter link URL:")),this.quill.format("link",e,y.default.sources.USER)},list:function(e){var t=this.quill.getSelection(),i=this.quill.getFormat(t);"check"===e?"checked"===i.list||"unchecked"===i.list?this.quill.format("list",!1,y.default.sources.USER):this.quill.format("list","unchecked",y.default.sources.USER):this.quill.format("list",e,y.default.sources.USER)}}},t.default=x,t.addControls=c},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=function e(t,i,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,i);if(void 0===r){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,i,n)}if("value"in r)return r.value;var o=r.get;if(void 0!==o)return o.call(n)},l=i(28),c=function(e){return e&&e.__esModule?e:{default:e}}(l),u=function(e){function t(e,i){n(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.label.innerHTML=i,a.container.classList.add("ql-color-picker"),[].slice.call(a.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(e){e.classList.add("ql-primary")}),a}return a(t,e),o(t,[{key:"buildItem",value:function(e){var i=s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"buildItem",this).call(this,e);return i.style.backgroundColor=e.getAttribute("value")||"",i}},{key:"selectItem",value:function(e,i){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"selectItem",this).call(this,e,i);var n=this.label.querySelector(".ql-color-label"),r=e?e.getAttribute("data-value")||"":"";n&&("line"===n.tagName?n.style.stroke=r:n.style.fill=r)}}]),t}(c.default);t.default=u},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=function e(t,i,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,i);if(void 0===r){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,i,n)}if("value"in r)return r.value;var o=r.get;if(void 0!==o)return o.call(n)},l=i(28),c=function(e){return e&&e.__esModule?e:{default:e}}(l),u=function(e){function t(e,i){n(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.container.classList.add("ql-icon-picker"),[].forEach.call(a.container.querySelectorAll(".ql-picker-item"),function(e){e.innerHTML=i[e.getAttribute("data-value")||""]}),a.defaultItem=a.container.querySelector(".ql-selected"),a.selectItem(a.defaultItem),a}return a(t,e),o(t,[{key:"selectItem",value:function(e,i){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"selectItem",this).call(this,e,i),e=e||this.defaultItem,this.label.innerHTML=e.innerHTML}}]),t}(c.default);t.default=u},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(){function e(t,i){var r=this;n(this,e),this.quill=t,this.boundsContainer=i||document.body,this.root=t.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){r.root.style.marginTop=-1*r.quill.root.scrollTop+"px"}),this.hide()}return r(e,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(e){var t=e.left+e.width/2-this.root.offsetWidth/2,i=e.bottom+this.quill.root.scrollTop;this.root.style.left=t+"px",this.root.style.top=i+"px",this.root.classList.remove("ql-flip");var n=this.boundsContainer.getBoundingClientRect(),r=this.root.getBoundingClientRect(),a=0;if(r.right>n.right&&(a=n.right-r.right,this.root.style.left=t+a+"px"),r.left<n.left&&(a=n.left-r.left,this.root.style.left=t+a+"px"),r.bottom>n.bottom){var o=r.bottom-r.top,s=e.bottom-e.top+o;this.root.style.top=i-s+"px",this.root.classList.add("ql-flip")}return a}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),e}();t.default=a},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){var i=[],n=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(i.push(o.value),!t||i.length!==t);n=!0);}catch(e){r=!0,a=e}finally{try{!n&&s.return&&s.return()}finally{if(r)throw a}}return i}return function(t,i){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function e(t,i,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,i);if(void 0===r){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,i,n)}if("value"in r)return r.value;var o=r.get;if(void 0!==o)return o.call(n)},c=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),u=i(3),h=n(u),d=i(8),p=n(d),f=i(43),m=n(f),g=i(27),v=n(g),y=i(15),b=i(41),_=n(b),A=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],E=function(e){function t(e,i){r(this,t),null!=i.modules.toolbar&&null==i.modules.toolbar.container&&(i.modules.toolbar.container=A);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i));return n.quill.container.classList.add("ql-snow"),n}return o(t,e),c(t,[{key:"extendToolbar",value:function(e){e.container.classList.add("ql-snow"),this.buildButtons([].slice.call(e.container.querySelectorAll("button")),_.default),this.buildPickers([].slice.call(e.container.querySelectorAll("select")),_.default),this.tooltip=new w(this.quill,this.options.bounds),e.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(t,i){e.handlers.link.call(e,!i.format.link)})}}]),t}(m.default);E.DEFAULTS=(0,h.default)(!0,{},m.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(e){if(e){var t=this.quill.getSelection();if(null==t||0==t.length)return;var i=this.quill.getText(t);/^\S+@\S+\.\S+$/.test(i)&&0!==i.indexOf("mailto:")&&(i="mailto:"+i);this.quill.theme.tooltip.edit("link",i)}else this.quill.format("link",!1)}}}}});var w=function(e){function t(e,i){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i));return n.preview=n.root.querySelector("a.ql-preview"),n}return o(t,e),c(t,[{key:"listen",value:function(){var e=this;l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(t){e.root.classList.contains("ql-editing")?e.save():e.edit("link",e.preview.textContent),t.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(t){if(null!=e.linkRange){var i=e.linkRange;e.restoreFocus(),e.quill.formatText(i,"link",!1,p.default.sources.USER),delete e.linkRange}t.preventDefault(),e.hide()}),this.quill.on(p.default.events.SELECTION_CHANGE,function(t,i,n){if(null!=t){if(0===t.length&&n===p.default.sources.USER){var r=e.quill.scroll.descendant(v.default,t.index),a=s(r,2),o=a[0],l=a[1];if(null!=o){e.linkRange=new y.Range(t.index-l,o.length());var c=v.default.formats(o.domNode);return e.preview.textContent=c,e.preview.setAttribute("href",c),e.show(),void e.position(e.quill.getBounds(e.linkRange))}}else delete e.linkRange;e.hide()}})}},{key:"show",value:function(){l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),t}(f.BaseTooltip);w.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),t.default=E},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(29),a=n(r),o=i(36),s=i(38),l=i(64),c=i(65),u=n(c),h=i(66),d=n(h),p=i(67),f=n(p),m=i(37),g=i(26),v=i(39),y=i(40),b=i(56),_=n(b),A=i(68),E=n(A),w=i(27),x=n(w),T=i(69),S=n(T),C=i(70),k=n(C),O=i(71),P=n(O),j=i(72),I=n(j),M=i(73),R=n(M),D=i(13),L=n(D),N=i(74),B=n(N),F=i(75),U=n(F),z=i(57),H=n(z),V=i(41),G=n(V),q=i(28),W=n(q),Y=i(59),X=n(Y),Q=i(60),K=n(Q),Z=i(61),J=n(Z),$=i(108),ee=n($),te=i(62),ie=n(te);a.default.register({"attributors/attribute/direction":s.DirectionAttribute,"attributors/class/align":o.AlignClass,"attributors/class/background":m.BackgroundClass,"attributors/class/color":g.ColorClass,"attributors/class/direction":s.DirectionClass,"attributors/class/font":v.FontClass,"attributors/class/size":y.SizeClass,"attributors/style/align":o.AlignStyle,"attributors/style/background":m.BackgroundStyle,"attributors/style/color":g.ColorStyle,"attributors/style/direction":s.DirectionStyle,"attributors/style/font":v.FontStyle,"attributors/style/size":y.SizeStyle},!0),a.default.register({"formats/align":o.AlignClass,"formats/direction":s.DirectionClass,"formats/indent":l.IndentClass,"formats/background":m.BackgroundStyle,"formats/color":g.ColorStyle,"formats/font":v.FontClass,"formats/size":y.SizeClass,"formats/blockquote":u.default,"formats/code-block":L.default,"formats/header":d.default,"formats/list":f.default,"formats/bold":_.default,"formats/code":D.Code,"formats/italic":E.default,"formats/link":x.default,"formats/script":S.default,"formats/strike":k.default,"formats/underline":P.default,"formats/image":I.default,"formats/video":R.default,"formats/list/item":p.ListItem,"modules/formula":B.default,"modules/syntax":U.default,"modules/toolbar":H.default,"themes/bubble":ee.default,"themes/snow":ie.default,"ui/icons":G.default,"ui/picker":W.default,"ui/icon-picker":K.default,"ui/color-picker":X.default,"ui/tooltip":J.default},!0),t.default=a.default},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.IndentClass=void 0;var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=function e(t,i,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,i);if(void 0===r){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,i,n)}if("value"in r)return r.value;var o=r.get;if(void 0!==o)return o.call(n)},l=i(0),c=function(e){return e&&e.__esModule?e:{default:e}}(l),u=function(e){function t(){return n(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"add",value:function(e,i){if("+1"===i||"-1"===i){var n=this.value(e)||0;i="+1"===i?n+1:n-1}return 0===i?(this.remove(e),!0):s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"add",this).call(this,e,i)}},{key:"canAdd",value:function(e,i){return s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"canAdd",this).call(this,e,i)||s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"canAdd",this).call(this,e,parseInt(i))}},{key:"value",value:function(e){return parseInt(s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,e))||void 0}}]),t}(c.default.Attributor.Class),h=new u("indent","ql-indent",{scope:c.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});t.IndentClass=h},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=i(4),s=function(e){return e&&e.__esModule?e:{default:e}}(o),l=function(e){function t(){return n(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),t}(s.default);l.blotName="blockquote",l.tagName="blockquote",t.default=l},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=i(4),l=function(e){return e&&e.__esModule?e:{default:e}}(s),c=function(e){function t(){return n(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,null,[{key:"formats",value:function(e){return this.tagName.indexOf(e.tagName)+1}}]),t}(l.default);c.blotName="header",c.tagName=["H1","H2","H3","H4","H5","H6"],t.default=c},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function s(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ListItem=void 0;var l=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),c=function e(t,i,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,i);if(void 0===r){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,i,n)}if("value"in r)return r.value;var o=r.get;if(void 0!==o)return o.call(n)},u=i(0),h=n(u),d=i(4),p=n(d),f=i(25),m=n(f),g=function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),l(t,[{key:"format",value:function(e,i){e!==v.blotName||i?c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,i):this.replaceWith(h.default.create(this.statics.scope))}},{key:"remove",value:function(){null==this.prev&&null==this.next?this.parent.remove():c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(e,i){return this.parent.isolate(this.offset(this.parent),this.length()),e===this.parent.statics.blotName?(this.parent.replaceWith(e,i),this):(this.parent.unwrap(),c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replaceWith",this).call(this,e,i))}}],[{key:"formats",value:function(e){return e.tagName===this.tagName?void 0:c(t.__proto__||Object.getPrototypeOf(t),"formats",this).call(this,e)}}]),t}(p.default);g.blotName="list-item",g.tagName="LI";var v=function(e){function t(e){a(this,t);var i=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),n=function(t){if(t.target.parentNode===e){var n=i.statics.formats(e),r=h.default.find(t.target);"checked"===n?r.format("list","unchecked"):"unchecked"===n&&r.format("list","checked")}};return e.addEventListener("touchstart",n),e.addEventListener("mousedown",n),i}return s(t,e),l(t,null,[{key:"create",value:function(e){var i="ordered"===e?"OL":"UL",n=c(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,i);return"checked"!==e&&"unchecked"!==e||n.setAttribute("data-checked","checked"===e),n}},{key:"formats",value:function(e){return"OL"===e.tagName?"ordered":"UL"===e.tagName?e.hasAttribute("data-checked")?"true"===e.getAttribute("data-checked")?"checked":"unchecked":"bullet":void 0}}]),l(t,[{key:"format",value:function(e,t){this.children.length>0&&this.children.tail.format(e,t)}},{key:"formats",value:function(){return r({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(e,i){if(e instanceof g)c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertBefore",this).call(this,e,i);else{var n=null==i?this.length():i.offset(this),r=this.split(n);r.parent.insertBefore(e,r)}}},{key:"optimize",value:function(e){c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e);var i=this.next;null!=i&&i.prev===this&&i.statics.blotName===this.statics.blotName&&i.domNode.tagName===this.domNode.tagName&&i.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(i.moveChildren(this),i.remove())}},{key:"replace",value:function(e){if(e.statics.blotName!==this.statics.blotName){var i=h.default.create(this.statics.defaultChild);e.moveChildren(i),this.appendChild(i)}c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replace",this).call(this,e)}}]),t}(m.default);v.blotName="list",v.scope=h.default.Scope.BLOCK_BLOT,v.tagName=["OL","UL"],v.defaultChild="list-item",v.allowedChildren=[g],t.ListItem=g,t.default=v},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=i(56),s=function(e){return e&&e.__esModule?e:{default:e}}(o),l=function(e){function t(){return n(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),t}(s.default);l.blotName="italic",l.tagName=["EM","I"],t.default=l},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=function e(t,i,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,i);if(void 0===r){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,i,n)}if("value"in r)return r.value;var o=r.get;if(void 0!==o)return o.call(n)},l=i(6),c=function(e){return e&&e.__esModule?e:{default:e}}(l),u=function(e){function t(){return n(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,null,[{key:"create",value:function(e){return"super"===e?document.createElement("sup"):"sub"===e?document.createElement("sub"):s(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e)}},{key:"formats",value:function(e){return"SUB"===e.tagName?"sub":"SUP"===e.tagName?"super":void 0}}]),t}(c.default);u.blotName="script",u.tagName=["SUB","SUP"],t.default=u},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=i(6),s=function(e){return e&&e.__esModule?e:{default:e}}(o),l=function(e){function t(){return n(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),t}(s.default);l.blotName="strike",l.tagName="S",t.default=l},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=i(6),s=function(e){return e&&e.__esModule?e:{default:e}}(o),l=function(e){function t(){return n(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),t}(s.default);l.blotName="underline",l.tagName="U",t.default=l},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=function e(t,i,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,i);if(void 0===r){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,i,n)}if("value"in r)return r.value;var o=r.get;if(void 0!==o)return o.call(n)},l=i(0),c=function(e){return e&&e.__esModule?e:{default:e}}(l),u=i(27),h=["alt","height","width"],d=function(e){function t(){return n(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"format",value:function(e,i){h.indexOf(e)>-1?i?this.domNode.setAttribute(e,i):this.domNode.removeAttribute(e):s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,i)}}],[{key:"create",value:function(e){var i=s(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return"string"===typeof e&&i.setAttribute("src",this.sanitize(e)),i}},{key:"formats",value:function(e){return h.reduce(function(t,i){return e.hasAttribute(i)&&(t[i]=e.getAttribute(i)),t},{})}},{key:"match",value:function(e){return/\.(jpe?g|gif|png)$/.test(e)||/^data:image\/.+;base64/.test(e)}},{key:"sanitize",value:function(e){return(0,u.sanitize)(e,["http","https","data"])?e:"//:0"}},{key:"value",value:function(e){return e.getAttribute("src")}}]),t}(c.default.Embed);d.blotName="image",d.tagName="IMG",t.default=d},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=function e(t,i,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,i);if(void 0===r){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,i,n)}if("value"in r)return r.value;var o=r.get;if(void 0!==o)return o.call(n)},l=i(4),c=i(27),u=function(e){return e&&e.__esModule?e:{default:e}}(c),h=["height","width"],d=function(e){function t(){return n(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"format",value:function(e,i){h.indexOf(e)>-1?i?this.domNode.setAttribute(e,i):this.domNode.removeAttribute(e):s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,i)}}],[{key:"create",value:function(e){var i=s(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return i.setAttribute("frameborder","0"),i.setAttribute("allowfullscreen",!0),i.setAttribute("src",this.sanitize(e)),i}},{key:"formats",value:function(e){return h.reduce(function(t,i){return e.hasAttribute(i)&&(t[i]=e.getAttribute(i)),t},{})}},{key:"sanitize",value:function(e){return u.default.sanitize(e)}},{key:"value",value:function(e){return e.getAttribute("src")}}]),t}(l.BlockEmbed);d.blotName="video",d.className="ql-video",d.tagName="IFRAME",t.default=d},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.FormulaBlot=void 0;var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=function e(t,i,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,i);if(void 0===r){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,i,n)}if("value"in r)return r.value;var o=r.get;if(void 0!==o)return o.call(n)},c=i(35),u=n(c),h=i(5),d=n(h),p=i(9),f=n(p),m=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,null,[{key:"create",value:function(e){var i=l(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return"string"===typeof e&&(window.katex.render(e,i,{throwOnError:!1,errorColor:"#f00"}),i.setAttribute("data-value",e)),i}},{key:"value",value:function(e){return e.getAttribute("data-value")}}]),t}(u.default);m.blotName="formula",m.className="ql-formula",m.tagName="SPAN";var g=function(e){function t(){r(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));if(null==window.katex)throw new Error("Formula module requires KaTeX.");return e}return o(t,e),s(t,null,[{key:"register",value:function(){d.default.register(m,!0)}}]),t}(f.default);t.FormulaBlot=m,t.default=g},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.CodeToken=t.CodeBlock=void 0;var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=function e(t,i,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,i);if(void 0===r){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,i,n)}if("value"in r)return r.value;var o=r.get;if(void 0!==o)return o.call(n)},c=i(0),u=n(c),h=i(5),d=n(h),p=i(9),f=n(p),m=i(13),g=n(m),v=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"replaceWith",value:function(e){this.domNode.textContent=this.domNode.textContent,this.attach(),l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replaceWith",this).call(this,e)}},{key:"highlight",value:function(e){var t=this.domNode.textContent;this.cachedText!==t&&((t.trim().length>0||null==this.cachedText)&&(this.domNode.innerHTML=e(t),this.domNode.normalize(),this.attach()),this.cachedText=t)}}]),t}(g.default);v.className="ql-syntax";var y=new u.default.Attributor.Class("token","hljs",{scope:u.default.Scope.INLINE}),b=function(e){function t(e,i){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i));if("function"!==typeof n.options.highlight)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var o=null;return n.quill.on(d.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(o),o=setTimeout(function(){n.highlight(),o=null},n.options.interval)}),n.highlight(),n}return o(t,e),s(t,null,[{key:"register",value:function(){d.default.register(y,!0),d.default.register(v,!0)}}]),s(t,[{key:"highlight",value:function(){var e=this;if(!this.quill.selection.composing){this.quill.update(d.default.sources.USER);var t=this.quill.getSelection();this.quill.scroll.descendants(v).forEach(function(t){t.highlight(e.options.highlight)}),this.quill.update(d.default.sources.SILENT),null!=t&&this.quill.setSelection(t,d.default.sources.SILENT)}}}]),t}(f.default);b.DEFAULTS={highlight:function(){return null==window.hljs?null:function(e){return window.hljs.highlightAuto(e).value}}(),interval:1e3},t.CodeBlock=v,t.CodeToken=y,t.default=b},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(e,t){e.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(e,t){e.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(e,t){e.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(e,t){e.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BubbleTooltip=void 0;var s=function e(t,i,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,i);if(void 0===r){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,i,n)}if("value"in r)return r.value;var o=r.get;if(void 0!==o)return o.call(n)},l=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),c=i(3),u=n(c),h=i(8),d=n(h),p=i(43),f=n(p),m=i(15),g=i(41),v=n(g),y=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],b=function(e){function t(e,i){r(this,t),null!=i.modules.toolbar&&null==i.modules.toolbar.container&&(i.modules.toolbar.container=y);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i));return n.quill.container.classList.add("ql-bubble"),n}return o(t,e),l(t,[{key:"extendToolbar",value:function(e){this.tooltip=new _(this.quill,this.options.bounds),this.tooltip.root.appendChild(e.container),this.buildButtons([].slice.call(e.container.querySelectorAll("button")),v.default),this.buildPickers([].slice.call(e.container.querySelectorAll("select")),v.default)}}]),t}(f.default);b.DEFAULTS=(0,u.default)(!0,{},f.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(e){e?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var _=function(e){function t(e,i){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i));return n.quill.on(d.default.events.EDITOR_CHANGE,function(e,t,i,r){if(e===d.default.events.SELECTION_CHANGE)if(null!=t&&t.length>0&&r===d.default.sources.USER){n.show(),n.root.style.left="0px",n.root.style.width="",n.root.style.width=n.root.offsetWidth+"px";var a=n.quill.getLines(t.index,t.length);if(1===a.length)n.position(n.quill.getBounds(t));else{var o=a[a.length-1],s=n.quill.getIndex(o),l=Math.min(o.length()-1,t.index+t.length-s),c=n.quill.getBounds(new m.Range(s,l));n.position(c)}}else document.activeElement!==n.textbox&&n.quill.hasFocus()&&n.hide()}),n}return o(t,e),l(t,[{key:"listen",value:function(){var e=this;s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){e.root.classList.remove("ql-editing")}),this.quill.on(d.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!e.root.classList.contains("ql-hidden")){var t=e.quill.getSelection();null!=t&&e.position(e.quill.getBounds(t))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(e){var i=s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"position",this).call(this,e),n=this.root.querySelector(".ql-tooltip-arrow");if(n.style.marginLeft="",0===i)return i;n.style.marginLeft=-1*i-n.offsetWidth/2+"px"}}]),t}(p.BaseTooltip);_.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),t.BubbleTooltip=_,t.default=b},function(e,t,i){e.exports=i(63)}]).default})}).call(t,i(1420).Buffer)},1393:function(e,t,i){"use strict";function n(e){E=e,r(S[0].language)}function r(e,t){w=e||w,x=t||"",E&&0!=E?(console.info(E),Object(b.a)("get_text_list",{project_id:E,language:w},function(e){T=[],x?Object(b.a)("get_text_list",{project_id:E,language:x},function(t){T=t,o(e)},function(){o(e)}):o(e)},function(){T=[],o([])})):(T=[],o([]))}function a(e){C=e}function o(e){A={current:A.current||0,list:e},h(A)}function s(e){A.current=e<A.list.length?e:0}function l(e,t){A.list.map(function(i,n){i.text_id===t?(console.info(i.text!==e),i.text!==e&&(i.text=e,C(A))):i.chinese_id===t&&(i.chinese=e,C(A))})}function c(e){var t=e.join("|");t&&Object(b.a)("trash_text_list",{text_id:t},function(t){for(var i=A.list.length-1;i>=0;i--){console.info(A.list[i].text_id);for(var n=e.length-1;n>=0;n--)if(A.list[i].text_id===e[n]){A.list.splice(i,1);break}}h()})}function u(){return A}function h(){var e=0;if(A.list){for(var t=1;t<5;t++)if(A.list.length>=t){var i=A.list[A.list.length-t].end_time;e=i>e?i:e}x!==w&&T.length&&A.list.map(function(e,t){T[t]?(e.chinese=T[t].text,e.chinese_id=T[t].text_id,e.chinese_start_time=T[t].start_time,e.chinese_end_time=T[t].end_time):(e.chinese="",e.chinese_id="",e.chinese_start_time="",e.chinese_end_time="")})}Object(_.x)("subtitle",e),C(A)}function d(e,t,i,n){console.info(e);for(var a=t||0,o=i||0,s=A.list,l=s.length,c=s.length,u=0;u<s.length;u++)if(s[u].end_time>a){l=u;break}for(var d=0;d<s.length;d++)if(s[d].start_time>=o){c=d;break}for(var p=s.splice(l,c-l),f=e.length-1;f>=0;f--)s.splice(l,0,{end_time:1*e[f].end_time+1*a,language:"zh",project_id:n,start_time:1*e[f].begin_time+1*a,text:e[f].text,text_id:""});var m=[];p.map(function(e,t){m.push(e.text_id)});var g={project_id:n||"0",projectId:n||"0",text_list:s};Object(b.a)("save_text_info",JSON.stringify(g),function(e){m.length?Object(b.a)("trash_text_list",{text_id:m.join("|")},function(e){r(),y.t.success("\u667a\u80fd\u5b57\u5e55\u5236\u4f5c\u5b8c\u6210\uff0c\u5236\u4f5c\u5b8c\u6210\u7684\u5b57\u5e55\u5c06\u4f1a\u8986\u76d6\u8f68\u9053\u4e0a\u5df2\u5b58\u5728\u7684\u5b57\u5e55\u3002")},function(){},"info"):(r(),y.t.success("\u667a\u80fd\u5b57\u5e55\u5236\u4f5c\u5b8c\u6210\uff0c\u5236\u4f5c\u5b8c\u6210\u7684\u5b57\u5e55\u5c06\u4f1a\u8986\u76d6\u8f68\u9053\u4e0a\u5df2\u5b58\u5728\u7684\u5b57\u5e55\u3002"))},function(){},"info"),h()}function p(e){Object(b.a)("save_text_info",JSON.stringify(e),function(e){},function(){},"info"),h()}function f(e){for(var t=A.list,i=t.length-1,n=0;n<t.length;n++)if(t[n].text_id===e.text_id){t.splice(n,1);break}for(var r=0;r<t.length;r++)if(t[r].start_time>e.start_time){i=r;break}A.list.splice(i,0,e);var a={project_id:e.project_id,projectId:e.project_id,text_list:[e]};Object(b.a)("save_text_info",JSON.stringify(a),function(e){},function(){},"info"),h()}function m(e,t,i){A.current;if(e.language=w,i){var n={project_id:e.project_id,projectId:e.project_id,text_list:[{language:x||"zh",text_id:e.chinese_id||"",start_time:e.chinese_start_time,end_time:e.chinese_end_time,text:e.chinese||""}]};Object(b.a)("save_text_info",JSON.stringify(n),function(t){var i={project_id:e.project_id,text_id:e.chinese_id||t[0],start_time:e.chinese_start_time,end_time:e.chinese_end_time,text:e.chinese||""};T.map(function(e,t){e.text_id===i.text_id&&(T[t]=i)}),h()},function(){},"info")}else{var r={project_id:e.project_id,projectId:e.project_id,text_list:[{language:e.language||"zh",text_id:e.text_id||"",start_time:e.start_time,end_time:e.end_time,text:e.text||""}]};Object(b.a)("save_text_info",JSON.stringify(r),function(i){var n=0,r=0,a=[],o={project_id:e.project_id,text_id:e.text_id||i[0],start_time:e.start_time,end_time:e.end_time,text:e.text||"",chinese:e.chinese||"",chinese_id:e.chinese_id||"",chinese_start_time:e.chinese_start_time,chinese_end_time:e.chinese_end_time};A.list.map(function(i,n){i.text_id===o.text_id&&(a=A.list.splice(n,1),i.start_time!==e.start_time||t||(r=n))}),A.list.map(function(t,i){t.start_time<e.start_time&&(n=i+1)}),a.length||setTimeout(function(){v()(".subtitles-content >div").eq(n).find("textarea").focus()}),t&&(A.current=n),A.list.splice(r||n,0,o),h()},function(){},"info")}}i.d(t,"d",function(){return S}),t.c=n,t.b=r,t.h=a,t.f=s,t.g=l,t.k=c,t.a=u,t.e=d,t.i=p,t.l=f,t.j=m;var g=i(70),v=i.n(g),y=i(52),b=i(84),_=i(1373),A={current:0,list:[]},E=0,w="zh",x="",T=[],S=[{language:"zh",desc:"\u4e2d\u6587"},{language:"en",desc:"\u82f1\u8bed"}],C=function(e){}},1394:function(e,t){function i(e,t,i){this.shortMessage=t||"",this.longMessage=i||"",this.rawError=e||"",this.message="gl-shader: "+(t||e||"")+(i?"\n"+i:""),this.stack=(new Error).stack}i.prototype=new Error,i.prototype.name="GLError",i.prototype.constructor=i,e.exports=i},1399:function(e,t,i){var n,r,a;!function(o){r=[i(70),i(1364)],n=o,void 0!==(a="function"===typeof n?n.apply(t,r):n)&&(e.exports=a)}(function(e){return e.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}})},1400:function(e,t,i){var n,r,a;!function(o){r=[i(70),i(1368),i(1401),i(1385),i(1364),i(1366)],n=o,void 0!==(a="function"===typeof n?n.apply(t,r):n)&&(e.exports=a)}(function(e){return e.widget("ui.resizable",e.ui.mouse,{version:"1.12.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(e){return parseFloat(e)||0},_isNumber:function(e){return!isNaN(parseFloat(e))},_hasScroll:function(t,i){if("hidden"===e(t).css("overflow"))return!1;var n=i&&"left"===i?"scrollLeft":"scrollTop",r=!1;return t[n]>0||(t[n]=1,r=t[n]>0,t[n]=0,r)},_create:function(){var t,i=this.options,n=this;this._addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!i.aspectRatio,aspectRatio:i.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:i.helper||i.ghost||i.animate?i.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(e("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,t={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(t),this.originalElement.css("margin",0),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css(t),this._proportionallyResize()),this._setupHandles(),i.autoHide&&e(this.element).on("mouseenter",function(){i.disabled||(n._removeClass("ui-resizable-autohide"),n._handles.show())}).on("mouseleave",function(){i.disabled||n.resizing||(n._addClass("ui-resizable-autohide"),n._handles.hide())}),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,i=function(t){e(t).removeData("resizable").removeData("ui-resizable").off(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_setOption:function(e,t){switch(this._super(e,t),e){case"handles":this._removeHandles(),this._setupHandles()}},_setupHandles:function(){var t,i,n,r,a,o=this.options,s=this;if(this.handles=o.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=e(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),n=this.handles.split(","),this.handles={},i=0;i<n.length;i++)t=e.trim(n[i]),r="ui-resizable-"+t,a=e("<div>"),this._addClass(a,"ui-resizable-handle "+r),a.css({zIndex:o.zIndex}),this.handles[t]=".ui-resizable-"+t,this.element.append(a);this._renderAxis=function(t){var i,n,r,a;t=t||this.element;for(i in this.handles)this.handles[i].constructor===String?this.handles[i]=this.element.children(this.handles[i]).first().show():(this.handles[i].jquery||this.handles[i].nodeType)&&(this.handles[i]=e(this.handles[i]),this._on(this.handles[i],{mousedown:s._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(n=e(this.handles[i],this.element),a=/sw|ne|nw|se|n|s/.test(i)?n.outerHeight():n.outerWidth(),r=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),t.css(r,a),this._proportionallyResize()),this._handles=this._handles.add(this.handles[i])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.on("mouseover",function(){s.resizing||(this.className&&(a=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),s.axis=a&&a[1]?a[1]:"se")}),o.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._handles.remove()},_mouseCapture:function(t){var i,n,r=!1;for(i in this.handles)((n=e(this.handles[i])[0])===t.target||e.contains(n,t.target))&&(r=!0);return!this.options.disabled&&r},_mouseStart:function(t){var i,n,r,a=this.options,o=this.element;return this.resizing=!0,this._renderProxy(),i=this._num(this.helper.css("left")),n=this._num(this.helper.css("top")),a.containment&&(i+=e(a.containment).scrollLeft()||0,n+=e(a.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:i,top:n},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:o.width(),height:o.height()},this.originalSize=this._helper?{width:o.outerWidth(),height:o.outerHeight()}:{width:o.width(),height:o.height()},this.sizeDiff={width:o.outerWidth()-o.width(),height:o.outerHeight()-o.height()},this.originalPosition={left:i,top:n},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio="number"===typeof a.aspectRatio?a.aspectRatio:this.originalSize.width/this.originalSize.height||1,r=e(".ui-resizable-"+this.axis).css("cursor"),e("body").css("cursor","auto"===r?this.axis+"-resize":r),this._addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var i,n,r=this.originalMousePosition,a=this.axis,o=t.pageX-r.left||0,s=t.pageY-r.top||0,l=this._change[a];return this._updatePrevProperties(),!!l&&(i=l.apply(this,[t,o,s]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(i=this._updateRatio(i,t)),i=this._respectSize(i,t),this._updateCache(i),this._propagate("resize",t),n=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),e.isEmptyObject(n)||(this._updatePrevProperties(),this._trigger("resize",t,this.ui()),this._applyChanges()),!1)},_mouseStop:function(t){this.resizing=!1;var i,n,r,a,o,s,l,c=this.options,u=this;return this._helper&&(i=this._proportionallyResizeElements,n=i.length&&/textarea/i.test(i[0].nodeName),r=n&&this._hasScroll(i[0],"left")?0:u.sizeDiff.height,a=n?0:u.sizeDiff.width,o={width:u.helper.width()-a,height:u.helper.height()-r},s=parseFloat(u.element.css("left"))+(u.position.left-u.originalPosition.left)||null,l=parseFloat(u.element.css("top"))+(u.position.top-u.originalPosition.top)||null,c.animate||this.element.css(e.extend(o,{top:l,left:s})),u.helper.height(u.size.height),u.helper.width(u.size.width),this._helper&&!c.animate&&this._proportionallyResize()),e("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var e={};return this.position.top!==this.prevPosition.top&&(e.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(e.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(e.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(e.height=this.size.height+"px"),this.helper.css(e),e},_updateVirtualBoundaries:function(e){var t,i,n,r,a,o=this.options;a={minWidth:this._isNumber(o.minWidth)?o.minWidth:0,maxWidth:this._isNumber(o.maxWidth)?o.maxWidth:1/0,minHeight:this._isNumber(o.minHeight)?o.minHeight:0,maxHeight:this._isNumber(o.maxHeight)?o.maxHeight:1/0},(this._aspectRatio||e)&&(t=a.minHeight*this.aspectRatio,n=a.minWidth/this.aspectRatio,i=a.maxHeight*this.aspectRatio,r=a.maxWidth/this.aspectRatio,t>a.minWidth&&(a.minWidth=t),n>a.minHeight&&(a.minHeight=n),i<a.maxWidth&&(a.maxWidth=i),r<a.maxHeight&&(a.maxHeight=r)),this._vBoundaries=a},_updateCache:function(e){this.offset=this.helper.offset(),this._isNumber(e.left)&&(this.position.left=e.left),this._isNumber(e.top)&&(this.position.top=e.top),this._isNumber(e.height)&&(this.size.height=e.height),this._isNumber(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,i=this.size,n=this.axis;return this._isNumber(e.height)?e.width=e.height*this.aspectRatio:this._isNumber(e.width)&&(e.height=e.width/this.aspectRatio),"sw"===n&&(e.left=t.left+(i.width-e.width),e.top=null),"nw"===n&&(e.top=t.top+(i.height-e.height),e.left=t.left+(i.width-e.width)),e},_respectSize:function(e){var t=this._vBoundaries,i=this.axis,n=this._isNumber(e.width)&&t.maxWidth&&t.maxWidth<e.width,r=this._isNumber(e.height)&&t.maxHeight&&t.maxHeight<e.height,a=this._isNumber(e.width)&&t.minWidth&&t.minWidth>e.width,o=this._isNumber(e.height)&&t.minHeight&&t.minHeight>e.height,s=this.originalPosition.left+this.originalSize.width,l=this.originalPosition.top+this.originalSize.height,c=/sw|nw|w/.test(i),u=/nw|ne|n/.test(i);return a&&(e.width=t.minWidth),o&&(e.height=t.minHeight),n&&(e.width=t.maxWidth),r&&(e.height=t.maxHeight),a&&c&&(e.left=s-t.minWidth),n&&c&&(e.left=s-t.maxWidth),o&&u&&(e.top=l-t.minHeight),r&&u&&(e.top=l-t.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e},_getPaddingPlusBorderDimensions:function(e){for(var t=0,i=[],n=[e.css("borderTopWidth"),e.css("borderRightWidth"),e.css("borderBottomWidth"),e.css("borderLeftWidth")],r=[e.css("paddingTop"),e.css("paddingRight"),e.css("paddingBottom"),e.css("paddingLeft")];t<4;t++)i[t]=parseFloat(n[t])||0,i[t]+=parseFloat(r[t])||0;return{height:i[0]+i[2],width:i[1]+i[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var e,t=0,i=this.helper||this.element;t<this._proportionallyResizeElements.length;t++)e=this._proportionallyResizeElements[t],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(e)),e.css({height:i.height()-this.outerDimensions.height||0,width:i.width()-this.outerDimensions.width||0})},_renderProxy:function(){var t=this.element,i=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||e("<div style='overflow:hidden;'></div>"),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var i=this.originalSize;return{left:this.originalPosition.left+t,width:i.width-t}},n:function(e,t,i){var n=this.originalSize;return{top:this.originalPosition.top+i,height:n.height-i}},s:function(e,t,i){return{height:this.originalSize.height+i}},se:function(t,i,n){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,i,n]))},sw:function(t,i,n){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,i,n]))},ne:function(t,i,n){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,i,n]))},nw:function(t,i,n){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,i,n]))}},_propagate:function(t,i){e.ui.plugin.call(this,t,[i,this.ui()]),"resize"!==t&&this._trigger(t,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.ui.plugin.add("resizable","animate",{stop:function(t){var i=e(this).resizable("instance"),n=i.options,r=i._proportionallyResizeElements,a=r.length&&/textarea/i.test(r[0].nodeName),o=a&&i._hasScroll(r[0],"left")?0:i.sizeDiff.height,s=a?0:i.sizeDiff.width,l={width:i.size.width-s,height:i.size.height-o},c=parseFloat(i.element.css("left"))+(i.position.left-i.originalPosition.left)||null,u=parseFloat(i.element.css("top"))+(i.position.top-i.originalPosition.top)||null;i.element.animate(e.extend(l,u&&c?{top:u,left:c}:{}),{duration:n.animateDuration,easing:n.animateEasing,step:function(){var n={width:parseFloat(i.element.css("width")),height:parseFloat(i.element.css("height")),top:parseFloat(i.element.css("top")),left:parseFloat(i.element.css("left"))};r&&r.length&&e(r[0]).css({width:n.width,height:n.height}),i._updateCache(n),i._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(){var t,i,n,r,a,o,s,l=e(this).resizable("instance"),c=l.options,u=l.element,h=c.containment,d=h instanceof e?h.get(0):/parent/.test(h)?u.parent().get(0):h;d&&(l.containerElement=e(d),/document/.test(h)||h===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight}):(t=e(d),i=[],e(["Top","Right","Left","Bottom"]).each(function(e,n){i[e]=l._num(t.css("padding"+n))}),l.containerOffset=t.offset(),l.containerPosition=t.position(),l.containerSize={height:t.innerHeight()-i[3],width:t.innerWidth()-i[1]},n=l.containerOffset,r=l.containerSize.height,a=l.containerSize.width,o=l._hasScroll(d,"left")?d.scrollWidth:a,s=l._hasScroll(d)?d.scrollHeight:r,l.parentData={element:d,left:n.left,top:n.top,width:o,height:s}))},resize:function(t){var i,n,r,a,o=e(this).resizable("instance"),s=o.options,l=o.containerOffset,c=o.position,u=o._aspectRatio||t.shiftKey,h={top:0,left:0},d=o.containerElement,p=!0;d[0]!==document&&/static/.test(d.css("position"))&&(h=l),c.left<(o._helper?l.left:0)&&(o.size.width=o.size.width+(o._helper?o.position.left-l.left:o.position.left-h.left),u&&(o.size.height=o.size.width/o.aspectRatio,p=!1),o.position.left=s.helper?l.left:0),c.top<(o._helper?l.top:0)&&(o.size.height=o.size.height+(o._helper?o.position.top-l.top:o.position.top),u&&(o.size.width=o.size.height*o.aspectRatio,p=!1),o.position.top=o._helper?l.top:0),r=o.containerElement.get(0)===o.element.parent().get(0),a=/relative|absolute/.test(o.containerElement.css("position")),r&&a?(o.offset.left=o.parentData.left+o.position.left,o.offset.top=o.parentData.top+o.position.top):(o.offset.left=o.element.offset().left,o.offset.top=o.element.offset().top),i=Math.abs(o.sizeDiff.width+(o._helper?o.offset.left-h.left:o.offset.left-l.left)),n=Math.abs(o.sizeDiff.height+(o._helper?o.offset.top-h.top:o.offset.top-l.top)),i+o.size.width>=o.parentData.width&&(o.size.width=o.parentData.width-i,u&&(o.size.height=o.size.width/o.aspectRatio,p=!1)),n+o.size.height>=o.parentData.height&&(o.size.height=o.parentData.height-n,u&&(o.size.width=o.size.height*o.aspectRatio,p=!1)),p||(o.position.left=o.prevPosition.left,o.position.top=o.prevPosition.top,o.size.width=o.prevSize.width,o.size.height=o.prevSize.height)},stop:function(){var t=e(this).resizable("instance"),i=t.options,n=t.containerOffset,r=t.containerPosition,a=t.containerElement,o=e(t.helper),s=o.offset(),l=o.outerWidth()-t.sizeDiff.width,c=o.outerHeight()-t.sizeDiff.height;t._helper&&!i.animate&&/relative/.test(a.css("position"))&&e(this).css({left:s.left-r.left-n.left,width:l,height:c}),t._helper&&!i.animate&&/static/.test(a.css("position"))&&e(this).css({left:s.left-r.left-n.left,width:l,height:c})}}),e.ui.plugin.add("resizable","alsoResize",{start:function(){var t=e(this).resizable("instance"),i=t.options;e(i.alsoResize).each(function(){var t=e(this);t.data("ui-resizable-alsoresize",{width:parseFloat(t.width()),height:parseFloat(t.height()),left:parseFloat(t.css("left")),top:parseFloat(t.css("top"))})})},resize:function(t,i){var n=e(this).resizable("instance"),r=n.options,a=n.originalSize,o=n.originalPosition,s={height:n.size.height-a.height||0,width:n.size.width-a.width||0,top:n.position.top-o.top||0,left:n.position.left-o.left||0};e(r.alsoResize).each(function(){var t=e(this),n=e(this).data("ui-resizable-alsoresize"),r={},a=t.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(a,function(e,t){var i=(n[t]||0)+(s[t]||0);i&&i>=0&&(r[t]=i||null)}),t.css(r)})},stop:function(){e(this).removeData("ui-resizable-alsoresize")}}),e.ui.plugin.add("resizable","ghost",{start:function(){var t=e(this).resizable("instance"),i=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:i.height,width:i.width,margin:0,left:0,top:0}),t._addClass(t.ghost,"ui-resizable-ghost"),!1!==e.uiBackCompat&&"string"===typeof t.options.ghost&&t.ghost.addClass(this.options.ghost),t.ghost.appendTo(t.helper)},resize:function(){var t=e(this).resizable("instance");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=e(this).resizable("instance");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(){var t,i=e(this).resizable("instance"),n=i.options,r=i.size,a=i.originalSize,o=i.originalPosition,s=i.axis,l="number"===typeof n.grid?[n.grid,n.grid]:n.grid,c=l[0]||1,u=l[1]||1,h=Math.round((r.width-a.width)/c)*c,d=Math.round((r.height-a.height)/u)*u,p=a.width+h,f=a.height+d,m=n.maxWidth&&n.maxWidth<p,g=n.maxHeight&&n.maxHeight<f,v=n.minWidth&&n.minWidth>p,y=n.minHeight&&n.minHeight>f;n.grid=l,v&&(p+=c),y&&(f+=u),m&&(p-=c),g&&(f-=u),/^(se|s|e)$/.test(s)?(i.size.width=p,i.size.height=f):/^(ne)$/.test(s)?(i.size.width=p,i.size.height=f,i.position.top=o.top-d):/^(sw)$/.test(s)?(i.size.width=p,i.size.height=f,i.position.left=o.left-h):((f-u<=0||p-c<=0)&&(t=i._getPaddingPlusBorderDimensions(this)),f-u>0?(i.size.height=f,i.position.top=o.top-d):(f=u-t.height,i.size.height=f,i.position.top=o.top+a.height-f),p-c>0?(i.size.width=p,i.position.left=o.left-h):(p=c-t.width,i.size.width=p,i.position.left=o.left+a.width-p))}}),e.ui.resizable})},1401:function(e,t,i){var n,r,a;!function(o){r=[i(70),i(1364)],n=o,void 0!==(a="function"===typeof n?n.apply(t,r):n)&&(e.exports=a)}(function(e){return e.fn.extend({disableSelection:function(){var e="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.on(e+".ui-disableSelection",function(e){e.preventDefault()})}}(),enableSelection:function(){return this.off(".ui-disableSelection")}})})},1402:function(e,t,i){var n,r,a;!function(o){r=[i(70),i(1368),i(1364),i(1366)],n=o,void 0!==(a="function"===typeof n?n.apply(t,r):n)&&(e.exports=a)}(function(e){return e.widget("ui.selectable",e.ui.mouse,{version:"1.12.1",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var t=this;this._addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){t.elementPos=e(t.element[0]).offset(),t.selectees=e(t.options.filter,t.element[0]),t._addClass(t.selectees,"ui-selectee"),t.selectees.each(function(){var i=e(this),n=i.offset(),r={left:n.left-t.elementPos.left,top:n.top-t.elementPos.top};e.data(this,"selectable-item",{element:this,$element:i,left:r.left,top:r.top,right:r.left+i.outerWidth(),bottom:r.top+i.outerHeight(),startselected:!1,selected:i.hasClass("ui-selected"),selecting:i.hasClass("ui-selecting"),unselecting:i.hasClass("ui-unselecting")})})},this.refresh(),this._mouseInit(),this.helper=e("<div>"),this._addClass(this.helper,"ui-selectable-helper")},_destroy:function(){this.selectees.removeData("selectable-item"),this._mouseDestroy()},_mouseStart:function(t){var i=this,n=this.options;this.opos=[t.pageX,t.pageY],this.elementPos=e(this.element[0]).offset(),this.options.disabled||(this.selectees=e(n.filter,this.element[0]),this._trigger("start",t),e(n.appendTo).append(this.helper),this.helper.css({left:t.pageX,top:t.pageY,width:0,height:0}),n.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var n=e.data(this,"selectable-item");n.startselected=!0,t.metaKey||t.ctrlKey||(i._removeClass(n.$element,"ui-selected"),n.selected=!1,i._addClass(n.$element,"ui-unselecting"),n.unselecting=!0,i._trigger("unselecting",t,{unselecting:n.element}))}),e(t.target).parents().addBack().each(function(){var n,r=e.data(this,"selectable-item");if(r)return n=!t.metaKey&&!t.ctrlKey||!r.$element.hasClass("ui-selected"),i._removeClass(r.$element,n?"ui-unselecting":"ui-selected")._addClass(r.$element,n?"ui-selecting":"ui-unselecting"),r.unselecting=!n,r.selecting=n,r.selected=n,n?i._trigger("selecting",t,{selecting:r.element}):i._trigger("unselecting",t,{unselecting:r.element}),!1}))},_mouseDrag:function(t){if(this.dragged=!0,!this.options.disabled){var i,n=this,r=this.options,a=this.opos[0],o=this.opos[1],s=t.pageX,l=t.pageY;return a>s&&(i=s,s=a,a=i),o>l&&(i=l,l=o,o=i),this.helper.css({left:a,top:o,width:s-a,height:l-o}),this.selectees.each(function(){var i=e.data(this,"selectable-item"),c=!1,u={};i&&i.element!==n.element[0]&&(u.left=i.left+n.elementPos.left,u.right=i.right+n.elementPos.left,u.top=i.top+n.elementPos.top,u.bottom=i.bottom+n.elementPos.top,"touch"===r.tolerance?c=!(u.left>s||u.right<a||u.top>l||u.bottom<o):"fit"===r.tolerance&&(c=u.left>a&&u.right<s&&u.top>o&&u.bottom<l),c?(i.selected&&(n._removeClass(i.$element,"ui-selected"),i.selected=!1),i.unselecting&&(n._removeClass(i.$element,"ui-unselecting"),i.unselecting=!1),i.selecting||(n._addClass(i.$element,"ui-selecting"),i.selecting=!0,n._trigger("selecting",t,{selecting:i.element}))):(i.selecting&&((t.metaKey||t.ctrlKey)&&i.startselected?(n._removeClass(i.$element,"ui-selecting"),i.selecting=!1,n._addClass(i.$element,"ui-selected"),i.selected=!0):(n._removeClass(i.$element,"ui-selecting"),i.selecting=!1,i.startselected&&(n._addClass(i.$element,"ui-unselecting"),i.unselecting=!0),n._trigger("unselecting",t,{unselecting:i.element}))),i.selected&&(t.metaKey||t.ctrlKey||i.startselected||(n._removeClass(i.$element,"ui-selected"),i.selected=!1,n._addClass(i.$element,"ui-unselecting"),i.unselecting=!0,n._trigger("unselecting",t,{unselecting:i.element})))))}),!1}},_mouseStop:function(t){var i=this;return this.dragged=!1,e(".ui-unselecting",this.element[0]).each(function(){var n=e.data(this,"selectable-item");i._removeClass(n.$element,"ui-unselecting"),n.unselecting=!1,n.startselected=!1,i._trigger("unselected",t,{unselected:n.element})}),e(".ui-selecting",this.element[0]).each(function(){var n=e.data(this,"selectable-item");i._removeClass(n.$element,"ui-selecting")._addClass(n.$element,"ui-selected"),n.selecting=!1,n.selected=!0,n.startselected=!0,i._trigger("selected",t,{selected:n.element})}),this._trigger("stop",t),this.helper.remove(),!1}})})},1403:function(e,t,i){var n,r,a;!function(o){r=[i(70),i(1364)],n=o,void 0!==(a="function"===typeof n?n.apply(t,r):n)&&(e.exports=a)}(function(e){return e.ui.safeActiveElement=function(e){var t;try{t=e.activeElement}catch(i){t=e.body}return t||(t=e.body),t.nodeName||(t=e.body),t}})},1404:function(e,t,i){var n,r,a;!function(o){r=[i(70),i(1364)],n=o,void 0!==(a="function"===typeof n?n.apply(t,r):n)&&(e.exports=a)}(function(e){return e.ui.safeBlur=function(t){t&&"body"!==t.nodeName.toLowerCase()&&e(t).trigger("blur")}})},1405:function(e,t,i){var n,r,a;!function(o){r=[i(70),i(1368),i(1386),i(1384),i(1387),i(1364),i(1366)],n=o,void 0!==(a="function"===typeof n?n.apply(t,r):n)&&(e.exports=a)}(function(e){return e.widget("ui.sortable",e.ui.mouse,{version:"1.12.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(e,t,i){return e>=t&&e<t+i},_isFloating:function(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))},_create:function(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(e,t){this._super(e,t),"handle"===e&&this._setHandleClassName()},_setHandleClassName:function(){var t=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),e.each(this.items,function(){t._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function(){this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(t,i){var n=null,r=!1,a=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(t),e(t.target).parents().each(function(){if(e.data(this,a.widgetName+"-item")===a)return n=e(this),!1}),e.data(t.target,a.widgetName+"-item")===a&&(n=e(t.target)),!!n&&(!(this.options.handle&&!i&&(e(this.options.handle,n).find("*").addBack().each(function(){this===t.target&&(r=!0)}),!r))&&(this.currentItem=n,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(t,i,n){var r,a,o=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),o.containment&&this._setContainment(),o.cursor&&"auto"!==o.cursor&&(a=this.document.find("body"),this.storedCursor=a.css("cursor"),a.css("cursor",o.cursor),this.storedStylesheet=e("<style>*{ cursor: "+o.cursor+" !important; }</style>").appendTo(a)),o.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",o.opacity)),o.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",o.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!n)for(r=this.containers.length-1;r>=0;r--)this.containers[r]._trigger("activate",t,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!o.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var i,n,r,a,o=this.options,s=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<o.scrollSensitivity?this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop+o.scrollSpeed:t.pageY-this.overflowOffset.top<o.scrollSensitivity&&(this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop-o.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<o.scrollSensitivity?this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft+o.scrollSpeed:t.pageX-this.overflowOffset.left<o.scrollSensitivity&&(this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft-o.scrollSpeed)):(t.pageY-this.document.scrollTop()<o.scrollSensitivity?s=this.document.scrollTop(this.document.scrollTop()-o.scrollSpeed):this.window.height()-(t.pageY-this.document.scrollTop())<o.scrollSensitivity&&(s=this.document.scrollTop(this.document.scrollTop()+o.scrollSpeed)),t.pageX-this.document.scrollLeft()<o.scrollSensitivity?s=this.document.scrollLeft(this.document.scrollLeft()-o.scrollSpeed):this.window.width()-(t.pageX-this.document.scrollLeft())<o.scrollSensitivity&&(s=this.document.scrollLeft(this.document.scrollLeft()+o.scrollSpeed))),!1!==s&&e.ui.ddmanager&&!o.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(n=this.items[i],r=n.item[0],(a=this._intersectsWithPointer(n))&&n.instance===this.currentContainer&&r!==this.currentItem[0]&&this.placeholder[1===a?"next":"prev"]()[0]!==r&&!e.contains(this.placeholder[0],r)&&("semi-dynamic"!==this.options.type||!e.contains(this.element[0],r))){if(this.direction=1===a?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(n))break;this._rearrange(t,n),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,i){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var n=this,r=this.placeholder.offset(),a=this.options.axis,o={};a&&"x"!==a||(o.left=r.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),a&&"y"!==a||(o.top=r.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,e(this.helper).animate(o,parseInt(this.options.revert,10)||500,function(){n._clear(t)})}else this._clear(t,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp(new e.Event("mouseup",{target:null})),"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var i=this._getItemsAsjQuery(t&&t.connected),n=[];return t=t||{},e(i).each(function(){var i=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);i&&n.push((t.key||i[1]+"[]")+"="+(t.key&&t.expression?i[1]:i[2]))}),!n.length&&t.key&&n.push(t.key+"="),n.join("&")},toArray:function(t){var i=this._getItemsAsjQuery(t&&t.connected),n=[];return t=t||{},i.each(function(){n.push(e(t.item||this).attr(t.attribute||"id")||"")}),n},_intersectsWith:function(e){var t=this.positionAbs.left,i=t+this.helperProportions.width,n=this.positionAbs.top,r=n+this.helperProportions.height,a=e.left,o=a+e.width,s=e.top,l=s+e.height,c=this.offset.click.top,u=this.offset.click.left,h="x"===this.options.axis||n+c>s&&n+c<l,d="y"===this.options.axis||t+u>a&&t+u<o,p=h&&d;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?p:a<t+this.helperProportions.width/2&&i-this.helperProportions.width/2<o&&s<n+this.helperProportions.height/2&&r-this.helperProportions.height/2<l},_intersectsWithPointer:function(e){var t,i,n="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height),r="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width);return!(!n||!r)&&(t=this._getDragVerticalDirection(),i=this._getDragHorizontalDirection(),this.floating?"right"===i||"down"===t?2:1:t&&("down"===t?2:1))},_intersectsWithSides:function(e){var t=this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),n=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return this.floating&&r?"right"===r&&i||"left"===r&&!i:n&&("down"===n&&t||"up"===n&&!t)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!==e&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!==e&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){function i(){s.push(this)}var n,r,a,o,s=[],l=[],c=this._connectWith();if(c&&t)for(n=c.length-1;n>=0;n--)for(a=e(c[n],this.document[0]),r=a.length-1;r>=0;r--)(o=e.data(a[r],this.widgetFullName))&&o!==this&&!o.options.disabled&&l.push([e.isFunction(o.options.items)?o.options.items.call(o.element):e(o.options.items,o.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),o]);for(l.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),n=l.length-1;n>=0;n--)l[n][0].each(i);return e(s)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,function(e){for(var i=0;i<t.length;i++)if(t[i]===e.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var i,n,r,a,o,s,l,c,u=this.items,h=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],d=this._connectWith();if(d&&this.ready)for(i=d.length-1;i>=0;i--)for(r=e(d[i],this.document[0]),n=r.length-1;n>=0;n--)(a=e.data(r[n],this.widgetFullName))&&a!==this&&!a.options.disabled&&(h.push([e.isFunction(a.options.items)?a.options.items.call(a.element[0],t,{item:this.currentItem}):e(a.options.items,a.element),a]),this.containers.push(a));for(i=h.length-1;i>=0;i--)for(o=h[i][1],s=h[i][0],n=0,c=s.length;n<c;n++)l=e(s[n]),l.data(this.widgetName+"-item",o),u.push({item:l,instance:o,width:0,height:0,left:0,top:0})},refreshPositions:function(t){this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var i,n,r,a;for(i=this.items.length-1;i>=0;i--)n=this.items[i],n.instance!==this.currentContainer&&this.currentContainer&&n.item[0]!==this.currentItem[0]||(r=this.options.toleranceElement?e(this.options.toleranceElement,n.item):n.item,t||(n.width=r.outerWidth(),n.height=r.outerHeight()),a=r.offset(),n.left=a.left,n.top=a.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)a=this.containers[i].element.offset(),this.containers[i].containerCache.left=a.left,this.containers[i].containerCache.top=a.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(t){t=t||this;var i,n=t.options;n.placeholder&&n.placeholder.constructor!==String||(i=n.placeholder,n.placeholder={element:function(){var n=t.currentItem[0].nodeName.toLowerCase(),r=e("<"+n+">",t.document[0]);return t._addClass(r,"ui-sortable-placeholder",i||t.currentItem[0].className)._removeClass(r,"ui-sortable-helper"),"tbody"===n?t._createTrPlaceholder(t.currentItem.find("tr").eq(0),e("<tr>",t.document[0]).appendTo(r)):"tr"===n?t._createTrPlaceholder(t.currentItem,r):"img"===n&&r.attr("src",t.currentItem.attr("src")),i||r.css("visibility","hidden"),r},update:function(e,r){i&&!n.forcePlaceholderSize||(r.height()||r.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),r.width()||r.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}}),t.placeholder=e(n.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),n.placeholder.update(t,t.placeholder)},_createTrPlaceholder:function(t,i){var n=this;t.children().each(function(){e("<td>&#160;</td>",n.document[0]).attr("colspan",e(this).attr("colspan")||1).appendTo(i)})},_contactContainers:function(t){var i,n,r,a,o,s,l,c,u,h,d=null,p=null;for(i=this.containers.length-1;i>=0;i--)if(!e.contains(this.currentItem[0],this.containers[i].element[0]))if(this._intersectsWith(this.containers[i].containerCache)){if(d&&e.contains(this.containers[i].element[0],d.element[0]))continue;d=this.containers[i],p=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",t,this._uiHash(this)),this.containers[i].containerCache.over=0);if(d)if(1===this.containers.length)this.containers[p].containerCache.over||(this.containers[p]._trigger("over",t,this._uiHash(this)),this.containers[p].containerCache.over=1);else{for(r=1e4,a=null,u=d.floating||this._isFloating(this.currentItem),o=u?"left":"top",s=u?"width":"height",h=u?"pageX":"pageY",n=this.items.length-1;n>=0;n--)e.contains(this.containers[p].element[0],this.items[n].item[0])&&this.items[n].item[0]!==this.currentItem[0]&&(l=this.items[n].item.offset()[o],c=!1,t[h]-l>this.items[n][s]/2&&(c=!0),Math.abs(t[h]-l)<r&&(r=Math.abs(t[h]-l),a=this.items[n],this.direction=c?"up":"down"));if(!a&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[p])return void(this.currentContainer.containerCache.over||(this.containers[p]._trigger("over",t,this._uiHash()),this.currentContainer.containerCache.over=1));a?this._rearrange(t,a,null,!0):this._rearrange(t,null,this.containers[p].element,!0),this._trigger("change",t,this._uiHash()),this.containers[p]._trigger("change",t,this._uiHash(this)),this.currentContainer=this.containers[p],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[p]._trigger("over",t,this._uiHash(this)),this.containers[p].containerCache.over=1}},_createHelper:function(t){var i=this.options,n=e.isFunction(i.helper)?e(i.helper.apply(this.element[0],[t,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return n.parents("body").length||e("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(n[0]),n[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),n[0].style.width&&!i.forceHelperSize||n.width(this.currentItem.width()),n[0].style.height&&!i.forceHelperSize||n.height(this.currentItem.height()),n},_adjustOffsetFromHelper:function(t){"string"===typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,i,n,r=this.options;"parent"===r.containment&&(r.containment=this.helper[0].parentNode),"document"!==r.containment&&"window"!==r.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===r.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===r.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(r.containment)||(t=e(r.containment)[0],i=e(r.containment).offset(),n="hidden"!==e(t).css("overflow"),this.containment=[i.left+(parseInt(e(t).css("borderLeftWidth"),10)||0)+(parseInt(e(t).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(e(t).css("borderTopWidth"),10)||0)+(parseInt(e(t).css("paddingTop"),10)||0)-this.margins.top,i.left+(n?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(e(t).css("borderLeftWidth"),10)||0)-(parseInt(e(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(n?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(e(t).css("borderTopWidth"),10)||0)-(parseInt(e(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,i){i||(i=this.position);var n="absolute"===t?1:-1,r="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,a=/(html|body)/i.test(r[0].tagName);return{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():a?0:r.scrollTop())*n,left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():a?0:r.scrollLeft())*n}},_generatePosition:function(t){var i,n,r=this.options,a=t.pageX,o=t.pageY,s="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(s[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(a=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(o=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(a=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(o=this.containment[3]+this.offset.click.top)),r.grid&&(i=this.originalPageY+Math.round((o-this.originalPageY)/r.grid[1])*r.grid[1],o=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-r.grid[1]:i+r.grid[1]:i,n=this.originalPageX+Math.round((a-this.originalPageX)/r.grid[0])*r.grid[0],a=this.containment?n-this.offset.click.left>=this.containment[0]&&n-this.offset.click.left<=this.containment[2]?n:n-this.offset.click.left>=this.containment[0]?n-r.grid[0]:n+r.grid[0]:n)),{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:s.scrollTop()),left:a-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:s.scrollLeft())}},_rearrange:function(e,t,i,n){i?i[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var r=this.counter;this._delay(function(){r===this.counter&&this.refreshPositions(!n)})},_clear:function(e,t){function i(e,t,i){return function(n){i._trigger(e,n,t._uiHash(t))}}this.reverting=!1;var n,r=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(n in this._storedCSS)"auto"!==this._storedCSS[n]&&"static"!==this._storedCSS[n]||(this._storedCSS[n]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!t&&r.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||r.push(function(e){this._trigger("update",e,this._uiHash())}),this!==this.currentContainer&&(t||(r.push(function(e){this._trigger("remove",e,this._uiHash())}),r.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),r.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),n=this.containers.length-1;n>=0;n--)t||r.push(i("deactivate",this,this.containers[n])),this.containers[n].containerCache.over&&(r.push(i("out",this,this.containers[n])),this.containers[n].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,t||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!t){for(n=0;n<r.length;n++)r[n].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){!1===e.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(t){var i=t||this;return{helper:i.helper,placeholder:i.placeholder||e([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:t?t.element:null}}})})},1406:function(e,t,i){var n,r,a;!function(o){r=[i(70),i(1380),i(1368),i(1364),i(1366)],n=o,void 0!==(a="function"===typeof n?n.apply(t,r):n)&&(e.exports=a)}(function(e){e.widget("ui.droppable",{version:"1.12.1",widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t,i=this.options,n=i.accept;this.isover=!1,this.isout=!0,this.accept=e.isFunction(n)?n:function(e){return e.is(n)},this.proportions=function(){if(!arguments.length)return t||(t={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight});t=arguments[0]},this._addToManager(i.scope),i.addClasses&&this._addClass("ui-droppable")},_addToManager:function(t){e.ui.ddmanager.droppables[t]=e.ui.ddmanager.droppables[t]||[],e.ui.ddmanager.droppables[t].push(this)},_splice:function(e){for(var t=0;t<e.length;t++)e[t]===this&&e.splice(t,1)},_destroy:function(){var t=e.ui.ddmanager.droppables[this.options.scope];this._splice(t)},_setOption:function(t,i){if("accept"===t)this.accept=e.isFunction(i)?i:function(e){return e.is(i)};else if("scope"===t){var n=e.ui.ddmanager.droppables[this.options.scope];this._splice(n),this._addToManager(i)}this._super(t,i)},_activate:function(t){var i=e.ui.ddmanager.current;this._addActiveClass(),i&&this._trigger("activate",t,this.ui(i))},_deactivate:function(t){var i=e.ui.ddmanager.current;this._removeActiveClass(),i&&this._trigger("deactivate",t,this.ui(i))},_over:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this._addHoverClass(),this._trigger("over",t,this.ui(i)))},_out:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this._removeHoverClass(),this._trigger("out",t,this.ui(i)))},_drop:function(i,n){var r=n||e.ui.ddmanager.current,a=!1;return!(!r||(r.currentItem||r.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var n=e(this).droppable("instance");if(n.options.greedy&&!n.options.disabled&&n.options.scope===r.options.scope&&n.accept.call(n.element[0],r.currentItem||r.element)&&t(r,e.extend(n,{offset:n.element.offset()}),n.options.tolerance,i))return a=!0,!1}),!a&&(!!this.accept.call(this.element[0],r.currentItem||r.element)&&(this._removeActiveClass(),this._removeHoverClass(),this._trigger("drop",i,this.ui(r)),this.element)))},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}});var t=e.ui.intersect=function(){function e(e,t,i){return e>=t&&e<t+i}return function(t,i,n,r){if(!i.offset)return!1;var a=(t.positionAbs||t.position.absolute).left+t.margins.left,o=(t.positionAbs||t.position.absolute).top+t.margins.top,s=a+t.helperProportions.width,l=o+t.helperProportions.height,c=i.offset.left,u=i.offset.top,h=c+i.proportions().width,d=u+i.proportions().height;switch(n){case"fit":return c<=a&&s<=h&&u<=o&&l<=d;case"intersect":return c<a+t.helperProportions.width/2&&s-t.helperProportions.width/2<h&&u<o+t.helperProportions.height/2&&l-t.helperProportions.height/2<d;case"pointer":return e(r.pageY,u,i.proportions().height)&&e(r.pageX,c,i.proportions().width);case"touch":return(o>=u&&o<=d||l>=u&&l<=d||o<u&&l>d)&&(a>=c&&a<=h||s>=c&&s<=h||a<c&&s>h);default:return!1}}}();return e.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(t,i){var n,r,a=e.ui.ddmanager.droppables[t.options.scope]||[],o=i?i.type:null,s=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();e:for(n=0;n<a.length;n++)if(!(a[n].options.disabled||t&&!a[n].accept.call(a[n].element[0],t.currentItem||t.element))){for(r=0;r<s.length;r++)if(s[r]===a[n].element[0]){a[n].proportions().height=0;continue e}a[n].visible="none"!==a[n].element.css("display"),a[n].visible&&("mousedown"===o&&a[n]._activate.call(a[n],i),a[n].offset=a[n].element.offset(),a[n].proportions({width:a[n].element[0].offsetWidth,height:a[n].element[0].offsetHeight}))}},drop:function(i,n){var r=!1;return e.each((e.ui.ddmanager.droppables[i.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&t(i,this,this.options.tolerance,n)&&(r=this._drop.call(this,n)||r),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,n)))}),r},dragStart:function(t,i){t.element.parentsUntil("body").on("scroll.droppable",function(){t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i)})},drag:function(i,n){i.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(i,n),e.each(e.ui.ddmanager.droppables[i.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var r,a,o,s=t(i,this,this.options.tolerance,n),l=!s&&this.isover?"isout":s&&!this.isover?"isover":null;l&&(this.options.greedy&&(a=this.options.scope,o=this.element.parents(":data(ui-droppable)").filter(function(){return e(this).droppable("instance").options.scope===a}),o.length&&(r=e(o[0]).droppable("instance"),r.greedyChild="isover"===l)),r&&"isover"===l&&(r.isover=!1,r.isout=!0,r._out.call(r,n)),this[l]=!0,this["isout"===l?"isover":"isout"]=!1,this["isover"===l?"_over":"_out"].call(this,n),r&&"isout"===l&&(r.isout=!1,r.isover=!0,r._over.call(r,n)))}})},dragStop:function(t,i){t.element.parentsUntil("body").off("scroll.droppable"),t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i)}},!1!==e.uiBackCompat&&e.widget("ui.droppable",e.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function(){this._super(),this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super(),this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super(),this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super(),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}}),e.ui.droppable})},1407:function(e,t,i){"use strict";var n={youku:{84:"\u7eaa\u5b9e",85:"\u7efc\u827a",86:"\u5a31\u4e50",87:"\u6559\u80b2",88:"\u65c5\u6e38",89:"\u65f6\u5c1a",90:"\u4eb2\u5b50",91:"\u8d44\u8baf",94:"\u641e\u7b11",95:"\u97f3\u4e50",96:"\u7535\u5f71",97:"\u7535\u89c6\u5267",98:"\u4f53\u80b2",99:"\u6e38\u620f",100:"\u52a8\u6f2b",102:"\u5e7f\u544a",103:"\u751f\u6d3b",104:"\u6c7d\u8f66",105:"\u79d1\u6280",106:"\u5176\u4ed6",171:"\u5fae\u7535\u5f71",172:"\u7f51\u5267",174:"\u62cd\u5ba2",175:"\u521b\u610f\u89c6\u9891",176:"\u81ea\u62cd",177:"\u5c11\u513f"},miaopai:{1:"\u5a31\u4e50",2:"\u5f71\u89c6",3:"\u7efc\u827a",4:"\u641e\u7b11",5:"\u7f8e\u5973",6:"\u521b\u610f",7:"\u79d1\u6280",8:"\u4f53\u80b2",9:"\u5065\u8eab",10:"\u7f8e\u98df",11:"\u52a8\u6f2b",12:"\u6e38\u620f",13:"\u6c7d\u8f66",14:"\u7f8e\u5986",15:"\u80b2\u513f",16:"\u97f3\u4e50",17:"\u65f6\u5c1a",18:"\u793e\u4f1a",19:"\u840c\u8da3",20:"\u821e\u8e48",21:"\u65c5\u884c",22:"\u7537\u795e",23:"\u751f\u6d3b",24:"\u76f8\u58f0\u5c0f\u54c1",25:"\u8d22\u7ecf",26:"\u5065\u5eb7",27:"\u519b\u4e8b",28:"\u5386\u53f2",29:"\u6587\u5316",30:"\u6559\u80b2",31:"\u79d1\u5b66",32:"\u60c5\u611f",33:"\u730e\u5947",34:"\u52a8\u690d\u7269",35:"\u5176\u4ed6"},qq:{"\u4f53\u80b2":{100:"\u7bee\u7403",101:"\u4f53\u80b2\u8da3\u95fb",102:"\u4f53\u80b2\u6559\u5b66",103:"\u8db3\u7403",104:"\u7efc\u5408\u4f53\u80b2",105:"\u5965\u8fd0",106:"\u529f\u592b\u640f\u51fb",107:"\u6781\u9650\u8fd0\u52a8"},"\u5e7f\u544a":{200:"\u5e7f\u544a",201:"\u521b\u610f",202:"\u81ea\u62cd",203:"\u516c\u76ca\u77ed\u7247",204:"\u9752\u6625",205:"\u7edd\u6d3b"},"\u519b\u4e8b":{300:"\u519b\u60c5\u89e3\u8bfb",301:"\u519b\u4e8b\u8282\u76ee",302:"\u6b66\u5668\u88c5\u5907",303:"\u6218\u4e89\u5386\u53f2"},"\u52a8\u6f2b":{400:"\u539f\u521b\u52a8\u753b",401:"\u52a8\u6f2b\u5468\u8fb9",402:"\u8fde\u8f7d\u52a8\u753b",403:"\u5b85\u6587\u5316"},"\u5a31\u4e50":{500:"\u660e\u661f\u8d44\u8baf",501:"\u996d\u62cd\u996d\u5236"},"\u5c11\u513f":{600:"\u513f\u6b4c",601:"\u76ca\u667a",602:"\u5c11\u513f\u8282\u76ee",603:"\u5c11\u513f\u52a8\u753b"},"\u641e\u7b11":{700:"\u7206\u7b11\u539f\u521b",701:"\u6bb5\u5b50\u5267",702:"\u7cd7\u4e8b",703:"\u7206\u7b11\u52a8\u7269",704:"\u76f8\u58f0\u5c0f\u54c1",705:"\u5947\u8da3",706:"\u718a\u5b69\u5b50",707:"\u7206\u7b11\u6076\u641e",708:"\u9b3c\u755c",709:"\u795e\u56de\u590d"},"\u6559\u80b2":{800:"\u516c\u5f00\u8bfe",801:"\u6821\u56ed\u5185\u5916",802:"\u8bed\u8a00\u5b66\u4e60",803:"\u8003\u8bd5",804:"\u804c\u573a\u6559\u80b2",805:"\u6f14\u8bb2",806:"\u4eba\u751f\u8bfe\u5802",807:"\u6280\u80fd\u6559\u5b66",808:"\u77e5\u8bc6\u767e\u79d1"},"\u6570\u7801":{900:"\u4ea7\u54c1\u8d44\u8baf",901:"\u6570\u7801\u5176\u4ed6",902:"\u8bc4\u6d4b",903:"\u667a\u80fd\u751f\u6d3b"},"\u6587\u5316\u5386\u53f2":{1000:"\u5b97\u6559",1001:"\u8bfb\u4e66",1002:"\u827a\u672f",1003:"\u5386\u53f2",1004:"\u6587\u5316"},"\u65b0\u95fb":{1100:"\u6b63\u80fd\u91cf",1101:"\u5947\u95fb\u8da3\u4e8b",1102:"\u793e\u4f1a\u767e\u6001",1103:"\u4eba\u7269\u8bbf\u8c08",1104:"\u6cd5\u5236",1105:"\u56fd\u5185\u65f6\u653f",1106:"\u56fd\u9645\u65f6\u653f",1107:"\u56fd\u9645\u793e\u4f1a",1108:"\u4ea4\u901a"},"\u65c5\u6e38":{1200:"\u65c5\u884c\u8da3\u95fb",1201:"\u65c5\u884c\u653b\u7565",1202:"\u65c5\u9014\u98ce\u5149"},"\u65f6\u5c1a":{1300:"\u65f6\u5c1a\u8d44\u8baf",1301:"\u65f6\u5c1a\u5927\u7247",1302:"\u7537\u58eb\u65f6\u5c1a",1303:"\u7f8e\u5986",1304:"\u6f6e\u6d41\u5962\u54c1",1305:"\u7a7f\u642d",1306:"T\u53f0\u79c0\u573a"},"\u80b2\u513f":{1400:"\u5582\u517b",1401:"\u4fdd\u5065\u62a4\u7406",1402:"\u840c\u5b9d",1403:"\u5b55\u4ea7",1404:"\u65e9\u6559"},"\u6c7d\u8f66":{1500:"\u65b0\u8f66\u901f\u9012",1501:"\u8bd5\u9a7e\u8bc4\u6d4b",1502:"\u73a9\u8f66",1503:"\u8f66\u6a21",1504:"\u7528\u8f66",1505:"\u6c7d\u8f66\u8d44\u8baf",1506:"\u6c7d\u8f66\u5176\u4ed6",1507:"\u6469\u6258\u8f66"},"\u6e38\u620f":{1600:"\u624b\u673a\u6e38\u620f",1601:"\u6e38\u620f\u5468\u8fb9",1602:"\u8fbe\u4eba\u89e3\u8bf4",1603:"\u6e38\u620f\u8282\u76ee",1604:"\u7f51\u7edc\u6e38\u620f",1605:"\u7535\u7ade\u8d5b\u4e8b",1606:"\u5355\u673a\u6e38\u620f",1607:"\u6e38\u620f\u5c55\u4f1a"},"\u751f\u6d3b":{1700:"\u5ba0\u7269",1701:"\u4e24\u6027",1702:"\u661f\u5ea7",1703:"\u98ce\u6c34\u547d\u7406",1704:"\u60c5\u611f",1705:"\u5065\u5eb7",1706:"\u4f11\u95f2",1707:"\u751f\u6d3b\u7a8d\u95e8",1708:"\u5065\u8eab",1709:"\u5bb6\u5c45",1710:"\u5fc3\u7075",1711:"\u5f69\u7968",1712:"\u6444\u5f71"},"\u7535\u5f71":{1800:"\u7535\u5f71\u8d44\u8baf",1801:"\u5fae\u7535\u5f71",1802:"\u7535\u5f71\u5468\u8fb9",1803:"\u5f71\u8bc4",1804:"\u7535\u5f71\u526a\u8f91"},"\u7535\u89c6\u5267":{1900:"\u7535\u89c6\u5267\u526a",1901:"\u7f51\u7edc\u5267",1902:"\u7535\u89c6\u5267\u7247",1903:"\u5267\u96c6\u5468\u8fb9"},"\u79d1\u5b66":{2000:"\u79d1\u5b66\u5176\u4ed6",2001:"\u79d1\u5b66\u5b9e\u9a8c",2002:"\u592a\u7a7a\u63a2\u7d22",2003:"\u79d1\u666e"},"\u79d1\u6280":{2100:"\u79d1\u6280\u524d\u6cbf",2101:"\u4e92\u8054\u7f51",2102:"\u673a\u68b0",2103:"\u822a\u7a7a\u822a\u5929",2104:"\u79d1\u6280\u5947\u8da3"},"\u7eaa\u5f55\u7247":{2200:"\u7f8e\u98df\u7eaa\u5f55",2201:"\u81ea\u7136\u7eaa\u5f55",2202:"\u5386\u53f2\u7eaa\u5f55",2203:"\u793e\u4f1a\u7eaa\u5f55",2204:"\u65c5\u6e38\u7eaa\u5f55",2205:"\u519b\u4e8b\u7eaa\u5f55",2206:"\u4eba\u6587\u7eaa\u5f55"},"\u821e\u8e48":{2300:"\u821e\u8e48\u6559\u5b66",2301:"\u821e\u8e48\u5de5\u4f5c",2302:"\u821e\u8e48\u8fbe\u4eba",2303:"\u660e\u661f\u70ed\u821e"},"\u8d22\u7ecf":{2400:"\u516c\u53f8",2401:"\u521b\u4e1a",2402:"\u7ecf\u6d4e",2403:"\u6d88\u8d39",2404:"\u623f\u5730\u4ea7",2405:"\u6295\u8d44",2406:"\u7406\u8d22",2407:"\u8d22\u7ecf\u4eba\u7269",2408:"\u4ea7\u7ecf",2409:"\u80a1\u5e02",2410:"\u91d1\u878d",2411:"\u6536\u85cf"},"\u97f3\u4e50":{2500:"\u6076\u641e\u97f3\u4e50",2501:"\u6f14\u594f",2502:"\u7ffb\u5531",2503:"\u97f3\u4e50\u8282\u76ee",2504:"\u6f14\u5531\u4f1a",2505:"\u5f71\u89c6\u97f3\u4e50",2506:"\u660e\u661fMV",2507:"\u8fbe\u4ebaMV",2508:"\u558a\u9ea6",2509:"\u97f3\u4e50\u725b\u4eba"},"\u5e7f\u573a\u821e":{2600:"\u5e7f\u573a\u821e\u6559",2601:"\u5e7f\u573a\u821e\u6b23\u8d4f"},"\u7f8e\u98df":{2700:"\u7f8e\u5473\u98df\u8c31",2701:"\u70d8\u7119",2702:"\u5403\u64ad\u5927\u80c3",2703:"\u7f8e\u98df\u730e\u5947"},"\u7efc\u827a":{2800:"\u97f3\u4e50\u771f\u4eba",2801:"\u559c\u5267\u8282\u76ee",2802:"\u8131\u53e3\u79c0",2803:"\u771f\u4eba\u79c0",2804:"\u60c5\u611f\u8282\u76ee",2805:"\u9b54\u672f",2806:"\u620f\u66f2",2807:"\u821e\u53f0\u5267",2808:"\u5176\u4ed6\u7efc\u827a"}},toutiao:{1:"\u5f71\u89c6",2:"\u6c7d\u8f66",3:"\u97f3\u4e50",4:"\u52a8\u7269",5:"\u4f53\u80b2",6:"\u65c5\u6e38",7:"\u6e38\u620f",8:"\u641e\u7b11",9:"\u5a31\u4e50",10:"\u65b0\u95fb",11:"\u751f\u6d3b",12:"\u6559\u80b2",13:"\u79d1\u6280",14:"\u793e\u4f1a",15:"\u519b\u4e8b",16:"\u52a8\u6f2b",17:"\u5386\u53f2",18:"\u4e2d\u56fd\u65b0\u5531\u5c06",19:"\u4e09\u519c",20:"\u5176\u4ed6"},bilibili:{"\u52a8\u753b":{24:"MAD\xb7AMV",25:"MMD\xb73D",47:"\u77ed\u7247\xb7\u624b\u4e66\xb7\u914d\u97f3",27:"\u7efc\u5408"},"\u97f3\u4e50":{28:"\u539f\u521b\u97f3\u4e50",31:"\u7ffb\u5531",30:"VOCALOID\xb7UTAU",59:"\u6f14\u594f",29:"\u4e09\u6b21\u5143\u97f3\u4e50",54:"OP/ED/OST",130:"\u97f3\u4e50\u9009\u96c6"},"\u6e38\u620f":{17:"\u5355\u673a\u6e38\u620f",171:"\u7535\u5b50\u7ade\u6280",172:"\u624b\u673a\u6e38\u620f",65:"\u7f51\u7edc\u6e38\u620f",173:"\u684c\u6e38\u68cb\u724c",121:"GMV",136:"\u97f3\u6e38",19:"Mugen"},"\u5a31\u4e50":{71:"\u7efc\u827a",137:"\u660e\u661f",131:"Korea\u76f8\u5173"},"\u7535\u89c6\u5267":{185:"\u56fd\u4ea7\u5267",187:"\u6d77\u5916\u5267"},"\u756a\u5267":{33:"\u8fde\u8f7d\u52a8\u753b",32:"\u5b8c\u7ed3\u52a8\u753b",51:"\u8d44\u8baf",152:"\u5b98\u65b9\u5ef6\u4f38"},"\u7535\u5f71":{147:"\u534e\u8bed\u7535\u5f71",145:"\u6b27\u7f8e\u7535\u5f71",146:"\u65e5\u672c\u7535\u5f71",83:"\u5176\u4ed6\u56fd\u5bb6"},"\u79d1\u6280":{124:"\u8da3\u5473\u79d1\u666e\u4eba\u6587",122:"\u91ce\u751f\u6280\u672f\u534f\u4f1a",39:"\u6f14\u8bb2\xb7\u516c\u5f00\u8bfe",96:"\u661f\u6d77",95:"\u6570\u7801",98:"\u673a\u68b0",176:"\u6c7d\u8f66"},"\u9b3c\u755c":{22:"\u9b3c\u755c\u8c03\u6559",26:"\u97f3MAD",126:"\u4eba\u529bVOCALOID",127:"\u6559\u7a0b\u6f14\u793a"},"\u821e\u8e48":{20:"\u5b85\u821e",154:"\u4e09\u6b21\u5143\u821e\u8e48",156:"\u821e\u8e48\u6559\u7a0b"},"\u65f6\u5c1a":{157:"\u7f8e\u5986",158:"\u670d\u9970",164:"\u5065\u8eab",159:"\u8d44\u8baf"},"\u751f\u6d3b":{138:"\u641e\u7b11",21:"\u65e5\u5e38",76:"\u7f8e\u98df\u5708",75:"\u52a8\u7269\u5708",161:"\u624b\u5de5",162:"\u7ed8\u753b",175:"ASMR",163:"\u8fd0\u52a8",174:"\u5176\u4ed6"},"\u5e7f\u544a":{166:"\u5e7f\u544a"},"\u56fd\u521b":{153:"\u56fd\u4ea7\u52a8\u753b",168:"\u56fd\u4ea7\u539f\u521b\u76f8\u5173",169:"\u5e03\u888b\u620f",170:"\u8d44\u8baf"},"\u7eaa\u5f55\u7247":{37:"\u4eba\u6587\u5386\u53f2",178:"\u79d1\u5b66\u63a2\u7d22",179:"\u70ed\u8840\u519b\u4e8b",180:"\u820c\u5c16\u4e0a\u7684\u65c5\u884c"},"\u5f71\u89c6":{182:"\u5f71\u89c6\u6742\u8c08",183:"\u5f71\u89c6\u526a\u8f91",85:"\u77ed\u7247",184:"\u9884\u544a\xb7\u8d44\u8baf",86:"\u7279\u6444"}},baijiahao:{"\u5f71\u89c6":{"001":"\u7231\u60c5","002":"\u52a8\u4f5c","003":"\u6b66\u4fa0","004":"\u529f\u592b","005":"\u72af\u7f6a","006":"\u641e\u7b11","007":"\u5bb6\u5ead","008":"\u79d1\u5e7b","009":"\u50f5\u5c38","010":"\u6050\u6016\u60ca\u609a","011":"\u4f26\u7406","012":"\u5947\u5e7b\u9b54\u5e7b","013":"\u795e\u8bdd","014":"\u9752\u6625","015":"\u60ac\u7591\u63a8\u7406","016":"\u519b\u65c5","017":"\u4e2d\u56fd\u8fd1\u4ee3\u6218\u4e89","018":"\u4e16\u754c\u8fd1\u4ee3\u6218\u4e89","019":"\u804c\u573a","020":"\u5bab\u6597","021":"\u5386\u53f2","022":"\u5bab\u5ef7","023":"\u7a7f\u8d8a","024":"\u5f71\u89c6\u5468\u8fb9"},"\u5a31\u4e50":{"025":"\u8131\u53e3\u79c0","026":"\u76f8\u4eb2","027":"\u6781\u9650\u6311\u6218","028":"\u804c\u573a\u7c7b","029":"\u6587\u7269\u9274\u5b9d","030":"\u6587\u5316","031":"\u76ca\u667a","032":"\u5c11\u513f/\u4eb2\u5b50","033":"\u60c5\u611f/\u4f26\u7406","034":"\u9b54\u672f\u6742\u6280","035":"\u76f8\u58f0\u5c0f\u54c1","036":"\u660e\u661f\u5a31\u4e50","037":"\u5a31\u4e50\u5468\u8fb9"},"\u6e38\u620f":{"038":"MOBA","039":"\u6c99\u76d2\u7c7b","040":"\u5361\u724c\u7c7b","041":"\u5c04\u51fb\u7c7b","042":"\u89d2\u8272\u626e\u6f14\u7c7b","043":"\u97f3\u4e50\u7c7b","044":"\u52a8\u4f5c\u5192\u9669\u7c7b","045":"\u751f\u5b58\u7c7b","046":"\u7ecf\u8425\u7b56\u7565\u7c7b","047":"\u4f11\u95f2\u7c7b","048":"\u771f\u4eba\u7eb8\u724c\u7c7b","049":"\u6e38\u620f\u8d44\u8baf","050":"\u6e38\u620f\u5468\u8fb9"},"\u97f3\u4e50":{"051":"\u6d41\u884c\u4e50","052":"\u6447\u6eda\u4e50","053":"\u6c11\u8c23","054":"\u563b\u54c8\u4e50","055":"\u7535\u5b50\u4e50","056":"DJ\u821e\u66f2","057":"\u5668\u4e50","058":"\u97f3\u4e50\u5468\u8fb9","059":"\u6c11\u65cf"},"\u641e\u7b11\u8da3\u5473":{"060":"\u6bb5\u5b50\u5267","061":"\u6076\u641e\u8da3\u73a9","062":"\u7cd7\u4e8b\u56e7\u6599","063":"\u9b3c\u755c","064":"\u5410\u69fd","065":"\u8857\u5934\u91c7\u8bbf"},"\u4f53\u80b2":{"066":"\u7bee\u7403","067":"\u8db3\u7403","068":"\u4e52\u4e53\u7403","069":"\u7f51\u7403","070":"\u7fbd\u6bdb\u7403","071":"\u53f0\u7403","072":"\u6392\u7403","073":"\u6e38\u6cf3","074":"\u5c04\u7bad","075":"\u7530\u5f84","076":"\u81ea\u884c\u8f66","077":"\u51fb\u5251","078":"\u4f53\u64cd","079":"\u5c04\u51fb","080":"\u8d5b\u8247","081":"\u4e3e\u91cd","082":"\u4fdd\u9f84\u7403","083":"\u68d2\u5792\u7403","084":"\u8c61\u68cb","085":"\u56f4\u68cb","086":"\u9ad8\u5c14\u592b\u7403","087":"\u8f6e\u6ed1","088":"\u6cf0\u62f3","089":"\u62f3\u51fb","090":"\u640f\u51fb","091":"\u67d4\u9053","092":"\u8dc6\u62f3\u9053","093":"\u6454\u89d2","094":"\u6b66\u672f","095":"\u957f\u7248","096":"\u6ed1\u677f","097":"\u6500\u5ca9","098":"\u8dd1\u9177","099":"\u51b2\u6d6a",100:"\u8d5b\u8f66",101:"\u94c1\u4eba\u4e09\u9879",102:"\u4f53\u80b2\u8da3\u95fb",103:"\u4f53\u80b2\u5468\u8fb9"},"\u751f\u6d3b":{104:"\u5065\u8eab\u8fd0\u52a8",105:"\u751f\u6d3b\u5c0f\u6280\u5de7",106:"\u56ed\u827a",107:"\u5065\u5eb7\u517b\u751f",108:"\u5a5a\u5ac1",109:"\u4e24\u6027",110:"\u661f\u5ea7",111:"\u547d\u7406",112:"\u98ce\u6c34",113:"\u6237\u5916\u4f11\u95f2",114:"\u5bb6\u5c45"},"\u5927\u81ea\u7136":{115:"\u5446\u840c",116:"\u91ce\u6027",117:"\u73af\u7403\u81ea\u7136"},"\u79d1\u6280":{118:"\u673a\u68b0",119:"\u79d1\u6280\u5947\u8da3",120:"\u592a\u7a7a\u63a2\u7d22",121:"\u822a\u5929\u822a\u7a7a",122:"\u79d1\u666e",123:"\u4e92\u8054\u7f51",124:"\u6570\u7801",125:"\u4eba\u5de5\u667a\u80fd",126:"\u79d1\u5b66\u5b9e\u9a8c"},"\u793e\u4f1a":{127:"\u707e\u96be\u4e8b\u6545",128:"\u4e09\u519c",129:"\u6c11\u751f",130:"\u6b63\u80fd\u91cf",131:"\u6cd5\u5236",132:"\u5947\u95fb",133:"\u5730\u533a\u53d1\u5c55"},"\u821e\u8e48":{134:"\u5e7f\u573a\u821e",135:"\u6027\u611f\u70ed\u821e",136:"\u4e8c\u6b21\u5143\u821e\u8e48",137:"\u5c11\u513f\u821e\u8e48",138:"\u827a\u672f\u821e\u8e48",139:"\u70ab\u9177\u821e\u8e48"},"\u7f8e\u98df":{140:"\u820c\u5c16\u4e0a\u7684\u7f8e\u98df",141:"\u7f8e\u5473\u98df\u8c31",142:"\u5403\u64ad\u5927\u80c3\u738b",143:"\u7f8e\u98df\u730e\u5947"},"\u6559\u80b2":{144:"\u5b66\u6821\u6559\u80b2",145:"\u804c\u4e1a\u6559\u80b2",146:"\u5174\u8da3\u5b66\u4e60",147:"\u4eba\u751f\u5bfc\u5e08",148:"\u8003\u8bd5\u5468\u8fb9"},"\u6587\u5316\u5386\u53f2":{149:"\u4e2d\u56fd\u6b63\u53f2",150:"\u4e16\u754c\u6b63\u53f2",151:"\u91ce\u53f2\u79d8\u95fb",152:"\u6c11\u4fd7",153:"\u6587\u5316\u827a\u672f",154:"\u5b97\u6559",155:"\u620f\u66f2",156:"\u8003\u53e4"},"\u52a8\u6f2b":{157:"\u56fd\u4ea7\u52a8\u6f2b",158:"\u65e5\u672c\u52a8\u6f2b",159:"\u97e9\u56fd\u52a8\u6f2b",160:"\u6b27\u7f8e\u52a8\u6f2b",161:"\u52a8\u6f2b\u8d44\u8baf"},"\u519b\u4e8b":{162:"\u519b\u53f2",163:"\u519b\u4e8b\u8bc4\u8bba",164:"\u5175\u5668\u88c5\u5907",165:"\u8bad\u7ec3\u6f14\u620f",166:"\u9605\u5175",167:"\u519b\u4e8b\u79d1\u666e",168:"\u519b\u4e8b\u5468\u8fb9"},"\u6c7d\u8f66":{176:"\u8f66\u8bc4",177:"\u7528\u8f66",178:"\u73a9\u8f66",179:"\u8f66\u7ad9",180:"\u5ba3\u4f20\u7247",181:"\u9a7e\u8003",182:"\u6c7d\u8f66\u5468\u8fb9",183:"\u5b89\u5168\u51fa\u884c"},"\u65f6\u5c1a":{184:"\u7f8e\u5986\u7f8e\u53d1",185:"\u7ea2\u6bef\u79c0\u573a",186:"\u9ad8\u7aef\u5962\u54c1",187:"\u65f6\u5c1a\u7efc\u827a",188:"\u98ce\u5c1a\u5927\u7247",189:"\u6f6e\u6d41\u7a7f\u642d",190:"\u65f6\u5c1a\u8d44\u8baf"},"\u4eb2\u5b50":{191:"\u840c\u5b9d",192:"\u65e9\u6559",193:"\u5582\u517b",194:"\u5b55\u4ea7",195:"\u513f\u7ae5\u65f6\u5c1a"},"\u65f6\u653f":{196:"\u56fd\u9645\u65f6\u653f",197:"\u56fd\u5185\u65f6\u653f"},"\u65c5\u6e38":{198:"\u65c5\u884c\u653b\u7565",199:"\u65c5\u9014\u8da3\u95fb",200:"\u65c5\u9014\u98ce\u5149"},"\u8d22\u7ecf":{201:"\u6295\u8d44\u7406\u8d22",202:"\u516c\u53f8\u7ecf\u7ba1",203:"\u98ce\u4e91\u4eba\u7269",204:"\u6c11\u751f\u81f4\u5bcc",205:"\u623f\u4ea7",206:"\u5b8f\u89c2\u7ecf\u6d4e"},"\u5176\u4ed6":{207:"\u5e7f\u544a"}},iqiyi:{1:"\u7535\u5f71",2:"\u7535\u89c6\u5267",3:"\u7eaa\u5f55\u7247",4:"\u52a8\u6f2b",5:"\u97f3\u4e50",6:"\u7efc\u827a",7:"\u5a31\u4e50",8:"\u6e38\u620f",9:"\u65c5\u6e38",10:"\u7247\u82b1",12:"\u6559\u80b2",13:"\u65f6\u5c1a",15:"\u5c11\u513f",16:"\u5fae\u7535\u5f71",17:"\u4f53\u80b2",20:"\u5e7f\u544a",21:"\u751f\u6d3b",22:"\u641e\u7b11",24:"\u8d22\u7ecf",25:"\u8d44\u8baf",26:"\u6c7d\u8f66",27:"\u539f\u521b",28:"\u519b\u4e8b",29:"\u6bcd\u5a74",30:"\u79d1\u6280",31:"\u8131\u53e3\u79c0",32:"\u5065\u5eb7",33:"\u516c\u76ca"},youtube:{1:"Film & Animation",2:"Autos & Vehicles",10:"Music",15:"Pets & Animals",17:"Sports",18:"Short Movies",19:"Travel & Events",20:"Gaming",21:"Videoblogging",22:"People & Blogs",23:"Comedy",24:"Entertainment",25:"News & Politics",26:"Howto & Style",27:"Education",28:"Science & Technology",29:"Nonprofits & Activism",30:"Movies",31:"Anime/Animation",32:"Action/Adventure",33:"Classics",35:"Documentary",36:"Drama",37:"Family",38:"Foreign",39:"Horror",40:"Sci-Fi/Fantasy",41:"Thriller",42:"Shorts",43:"Shows",44:"Trailers"}};t.a=n},1408:function(e,t,i){e.exports=i.p+"static/media/defult.01965f3d.png"},1409:function(e,t,i){var n=i(1410);"string"===typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0};r.transform=void 0;i(71)(n,r);n.locals&&(e.exports=n.locals)},1410:function(e,t,i){t=e.exports=i(59)(!1),t.push([e.i,"@keyframes k-loadingR {\n  0% {\n    opacity: 1;\n    background: #1890FF; }\n  30% {\n    opacity: .7;\n    background: #1890FF; }\n  60% {\n    opacity: .5;\n    background: #1890FF; }\n  75% {\n    opacity: .7;\n    background: #1890FF; }\n  100% {\n    opacity: 1;\n    background: #1890FF; } }\n\n.k-square-holder2 {\n  margin-left: 48%;\n  width: 50px;\n  margin-top: 8%; }\n\n.k-square4 {\n  display: inline-block;\n  width: 15px;\n  height: 15px;\n  margin: 0 5px;\n  background: #1890FF;\n  opacity: 1;\n  animation: k-loadingR 2.8s infinite; }\n\n.k-square4b {\n  animation-delay: .7s; }\n\n.k-square4c {\n  animation-delay: 2.1s; }\n\n.k-square4d {\n  animation-delay: 1.4s; }\n",""])},1411:function(e,t,i){"use strict";var n={project_id:"0",name:"\u9879\u76ee",duration:123,portrait:!1,text_info:{font_size:50,status:!1,font_color:"ffffff",font_name:"FZShuSong-Z01S",background_color:"000000",alpha:0,position_x:"middle",position_y:50},auto_indent:!0,themes:"zhuti",theme_id:"",video_list:[{name:"\u56fe\u50cf\u8f68",order:1,volume:0,duration:123,update_time:"2017-08-02 12:21:12",lock_track:!1,obj_list:[]},{name:"\u56fe\u50cf\u8f68",order:1,volume:100,duration:123,update_time:"2017-08-02 12:21:12",lock_track:!1,obj_list:[]}],audio_list:[{name:"\u97f3\u9891\u8f68",order:1,update_time:"2017-08-02 12:21:12",volume:100,lock_track:!1,obj_list:[]}]};t.a=n},1412:function(e,t,i){"use strict";var n=i(70),r=i.n(n),a=i(84),o=i(1391),s=i(1373),l=i(518),c=i.n(l),u=10,h=10;Object(o.i)(function(e){e.map(function(e,t){var i=o.k[e.media_id];2!==e.status&&5!==e.status||(o.j[e.media_id]={},delete o.k[e.media_id]),1===e.status&&(o.j[e.media_id]={videoPreviewImg:e.video_preview_img||"",audioPreviewImg:e.audio_preview_img||""},i&&i.map(function(e,t){d(e)}),delete o.k[e.media_id])})});var d=function e(t,i,n,l){u=i||u,h=n||h;var d=t.attr("data-duration"),p=t.attr("data-mediaType"),f=t.attr("data-mediaId"),m=t.attr("data-mediaUrl"),g=t.attr("data-videoPreviewImg")||"",v=t.attr("data-audioPreviewImg")||"",y=t.attr("data-mediaUrl")&&-1!==t.attr("data-mediaUrl").toLowerCase().indexOf(".gif"),b=(t.attr("data-uploading"),t.attr("data-name")),_=t.attr("data-subType"),A=t.attr("data-thumbnail"),E=t.attr("data-startTime"),w=t.attr("data-endTime"),x=t.attr("data-startRange"),T=t.attr("data-endRange"),S=t.attr("data-layer"),C=t.hasClass("mater-main");("video"===p&&!g||"audio"===p&&!v)&&(o.j[f]?(g=o.j[f].videoPreviewImg||"",v=o.j[f].audioPreviewImg||""):(o.k[f]=o.k[f]||[],o.k[f].push(t)));var k=Object(s.q)(),O="url("+("video"===p?g:"audio"===p?v:A)+")";"image"!==p||A||(O="url("+m+")"),"text"===p&&k[f+"_"+S]&&("animation"===_?O="url("+A+")":(O="url("+k[f+"_"+S].src+")",!k[f+"_"+S].complete&&(k[f+"_"+S].onload=function(){e(t,u,h,l)})));var P=w?w-E:5,j=P*u/h-4;if("canvas"!==l){var I=Math.ceil(P*u/h/(C?90:63)),M=[],R=[],D=d<=300?2:d/150,L=(Math.round(x/d*I),0),N="image"===p||"text"===p;for(L;L<=I;L++)M.push(O),R.push((C?90:63)*L+"px "+-(C?50:35)*Math.floor(((C?90:63)*L*h/u/P*(T-x)+1*x)/D)*(N?0:1)+"px");var B={width:P*u/h-4+"px",backgroundImage:M.join(),backgroundSize:N?(C?90:63)+"px "+(C?50:35)+"px":(C?90:63)+"px auto",backgroundRepeat:y?"repeat":"no-repeat",backgroundPosition:R.join()};"url()"===O&&(O="url("+("audio"===p?c.a:A)+")",B={width:P*u/h-4+"px",backgroundImage:O,backgroundSize:(C?90:63)+"px "+(C?50:35)+"px",backgroundRepeat:"repeat"});var F=k[f+"_"+S];"video"===p&&!A&&F&&(F.thumbnail?(O="url("+k[f+"_"+S].thumbnail+")",B={width:P*u/h-4+"px",backgroundImage:O,backgroundSize:(C?90:63)+"px "+(C?50:35)+"px",backgroundRepeat:"repeat"}):setTimeout(function(){e(t,u,h,l)},200)),t.css({width:P*u/h+"px"}),t.css({left:E*u/h+"px"}),t.find(".clip-item-thumbs").css(B);var U=t.find(".trans-start"),z=t.find(".trans-end");if(U.length){var H=U.attr("data-bind"),V=U.attr("data-duration"),G=U.attr("data-transName");"false"!==H&&H||(U.css({width:V*u/h+"px",left:0,backgroundColor:"#61bca7",backgroundSize:"20px 20px"}),U.html(G))}if(z.length){var q=z.attr("data-bind"),W=z.attr("data-duration"),Y=z.attr("data-transName");z.css({width:W*u/h+"px",right:0,backgroundColor:"#61bca7",backgroundSize:"20px 20px"}),q&&"false"!==q&&z.css({right:-W*u/h/2-1+"px"}),z.html(Y)}}var X=t.parents(".pathway").hasClass("main")||t.parents(".drag-layer").hasClass("main");if("audio"===p||X){var Q=C?10:15,K=C?10:18;K=Q=16;var Z=o.a[f];if(Z){var J=t.find("canvas").length?t.find("canvas")[0]:document.createElement("canvas"),$=J.getContext("2d");r()(J).css({width:j+"px",height:"100%"}),X&&r()(J).css({width:j+"px",height:C?"16px":"31px",marginTop:C?"50px":"35px"});var ee=parseInt(x*u/h),te=Z.left.length/(d*u/h);J.width=j,J.height=35,$.font="12px Arial",$.strokeStyle="#fff",$.beginPath();for(var ie=0;ie<=j;ie++){var ne=Math.floor((ie+ee)*te);$.lineWidth=1,$.strokeStyle="#fff";var re=Z.left[ne]||.01,ae=Z.right[ne]||.01;$.moveTo(ie,Q-re*K),$.lineTo(ie,Q+1),$.moveTo(ie,Q-ae*K),$.lineTo(ie,Q+1)}$.stroke(),0===t.find("canvas").length&&t.find(".clip-item-thumbs").append(r()(J))}else v&&"undefined"!==v&&Object(a.a)(v,{},function(e){Object(o.h)(e,f);var i=t.find("canvas").length?t.find("canvas")[0]:document.createElement("canvas"),n=i.getContext("2d");r()(i).css({width:j+"px",height:"100%"}),X&&r()(i).css({width:j+"px",height:C?"16px":"31px",marginTop:C?"50px":"35px"});var a=parseInt(x*u/h),s=e.left.length/(d*u/h);i.width=j,i.height=35,n.font="12px Arial",n.strokeStyle="#fff",n.beginPath();for(var l=0;l<=j;l++){var c=Math.floor((l+a)*s);n.lineWidth=1,n.strokeStyle="#fff";var p=e.left[c]||.01,m=e.right[c]||.01;n.moveTo(l,Q-p*K),n.lineTo(l,Q+1),n.moveTo(l,Q-m*K),n.lineTo(l,Q+1)}n.stroke(),0===t.find("canvas").length&&t.find(".clip-item-thumbs").append(r()(i))},function(){var e=t.find("canvas").length?t.find("canvas")[0]:document.createElement("canvas");r()(e).css({width:j+"px",height:"100%"}),X&&r()(e).css({width:j+"px",height:C?"16px":"31px",marginTop:C?"50px":"35px"}),0===t.find("canvas").length&&t.find(".clip-item-thumbs").append(r()(e))});var oe=t.find(".name");oe.length&&oe.text(b||"")}};t.a=d},1413:function(e,t,i){var n=i(1427),r=i(1521),a=r(n);e.exports=a},1414:function(e,t,i){function n(e,t){return e&&r(e,a(t))}var r=i(1427),a=i(1431);e.exports=n},1415:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Checkboard=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},a=i(0),o=n(a),s=i(1363),l=n(s),c=i(1554),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}(c),h=t.Checkboard=function(e){var t=e.white,i=e.grey,n=e.size,s=e.renderers,c=e.borderRadius,h=e.boxShadow,d=e.children,p=(0,l.default)({default:{grid:{borderRadius:c,boxShadow:h,absolute:"0px 0px 0px 0px",background:"url("+u.get(t,i,n,s.canvas)+") center left"}}});return(0,a.isValidElement)(d)?o.default.cloneElement(d,r({},d.props,{style:r({},d.props.style,p.grid)})):o.default.createElement("div",{style:p.grid})};h.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}},t.default=h},1416:function(e,t){e.exports=[{name:"Bounce",paramsTypes:{shadow_colour:"vec4",shadow_height:"float",bounces:"float"},defaultParams:{shadow_colour:[0,0,0,.6],shadow_height:.075,bounces:3},glsl:"// Author: Adrian Purser\n// License: MIT\n\nuniform vec4 shadow_colour; // = vec4(0.,0.,0.,.6)\nuniform float shadow_height; // = 0.075\nuniform float bounces; // = 3.0\n\nconst float PI = 3.14159265358;\n\nvec4 transition (vec2 uv) {\n  float time = progress;\n  float stime = sin(time * PI / 2.);\n  float phase = time * PI * bounces;\n  float y = (abs(cos(phase))) * (1.0 - stime);\n  float d = uv.y - y;\n  return mix(\n    mix(\n      getToColor(uv),\n      shadow_colour,\n      step(d, shadow_height) * (1. - mix(\n        ((d / shadow_height) * shadow_colour.a) + (1.0 - shadow_colour.a),\n        1.0,\n        smoothstep(0.95, 1., progress) // fade-out the shadow at the end\n      ))\n    ),\n    getFromColor(vec2(uv.x, uv.y + (1.0 - y))),\n    step(d, 0.0)\n  );\n}\n",author:"Adrian Purser",license:"MIT",createdAt:"Fri, 10 Nov 2017 17:01:45 +0000",updatedAt:"Sat, 11 Nov 2017 08:50:40 +0100"},{name:"BowTieHorizontal",paramsTypes:{},defaultParams:{},glsl:"// Author: huynx\n// License: MIT\n\nvec2 bottom_left = vec2(0.0, 1.0);\nvec2 bottom_right = vec2(1.0, 1.0);\nvec2 top_left = vec2(0.0, 0.0);\nvec2 top_right = vec2(1.0, 0.0);\nvec2 center = vec2(0.5, 0.5);\n\nfloat check(vec2 p1, vec2 p2, vec2 p3)\n{\n  return (p1.x - p3.x) * (p2.y - p3.y) - (p2.x - p3.x) * (p1.y - p3.y);\n}\n\nbool PointInTriangle (vec2 pt, vec2 p1, vec2 p2, vec2 p3)\n{\n    bool b1, b2, b3;\n    b1 = check(pt, p1, p2) < 0.0;\n    b2 = check(pt, p2, p3) < 0.0;\n    b3 = check(pt, p3, p1) < 0.0;\n    return ((b1 == b2) && (b2 == b3));\n}\n\nbool in_left_triangle(vec2 p){\n  vec2 vertex1, vertex2, vertex3;\n  vertex1 = vec2(progress, 0.5);\n  vertex2 = vec2(0.0, 0.5-progress);\n  vertex3 = vec2(0.0, 0.5+progress);\n  if (PointInTriangle(p, vertex1, vertex2, vertex3))\n  {\n    return true;\n  }\n  return false;\n}\n\nbool in_right_triangle(vec2 p){\n  vec2 vertex1, vertex2, vertex3;\n  vertex1 = vec2(1.0-progress, 0.5);\n  vertex2 = vec2(1.0, 0.5-progress);\n  vertex3 = vec2(1.0, 0.5+progress);\n  if (PointInTriangle(p, vertex1, vertex2, vertex3))\n  {\n    return true;\n  }\n  return false;\n}\n\nfloat blur_edge(vec2 bot1, vec2 bot2, vec2 top, vec2 testPt)\n{\n  vec2 lineDir = bot1 - top;\n  vec2 perpDir = vec2(lineDir.y, -lineDir.x);\n  vec2 dirToPt1 = bot1 - testPt;\n  float dist1 = abs(dot(normalize(perpDir), dirToPt1));\n  \n  lineDir = bot2 - top;\n  perpDir = vec2(lineDir.y, -lineDir.x);\n  dirToPt1 = bot2 - testPt;\n  float min_dist = min(abs(dot(normalize(perpDir), dirToPt1)), dist1);\n  \n  if (min_dist < 0.005) {\n    return min_dist / 0.005;\n  }\n  else  {\n    return 1.0;\n  };\n}\n\n\nvec4 transition (vec2 uv) {\n  if (in_left_triangle(uv))\n  {\n    if (progress < 0.1)\n    {\n      return getFromColor(uv);\n    }\n    if (uv.x < 0.5)\n    {\n      vec2 vertex1 = vec2(progress, 0.5);\n      vec2 vertex2 = vec2(0.0, 0.5-progress);\n      vec2 vertex3 = vec2(0.0, 0.5+progress);\n      return mix(\n        getFromColor(uv),\n        getToColor(uv),\n        blur_edge(vertex2, vertex3, vertex1, uv)\n      );\n    }\n    else\n    {\n      if (progress > 0.0)\n      {\n        return getToColor(uv);\n      }\n      else\n      {\n        return getFromColor(uv);\n      }\n    }    \n  }\n  else if (in_right_triangle(uv))\n  {\n    if (uv.x >= 0.5)\n    {\n      vec2 vertex1 = vec2(1.0-progress, 0.5);\n      vec2 vertex2 = vec2(1.0, 0.5-progress);\n      vec2 vertex3 = vec2(1.0, 0.5+progress);\n      return mix(\n        getFromColor(uv),\n        getToColor(uv),\n        blur_edge(vertex2, vertex3, vertex1, uv)\n      );  \n    }\n    else\n    {\n      return getFromColor(uv);\n    }\n  }\n  else {\n    return getFromColor(uv);\n  }\n}",author:"huynx",license:"MIT",createdAt:"Sat, 24 Mar 2018 12:54:26 +0100",updatedAt:"Sat, 24 Mar 2018 12:54:26 +0100"},{name:"BowTieVertical",paramsTypes:{},defaultParams:{},glsl:"// Author: huynx\r\n// License: MIT\r\n\r\nfloat check(vec2 p1, vec2 p2, vec2 p3)\r\n{\r\n  return (p1.x - p3.x) * (p2.y - p3.y) - (p2.x - p3.x) * (p1.y - p3.y);\r\n}\r\n\r\nbool PointInTriangle (vec2 pt, vec2 p1, vec2 p2, vec2 p3)\r\n{\r\n    bool b1, b2, b3;\r\n    b1 = check(pt, p1, p2) < 0.0;\r\n    b2 = check(pt, p2, p3) < 0.0;\r\n    b3 = check(pt, p3, p1) < 0.0;\r\n    return ((b1 == b2) && (b2 == b3));\r\n}\r\n\r\nbool in_top_triangle(vec2 p){\r\n  vec2 vertex1, vertex2, vertex3;\r\n  vertex1 = vec2(0.5, progress);\r\n  vertex2 = vec2(0.5-progress, 0.0);\r\n  vertex3 = vec2(0.5+progress, 0.0);\r\n  if (PointInTriangle(p, vertex1, vertex2, vertex3))\r\n  {\r\n    return true;\r\n  }\r\n  return false;\r\n}\r\n\r\nbool in_bottom_triangle(vec2 p){\r\n  vec2 vertex1, vertex2, vertex3;\r\n  vertex1 = vec2(0.5, 1.0 - progress);\r\n  vertex2 = vec2(0.5-progress, 1.0);\r\n  vertex3 = vec2(0.5+progress, 1.0);\r\n  if (PointInTriangle(p, vertex1, vertex2, vertex3))\r\n  {\r\n    return true;\r\n  }\r\n  return false;\r\n}\r\n\r\nfloat blur_edge(vec2 bot1, vec2 bot2, vec2 top, vec2 testPt)\r\n{\r\n  vec2 lineDir = bot1 - top;\r\n  vec2 perpDir = vec2(lineDir.y, -lineDir.x);\r\n  vec2 dirToPt1 = bot1 - testPt;\r\n  float dist1 = abs(dot(normalize(perpDir), dirToPt1));\r\n  \r\n  lineDir = bot2 - top;\r\n  perpDir = vec2(lineDir.y, -lineDir.x);\r\n  dirToPt1 = bot2 - testPt;\r\n  float min_dist = min(abs(dot(normalize(perpDir), dirToPt1)), dist1);\r\n  \r\n  if (min_dist < 0.005) {\r\n    return min_dist / 0.005;\r\n  }\r\n  else  {\r\n    return 1.0;\r\n  };\r\n}\r\n\r\n\r\nvec4 transition (vec2 uv) {\r\n  if (in_top_triangle(uv))\r\n  {\r\n    if (progress < 0.1)\r\n    {\r\n      return getFromColor(uv);\r\n    }\r\n    if (uv.y < 0.5)\r\n    {\r\n      vec2 vertex1 = vec2(0.5, progress);\r\n      vec2 vertex2 = vec2(0.5-progress, 0.0);\r\n      vec2 vertex3 = vec2(0.5+progress, 0.0);\r\n      return mix(\r\n        getFromColor(uv),\r\n        getToColor(uv),\r\n        blur_edge(vertex2, vertex3, vertex1, uv)\r\n      );\r\n    }\r\n    else\r\n    {\r\n      if (progress > 0.0)\r\n      {\r\n        return getToColor(uv);\r\n      }\r\n      else\r\n      {\r\n        return getFromColor(uv);\r\n      }\r\n    }    \r\n  }\r\n  else if (in_bottom_triangle(uv))\r\n  {\r\n    if (uv.y >= 0.5)\r\n    {\r\n      vec2 vertex1 = vec2(0.5, 1.0-progress);\r\n      vec2 vertex2 = vec2(0.5-progress, 1.0);\r\n      vec2 vertex3 = vec2(0.5+progress, 1.0);\r\n      return mix(\r\n        getFromColor(uv),\r\n        getToColor(uv),\r\n        blur_edge(vertex2, vertex3, vertex1, uv)\r\n      );  \r\n    }\r\n    else\r\n    {\r\n      return getFromColor(uv);\r\n    }\r\n  }\r\n  else {\r\n    return getFromColor(uv);\r\n  }\r\n}",author:"huynx",license:"MIT",createdAt:"Tue, 27 Mar 2018 10:07:54 +0700",updatedAt:"Tue, 27 Mar 2018 10:07:54 +0700"},{name:"ButterflyWaveScrawler",paramsTypes:{amplitude:"float",waves:"float",colorSeparation:"float"},defaultParams:{amplitude:1,waves:30,colorSeparation:.3},glsl:"// Author: mandubian\n// License: MIT\nuniform float amplitude; // = 1.0\nuniform float waves; // = 30.0\nuniform float colorSeparation; // = 0.3\nfloat PI = 3.14159265358979323846264;\nfloat compute(vec2 p, float progress, vec2 center) {\nvec2 o = p*sin(progress * amplitude)-center;\n// horizontal vector\nvec2 h = vec2(1., 0.);\n// butterfly polar function (don't ask me why this one :))\nfloat theta = acos(dot(o, h)) * waves;\nreturn (exp(cos(theta)) - 2.*cos(4.*theta) + pow(sin((2.*theta - PI) / 24.), 5.)) / 10.;\n}\nvec4 transition(vec2 uv) {\n  vec2 p = uv.xy / vec2(1.0).xy;\n  float inv = 1. - progress;\n  vec2 dir = p - vec2(.5);\n  float dist = length(dir);\n  float disp = compute(p, progress, vec2(0.5, 0.5)) ;\n  vec4 texTo = getToColor(p + inv*disp);\n  vec4 texFrom = vec4(\n  getFromColor(p + progress*disp*(1.0 - colorSeparation)).r,\n  getFromColor(p + progress*disp).g,\n  getFromColor(p + progress*disp*(1.0 + colorSeparation)).b,\n  1.0);\n  return texTo*progress + texFrom*inv;\n}\n",author:"mandubian",license:"MIT",createdAt:"Thu, 1 Jun 2017 11:47:17 +0200",updatedAt:"Thu, 1 Jun 2017 11:47:17 +0200"},{name:"CircleCrop",paramsTypes:{bgcolor:"vec4"},defaultParams:{bgcolor:[0,0,0,1]},glsl:"// License: MIT\n// Author: fkuteken\n// ported by gre from https://gist.github.com/fkuteken/f63e3009c1143950dee9063c3b83fb88\n\nuniform vec4 bgcolor; // = vec4(0.0, 0.0, 0.0, 1.0)\n\nvec2 ratio2 = vec2(1.0, 1.0 / ratio);\nfloat s = pow(2.0 * abs(progress - 0.5), 3.0);\n\nvec4 transition(vec2 p) {\n  float dist = length((vec2(p) - 0.5) * ratio2);\n  return mix(\n    progress < 0.5 ? getFromColor(p) : getToColor(p), // branching is ok here as we statically depend on progress uniform (branching won't change over pixels)\n    bgcolor,\n    step(s, dist)\n  );\n}\n",license:"MIT",author:"fkuteken",createdAt:"Mon, 12 Jun 2017 12:52:34 +0800",updatedAt:"Mon, 12 Jun 2017 12:52:34 +0800"},{name:"ColourDistance",paramsTypes:{power:"float"},defaultParams:{power:5},glsl:"// License: MIT\n// Author: P-Seebauer\n// ported by gre from https://gist.github.com/P-Seebauer/2a5fa2f77c883dd661f9\n\nuniform float power; // = 5.0\n\nvec4 transition(vec2 p) {\n  vec4 fTex = getFromColor(p);\n  vec4 tTex = getToColor(p);\n  float m = step(distance(fTex, tTex), progress);\n  return mix(\n    mix(fTex, tTex, m),\n    tTex,\n    pow(progress, power)\n  );\n}\n",license:"MIT",author:"P-Seebauer",createdAt:"Mon, 12 Jun 2017 12:57:42 +0800",updatedAt:"Mon, 12 Jun 2017 12:57:42 +0800"},{name:"CrazyParametricFun",paramsTypes:{a:"float",b:"float",amplitude:"float",smoothness:"float"},defaultParams:{a:4,b:1,amplitude:120,smoothness:.1},glsl:"// Author: mandubian\n// License: MIT\n\nuniform float a; // = 4\nuniform float b; // = 1\nuniform float amplitude; // = 120\nuniform float smoothness; // = 0.1\n\nvec4 transition(vec2 uv) {\n  vec2 p = uv.xy / vec2(1.0).xy;\n  vec2 dir = p - vec2(.5);\n  float dist = length(dir);\n  float x = (a - b) * cos(progress) + b * cos(progress * ((a / b) - 1.) );\n  float y = (a - b) * sin(progress) - b * sin(progress * ((a / b) - 1.));\n  vec2 offset = dir * vec2(sin(progress  * dist * amplitude * x), sin(progress * dist * amplitude * y)) / smoothness;\n  return mix(getFromColor(p + offset), getToColor(p), smoothstep(0.2, 1.0, progress));\n}\n",author:"mandubian",license:"MIT",createdAt:"Thu, 1 Jun 2017 13:03:12 +0200",updatedAt:"Thu, 1 Jun 2017 13:03:12 +0200"},{name:"CrossZoom",paramsTypes:{strength:"float"},defaultParams:{strength:.4},glsl:"// License: MIT\n// Author: rectalogic\n// ported by gre from https://gist.github.com/rectalogic/b86b90161503a0023231\n\n// Converted from https://github.com/rectalogic/rendermix-basic-effects/blob/master/assets/com/rendermix/CrossZoom/CrossZoom.frag\n// Which is based on https://github.com/evanw/glfx.js/blob/master/src/filters/blur/zoomblur.js\n// With additional easing functions from https://github.com/rectalogic/rendermix-basic-effects/blob/master/assets/com/rendermix/Easing/Easing.glsllib\n\nuniform float strength; // = 0.4\n\nconst float PI = 3.141592653589793;\n\nfloat Linear_ease(in float begin, in float change, in float duration, in float time) {\n    return change * time / duration + begin;\n}\n\nfloat Exponential_easeInOut(in float begin, in float change, in float duration, in float time) {\n    if (time == 0.0)\n        return begin;\n    else if (time == duration)\n        return begin + change;\n    time = time / (duration / 2.0);\n    if (time < 1.0)\n        return change / 2.0 * pow(2.0, 10.0 * (time - 1.0)) + begin;\n    return change / 2.0 * (-pow(2.0, -10.0 * (time - 1.0)) + 2.0) + begin;\n}\n\nfloat Sinusoidal_easeInOut(in float begin, in float change, in float duration, in float time) {\n    return -change / 2.0 * (cos(PI * time / duration) - 1.0) + begin;\n}\n\nfloat rand (vec2 co) {\n  return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);\n}\n\nvec3 crossFade(in vec2 uv, in float dissolve) {\n    return mix(getFromColor(uv).rgb, getToColor(uv).rgb, dissolve);\n}\n\nvec4 transition(vec2 uv) {\n    vec2 texCoord = uv.xy / vec2(1.0).xy;\n\n    // Linear interpolate center across center half of the image\n    vec2 center = vec2(Linear_ease(0.25, 0.5, 1.0, progress), 0.5);\n    float dissolve = Exponential_easeInOut(0.0, 1.0, 1.0, progress);\n\n    // Mirrored sinusoidal loop. 0->strength then strength->0\n    float strength = Sinusoidal_easeInOut(0.0, strength, 0.5, progress);\n\n    vec3 color = vec3(0.0);\n    float total = 0.0;\n    vec2 toCenter = center - texCoord;\n\n    /* randomize the lookup values to hide the fixed number of samples */\n    float offset = rand(uv);\n\n    for (float t = 0.0; t <= 40.0; t++) {\n        float percent = (t + offset) / 40.0;\n        float weight = 4.0 * (percent - percent * percent);\n        color += crossFade(texCoord + toCenter * percent * strength, dissolve) * weight;\n        total += weight;\n    }\n    return vec4(color / total, 1.0);\n}\n",license:"MIT",author:"rectalogic",createdAt:"Mon, 12 Jun 2017 12:33:07 +0800",updatedAt:"Mon, 12 Jun 2017 12:33:07 +0800"},{name:"Directional",paramsTypes:{direction:"vec2"},defaultParams:{direction:[0,1]},glsl:"// Author: Ga\xebtan Renaudeau\n// License: MIT\n\nuniform vec2 direction; // = vec2(0.0, 1.0)\n\nvec4 transition (vec2 uv) {\n  vec2 p = uv + progress * sign(direction);\n  vec2 f = fract(p);\n  return mix(\n    getToColor(f),\n    getFromColor(f),\n    step(0.0, p.y) * step(p.y, 1.0) * step(0.0, p.x) * step(p.x, 1.0)\n  );\n}\n",author:"Ga\xebtan Renaudeau",license:"MIT",createdAt:"Thu, 19 Apr 2018 12:20:29 +0200",updatedAt:"Thu, 19 Apr 2018 12:20:29 +0200"},{name:"DoomScreenTransition",paramsTypes:{bars:"int",amplitude:"float",noise:"float",frequency:"float",dripScale:"float"},defaultParams:{bars:30,amplitude:2,noise:.1,frequency:.5,dripScale:.5},glsl:'// Author: Zeh Fernando\n// License: MIT\n\n\n// Transition parameters --------\n\n// Number of total bars/columns\nuniform int bars; // = 30\n\n// Multiplier for speed ratio. 0 = no variation when going down, higher = some elements go much faster\nuniform float amplitude; // = 2\n\n// Further variations in speed. 0 = no noise, 1 = super noisy (ignore frequency)\nuniform float noise; // = 0.1\n\n// Speed variation horizontally. the bigger the value, the shorter the waves\nuniform float frequency; // = 0.5\n\n// How much the bars seem to "run" from the middle of the screen first (sticking to the sides). 0 = no drip, 1 = curved drip\nuniform float dripScale; // = 0.5\n\n\n// The code proper --------\n\nfloat rand(int num) {\n  return fract(mod(float(num) * 67123.313, 12.0) * sin(float(num) * 10.3) * cos(float(num)));\n}\n\nfloat wave(int num) {\n  float fn = float(num) * frequency * 0.1 * float(bars);\n  return cos(fn * 0.5) * cos(fn * 0.13) * sin((fn+10.0) * 0.3) / 2.0 + 0.5;\n}\n\nfloat drip(int num) {\n  return sin(float(num) / float(bars - 1) * 3.141592) * dripScale;\n}\n\nfloat pos(int num) {\n  return (noise == 0.0 ? wave(num) : mix(wave(num), rand(num), noise)) + (dripScale == 0.0 ? 0.0 : drip(num));\n}\n\nvec4 transition(vec2 uv) {\n  int bar = int(uv.x * (float(bars)));\n  float scale = 1.0 + pos(bar) * amplitude;\n  float phase = progress * scale;\n  float posY = uv.y / vec2(1.0).y;\n  vec2 p;\n  vec4 c;\n  if (phase + posY < 1.0) {\n    p = vec2(uv.x, uv.y + mix(0.0, vec2(1.0).y, phase)) / vec2(1.0).xy;\n    c = getFromColor(p);\n  } else {\n    p = uv.xy / vec2(1.0).xy;\n    c = getToColor(p);\n  }\n\n  // Finally, apply the color\n  return c;\n}\n',author:"Zeh Fernando",license:"MIT",createdAt:"Tue, 30 May 2017 09:39:09 -0700",updatedAt:"Tue, 30 May 2017 09:39:09 -0700"},{name:"Dreamy",paramsTypes:{},defaultParams:{},glsl:"// Author: mikolalysenko\n// License: MIT\n\nvec2 offset(float progress, float x, float theta) {\n  float phase = progress*progress + progress + theta;\n  float shifty = 0.03*progress*cos(10.0*(progress+x));\n  return vec2(0, shifty);\n}\nvec4 transition(vec2 p) {\n  return mix(getFromColor(p + offset(progress, p.x, 0.0)), getToColor(p + offset(1.0-progress, p.x, 3.14)), progress);\n}\n",author:"mikolalysenko",license:"MIT",createdAt:"Mon, 12 Jun 2017 12:27:38 +0800",updatedAt:"Mon, 12 Jun 2017 12:27:38 +0800"},{name:"DreamyZoom",paramsTypes:{rotation:"float",scale:"float"},defaultParams:{rotation:6,scale:1.2},glsl:"// Author: Zeh Fernando\n// License: MIT\n\n// Definitions --------\n#define DEG2RAD 0.03926990816987241548078304229099 // 1/180*PI\n\n\n// Transition parameters --------\n\n// In degrees\nuniform float rotation; // = 6\n\n// Multiplier\nuniform float scale; // = 1.2\n\n\n// The code proper --------\n\nvec4 transition(vec2 uv) {\n  // Massage parameters\n  float phase = progress < 0.5 ? progress * 2.0 : (progress - 0.5) * 2.0;\n  float angleOffset = progress < 0.5 ? mix(0.0, rotation * DEG2RAD, phase) : mix(-rotation * DEG2RAD, 0.0, phase);\n  float newScale = progress < 0.5 ? mix(1.0, scale, phase) : mix(scale, 1.0, phase);\n  \n  vec2 center = vec2(0, 0);\n\n  // Calculate the source point\n  vec2 assumedCenter = vec2(0.5, 0.5);\n  vec2 p = (uv.xy - vec2(0.5, 0.5)) / newScale * vec2(ratio, 1.0);\n\n  // This can probably be optimized (with distance())\n  float angle = atan(p.y, p.x) + angleOffset;\n  float dist = distance(center, p);\n  p.x = cos(angle) * dist / ratio + 0.5;\n  p.y = sin(angle) * dist + 0.5;\n  vec4 c = progress < 0.5 ? getFromColor(p) : getToColor(p);\n\n  // Finally, apply the color\n  return c + (progress < 0.5 ? mix(0.0, 1.0, phase) : mix(1.0, 0.0, phase));\n}\n",author:"Zeh Fernando",license:"MIT",createdAt:"Tue, 30 May 2017 10:44:06 -0700",updatedAt:"Tue, 30 May 2017 10:44:06 -0700"},{name:"GlitchDisplace",paramsTypes:{},defaultParams:{},glsl:"// Author: Matt DesLauriers\n// License: MIT\n\nhighp float random(vec2 co)\n{\n    highp float a = 12.9898;\n    highp float b = 78.233;\n    highp float c = 43758.5453;\n    highp float dt= dot(co.xy ,vec2(a,b));\n    highp float sn= mod(dt,3.14);\n    return fract(sin(sn) * c);\n}\nfloat voronoi( in vec2 x ) {\n    vec2 p = floor( x );\n    vec2 f = fract( x );\n    float res = 8.0;\n    for( float j=-1.; j<=1.; j++ )\n    for( float i=-1.; i<=1.; i++ ) {\n        vec2  b = vec2( i, j );\n        vec2  r = b - f + random( p + b );\n        float d = dot( r, r );\n        res = min( res, d );\n    }\n    return sqrt( res );\n}\n\nvec2 displace(vec4 tex, vec2 texCoord, float dotDepth, float textureDepth, float strength) {\n    float b = voronoi(.003 * texCoord + 2.0);\n    float g = voronoi(0.2 * texCoord);\n    float r = voronoi(texCoord - 1.0);\n    vec4 dt = tex * 1.0;\n    vec4 dis = dt * dotDepth + 1.0 - tex * textureDepth;\n\n    dis.x = dis.x - 1.0 + textureDepth*dotDepth;\n    dis.y = dis.y - 1.0 + textureDepth*dotDepth;\n    dis.x *= strength;\n    dis.y *= strength;\n    vec2 res_uv = texCoord ;\n    res_uv.x = res_uv.x + dis.x - 0.0;\n    res_uv.y = res_uv.y + dis.y;\n    return res_uv;\n}\n\nfloat ease1(float t) {\n  return t == 0.0 || t == 1.0\n    ? t\n    : t < 0.5\n      ? +0.5 * pow(2.0, (20.0 * t) - 10.0)\n      : -0.5 * pow(2.0, 10.0 - (t * 20.0)) + 1.0;\n}\nfloat ease2(float t) {\n  return t == 1.0 ? t : 1.0 - pow(2.0, -10.0 * t);\n}\n\n\n\nvec4 transition(vec2 uv) {\n  vec2 p = uv.xy / vec2(1.0).xy;\n  vec4 color1 = getFromColor(p);\n  vec4 color2 = getToColor(p);\n  vec2 disp = displace(color1, p, 0.33, 0.7, 1.0-ease1(progress));\n  vec2 disp2 = displace(color2, p, 0.33, 0.5, ease2(progress));\n  vec4 dColor1 = getToColor(disp);\n  vec4 dColor2 = getFromColor(disp2);\n  float val = ease1(progress);\n  vec3 gray = vec3(dot(min(dColor2, dColor1).rgb, vec3(0.299, 0.587, 0.114)));\n  dColor2 = vec4(gray, 1.0);\n  dColor2 *= 2.0;\n  color1 = mix(color1, dColor2, smoothstep(0.0, 0.5, progress));\n  color2 = mix(color2, dColor1, smoothstep(1.0, 0.5, progress));\n  return mix(color1, color2, val);\n  //gl_FragColor = mix(gl_FragColor, dColor, smoothstep(0.0, 0.5, progress));\n  \n   //gl_FragColor = mix(texture2D(from, p), texture2D(to, p), progress);\n}\n",author:"Matt DesLauriers",license:"MIT",createdAt:"Tue, 30 May 2017 14:53:04 -0400",updatedAt:"Tue, 30 May 2017 14:53:04 -0400"},{name:"GlitchMemories",paramsTypes:{},defaultParams:{},glsl:"// author: Gunnar Roth\n// based on work from natewave\n// license: MIT\nvec4 transition(vec2 p) {\n  vec2 block = floor(p.xy / vec2(16));\n  vec2 uv_noise = block / vec2(64);\n  uv_noise += floor(vec2(progress) * vec2(1200.0, 3500.0)) / vec2(64);\n  vec2 dist = progress > 0.0 ? (fract(uv_noise) - 0.5) * 0.3 *(1.0 -progress) : vec2(0.0);\n  vec2 red = p + dist * 0.2;\n  vec2 green = p + dist * .3;\n  vec2 blue = p + dist * .5;\n\n  return vec4(mix(getFromColor(red), getToColor(red), progress).r,mix(getFromColor(green), getToColor(green), progress).g,mix(getFromColor(blue), getToColor(blue), progress).b,1.0);\n}\n\n",author:"Gunnar Roth",license:"MIT",createdAt:"Wed, 21 Feb 2018 00:52:15 +0100",updatedAt:"Wed, 21 Feb 2018 19:32:02 +0100"},{name:"GridFlip",paramsTypes:{size:"ivec2",pause:"float",dividerWidth:"float",bgcolor:"vec4",randomness:"float"},defaultParams:{size:[4,4],pause:.1,dividerWidth:.05,bgcolor:[0,0,0,1],randomness:.1},glsl:"// License: MIT\n// Author: TimDonselaar\n// ported by gre from https://gist.github.com/TimDonselaar/9bcd1c4b5934ba60087bdb55c2ea92e5\n\nuniform ivec2 size; // = ivec2(4)\nuniform float pause; // = 0.1\nuniform float dividerWidth; // = 0.05\nuniform vec4 bgcolor; // = vec4(0.0, 0.0, 0.0, 1.0)\nuniform float randomness; // = 0.1\n \nfloat rand (vec2 co) {\n  return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);\n}\n\nfloat getDelta(vec2 p) {\n  vec2 rectanglePos = floor(vec2(size) * p);\n  vec2 rectangleSize = vec2(1.0 / vec2(size).x, 1.0 / vec2(size).y);\n  float top = rectangleSize.y * (rectanglePos.y + 1.0);\n  float bottom = rectangleSize.y * rectanglePos.y;\n  float left = rectangleSize.x * rectanglePos.x;\n  float right = rectangleSize.x * (rectanglePos.x + 1.0);\n  float minX = min(abs(p.x - left), abs(p.x - right));\n  float minY = min(abs(p.y - top), abs(p.y - bottom));\n  return min(minX, minY);\n}\n\nfloat getDividerSize() {\n  vec2 rectangleSize = vec2(1.0 / vec2(size).x, 1.0 / vec2(size).y);\n  return min(rectangleSize.x, rectangleSize.y) * dividerWidth;\n}\n\nvec4 transition(vec2 p) {\n  if(progress < pause) {\n    float currentProg = progress / pause;\n    float a = 1.0;\n    if(getDelta(p) < getDividerSize()) {\n      a = 1.0 - currentProg;\n    }\n    return mix(bgcolor, getFromColor(p), a);\n  }\n  else if(progress < 1.0 - pause){\n    if(getDelta(p) < getDividerSize()) {\n      return bgcolor;\n    } else {\n      float currentProg = (progress - pause) / (1.0 - pause * 2.0);\n      vec2 q = p;\n      vec2 rectanglePos = floor(vec2(size) * q);\n      \n      float r = rand(rectanglePos) - randomness;\n      float cp = smoothstep(0.0, 1.0 - r, currentProg);\n    \n      float rectangleSize = 1.0 / vec2(size).x;\n      float delta = rectanglePos.x * rectangleSize;\n      float offset = rectangleSize / 2.0 + delta;\n      \n      p.x = (p.x - offset)/abs(cp - 0.5)*0.5 + offset;\n      vec4 a = getFromColor(p);\n      vec4 b = getToColor(p);\n      \n      float s = step(abs(vec2(size).x * (q.x - delta) - 0.5), abs(cp - 0.5));\n      return mix(bgcolor, mix(b, a, step(cp, 0.5)), s);\n    }\n  }\n  else {\n    float currentProg = (progress - 1.0 + pause) / pause;\n    float a = 1.0;\n    if(getDelta(p) < getDividerSize()) {\n      a = currentProg;\n    }\n    return mix(bgcolor, getToColor(p), a);\n  }\n}\n",license:"MIT",author:"TimDonselaar",createdAt:"Mon, 12 Jun 2017 11:32:51 +0800",updatedAt:"Mon, 12 Jun 2017 11:32:51 +0800"},{name:"InvertedPageCurl",paramsTypes:{},defaultParams:{},glsl:'// author: Hewlett-Packard\n// license: BSD 3 Clause\n// Adapted by Sergey Kosarevsky from:\n// http://rectalogic.github.io/webvfx/examples_2transition-shader-pagecurl_8html-example.html\n\n/*\nCopyright (c) 2010 Hewlett-Packard Development Company, L.P. All rights reserved.\n\nRedistribution and use in source and binary forms, with or without\nmodification, are permitted provided that the following conditions are\nmet:\n\n   * Redistributions of source code must retain the above copyright\n     notice, this list of conditions and the following disclaimer.\n   * Redistributions in binary form must reproduce the above\n     copyright notice, this list of conditions and the following disclaimer\n     in the documentation and/or other materials provided with the\n     distribution.\n   * Neither the name of Hewlett-Packard nor the names of its\n     contributors may be used to endorse or promote products derived from\n     this software without specific prior written permission.\n\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n"AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\nLIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\nA PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\nOWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\nSPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\nLIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\nDATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\nTHEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\nOF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\nin vec2 texCoord;\n*/\n\nconst float MIN_AMOUNT = -0.16;\nconst float MAX_AMOUNT = 1.5;\nfloat amount = progress * (MAX_AMOUNT - MIN_AMOUNT) + MIN_AMOUNT;\n\nconst float PI = 3.141592653589793;\n\nconst float scale = 512.0;\nconst float sharpness = 3.0;\n\nfloat cylinderCenter = amount;\n// 360 degrees * amount\nfloat cylinderAngle = 2.0 * PI * amount;\n\nconst float cylinderRadius = 1.0 / PI / 2.0;\n\nvec3 hitPoint(float hitAngle, float yc, vec3 point, mat3 rrotation)\n{\n        float hitPoint = hitAngle / (2.0 * PI);\n        point.y = hitPoint;\n        return rrotation * point;\n}\n\nvec4 antiAlias(vec4 color1, vec4 color2, float distanc)\n{\n        distanc *= scale;\n        if (distanc < 0.0) return color2;\n        if (distanc > 2.0) return color1;\n        float dd = pow(1.0 - distanc / 2.0, sharpness);\n        return ((color2 - color1) * dd) + color1;\n}\n\nfloat distanceToEdge(vec3 point)\n{\n        float dx = abs(point.x > 0.5 ? 1.0 - point.x : point.x);\n        float dy = abs(point.y > 0.5 ? 1.0 - point.y : point.y);\n        if (point.x < 0.0) dx = -point.x;\n        if (point.x > 1.0) dx = point.x - 1.0;\n        if (point.y < 0.0) dy = -point.y;\n        if (point.y > 1.0) dy = point.y - 1.0;\n        if ((point.x < 0.0 || point.x > 1.0) && (point.y < 0.0 || point.y > 1.0)) return sqrt(dx * dx + dy * dy);\n        return min(dx, dy);\n}\n\nvec4 seeThrough(float yc, vec2 p, mat3 rotation, mat3 rrotation)\n{\n        float hitAngle = PI - (acos(yc / cylinderRadius) - cylinderAngle);\n        vec3 point = hitPoint(hitAngle, yc, rotation * vec3(p, 1.0), rrotation);\n        if (yc <= 0.0 && (point.x < 0.0 || point.y < 0.0 || point.x > 1.0 || point.y > 1.0))\n        {\n            return getToColor(p);\n        }\n\n        if (yc > 0.0) return getFromColor(p);\n\n        vec4 color = getFromColor(point.xy);\n        vec4 tcolor = vec4(0.0);\n\n        return antiAlias(color, tcolor, distanceToEdge(point));\n}\n\nvec4 seeThroughWithShadow(float yc, vec2 p, vec3 point, mat3 rotation, mat3 rrotation)\n{\n        float shadow = distanceToEdge(point) * 30.0;\n        shadow = (1.0 - shadow) / 3.0;\n\n        if (shadow < 0.0) shadow = 0.0; else shadow *= amount;\n\n        vec4 shadowColor = seeThrough(yc, p, rotation, rrotation);\n        shadowColor.r -= shadow;\n        shadowColor.g -= shadow;\n        shadowColor.b -= shadow;\n\n        return shadowColor;\n}\n\nvec4 backside(float yc, vec3 point)\n{\n        vec4 color = getFromColor(point.xy);\n        float gray = (color.r + color.b + color.g) / 15.0;\n        gray += (8.0 / 10.0) * (pow(1.0 - abs(yc / cylinderRadius), 2.0 / 10.0) / 2.0 + (5.0 / 10.0));\n        color.rgb = vec3(gray);\n        return color;\n}\n\nvec4 behindSurface(vec2 p, float yc, vec3 point, mat3 rrotation)\n{\n        float shado = (1.0 - ((-cylinderRadius - yc) / amount * 7.0)) / 6.0;\n        shado *= 1.0 - abs(point.x - 0.5);\n\n        yc = (-cylinderRadius - cylinderRadius - yc);\n\n        float hitAngle = (acos(yc / cylinderRadius) + cylinderAngle) - PI;\n        point = hitPoint(hitAngle, yc, point, rrotation);\n\n        if (yc < 0.0 && point.x >= 0.0 && point.y >= 0.0 && point.x <= 1.0 && point.y <= 1.0 && (hitAngle < PI || amount > 0.5))\n        {\n                shado = 1.0 - (sqrt(pow(point.x - 0.5, 2.0) + pow(point.y - 0.5, 2.0)) / (71.0 / 100.0));\n                shado *= pow(-yc / cylinderRadius, 3.0);\n                shado *= 0.5;\n        }\n        else\n        {\n                shado = 0.0;\n        }\n        return vec4(getToColor(p).rgb - shado, 1.0);\n}\n\nvec4 transition(vec2 p) {\n\n  const float angle = 100.0 * PI / 180.0;\n        float c = cos(-angle);\n        float s = sin(-angle);\n\n        mat3 rotation = mat3( c, s, 0,\n                                                                -s, c, 0,\n                                                                -0.801, 0.8900, 1\n                                                                );\n        c = cos(angle);\n        s = sin(angle);\n\n        mat3 rrotation = mat3(\tc, s, 0,\n                                                                        -s, c, 0,\n                                                                        0.98500, 0.985, 1\n                                                                );\n\n        vec3 point = rotation * vec3(p, 1.0);\n\n        float yc = point.y - cylinderCenter;\n\n        if (yc < -cylinderRadius)\n        {\n                // Behind surface\n                return behindSurface(p,yc, point, rrotation);\n        }\n\n        if (yc > cylinderRadius)\n        {\n                // Flat surface\n                return getFromColor(p);\n        }\n\n        float hitAngle = (acos(yc / cylinderRadius) + cylinderAngle) - PI;\n\n        float hitAngleMod = mod(hitAngle, 2.0 * PI);\n        if ((hitAngleMod > PI && amount < 0.5) || (hitAngleMod > PI/2.0 && amount < 0.0))\n        {\n                return seeThrough(yc, p, rotation, rrotation);\n        }\n\n        point = hitPoint(hitAngle, yc, point, rrotation);\n\n        if (point.x < 0.0 || point.y < 0.0 || point.x > 1.0 || point.y > 1.0)\n        {\n                return seeThroughWithShadow(yc, p, point, rotation, rrotation);\n        }\n\n        vec4 color = backside(yc, point);\n\n        vec4 otherColor;\n        if (yc < 0.0)\n        {\n                float shado = 1.0 - (sqrt(pow(point.x - 0.5, 2.0) + pow(point.y - 0.5, 2.0)) / 0.71);\n                shado *= pow(-yc / cylinderRadius, 3.0);\n                shado *= 0.5;\n                otherColor = vec4(0.0, 0.0, 0.0, shado);\n        }\n        else\n        {\n                otherColor = getFromColor(p);\n        }\n\n        color = antiAlias(color, otherColor, cylinderRadius - abs(yc));\n\n        vec4 cl = seeThroughWithShadow(yc, p, point, rotation, rrotation);\n        float dist = distanceToEdge(point);\n\n        return antiAlias(color, cl, dist);\n}\n',author:"Hewlett-Packard",license:"BSD 3 Clause",createdAt:"Wed, 21 Feb 2018 01:13:49 +0100",updatedAt:"Wed, 21 Feb 2018 16:00:02 +0100"},{name:"LinearBlur",paramsTypes:{intensity:"float"},defaultParams:{intensity:.1},glsl:"// author: gre\n// license: MIT\nuniform float intensity; // = 0.1\nconst int passes = 6;\n\nvec4 transition(vec2 uv) {\n    vec4 c1 = vec4(0.0);\n    vec4 c2 = vec4(0.0);\n\n    float disp = intensity*(0.5-distance(0.5, progress));\n    for (int xi=0; xi<passes; xi++)\n    {\n        float x = float(xi) / float(passes) - 0.5;\n        for (int yi=0; yi<passes; yi++)\n        {\n            float y = float(yi) / float(passes) - 0.5;\n            vec2 v = vec2(x,y);\n            float d = disp;\n            c1 += getFromColor( uv + d*v);\n            c2 += getToColor( uv + d*v);\n        }\n    }\n    c1 /= float(passes*passes);\n    c2 /= float(passes*passes);\n    return mix(c1, c2, progress);\n}\n",author:"gre",license:"MIT",createdAt:"Fri, 23 Feb 2018 15:18:22 +0100",updatedAt:"Fri, 23 Feb 2018 15:18:22 +0100"},{name:"Mosaic",paramsTypes:{endx:"int",endy:"int"},defaultParams:{endx:2,endy:-1},glsl:"// License: MIT\n// Author: Xaychru\n// ported by gre from https://gist.github.com/Xaychru/130bb7b7affedbda9df5\n\n#define PI 3.14159265358979323\n#define POW2(X) X*X\n#define POW3(X) X*X*X\nuniform int endx; // = 2\nuniform int endy; // = -1\n\nfloat Rand(vec2 v) {\n  return fract(sin(dot(v.xy ,vec2(12.9898,78.233))) * 43758.5453);\n}\nvec2 Rotate(vec2 v, float a) {\n  mat2 rm = mat2(cos(a), -sin(a),\n                 sin(a), cos(a));\n  return rm*v;\n}\nfloat CosInterpolation(float x) {\n  return -cos(x*PI)/2.+.5;\n}\nvec4 transition(vec2 uv) {\n  vec2 p = uv.xy / vec2(1.0).xy - .5;\n  vec2 rp = p;\n  float rpr = (progress*2.-1.);\n  float z = -(rpr*rpr*2.) + 3.;\n  float az = abs(z);\n  rp *= az;\n  rp += mix(vec2(.5, .5), vec2(float(endx) + .5, float(endy) + .5), POW2(CosInterpolation(progress)));\n  vec2 mrp = mod(rp, 1.);\n  vec2 crp = rp;\n  bool onEnd = int(floor(crp.x))==endx&&int(floor(crp.y))==endy;\n  if(!onEnd) {\n    float ang = float(int(Rand(floor(crp))*4.))*.5*PI;\n    mrp = vec2(.5) + Rotate(mrp-vec2(.5), ang);\n  }\n  if(onEnd || Rand(floor(crp))>.5) {\n    return getToColor(mrp);\n  } else {\n    return getFromColor(mrp);\n  }\n}\n",license:"MIT",author:"Xaychru",createdAt:"Mon, 12 Jun 2017 10:26:51 +0800",updatedAt:"Mon, 12 Jun 2017 10:26:51 +0800"},{name:"PolkaDotsCurtain",paramsTypes:{dots:"float",center:"vec2"},defaultParams:{dots:20,center:[0,0]},glsl:"// author: bobylito\n// license: MIT\nconst float SQRT_2 = 1.414213562373;\nuniform float dots;// = 20.0;\nuniform vec2 center;// = vec2(0, 0);\n\nvec4 transition(vec2 uv) {\n  bool nextImage = distance(fract(uv * dots), vec2(0.5, 0.5)) < ( progress / distance(uv, center));\n  return nextImage ? getToColor(uv) : getFromColor(uv);\n}\n",author:"bobylito",license:"MIT",createdAt:"Tue, 20 Feb 2018 23:41:45 +0100",updatedAt:"Tue, 20 Feb 2018 23:41:45 +0100"},{name:"Radial",paramsTypes:{smoothness:"float"},defaultParams:{smoothness:1},glsl:"// License: MIT\n// Author: Xaychru\n// ported by gre from https://gist.github.com/Xaychru/ce1d48f0ce00bb379750\n\nuniform float smoothness; // = 1.0\n\nconst float PI = 3.141592653589;\n\nvec4 transition(vec2 p) {\n  vec2 rp = p*2.-1.;\n  return mix(\n    getToColor(p),\n    getFromColor(p),\n    smoothstep(0., smoothness, atan(rp.y,rp.x) - (progress-.5) * PI * 2.5)\n  );\n}\n",license:"MIT",author:"Xaychru",createdAt:"Mon, 12 Jun 2017 10:36:24 +0800",updatedAt:"Mon, 12 Jun 2017 10:36:24 +0800"},{name:"SimpleZoom",paramsTypes:{zoom_quickness:"float"},defaultParams:{zoom_quickness:.8},glsl:"// Author: 0gust1\n// License: MIT\n\nuniform float zoom_quickness; // = 0.8\nfloat nQuick = clamp(zoom_quickness,0.2,1.0);\n\nvec2 zoom(vec2 uv, float amount) {\n  return 0.5 + ((uv - 0.5) * (1.0-amount));\t\n}\n\nvec4 transition (vec2 uv) {\n  return mix(\n    getFromColor(zoom(uv, smoothstep(0.0, nQuick, progress))),\n    getToColor(uv),\n   smoothstep(nQuick-0.2, 1.0, progress)\n  );\n}",author:"0gust1",license:"MIT",createdAt:"Tue, 6 Mar 2018 00:43:47 +0100",updatedAt:"Tue, 6 Mar 2018 00:43:47 +0100"},{name:"StereoViewer",paramsTypes:{zoom:"float",corner_radius:"float"},defaultParams:{zoom:.88,corner_radius:.22},glsl:"// Tunable parameters\n// How much to zoom (out) for the effect ~ 0.5 - 1.0\nuniform float zoom; // = 0.88\n// Corner radius as a fraction of the image height\nuniform float corner_radius;  // = 0.22\n\n// author: Ted Schundler\n// license: BSD 2 Clause\n// Free for use and modification by anyone with credit\n\n// Copyright (c) 2016, Theodore K Schundler\n// All rights reserved.\n\n// Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:\n\n// 1. Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.\n\n// 2. Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.\n\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n\n///////////////////////////////////////////////////////////////////////////////\n// Stereo Viewer Toy Transition                                              //\n//                                                                           //\n// Inspired by ViewMaster / Image3D image viewer devices.                    //\n// This effect is similar to what you see when you press the device's lever. //\n// There is a quick zoom in / out to make the transition 'valid' for GLSL.io //\n///////////////////////////////////////////////////////////////////////////////\n\nconst vec4 black = vec4(0.0, 0.0, 0.0, 1.0);\nconst vec2 c00 = vec2(0.0, 0.0); // the four corner points\nconst vec2 c01 = vec2(0.0, 1.0);\nconst vec2 c11 = vec2(1.0, 1.0);\nconst vec2 c10 = vec2(1.0, 0.0);\n\n// Check if a point is within a given corner\nbool in_corner(vec2 p, vec2 corner, vec2 radius) {\n  // determine the direction we want to be filled\n  vec2 axis = (c11 - corner) - corner;\n\n  // warp the point so we are always testing the bottom left point with the\n  // circle centered on the origin\n  p = p - (corner + axis * radius);\n  p *= axis / radius;\n  return (p.x > 0.0 && p.y > -1.0) || (p.y > 0.0 && p.x > -1.0) || dot(p, p) < 1.0;\n}\n\n// Check all four corners\n// return a float for v2 for anti-aliasing?\nbool test_rounded_mask(vec2 p, vec2 corner_size) {\n  return\n      in_corner(p, c00, corner_size) &&\n      in_corner(p, c01, corner_size) &&\n      in_corner(p, c10, corner_size) &&\n      in_corner(p, c11, corner_size);\n}\n\n// Screen blend mode - https://en.wikipedia.org/wiki/Blend_modes\n// This more closely approximates what you see than linear blending\nvec4 screen(vec4 a, vec4 b) {\n  return 1.0 - (1.0 - a) * (1.0 -b);\n}\n\n// Given RGBA, find a value that when screened with itself\n// will yield the original value.\nvec4 unscreen(vec4 c) {\n  return 1.0 - sqrt(1.0 - c);\n}\n\n// Grab a pixel, only if it isn't masked out by the rounded corners\nvec4 sample_with_corners_from(vec2 p, vec2 corner_size) {\n  p = (p - 0.5) / zoom + 0.5;\n  if (!test_rounded_mask(p, corner_size)) {\n    return black;\n  }\n  return unscreen(getFromColor(p));\n}\n\nvec4 sample_with_corners_to(vec2 p, vec2 corner_size) {\n  p = (p - 0.5) / zoom + 0.5;\n  if (!test_rounded_mask(p, corner_size)) {\n    return black;\n  }\n  return unscreen(getToColor(p));\n}\n\n// special sampling used when zooming - extra zoom parameter and don't unscreen\nvec4 simple_sample_with_corners_from(vec2 p, vec2 corner_size, float zoom_amt) {\n  p = (p - 0.5) / (1.0 - zoom_amt + zoom * zoom_amt) + 0.5;\n  if (!test_rounded_mask(p, corner_size)) {\n    return black;\n  }\n  return getFromColor(p);\n}\n\nvec4 simple_sample_with_corners_to(vec2 p, vec2 corner_size, float zoom_amt) {\n  p = (p - 0.5) / (1.0 - zoom_amt + zoom * zoom_amt) + 0.5;\n  if (!test_rounded_mask(p, corner_size)) {\n    return black;\n  }\n  return getToColor(p);\n}\n\n// Basic 2D affine transform matrix helpers\n// These really shouldn't be used in a fragment shader - I should work out the\n// the math for a translate & rotate function as a pair of dot products instead\n\nmat3 rotate2d(float angle, float ratio) {\n  float s = sin(angle);\n  float c = cos(angle);\n  return mat3(\n    c, s ,0.0,\n    -s, c, 0.0,\n    0.0, 0.0, 1.0);\n}\n\nmat3 translate2d(float x, float y) {\n  return mat3(\n    1.0, 0.0, 0,\n    0.0, 1.0, 0,\n    -x, -y, 1.0);\n}\n\nmat3 scale2d(float x, float y) {\n  return mat3(\n    x, 0.0, 0,\n    0.0, y, 0,\n    0, 0, 1.0);\n}\n\n// Split an image and rotate one up and one down along off screen pivot points\nvec4 get_cross_rotated(vec3 p3, float angle, vec2 corner_size, float ratio) {\n  angle = angle * angle; // easing\n  angle /= 2.4; // works out to be a good number of radians\n\n  mat3 center_and_scale = translate2d(-0.5, -0.5) * scale2d(1.0, ratio);\n  mat3 unscale_and_uncenter = scale2d(1.0, 1.0/ratio) * translate2d(0.5,0.5);\n  mat3 slide_left = translate2d(-2.0,0.0);\n  mat3 slide_right = translate2d(2.0,0.0);\n  mat3 rotate = rotate2d(angle, ratio);\n\n  mat3 op_a = center_and_scale * slide_right * rotate * slide_left * unscale_and_uncenter;\n  mat3 op_b = center_and_scale * slide_left * rotate * slide_right * unscale_and_uncenter;\n\n  vec4 a = sample_with_corners_from((op_a * p3).xy, corner_size);\n  vec4 b = sample_with_corners_from((op_b * p3).xy, corner_size);\n\n  return screen(a, b);\n}\n\n// Image stays put, but this time move two masks\nvec4 get_cross_masked(vec3 p3, float angle, vec2 corner_size, float ratio) {\n  angle = 1.0 - angle;\n  angle = angle * angle; // easing\n  angle /= 2.4;\n\n  vec4 img;\n\n  mat3 center_and_scale = translate2d(-0.5, -0.5) * scale2d(1.0, ratio);\n  mat3 unscale_and_uncenter = scale2d(1.0 / zoom, 1.0 / (zoom * ratio)) * translate2d(0.5,0.5);\n  mat3 slide_left = translate2d(-2.0,0.0);\n  mat3 slide_right = translate2d(2.0,0.0);\n  mat3 rotate = rotate2d(angle, ratio);\n\n  mat3 op_a = center_and_scale * slide_right * rotate * slide_left * unscale_and_uncenter;\n  mat3 op_b = center_and_scale * slide_left * rotate * slide_right * unscale_and_uncenter;\n\n  bool mask_a = test_rounded_mask((op_a * p3).xy, corner_size);\n  bool mask_b = test_rounded_mask((op_b * p3).xy, corner_size);\n\n  if (mask_a || mask_b) {\n    img = sample_with_corners_to(p3.xy, corner_size);\n    return screen(mask_a ? img : black, mask_b ? img : black);\n  } else {\n    return black;\n  }\n}\n\nvec4 transition(vec2 uv) {\n  float a;\n  vec2 p=uv.xy/vec2(1.0).xy;\n  vec3 p3 = vec3(p.xy, 1.0); // for 2D matrix transforms\n\n  // corner is warped to represent to size after mapping to 1.0, 1.0\n  vec2 corner_size = vec2(corner_radius / ratio, corner_radius);\n\n  if (progress <= 0.0) {\n    // 0.0: start with the base frame always\n    return getFromColor(p);\n  } else if (progress < 0.1) {\n    // 0.0-0.1: zoom out and add rounded corners\n    a = progress / 0.1;\n    return  simple_sample_with_corners_from(p, corner_size * a, a);\n  } else if (progress < 0.48) {\n    // 0.1-0.48: Split original image apart\n    a = (progress - 0.1)/0.38;\n    return get_cross_rotated(p3, a, corner_size, ratio);\n  } else if (progress < 0.9) {\n    // 0.48-0.52: black\n    // 0.52 - 0.9: unmask new image\n    return get_cross_masked(p3, (progress - 0.52)/0.38, corner_size, ratio);\n  } else if (progress < 1.0) {\n    // zoom out and add rounded corners\n    a = (1.0 - progress) / 0.1;\n    return simple_sample_with_corners_to(p, corner_size * a, a);\n  } else {\n    // 1.0 end with base frame\n    return getToColor(p);\n  }\n}\n",author:"Ted Schundler",license:"BSD 2 Clause",createdAt:"Tue, 20 Feb 2018 23:20:29 +0100",updatedAt:"Wed, 21 Feb 2018 15:42:00 +0100"},{name:"Swirl",paramsTypes:{},defaultParams:{},glsl:"// License: MIT\n// Author: Sergey Kosarevsky\n// ( http://www.linderdaum.com )\n// ported by gre from https://gist.github.com/corporateshark/cacfedb8cca0f5ce3f7c\n\nvec4 transition(vec2 UV)\n{\n\tfloat Radius = 1.0;\n\n\tfloat T = progress;\n\n\tUV -= vec2( 0.5, 0.5 );\n\n\tfloat Dist = length(UV);\n\n\tif ( Dist < Radius )\n\t{\n\t\tfloat Percent = (Radius - Dist) / Radius;\n\t\tfloat A = ( T <= 0.5 ) ? mix( 0.0, 1.0, T/0.5 ) : mix( 1.0, 0.0, (T-0.5)/0.5 );\n\t\tfloat Theta = Percent * Percent * A * 8.0 * 3.14159;\n\t\tfloat S = sin( Theta );\n\t\tfloat C = cos( Theta );\n\t\tUV = vec2( dot(UV, vec2(C, -S)), dot(UV, vec2(S, C)) );\n\t}\n\tUV += vec2( 0.5, 0.5 );\n\n\tvec4 C0 = getFromColor(UV);\n\tvec4 C1 = getToColor(UV);\n\n\treturn mix( C0, C1, T );\n}\n",license:"MIT",author:"Sergey Kosarevsky",createdAt:"Mon, 12 Jun 2017 12:38:27 +0800",updatedAt:"Mon, 12 Jun 2017 12:38:27 +0800"},{name:"WaterDrop",paramsTypes:{amplitude:"float",speed:"float"},defaultParams:{amplitude:30,speed:30},glsl:"// author: Pawe\u0142 P\u0142\xf3ciennik\n// license: MIT\nuniform float amplitude; // = 30\nuniform float speed; // = 30\n\nvec4 transition(vec2 p) {\n  vec2 dir = p - vec2(.5);\n  float dist = length(dir);\n\n  if (dist > progress) {\n    return mix(getFromColor( p), getToColor( p), progress);\n  } else {\n    vec2 offset = dir * sin(dist * amplitude - progress * speed);\n    return mix(getFromColor( p + offset), getToColor( p), progress);\n  }\n}\n",author:"Pawe\u0142 P\u0142\xf3ciennik",license:"MIT",createdAt:"Wed, 21 Feb 2018 19:37:15 +0100",updatedAt:"Wed, 21 Feb 2018 19:37:15 +0100"},{name:"ZoomInCircles",paramsTypes:{},defaultParams:{},glsl:"// License: MIT\n// Author: dycm8009\n// ported by gre from https://gist.github.com/dycm8009/948e99b1800e81ad909a\n\nvec2 zoom(vec2 uv, float amount) {\n  return 0.5 + ((uv - 0.5) * amount);\t\n}\n\nvec2 ratio2 = vec2(1.0, 1.0 / ratio);\n\nvec4 transition(vec2 uv) {\n  // TODO: some timing are hardcoded but should be one or many parameters\n  // TODO: should also be able to configure how much circles\n  // TODO: if() branching should be avoided when possible, prefer use of step() & other functions\n  vec2 r = 2.0 * ((vec2(uv.xy) - 0.5) * ratio2);\n  float pro = progress / 0.8;\n  float z = pro * 0.2;\n  float t = 0.0;\n  if (pro > 1.0) {\n    z = 0.2 + (pro - 1.0) * 5.;\n    t = clamp((progress - 0.8) / 0.07, 0.0, 1.0);\n  }\n  if (length(r) < 0.5+z) {\n    // uv = zoom(uv, 0.9 - 0.1 * pro);\n  }\n  else if (length(r) < 0.8+z*1.5) {\n    uv = zoom(uv, 1.0 - 0.15 * pro);\n    t = t * 0.5;\n  }\n  else if (length(r) < 1.2+z*2.5) {\n    uv = zoom(uv, 1.0 - 0.2 * pro);\n    t = t * 0.2;\n  }\n  else {\n    uv = zoom(uv, 1.0 - 0.25 * pro);\n  }\n  return mix(getFromColor(uv), getToColor(uv), t);\n}\n",license:"MIT",author:"dycm8009",createdAt:"Mon, 12 Jun 2017 11:24:34 +0800",updatedAt:"Mon, 12 Jun 2017 11:24:34 +0800"},{name:"angular",paramsTypes:{startingAngle:"float"},defaultParams:{startingAngle:90},glsl:"// Author: Fernando Kuteken\n// License: MIT\n\n#define PI 3.141592653589\n\nuniform float startingAngle; // = 90;\n\nvec4 transition (vec2 uv) {\n  \n  float offset = startingAngle * PI / 180.0;\n  float angle = atan(uv.y - 0.5, uv.x - 0.5) + offset;\n  float normalizedAngle = (angle + PI) / (2.0 * PI);\n  \n  normalizedAngle = normalizedAngle - floor(normalizedAngle);\n\n  return mix(\n    getFromColor(uv),\n    getToColor(uv),\n    step(normalizedAngle, progress)\n    );\n}\n",author:"Fernando Kuteken",license:"MIT",createdAt:"Tue, 30 May 2017 14:26:44 +0200",updatedAt:"Tue, 30 May 2017 14:26:44 +0200"},{name:"burn",paramsTypes:{color:"vec3"},defaultParams:{color:[.9,.4,.2]},glsl:"// author: gre\n// License: MIT\nuniform vec3 color /* = vec3(0.9, 0.4, 0.2) */;\nvec4 transition (vec2 uv) {\n  return mix(\n    getFromColor(uv) + vec4(progress*color, 1.0),\n    getToColor(uv) + vec4((1.0-progress)*color, 1.0),\n    progress\n  );\n}\n",author:"gre",license:"MIT",createdAt:"Tue, 30 May 2017 14:26:44 +0200",updatedAt:"Tue, 30 May 2017 14:26:44 +0200"},{name:"cannabisleaf",paramsTypes:{},defaultParams:{},glsl:"// Author: @Flexi23\n// License: MIT\n\n// inspired by http://www.wolframalpha.com/input/?i=cannabis+curve\n\nvec4 transition (vec2 uv) {\n  if(progress == 0.0){\n    return getFromColor(uv);\n  }\n  vec2 leaf_uv = (uv - vec2(0.5))/10./pow(progress,3.5);\n\tleaf_uv.y += 0.35;\n\tfloat r = 0.18;\n\tfloat o = atan(leaf_uv.y, leaf_uv.x);\n  return mix(getFromColor(uv), getToColor(uv), 1.-step(1. - length(leaf_uv)+r*(1.+sin(o))*(1.+0.9 * cos(8.*o))*(1.+0.1*cos(24.*o))*(0.9+0.05*cos(200.*o)), 1.));\n}\n",author:"@Flexi23",license:"MIT",createdAt:"Thu, 1 Jun 2017 15:58:58 +0200",updatedAt:"Thu, 1 Jun 2017 15:58:58 +0200"},{name:"circle",paramsTypes:{center:"vec2",backColor:"vec3"},defaultParams:{center:[.5,.5],backColor:[.1,.1,.1]},glsl:"// Author: Fernando Kuteken\n// License: MIT\n\nuniform vec2 center; // = vec2(0.5, 0.5);\nuniform vec3 backColor; // = vec3(0.1, 0.1, 0.1);\n\nvec4 transition (vec2 uv) {\n  \n  float distance = length(uv - center);\n  float radius = sqrt(8.0) * abs(progress - 0.5);\n  \n  if (distance > radius) {\n    return vec4(backColor, 1.0);\n  }\n  else {\n    if (progress < 0.5) return getFromColor(uv);\n    else return getToColor(uv);\n  }\n}\n",author:"Fernando Kuteken",license:"MIT",createdAt:"Tue, 30 May 2017 14:26:44 +0200",updatedAt:"Tue, 30 May 2017 14:26:44 +0200"},{name:"circleopen",paramsTypes:{smoothness:"float",opening:"bool"},defaultParams:{smoothness:.3,opening:!0},glsl:"// author: gre\n// License: MIT\nuniform float smoothness; // = 0.3\nuniform bool opening; // = true\n\nconst vec2 center = vec2(0.5, 0.5);\nconst float SQRT_2 = 1.414213562373;\n\nvec4 transition (vec2 uv) {\n  float x = opening ? progress : 1.-progress;\n  float m = smoothstep(-smoothness, 0.0, SQRT_2*distance(center, uv) - x*(1.+smoothness));\n  return mix(getFromColor(uv), getToColor(uv), opening ? 1.-m : m);\n}\n",author:"gre",license:"MIT",createdAt:"Tue, 30 May 2017 14:26:44 +0200",updatedAt:"Tue, 30 May 2017 14:26:44 +0200"},{name:"colorphase",paramsTypes:{fromStep:"vec4",toStep:"vec4"},defaultParams:{fromStep:[0,.2,.4,0],toStep:[.6,.8,1,1]},glsl:"// Author: gre\n// License: MIT\n\n// Usage: fromStep and toStep must be in [0.0, 1.0] range \n// and all(fromStep) must be < all(toStep)\n\nuniform vec4 fromStep; // = vec4(0.0, 0.2, 0.4, 0.0)\nuniform vec4 toStep; // = vec4(0.6, 0.8, 1.0, 1.0)\n\nvec4 transition (vec2 uv) {\n  vec4 a = getFromColor(uv);\n  vec4 b = getToColor(uv);\n  return mix(a, b, smoothstep(fromStep, toStep, vec4(progress)));\n}\n",author:"gre",license:"MIT",createdAt:"Tue, 30 May 2017 14:26:44 +0200",updatedAt:"Tue, 30 May 2017 14:26:44 +0200"},{name:"crosshatch",paramsTypes:{center:"vec2",threshold:"float",fadeEdge:"float"},defaultParams:{center:[.5,.5],threshold:3,fadeEdge:.1},glsl:"// License: MIT\n// Author: pthrasher\n// adapted by gre from https://gist.github.com/pthrasher/04fd9a7de4012cbb03f6\n\nuniform vec2 center; // = vec2(0.5)\nuniform float threshold; // = 3.0\nuniform float fadeEdge; // = 0.1\n\nfloat rand(vec2 co) {\n  return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);\n}\nvec4 transition(vec2 p) {\n  float dist = distance(center, p) / threshold;\n  float r = progress - min(rand(vec2(p.y, 0.0)), rand(vec2(0.0, p.x)));\n  return mix(getFromColor(p), getToColor(p), mix(0.0, mix(step(dist, r), 1.0, smoothstep(1.0-fadeEdge, 1.0, progress)), smoothstep(0.0, fadeEdge, progress)));    \n}\n",license:"MIT",author:"pthrasher",createdAt:"Mon, 12 Jun 2017 10:02:12 +0800",updatedAt:"Mon, 12 Jun 2017 10:02:12 +0800"},{name:"crosswarp",paramsTypes:{},defaultParams:{},glsl:"// Author: Eke P\xe9ter <peterekepeter@gmail.com>\n// License: MIT\nvec4 transition(vec2 p) {\n  float x = progress;\n  x=smoothstep(.0,1.0,(x*2.0+p.x-1.0));\n  return mix(getFromColor((p-.5)*(1.-x)+.5), getToColor((p-.5)*x+.5), x);\n}\n",author:"Eke P\xe9ter <peterekepeter@gmail.com>",license:"MIT",createdAt:"Tue, 30 May 2017 14:26:44 +0200",updatedAt:"Tue, 30 May 2017 14:26:44 +0200"},{name:"cube",paramsTypes:{persp:"float",unzoom:"float",reflection:"float",floating:"float"},defaultParams:{persp:.7,unzoom:.3,reflection:.4,floating:3},glsl:"// Author: gre\n// License: MIT\nuniform float persp; // = 0.7\nuniform float unzoom; // = 0.3\nuniform float reflection; // = 0.4\nuniform float floating; // = 3.0\n\nvec2 project (vec2 p) {\n  return p * vec2(1.0, -1.2) + vec2(0.0, -floating/100.);\n}\n\nbool inBounds (vec2 p) {\n  return all(lessThan(vec2(0.0), p)) && all(lessThan(p, vec2(1.0)));\n}\n\nvec4 bgColor (vec2 p, vec2 pfr, vec2 pto) {\n  vec4 c = vec4(0.0, 0.0, 0.0, 1.0);\n  pfr = project(pfr);\n  // FIXME avoid branching might help perf!\n  if (inBounds(pfr)) {\n    c += mix(vec4(0.0), getFromColor(pfr), reflection * mix(1.0, 0.0, pfr.y));\n  }\n  pto = project(pto);\n  if (inBounds(pto)) {\n    c += mix(vec4(0.0), getToColor(pto), reflection * mix(1.0, 0.0, pto.y));\n  }\n  return c;\n}\n\n// p : the position\n// persp : the perspective in [ 0, 1 ]\n// center : the xcenter in [0, 1] \\ 0.5 excluded\nvec2 xskew (vec2 p, float persp, float center) {\n  float x = mix(p.x, 1.0-p.x, center);\n  return (\n    (\n      vec2( x, (p.y - 0.5*(1.0-persp) * x) / (1.0+(persp-1.0)*x) )\n      - vec2(0.5-distance(center, 0.5), 0.0)\n    )\n    * vec2(0.5 / distance(center, 0.5) * (center<0.5 ? 1.0 : -1.0), 1.0)\n    + vec2(center<0.5 ? 0.0 : 1.0, 0.0)\n  );\n}\n\nvec4 transition(vec2 op) {\n  float uz = unzoom * 2.0*(0.5-distance(0.5, progress));\n  vec2 p = -uz*0.5+(1.0+uz) * op;\n  vec2 fromP = xskew(\n    (p - vec2(progress, 0.0)) / vec2(1.0-progress, 1.0),\n    1.0-mix(progress, 0.0, persp),\n    0.0\n  );\n  vec2 toP = xskew(\n    p / vec2(progress, 1.0),\n    mix(pow(progress, 2.0), 1.0, persp),\n    1.0\n  );\n  // FIXME avoid branching might help perf!\n  if (inBounds(fromP)) {\n    return getFromColor(fromP);\n  }\n  else if (inBounds(toP)) {\n    return getToColor(toP);\n  }\n  return bgColor(op, fromP, toP);\n}\n",author:"gre",license:"MIT",createdAt:"Tue, 30 May 2017 14:26:44 +0200",updatedAt:"Tue, 30 May 2017 14:26:44 +0200"},{name:"directionalwarp",paramsTypes:{direction:"vec2"},defaultParams:{direction:[-1,1]},glsl:"// Author: pschroen\n// License: MIT\n\nuniform vec2 direction; // = vec2(-1.0, 1.0)\n\nconst float smoothness = 0.5;\nconst vec2 center = vec2(0.5, 0.5);\n\nvec4 transition (vec2 uv) {\n  vec2 v = normalize(direction);\n  v /= abs(v.x) + abs(v.y);\n  float d = v.x * center.x + v.y * center.y;\n  float m = 1.0 - smoothstep(-smoothness, 0.0, v.x * uv.x + v.y * uv.y - (d - 0.5 + progress * (1.0 + smoothness)));\n  return mix(getFromColor((uv - 0.5) * (1.0 - m) + 0.5), getToColor((uv - 0.5) * m + 0.5), m);\n}\n",author:"pschroen",license:"MIT",createdAt:"Wed, 13 Dec 2017 12:08:49 -0500",updatedAt:"Wed, 13 Dec 2017 12:08:49 -0500"},{name:"directionalwipe",paramsTypes:{direction:"vec2",smoothness:"float"},defaultParams:{direction:[1,-1],smoothness:.5},glsl:"// Author: gre\n// License: MIT\n\nuniform vec2 direction; // = vec2(1.0, -1.0)\nuniform float smoothness; // = 0.5\n \nconst vec2 center = vec2(0.5, 0.5);\n \nvec4 transition (vec2 uv) {\n  vec2 v = normalize(direction);\n  v /= abs(v.x)+abs(v.y);\n  float d = v.x * center.x + v.y * center.y;\n  float m =\n    (1.0-step(progress, 0.0)) * // there is something wrong with our formula that makes m not equals 0.0 with progress is 0.0\n    (1.0 - smoothstep(-smoothness, 0.0, v.x * uv.x + v.y * uv.y - (d-0.5+progress*(1.+smoothness))));\n  return mix(getFromColor(uv), getToColor(uv), m);\n}\n",author:"gre",license:"MIT",createdAt:"Tue, 30 May 2017 14:26:44 +0200",updatedAt:"Tue, 30 May 2017 14:26:44 +0200"},{name:"displacement",paramsTypes:{displacementMap:"sampler2D",strength:"float"},defaultParams:{displacementMap:null,strength:.5},glsl:"// Author: Travis Fischer\n// License: MIT\n//\n// Adapted from a Codrops article by Robin Delaporte\n// https://tympanus.net/Development/DistortionHoverEffect\n\nuniform sampler2D displacementMap;\n\nuniform float strength; // = 0.5\n\nvec4 transition (vec2 uv) {\n  float displacement = texture2D(displacementMap, uv).r * strength;\n\n  vec2 uvFrom = vec2(uv.x + progress * displacement, uv.y);\n  vec2 uvTo = vec2(uv.x - (1.0 - progress) * displacement, uv.y);\n\n  return mix(\n    getFromColor(uvFrom),\n    getToColor(uvTo),\n    progress\n  );\n}\n",author:"Travis Fischer",license:"MIT",createdAt:"Tue, 10 Apr 2018 23:03:38 -0400",updatedAt:"Tue, 10 Apr 2018 23:03:38 -0400"},{name:"doorway",paramsTypes:{reflection:"float",perspective:"float",depth:"float"},defaultParams:{reflection:.4,perspective:.4,depth:3},glsl:"// author: gre\n// License: MIT \nuniform float reflection; // = 0.4\nuniform float perspective; // = 0.4\nuniform float depth; // = 3\n\nconst vec4 black = vec4(0.0, 0.0, 0.0, 1.0);\nconst vec2 boundMin = vec2(0.0, 0.0);\nconst vec2 boundMax = vec2(1.0, 1.0);\n\nbool inBounds (vec2 p) {\n  return all(lessThan(boundMin, p)) && all(lessThan(p, boundMax));\n}\n\nvec2 project (vec2 p) {\n  return p * vec2(1.0, -1.2) + vec2(0.0, -0.02);\n}\n\nvec4 bgColor (vec2 p, vec2 pto) {\n  vec4 c = black;\n  pto = project(pto);\n  if (inBounds(pto)) {\n    c += mix(black, getToColor(pto), reflection * mix(1.0, 0.0, pto.y));\n  }\n  return c;\n}\n\n\nvec4 transition (vec2 p) {\n  vec2 pfr = vec2(-1.), pto = vec2(-1.);\n  float middleSlit = 2.0 * abs(p.x-0.5) - progress;\n  if (middleSlit > 0.0) {\n    pfr = p + (p.x > 0.5 ? -1.0 : 1.0) * vec2(0.5*progress, 0.0);\n    float d = 1.0/(1.0+perspective*progress*(1.0-middleSlit));\n    pfr.y -= d/2.;\n    pfr.y *= d;\n    pfr.y += d/2.;\n  }\n  float size = mix(1.0, depth, 1.-progress);\n  pto = (p + vec2(-0.5, -0.5)) * vec2(size, size) + vec2(0.5, 0.5);\n  if (inBounds(pfr)) {\n    return getFromColor(pfr);\n  }\n  else if (inBounds(pto)) {\n    return getToColor(pto);\n  }\n  else {\n    return bgColor(p, pto);\n  }\n}\n",author:"gre",license:"MIT",createdAt:"Tue, 30 May 2017 14:26:44 +0200",updatedAt:"Tue, 30 May 2017 14:26:44 +0200"},{name:"fade",paramsTypes:{},defaultParams:{},glsl:"// author: gre\n// license: MIT\n\nvec4 transition (vec2 uv) {\n  return mix(\n    getFromColor(uv),\n    getToColor(uv),\n    progress\n  );\n}\n",author:"gre",license:"MIT",createdAt:"Tue, 30 May 2017 14:26:44 +0200",updatedAt:"Tue, 30 May 2017 14:26:44 +0200"},{name:"fadecolor",paramsTypes:{color:"vec3",colorPhase:"float"},defaultParams:{color:[0,0,0],colorPhase:.4},glsl:"// author: gre\n// License: MIT\nuniform vec3 color;// = vec3(0.0)\nuniform float colorPhase/* = 0.4 */; // if 0.0, there is no black phase, if 0.9, the black phase is very important\nvec4 transition (vec2 uv) {\n  return mix(\n    mix(vec4(color, 1.0), getFromColor(uv), smoothstep(1.0-colorPhase, 0.0, progress)),\n    mix(vec4(color, 1.0), getToColor(uv), smoothstep(    colorPhase, 1.0, progress)),\n    progress);\n}\n",author:"gre",license:"MIT",createdAt:"Tue, 30 May 2017 14:26:44 +0200",updatedAt:"Tue, 30 May 2017 14:26:44 +0200"},{name:"fadegrayscale",paramsTypes:{intensity:"float"},defaultParams:{intensity:.3},glsl:"// Author: gre\n// License: MIT\n\nuniform float intensity; // = 0.3; // if 0.0, the image directly turn grayscale, if 0.9, the grayscale transition phase is very important\n \nvec3 grayscale (vec3 color) {\n  return vec3(0.2126*color.r + 0.7152*color.g + 0.0722*color.b);\n}\n \nvec4 transition (vec2 uv) {\n  vec4 fc = getFromColor(uv);\n  vec4 tc = getToColor(uv);\n  return mix(\n    mix(vec4(grayscale(fc.rgb), 1.0), fc, smoothstep(1.0-intensity, 0.0, progress)),\n    mix(vec4(grayscale(tc.rgb), 1.0), tc, smoothstep(    intensity, 1.0, progress)),\n    progress);\n}\n",author:"gre",license:"MIT",createdAt:"Tue, 30 May 2017 14:26:44 +0200",updatedAt:"Tue, 30 May 2017 14:26:44 +0200"},{name:"flyeye",paramsTypes:{size:"float",zoom:"float",colorSeparation:"float"},defaultParams:{size:.04,zoom:50,colorSeparation:.3},glsl:"// Author: gre\n// License: MIT\nuniform float size; // = 0.04\nuniform float zoom; // = 50.0\nuniform float colorSeparation; // = 0.3\n\nvec4 transition(vec2 p) {\n  float inv = 1. - progress;\n  vec2 disp = size*vec2(cos(zoom*p.x), sin(zoom*p.y));\n  vec4 texTo = getToColor(p + inv*disp);\n  vec4 texFrom = vec4(\n    getFromColor(p + progress*disp*(1.0 - colorSeparation)).r,\n    getFromColor(p + progress*disp).g,\n    getFromColor(p + progress*disp*(1.0 + colorSeparation)).b,\n    1.0);\n  return texTo*progress + texFrom*inv;\n}\n",author:"gre",license:"MIT",createdAt:"Tue, 30 May 2017 14:26:44 +0200",updatedAt:"Tue, 30 May 2017 14:26:44 +0200"},{name:"heart",paramsTypes:{},defaultParams:{},glsl:"// Author: gre\n// License: MIT\n\nfloat inHeart (vec2 p, vec2 center, float size) {\n  if (size==0.0) return 0.0;\n  vec2 o = (p-center)/(1.6*size);\n  float a = o.x*o.x+o.y*o.y-0.3;\n  return step(a*a*a, o.x*o.x*o.y*o.y*o.y);\n}\nvec4 transition (vec2 uv) {\n  return mix(\n    getFromColor(uv),\n    getToColor(uv),\n    inHeart(uv, vec2(0.5, 0.4), progress)\n  );\n}\n",author:"gre",license:"MIT",createdAt:"Tue, 30 May 2017 14:26:44 +0200",updatedAt:"Tue, 30 May 2017 14:26:44 +0200"},{name:"hexagonalize",paramsTypes:{steps:"int",horizontalHexagons:"float"},defaultParams:{steps:50,horizontalHexagons:20},glsl:"// Author: Fernando Kuteken\n// License: MIT\n// Hexagonal math from: http://www.redblobgames.com/grids/hexagons/\n\nuniform int steps; // = 50;\nuniform float horizontalHexagons; //= 20;\n\nstruct Hexagon {\n  float q;\n  float r;\n  float s;\n};\n\nHexagon createHexagon(float q, float r){\n  Hexagon hex;\n  hex.q = q;\n  hex.r = r;\n  hex.s = -q - r;\n  return hex;\n}\n\nHexagon roundHexagon(Hexagon hex){\n  \n  float q = floor(hex.q + 0.5);\n  float r = floor(hex.r + 0.5);\n  float s = floor(hex.s + 0.5);\n\n  float deltaQ = abs(q - hex.q);\n  float deltaR = abs(r - hex.r);\n  float deltaS = abs(s - hex.s);\n\n  if (deltaQ > deltaR && deltaQ > deltaS)\n    q = -r - s;\n  else if (deltaR > deltaS)\n    r = -q - s;\n  else\n    s = -q - r;\n\n  return createHexagon(q, r);\n}\n\nHexagon hexagonFromPoint(vec2 point, float size) {\n  \n  point.y /= ratio;\n  point = (point - 0.5) / size;\n  \n  float q = (sqrt(3.0) / 3.0) * point.x + (-1.0 / 3.0) * point.y;\n  float r = 0.0 * point.x + 2.0 / 3.0 * point.y;\n\n  Hexagon hex = createHexagon(q, r);\n  return roundHexagon(hex);\n  \n}\n\nvec2 pointFromHexagon(Hexagon hex, float size) {\n  \n  float x = (sqrt(3.0) * hex.q + (sqrt(3.0) / 2.0) * hex.r) * size + 0.5;\n  float y = (0.0 * hex.q + (3.0 / 2.0) * hex.r) * size + 0.5;\n  \n  return vec2(x, y * ratio);\n}\n\nvec4 transition (vec2 uv) {\n  \n  float dist = 2.0 * min(progress, 1.0 - progress);\n  dist = steps > 0 ? ceil(dist * float(steps)) / float(steps) : dist;\n  \n  float size = (sqrt(3.0) / 3.0) * dist / horizontalHexagons;\n  \n  vec2 point = dist > 0.0 ? pointFromHexagon(hexagonFromPoint(uv, size), size) : uv;\n\n  return mix(getFromColor(point), getToColor(point), progress);\n  \n}\n",author:"Fernando Kuteken",license:"MIT",createdAt:"Tue, 30 May 2017 21:55:47 -0300",updatedAt:"Tue, 30 May 2017 21:55:47 -0300"},{name:"kaleidoscope",paramsTypes:{speed:"float",angle:"float",power:"float"},defaultParams:{speed:1,angle:1,power:1.5},glsl:"// Author: nwoeanhinnogaehr\n// License: MIT\n\nuniform float speed; // = 1.0;\nuniform float angle; // = 1.0;\nuniform float power; // = 1.5;\n\nvec4 transition(vec2 uv) {\n  vec2 p = uv.xy / vec2(1.0).xy;\n  vec2 q = p;\n  float t = pow(progress, power)*speed;\n  p = p -0.5;\n  for (int i = 0; i < 7; i++) {\n    p = vec2(sin(t)*p.x + cos(t)*p.y, sin(t)*p.y - cos(t)*p.x);\n    t += angle;\n    p = abs(mod(p, 2.0) - 1.0);\n  }\n  abs(mod(p, 1.0));\n  return mix(\n    mix(getFromColor(q), getToColor(q), progress),\n    mix(getFromColor(p), getToColor(p), progress), 1.0 - 2.0*abs(progress - 0.5));\n}\n",author:"nwoeanhinnogaehr",license:"MIT",createdAt:"Wed, 31 May 2017 21:48:26 -0400",updatedAt:"Wed, 31 May 2017 21:48:26 -0400"},{name:"luma",paramsTypes:{luma:"sampler2D"},defaultParams:{luma:null},glsl:"// Author: gre\n// License: MIT\n\nuniform sampler2D luma;\n\nvec4 transition(vec2 uv) {\n  return mix(\n    getToColor(uv),\n    getFromColor(uv),\n    step(progress, texture2D(luma, uv).r)\n  );\n}\n",author:"gre",license:"MIT",createdAt:"Tue, 30 May 2017 14:26:44 +0200",updatedAt:"Tue, 30 May 2017 14:26:44 +0200"},{name:"luminance_melt",paramsTypes:{direction:"bool",l_threshold:"float",above:"bool"},defaultParams:{direction:!0,l_threshold:.8,above:!1},glsl:"// Author: 0gust1\n// License: MIT\n//My own first transition \u2014 based on crosshatch code (from pthrasher), using  simplex noise formula (copied and pasted)\n//-> cooler with high contrasted images (isolated dark subject on light background f.e.)\n//TODO : try to rebase it on DoomTransition (from zeh)?\n//optimizations :\n//luminance (see http://stackoverflow.com/questions/596216/formula-to-determine-brightness-of-rgb-color#answer-596241)\n// Y = (R+R+B+G+G+G)/6\n//or Y = (R+R+R+B+G+G+G+G)>>3 \n\n\n//direction of movement :  0 : up, 1, down\nuniform bool direction; // = 1 \n//luminance threshold\nuniform float l_threshold; // = 0.8 \n//does the movement takes effect above or below luminance threshold ?\nuniform bool above; // = false \n\n\n//Random function borrowed from everywhere\nfloat rand(vec2 co){\n  return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);\n}\n\n\n// Simplex noise :\n// Description : Array and textureless GLSL 2D simplex noise function.\n//      Author : Ian McEwan, Ashima Arts.\n//  Maintainer : ijm\n//     Lastmod : 20110822 (ijm)\n//     License : MIT  \n//               2011 Ashima Arts. All rights reserved.\n//               Distributed under the MIT License. See LICENSE file.\n//               https://github.com/ashima/webgl-noise\n// \n\nvec3 mod289(vec3 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec2 mod289(vec2 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec3 permute(vec3 x) {\n  return mod289(((x*34.0)+1.0)*x);\n}\n\nfloat snoise(vec2 v)\n  {\n  const vec4 C = vec4(0.211324865405187,  // (3.0-sqrt(3.0))/6.0\n                      0.366025403784439,  // 0.5*(sqrt(3.0)-1.0)\n                     -0.577350269189626,  // -1.0 + 2.0 * C.x\n                      0.024390243902439); // 1.0 / 41.0\n// First corner\n  vec2 i  = floor(v + dot(v, C.yy) );\n  vec2 x0 = v -   i + dot(i, C.xx);\n\n// Other corners\n  vec2 i1;\n  //i1.x = step( x0.y, x0.x ); // x0.x > x0.y ? 1.0 : 0.0\n  //i1.y = 1.0 - i1.x;\n  i1 = (x0.x > x0.y) ? vec2(1.0, 0.0) : vec2(0.0, 1.0);\n  // x0 = x0 - 0.0 + 0.0 * C.xx ;\n  // x1 = x0 - i1 + 1.0 * C.xx ;\n  // x2 = x0 - 1.0 + 2.0 * C.xx ;\n  vec4 x12 = x0.xyxy + C.xxzz;\n  x12.xy -= i1;\n\n// Permutations\n  i = mod289(i); // Avoid truncation effects in permutation\n  vec3 p = permute( permute( i.y + vec3(0.0, i1.y, 1.0 ))\n\t\t+ i.x + vec3(0.0, i1.x, 1.0 ));\n\n  vec3 m = max(0.5 - vec3(dot(x0,x0), dot(x12.xy,x12.xy), dot(x12.zw,x12.zw)), 0.0);\n  m = m*m ;\n  m = m*m ;\n\n// Gradients: 41 points uniformly over a line, mapped onto a diamond.\n// The ring size 17*17 = 289 is close to a multiple of 41 (41*7 = 287)\n\n  vec3 x = 2.0 * fract(p * C.www) - 1.0;\n  vec3 h = abs(x) - 0.5;\n  vec3 ox = floor(x + 0.5);\n  vec3 a0 = x - ox;\n\n// Normalise gradients implicitly by scaling m\n// Approximation of: m *= inversesqrt( a0*a0 + h*h );\n  m *= 1.79284291400159 - 0.85373472095314 * ( a0*a0 + h*h );\n\n// Compute final noise value at P\n  vec3 g;\n  g.x  = a0.x  * x0.x  + h.x  * x0.y;\n  g.yz = a0.yz * x12.xz + h.yz * x12.yw;\n  return 130.0 * dot(m, g);\n}\n\n// Simplex noise -- end\n\nfloat luminance(vec4 color){\n  //(0.299*R + 0.587*G + 0.114*B)\n  return color.r*0.299+color.g*0.587+color.b*0.114;\n}\n\nvec2 center = vec2(1.0, direction);\n\nvec4 transition(vec2 uv) {\n  vec2 p = uv.xy / vec2(1.0).xy;\n  if (progress == 0.0) {\n    return getFromColor(p);\n  } else if (progress == 1.0) {\n    return getToColor(p);\n  } else {\n    float x = progress;\n    float dist = distance(center, p)- progress*exp(snoise(vec2(p.x, 0.0)));\n    float r = x - rand(vec2(p.x, 0.1));\n    float m;\n    if(above){\n     m = dist <= r && luminance(getFromColor(p))>l_threshold ? 1.0 : (progress*progress*progress);\n    }\n    else{\n     m = dist <= r && luminance(getFromColor(p))<l_threshold ? 1.0 : (progress*progress*progress);  \n    }\n    return mix(getFromColor(p), getToColor(p), m);    \n  }\n}\n",author:"0gust1",license:"MIT",createdAt:"Wed, 24 Jan 2018 19:02:32 +0100",updatedAt:"Wed, 24 Jan 2018 19:02:32 +0100"},{name:"morph",paramsTypes:{strength:"float"},defaultParams:{strength:.1},glsl:"// Author: paniq\n// License: MIT\nuniform float strength; // = 0.1\n\nvec4 transition(vec2 p) {\n  vec4 ca = getFromColor(p);\n  vec4 cb = getToColor(p);\n  \n  vec2 oa = (((ca.rg+ca.b)*0.5)*2.0-1.0);\n  vec2 ob = (((cb.rg+cb.b)*0.5)*2.0-1.0);\n  vec2 oc = mix(oa,ob,0.5)*strength;\n  \n  float w0 = progress;\n  float w1 = 1.0-w0;\n  return mix(getFromColor(p+oc*w0), getToColor(p-oc*w1), progress);\n}\n",author:"paniq",license:"MIT",createdAt:"Thu, 10 Aug 2017 00:27:36 +0200",updatedAt:"Thu, 10 Aug 2017 00:32:01 +0200"},{name:"multiply_blend",paramsTypes:{},defaultParams:{},glsl:"// Author: Fernando Kuteken\n// License: MIT\n\nvec4 blend(vec4 a, vec4 b) {\n  return a * b;\n}\n\nvec4 transition (vec2 uv) {\n  \n  vec4 blended = blend(getFromColor(uv), getToColor(uv));\n  \n  if (progress < 0.5)\n    return mix(getFromColor(uv), blended, 2.0 * progress);\n  else\n    return mix(blended, getToColor(uv), 2.0 * progress - 1.0);\n}\n\n",author:"Fernando Kuteken",license:"MIT",createdAt:"Tue, 30 May 2017 14:26:44 +0200",updatedAt:"Tue, 30 May 2017 14:26:44 +0200"},{name:"perlin",paramsTypes:{scale:"float",smoothness:"float",seed:"float"},defaultParams:{scale:4,smoothness:.01,seed:12.9898},glsl:"// Author: Rich Harris\n// License: MIT\n\n#ifdef GL_ES\nprecision mediump float;\n#endif\n\nuniform float scale; // = 4.0\nuniform float smoothness; // = 0.01\n\nuniform float seed; // = 12.9898\n\n// http://byteblacksmith.com/improvements-to-the-canonical-one-liner-glsl-rand-for-opengl-es-2-0/\nfloat random(vec2 co)\n{\n    highp float a = seed;\n    highp float b = 78.233;\n    highp float c = 43758.5453;\n    highp float dt= dot(co.xy ,vec2(a,b));\n    highp float sn= mod(dt,3.14);\n    return fract(sin(sn) * c);\n}\n\n// 2D Noise based on Morgan McGuire @morgan3d\n// https://www.shadertoy.com/view/4dS3Wd\nfloat noise (in vec2 st) {\n    vec2 i = floor(st);\n    vec2 f = fract(st);\n\n    // Four corners in 2D of a tile\n    float a = random(i);\n    float b = random(i + vec2(1.0, 0.0));\n    float c = random(i + vec2(0.0, 1.0));\n    float d = random(i + vec2(1.0, 1.0));\n\n    // Smooth Interpolation\n\n    // Cubic Hermine Curve.  Same as SmoothStep()\n    vec2 u = f*f*(3.0-2.0*f);\n    // u = smoothstep(0.,1.,f);\n\n    // Mix 4 coorners porcentages\n    return mix(a, b, u.x) +\n            (c - a)* u.y * (1.0 - u.x) +\n            (d - b) * u.x * u.y;\n}\n\nvec4 transition (vec2 uv) {\n  vec4 from = getFromColor(uv);\n  vec4 to = getToColor(uv);\n  float n = noise(uv * scale);\n  \n  float p = mix(-smoothness, 1.0 + smoothness, progress);\n  float lower = p - smoothness;\n  float higher = p + smoothness;\n  \n  float q = smoothstep(lower, higher, n);\n  \n  return mix(\n    from,\n    to,\n    1.0 - q\n  );\n}\n",author:"Rich Harris",license:"MIT",createdAt:"Tue, 23 Jan 2018 21:35:10 -0500",updatedAt:"Wed, 24 Jan 2018 07:35:04 -0500"},{name:"pinwheel",paramsTypes:{speed:"float"},defaultParams:{speed:2},glsl:"// Author: Mr Speaker\n// License: MIT\n\nuniform float speed; // = 2.0;\n\nvec4 transition(vec2 uv) {\n  \n  vec2 p = uv.xy / vec2(1.0).xy;\n  \n  float circPos = atan(p.y - 0.5, p.x - 0.5) + progress * speed;\n  float modPos = mod(circPos, 3.1415 / 4.);\n  float signed = sign(progress - modPos);\n  \n  return mix(getToColor(p), getFromColor(p), step(signed, 0.5));\n  \n}\n",author:"Mr Speaker",license:"MIT",createdAt:"Tue, 30 May 2017 09:04:31 -0400",updatedAt:"Tue, 30 May 2017 09:04:31 -0400"},{name:"pixelize",paramsTypes:{squaresMin:"ivec2",steps:"int"},defaultParams:{squaresMin:[20,20],steps:50},glsl:"// Author: gre\n// License: MIT\n// forked from https://gist.github.com/benraziel/c528607361d90a072e98\n\nuniform ivec2 squaresMin/* = ivec2(20) */; // minimum number of squares (when the effect is at its higher level)\nuniform int steps /* = 50 */; // zero disable the stepping\n\nfloat d = min(progress, 1.0 - progress);\nfloat dist = steps>0 ? ceil(d * float(steps)) / float(steps) : d;\nvec2 squareSize = 2.0 * dist / vec2(squaresMin);\n\nvec4 transition(vec2 uv) {\n  vec2 p = dist>0.0 ? (floor(uv / squareSize) + 0.5) * squareSize : uv;\n  return mix(getFromColor(p), getToColor(p), progress);\n}\n",author:"gre",license:"MIT",createdAt:"Tue, 30 May 2017 14:26:44 +0200",updatedAt:"Wed, 31 May 2017 10:58:26 +0200"},{name:"polar_function",paramsTypes:{segments:"int"},defaultParams:{segments:5},glsl:"// Author: Fernando Kuteken\n// License: MIT\n\n#define PI 3.14159265359\n\nuniform int segments; // = 5;\n\nvec4 transition (vec2 uv) {\n  \n  float angle = atan(uv.y - 0.5, uv.x - 0.5) - 0.5 * PI;\n  float normalized = (angle + 1.5 * PI) * (2.0 * PI);\n  \n  float radius = (cos(float(segments) * angle) + 4.0) / 4.0;\n  float difference = length(uv - vec2(0.5, 0.5));\n  \n  if (difference > radius * progress)\n    return getFromColor(uv);\n  else\n    return getToColor(uv);\n}\n",author:"Fernando Kuteken",license:"MIT",createdAt:"Tue, 30 May 2017 14:26:44 +0200",updatedAt:"Tue, 30 May 2017 14:26:44 +0200"},{name:"randomsquares",paramsTypes:{size:"ivec2",smoothness:"float"},defaultParams:{size:[10,10],smoothness:.5},glsl:"// Author: gre\n// License: MIT\n\nuniform ivec2 size; // = ivec2(10, 10)\nuniform float smoothness; // = 0.5\n \nfloat rand (vec2 co) {\n  return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);\n}\n\nvec4 transition(vec2 p) {\n  float r = rand(floor(vec2(size) * p));\n  float m = smoothstep(0.0, -smoothness, r - (progress * (1.0 + smoothness)));\n  return mix(getFromColor(p), getToColor(p), m);\n}\n",author:"gre",license:"MIT",createdAt:"Tue, 30 May 2017 14:26:44 +0200",updatedAt:"Tue, 30 May 2017 14:26:44 +0200"},{name:"ripple",paramsTypes:{amplitude:"float",speed:"float"},defaultParams:{amplitude:100,speed:50},glsl:"// Author: gre\n// License: MIT\nuniform float amplitude; // = 100.0\nuniform float speed; // = 50.0\n\nvec4 transition (vec2 uv) {\n  vec2 dir = uv - vec2(.5);\n  float dist = length(dir);\n  vec2 offset = dir * (sin(progress * dist * amplitude - progress * speed) + .5) / 30.;\n  return mix(\n    getFromColor(uv + offset),\n    getToColor(uv),\n    smoothstep(0.2, 1.0, progress)\n  );\n}\n",author:"gre",license:"MIT",createdAt:"Tue, 30 May 2017 15:15:27 +0200",updatedAt:"Tue, 30 May 2017 15:15:27 +0200"},{name:"rotate_scale_fade",paramsTypes:{center:"vec2",rotations:"float",scale:"float",backColor:"vec4"},defaultParams:{center:[.5,.5],rotations:1,scale:8,backColor:[.15,.15,.15,1]},glsl:"// Author: Fernando Kuteken\n// License: MIT\n\n#define PI 3.14159265359\n\nuniform vec2 center; // = vec2(0.5, 0.5);\nuniform float rotations; // = 1;\nuniform float scale; // = 8;\nuniform vec4 backColor; // = vec4(0.15, 0.15, 0.15, 1.0);\n\nvec4 transition (vec2 uv) {\n  \n  vec2 difference = uv - center;\n  vec2 dir = normalize(difference);\n  float dist = length(difference);\n  \n  float angle = 2.0 * PI * rotations * progress;\n  \n  float c = cos(angle);\n  float s = sin(angle);\n  \n  float currentScale = mix(scale, 1.0, 2.0 * abs(progress - 0.5));\n  \n  vec2 rotatedDir = vec2(dir.x  * c - dir.y * s, dir.x * s + dir.y * c);\n  vec2 rotatedUv = center + rotatedDir * dist / currentScale;\n  \n  if (rotatedUv.x < 0.0 || rotatedUv.x > 1.0 ||\n      rotatedUv.y < 0.0 || rotatedUv.y > 1.0)\n    return backColor;\n    \n  return mix(getFromColor(rotatedUv), getToColor(rotatedUv), progress);\n}\n",author:"Fernando Kuteken",license:"MIT",createdAt:"Tue, 30 May 2017 14:26:44 +0200",updatedAt:"Tue, 30 May 2017 14:26:44 +0200"},{name:"squareswire",paramsTypes:{squares:"ivec2",direction:"vec2",smoothness:"float"},defaultParams:{squares:[10,10],direction:[1,-.5],smoothness:1.6},glsl:"// Author: gre\n// License: MIT\n \nuniform ivec2 squares;// = ivec2(10,10)\nuniform vec2 direction;// = vec2(1.0, -0.5)\nuniform float smoothness; // = 1.6\n\nconst vec2 center = vec2(0.5, 0.5);\nvec4 transition (vec2 p) {\n  vec2 v = normalize(direction);\n  v /= abs(v.x)+abs(v.y);\n  float d = v.x * center.x + v.y * center.y;\n  float offset = smoothness;\n  float pr = smoothstep(-offset, 0.0, v.x * p.x + v.y * p.y - (d-0.5+progress*(1.+offset)));\n  vec2 squarep = fract(p*vec2(squares));\n  vec2 squaremin = vec2(pr/2.0);\n  vec2 squaremax = vec2(1.0 - pr/2.0);\n  float a = (1.0 - step(progress, 0.0)) * step(squaremin.x, squarep.x) * step(squaremin.y, squarep.y) * step(squarep.x, squaremax.x) * step(squarep.y, squaremax.y);\n  return mix(getFromColor(p), getToColor(p), a);\n}\n",author:"gre",license:"MIT",createdAt:"Tue, 30 May 2017 14:26:44 +0200",updatedAt:"Tue, 30 May 2017 14:26:44 +0200"},{name:"squeeze",paramsTypes:{colorSeparation:"float"},defaultParams:{colorSeparation:.04},glsl:"// Author: gre\n// License: MIT\n \nuniform float colorSeparation; // = 0.04\n \nvec4 transition (vec2 uv) {\n  float y = 0.5 + (uv.y-0.5) / (1.0-progress);\n  if (y < 0.0 || y > 1.0) {\n     return getToColor(uv);\n  }\n  else {\n    vec2 fp = vec2(uv.x, y);\n    vec2 off = progress * vec2(0.0, colorSeparation);\n    vec4 c = getFromColor(fp);\n    vec4 cn = getFromColor(fp - off);\n    vec4 cp = getFromColor(fp + off);\n    return vec4(cn.r, c.g, cp.b, c.a);\n  }\n}\n",author:"gre",license:"MIT",createdAt:"Tue, 30 May 2017 14:26:44 +0200",updatedAt:"Tue, 30 May 2017 14:26:44 +0200"},{name:"swap",paramsTypes:{reflection:"float",perspective:"float",depth:"float"},defaultParams:{reflection:.4,perspective:.2,depth:3},glsl:"// Author: gre\n// License: MIT\n// General parameters\nuniform float reflection; // = 0.4\nuniform float perspective; // = 0.2\nuniform float depth; // = 3.0\n \nconst vec4 black = vec4(0.0, 0.0, 0.0, 1.0);\nconst vec2 boundMin = vec2(0.0, 0.0);\nconst vec2 boundMax = vec2(1.0, 1.0);\n \nbool inBounds (vec2 p) {\n  return all(lessThan(boundMin, p)) && all(lessThan(p, boundMax));\n}\n \nvec2 project (vec2 p) {\n  return p * vec2(1.0, -1.2) + vec2(0.0, -0.02);\n}\n \nvec4 bgColor (vec2 p, vec2 pfr, vec2 pto) {\n  vec4 c = black;\n  pfr = project(pfr);\n  if (inBounds(pfr)) {\n    c += mix(black, getFromColor(pfr), reflection * mix(1.0, 0.0, pfr.y));\n  }\n  pto = project(pto);\n  if (inBounds(pto)) {\n    c += mix(black, getToColor(pto), reflection * mix(1.0, 0.0, pto.y));\n  }\n  return c;\n}\n \nvec4 transition(vec2 p) {\n  vec2 pfr, pto = vec2(-1.);\n \n  float size = mix(1.0, depth, progress);\n  float persp = perspective * progress;\n  pfr = (p + vec2(-0.0, -0.5)) * vec2(size/(1.0-perspective*progress), size/(1.0-size*persp*p.x)) + vec2(0.0, 0.5);\n \n  size = mix(1.0, depth, 1.-progress);\n  persp = perspective * (1.-progress);\n  pto = (p + vec2(-1.0, -0.5)) * vec2(size/(1.0-perspective*(1.0-progress)), size/(1.0-size*persp*(0.5-p.x))) + vec2(1.0, 0.5);\n\n  if (progress < 0.5) {\n    if (inBounds(pfr)) {\n      return getFromColor(pfr);\n    }\n    if (inBounds(pto)) {\n      return getToColor(pto);\n    }  \n  }\n  if (inBounds(pto)) {\n    return getToColor(pto);\n  }\n  if (inBounds(pfr)) {\n    return getFromColor(pfr);\n  }\n  return bgColor(p, pfr, pto);\n}\n",author:"gre",license:"MIT",createdAt:"Tue, 30 May 2017 14:26:44 +0200",updatedAt:"Sun, 18 Feb 2018 17:45:50 +0100"},{name:"undulatingBurnOut",paramsTypes:{smoothness:"float",center:"vec2",color:"vec3"},defaultParams:{smoothness:.03,center:[.5,.5],color:[0,0,0]},glsl:"// License: MIT\n// Author: pthrasher\n// adapted by gre from https://gist.github.com/pthrasher/8e6226b215548ba12734\n\nuniform float smoothness; // = 0.03\nuniform vec2 center; // = vec2(0.5)\nuniform vec3 color; // = vec3(0.0)\n\nconst float M_PI = 3.14159265358979323846;\n\nfloat quadraticInOut(float t) {\n  float p = 2.0 * t * t;\n  return t < 0.5 ? p : -p + (4.0 * t) - 1.0;\n}\n\nfloat getGradient(float r, float dist) {\n  float d = r - dist;\n  return mix(\n    smoothstep(-smoothness, 0.0, r - dist * (1.0 + smoothness)),\n    -1.0 - step(0.005, d),\n    step(-0.005, d) * step(d, 0.01)\n  );\n}\n\nfloat getWave(vec2 p){\n  vec2 _p = p - center; // offset from center\n  float rads = atan(_p.y, _p.x);\n  float degs = degrees(rads) + 180.0;\n  vec2 range = vec2(0.0, M_PI * 30.0);\n  vec2 domain = vec2(0.0, 360.0);\n  float ratio = (M_PI * 30.0) / 360.0;\n  degs = degs * ratio;\n  float x = progress;\n  float magnitude = mix(0.02, 0.09, smoothstep(0.0, 1.0, x));\n  float offset = mix(40.0, 30.0, smoothstep(0.0, 1.0, x));\n  float ease_degs = quadraticInOut(sin(degs));\n  float deg_wave_pos = (ease_degs * magnitude) * sin(x * offset);\n  return x + deg_wave_pos;\n}\n\nvec4 transition(vec2 p) {\n  float dist = distance(center, p);\n  float m = getGradient(getWave(p), dist);\n  vec4 cfrom = getFromColor(p);\n  vec4 cto = getToColor(p);\n  return mix(mix(cfrom, cto, m), mix(cfrom, vec4(color, 1.0), 0.75), step(m, -2.0));\n}\n",license:"MIT",author:"pthrasher",createdAt:"Mon, 12 Jun 2017 10:23:37 +0800",updatedAt:"Mon, 12 Jun 2017 10:23:37 +0800"},{name:"wind",paramsTypes:{size:"float"},defaultParams:{size:.2},glsl:"// Author: gre\n// License: MIT\n\n// Custom parameters\nuniform float size; // = 0.2\n\nfloat rand (vec2 co) {\n  return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);\n}\n\nvec4 transition (vec2 uv) {\n  float r = rand(vec2(0, uv.y));\n  float m = smoothstep(0.0, -size, uv.x*(1.0-size) + size*r - (progress * (1.0 + size)));\n  return mix(\n    getFromColor(uv),\n    getToColor(uv),\n    m\n  );\n}\n",author:"gre",license:"MIT",createdAt:"Tue, 30 May 2017 14:26:44 +0200",updatedAt:"Tue, 30 May 2017 14:26:44 +0200"},{name:"windowblinds",paramsTypes:{},defaultParams:{},glsl:"// Author: Fabien Benetou\n// License: MIT\n\nvec4 transition (vec2 uv) {\n  float t = progress;\n  \n  if (mod(floor(uv.y*100.*progress),2.)==0.)\n    t*=2.-.5;\n  \n  return mix(\n    getFromColor(uv),\n    getToColor(uv),\n    mix(t, progress, smoothstep(0.8, 1.0, progress))\n  );\n}\n",author:"Fabien Benetou",license:"MIT",createdAt:"Wed, 31 May 2017 14:11:48 +0200",updatedAt:"Wed, 31 May 2017 14:11:48 +0200"},{name:"windowslice",paramsTypes:{count:"float",smoothness:"float"},defaultParams:{count:10,smoothness:.5},glsl:"// Author: gre\n// License: MIT\n\nuniform float count; // = 10.0\nuniform float smoothness; // = 0.5\n\nvec4 transition (vec2 p) {\n  float pr = smoothstep(-smoothness, 0.0, p.x - progress * (1.0 + smoothness));\n  float s = step(pr, fract(count * p.x));\n  return mix(getFromColor(p), getToColor(p), s);\n}\n",author:"gre",license:"MIT",createdAt:"Wed, 28 Mar 2018 17:23:26 +0200",updatedAt:"Wed, 28 Mar 2018 17:23:26 +0200"},{name:"wipeDown",paramsTypes:{},defaultParams:{},glsl:"// Author: Jake Nelson\n// License: MIT\n\nvec4 transition(vec2 uv) {\n  vec2 p=uv.xy/vec2(1.0).xy;\n  vec4 a=getFromColor(p);\n  vec4 b=getToColor(p);\n  return mix(a, b, step(1.0-p.y,progress));\n}\n",author:"Jake Nelson",license:"MIT",createdAt:"Wed, 1 Nov 2017 15:26:01 -0500",updatedAt:"Thu, 2 Nov 2017 18:39:26 -0500"},{name:"wipeLeft",paramsTypes:{},defaultParams:{},glsl:"// Author: Jake Nelson\n// License: MIT\n\nvec4 transition(vec2 uv) {\n  vec2 p=uv.xy/vec2(1.0).xy;\n  vec4 a=getFromColor(p);\n  vec4 b=getToColor(p);\n  return mix(a, b, step(1.0-p.x,progress));\n}\n",author:"Jake Nelson",license:"MIT",createdAt:"Wed, 1 Nov 2017 15:26:28 -0500",updatedAt:"Fri, 3 Nov 2017 18:03:50 +0100"},{name:"wipeRight",paramsTypes:{},defaultParams:{},glsl:"// Author: Jake Nelson\n// License: MIT\n\nvec4 transition(vec2 uv) {\n  vec2 p=uv.xy/vec2(1.0).xy;\n  vec4 a=getFromColor(p);\n  vec4 b=getToColor(p);\n  return mix(a, b, step(0.0+p.x,progress));\n}\n",author:"Jake Nelson",license:"MIT",createdAt:"Wed, 1 Nov 2017 15:27:02 -0500",updatedAt:"Thu, 2 Nov 2017 18:40:22 -0500"},{name:"wipeUp",paramsTypes:{},defaultParams:{},glsl:"// Author: Jake Nelson\n// License: MIT\n\nvec4 transition(vec2 uv) {\n  vec2 p=uv.xy/vec2(1.0).xy;\n  vec4 a=getFromColor(p);\n  vec4 b=getToColor(p);\n  return mix(a, b, step(0.0+p.y,progress));\n}\n",author:"Jake Nelson",license:"MIT",createdAt:"Wed, 1 Nov 2017 15:24:36 -0500",updatedAt:"Thu, 2 Nov 2017 18:37:42 -0500"}]},1417:function(e,t,i){"use strict";function n(e){d=e}function r(){for(var e in h)!function(e){var t=h[e];Object(s.a)("query_trans_result",{taskId:t.taskId},function(e){1===e.status?(console.info(t),delete h[t.taskId],console.info(e),console.info("delete"),"audio"===t.type?Object(s.a)("get_media_status",{media_id:e.mediaId},function(e){e[0].media_type="audio";var i=e[0].media;i.media_id=(i.media_id||i.id).toString();for(var n in i)i[n.replace(/([A-Z])/g,"_$1").toLowerCase()]=i[n];l.t.info("\u8f6c\u6362\u6210\u529f\uff0c\u5df2\u66ff\u6362\u5728\u97f3\u9891\u8f68\u9053"),Object(c.F)(i,t.start),setTimeout(function(){d()},2e3)},function(){}):"text"===t.type&&Object(u.e)(JSON.parse(e.data),t.start_time,t.end_time,t.project_id)):2===e.status&&(l.t.info("\u8f6c\u6362\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u5c1d\u8bd5"),delete h[t.taskId])},function(){delete h[t.taskId]},"info")}(e)}function a(){clearInterval(p),p=setInterval(r,3e3)}function o(){clearInterval(p),h={}}i.d(t,"d",function(){return h}),t.c=n,t.b=a,t.a=o;var s=i(84),l=i(52),c=i(1373),u=i(1393),h={},d=function(){},p=setInterval(r,3e3)},1418:function(e,t,i){"undefined"!==typeof window&&function(t,i){e.exports=i()}(0,function(){return function(e){function t(n){if(i[n])return i[n].exports;var r=i[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var i={};return t.m=e,t.c=i,t.d=function(e,i,n){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/dist/",t(t.s=11)}([function(e,t,i){"use strict";function n(){}function r(e,t){return t="["+e+"] > "+t}function a(e){var t=h.console[e];return t?function(){for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];n[0]&&(n[0]=r(e,n[0])),t.apply(h.console,n)}:n}function o(e){for(var t=arguments.length,i=Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];i.forEach(function(t){u[t]=e[t]?e[t].bind(e):a(t)})}i.d(t,"a",function(){return d}),i.d(t,"b",function(){return p});var s=i(4),l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c={trace:n,debug:n,log:n,warn:n,info:n,error:n},u=c,h=Object(s.a)(),d=function(e){if(!0===e||"object"===("undefined"===typeof e?"undefined":l(e))){o(e,"debug","log","info","warn","error");try{u.log()}catch(e){u=c}}else u=c},p=u},function(e,t,i){"use strict";var n={MEDIA_ATTACHING:"hlsMediaAttaching",MEDIA_ATTACHED:"hlsMediaAttached",MEDIA_DETACHING:"hlsMediaDetaching",MEDIA_DETACHED:"hlsMediaDetached",BUFFER_RESET:"hlsBufferReset",BUFFER_CODECS:"hlsBufferCodecs",BUFFER_CREATED:"hlsBufferCreated",BUFFER_APPENDING:"hlsBufferAppending",BUFFER_APPENDED:"hlsBufferAppended",BUFFER_EOS:"hlsBufferEos",BUFFER_FLUSHING:"hlsBufferFlushing",BUFFER_FLUSHED:"hlsBufferFlushed",MANIFEST_LOADING:"hlsManifestLoading",MANIFEST_LOADED:"hlsManifestLoaded",MANIFEST_PARSED:"hlsManifestParsed",LEVEL_SWITCHING:"hlsLevelSwitching",LEVEL_SWITCHED:"hlsLevelSwitched",LEVEL_LOADING:"hlsLevelLoading",LEVEL_LOADED:"hlsLevelLoaded",LEVEL_UPDATED:"hlsLevelUpdated",LEVEL_PTS_UPDATED:"hlsLevelPtsUpdated",AUDIO_TRACKS_UPDATED:"hlsAudioTracksUpdated",AUDIO_TRACK_SWITCHING:"hlsAudioTrackSwitching",AUDIO_TRACK_SWITCHED:"hlsAudioTrackSwitched",AUDIO_TRACK_LOADING:"hlsAudioTrackLoading",AUDIO_TRACK_LOADED:"hlsAudioTrackLoaded",SUBTITLE_TRACKS_UPDATED:"hlsSubtitleTracksUpdated",SUBTITLE_TRACK_SWITCH:"hlsSubtitleTrackSwitch",SUBTITLE_TRACK_LOADING:"hlsSubtitleTrackLoading",SUBTITLE_TRACK_LOADED:"hlsSubtitleTrackLoaded",SUBTITLE_FRAG_PROCESSED:"hlsSubtitleFragProcessed",INIT_PTS_FOUND:"hlsInitPtsFound",FRAG_LOADING:"hlsFragLoading",FRAG_LOAD_PROGRESS:"hlsFragLoadProgress",FRAG_LOAD_EMERGENCY_ABORTED:"hlsFragLoadEmergencyAborted",FRAG_LOADED:"hlsFragLoaded",FRAG_DECRYPTED:"hlsFragDecrypted",FRAG_PARSING_INIT_SEGMENT:"hlsFragParsingInitSegment",FRAG_PARSING_USERDATA:"hlsFragParsingUserdata",FRAG_PARSING_METADATA:"hlsFragParsingMetadata",FRAG_PARSING_DATA:"hlsFragParsingData",FRAG_PARSED:"hlsFragParsed",FRAG_BUFFERED:"hlsFragBuffered",FRAG_CHANGED:"hlsFragChanged",FPS_DROP:"hlsFpsDrop",FPS_DROP_LEVEL_CAPPING:"hlsFpsDropLevelCapping",ERROR:"hlsError",DESTROYING:"hlsDestroying",KEY_LOADING:"hlsKeyLoading",KEY_LOADED:"hlsKeyLoaded",STREAM_STATE_TRANSITION:"hlsStreamStateTransition"};t.a=n},function(e,t,i){"use strict";i.d(t,"b",function(){return n}),i.d(t,"a",function(){return r});var n={NETWORK_ERROR:"networkError",MEDIA_ERROR:"mediaError",KEY_SYSTEM_ERROR:"keySystemError",MUX_ERROR:"muxError",OTHER_ERROR:"otherError"},r={KEY_SYSTEM_NO_KEYS:"keySystemNoKeys",KEY_SYSTEM_NO_ACCESS:"keySystemNoAccess",KEY_SYSTEM_NO_SESSION:"keySystemNoSession",KEY_SYSTEM_LICENSE_REQUEST_FAILED:"keySystemLicenseRequestFailed",MANIFEST_LOAD_ERROR:"manifestLoadError",MANIFEST_LOAD_TIMEOUT:"manifestLoadTimeOut",MANIFEST_PARSING_ERROR:"manifestParsingError",MANIFEST_INCOMPATIBLE_CODECS_ERROR:"manifestIncompatibleCodecsError",LEVEL_LOAD_ERROR:"levelLoadError",LEVEL_LOAD_TIMEOUT:"levelLoadTimeOut",LEVEL_SWITCH_ERROR:"levelSwitchError",AUDIO_TRACK_LOAD_ERROR:"audioTrackLoadError",AUDIO_TRACK_LOAD_TIMEOUT:"audioTrackLoadTimeOut",FRAG_LOAD_ERROR:"fragLoadError",FRAG_LOAD_TIMEOUT:"fragLoadTimeOut",FRAG_DECRYPT_ERROR:"fragDecryptError",FRAG_PARSING_ERROR:"fragParsingError",REMUX_ALLOC_ERROR:"remuxAllocError",KEY_LOAD_ERROR:"keyLoadError",KEY_LOAD_TIMEOUT:"keyLoadTimeOut",BUFFER_ADD_CODEC_ERROR:"bufferAddCodecError",BUFFER_APPEND_ERROR:"bufferAppendError",BUFFER_APPENDING_ERROR:"bufferAppendingError",BUFFER_STALLED_ERROR:"bufferStalledError",BUFFER_FULL_ERROR:"bufferFullError",BUFFER_SEEK_OVER_HOLE:"bufferSeekOverHole",BUFFER_NUDGE_ON_STALL:"bufferNudgeOnStall",INTERNAL_EXCEPTION:"internalException"}},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n=Number.isFinite||function(e){return"number"===typeof e&&isFinite(e)}},function(e,t,i){"use strict";function n(){return"undefined"===typeof window?self:window}t.a=n},function(e,t,i){!function(t){var i=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/\;?#]*)?(.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,n=/^([^\/;?#]*)(.*)$/,r=/(?:\/|^)\.(?=\/)/g,a=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,o={buildAbsoluteURL:function(e,t,i){if(i=i||{},e=e.trim(),!(t=t.trim())){if(!i.alwaysNormalize)return e;var r=this.parseURL(e);if(!s)throw new Error("Error trying to parse base URL.");return r.path=o.normalizePath(r.path),o.buildURLFromParts(r)}var a=this.parseURL(t);if(!a)throw new Error("Error trying to parse relative URL.");if(a.scheme)return i.alwaysNormalize?(a.path=o.normalizePath(a.path),o.buildURLFromParts(a)):t;var s=this.parseURL(e);if(!s)throw new Error("Error trying to parse base URL.");if(!s.netLoc&&s.path&&"/"!==s.path[0]){var l=n.exec(s.path);s.netLoc=l[1],s.path=l[2]}s.netLoc&&!s.path&&(s.path="/");var c={scheme:s.scheme,netLoc:a.netLoc,path:null,params:a.params,query:a.query,fragment:a.fragment};if(!a.netLoc&&(c.netLoc=s.netLoc,"/"!==a.path[0]))if(a.path){var u=s.path,h=u.substring(0,u.lastIndexOf("/")+1)+a.path;c.path=o.normalizePath(h)}else c.path=s.path,a.params||(c.params=s.params,a.query||(c.query=s.query));return null===c.path&&(c.path=i.alwaysNormalize?o.normalizePath(a.path):a.path),o.buildURLFromParts(c)},parseURL:function(e){var t=i.exec(e);return t?{scheme:t[1]||"",netLoc:t[2]||"",path:t[3]||"",params:t[4]||"",query:t[5]||"",fragment:t[6]||""}:null},normalizePath:function(e){for(e=e.split("").reverse().join("").replace(r,"");e.length!==(e=e.replace(a,"")).length;);return e.split("").reverse().join("")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}};e.exports=o}()},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}i.d(t,"b",function(){return a});var r=function(){function e(){n(this,e)}return e.isHeader=function(e,t){return t+10<=e.length&&73===e[t]&&68===e[t+1]&&51===e[t+2]&&e[t+3]<255&&e[t+4]<255&&e[t+6]<128&&e[t+7]<128&&e[t+8]<128&&e[t+9]<128},e.isFooter=function(e,t){return t+10<=e.length&&51===e[t]&&68===e[t+1]&&73===e[t+2]&&e[t+3]<255&&e[t+4]<255&&e[t+6]<128&&e[t+7]<128&&e[t+8]<128&&e[t+9]<128},e.getID3Data=function(t,i){for(var n=i,r=0;e.isHeader(t,i);){r+=10;r+=e._readSize(t,i+6),e.isFooter(t,i+10)&&(r+=10),i+=r}if(r>0)return t.subarray(n,n+r)},e._readSize=function(e,t){var i=0;return i=(127&e[t])<<21,i|=(127&e[t+1])<<14,i|=(127&e[t+2])<<7,i|=127&e[t+3]},e.getTimeStamp=function(t){for(var i=e.getID3Frames(t),n=0;n<i.length;n++){var r=i[n];if(e.isTimeStampFrame(r))return e._readTimeStamp(r)}},e.isTimeStampFrame=function(e){return e&&"PRIV"===e.key&&"com.apple.streaming.transportStreamTimestamp"===e.info},e._getFrameData=function(t){var i=String.fromCharCode(t[0],t[1],t[2],t[3]),n=e._readSize(t,4);return{type:i,size:n,data:t.subarray(10,10+n)}},e.getID3Frames=function(t){for(var i=0,n=[];e.isHeader(t,i);){var r=e._readSize(t,i+6);i+=10;for(var a=i+r;i+8<a;){var o=e._getFrameData(t.subarray(i)),s=e._decodeFrame(o);s&&n.push(s),i+=o.size+10}e.isFooter(t,i)&&(i+=10)}return n},e._decodeFrame=function(t){return"PRIV"===t.type?e._decodePrivFrame(t):"T"===t.type[0]?e._decodeTextFrame(t):"W"===t.type[0]?e._decodeURLFrame(t):void 0},e._readTimeStamp=function(e){if(8===e.data.byteLength){var t=new Uint8Array(e.data),i=1&t[3],n=(t[4]<<23)+(t[5]<<15)+(t[6]<<7)+t[7];return n/=45,i&&(n+=47721858.84),Math.round(n)}},e._decodePrivFrame=function(t){if(!(t.size<2)){var i=e._utf8ArrayToStr(t.data,!0),n=new Uint8Array(t.data.subarray(i.length+1));return{key:t.type,info:i,data:n.buffer}}},e._decodeTextFrame=function(t){if(!(t.size<2)){if("TXXX"===t.type){var i=1,n=e._utf8ArrayToStr(t.data.subarray(i));i+=n.length+1;var r=e._utf8ArrayToStr(t.data.subarray(i));return{key:t.type,info:n,data:r}}var a=e._utf8ArrayToStr(t.data.subarray(1));return{key:t.type,data:a}}},e._decodeURLFrame=function(t){if("WXXX"===t.type){if(t.size<2)return;var i=1,n=e._utf8ArrayToStr(t.data.subarray(i));i+=n.length+1;var r=e._utf8ArrayToStr(t.data.subarray(i));return{key:t.type,info:n,data:r}}var a=e._utf8ArrayToStr(t.data);return{key:t.type,data:a}},e._utf8ArrayToStr=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=e.length,n=void 0,r=void 0,a=void 0,o="",s=0;s<i;){if(0===(n=e[s++])&&t)return o;if(0!==n&&3!==n)switch(n>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:o+=String.fromCharCode(n);break;case 12:case 13:r=e[s++],o+=String.fromCharCode((31&n)<<6|63&r);break;case 14:r=e[s++],a=e[s++],o+=String.fromCharCode((15&n)<<12|(63&r)<<6|(63&a)<<0)}}return o},e}(),a=r._utf8ArrayToStr;t.a=r},function(e,t){function i(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(e){return"function"===typeof e}function r(e){return"number"===typeof e}function a(e){return"object"===typeof e&&null!==e}function o(e){return void 0===e}e.exports=i,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._maxListeners=void 0,i.defaultMaxListeners=10,i.prototype.setMaxListeners=function(e){if(!r(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},i.prototype.emit=function(e){var t,i,r,s,l,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||a(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var u=new Error('Uncaught, unspecified "error" event. ('+t+")");throw u.context=t,u}if(i=this._events[e],o(i))return!1;if(n(i))switch(arguments.length){case 1:i.call(this);break;case 2:i.call(this,arguments[1]);break;case 3:i.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),i.apply(this,s)}else if(a(i))for(s=Array.prototype.slice.call(arguments,1),c=i.slice(),r=c.length,l=0;l<r;l++)c[l].apply(this,s);return!0},i.prototype.addListener=function(e,t){var r;if(!n(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,n(t.listener)?t.listener:t),this._events[e]?a(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,a(this._events[e])&&!this._events[e].warned&&(r=o(this._maxListeners)?i.defaultMaxListeners:this._maxListeners)&&r>0&&this._events[e].length>r&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"===typeof console.trace&&console.trace()),this},i.prototype.on=i.prototype.addListener,i.prototype.once=function(e,t){function i(){this.removeListener(e,i),r||(r=!0,t.apply(this,arguments))}if(!n(t))throw TypeError("listener must be a function");var r=!1;return i.listener=t,this.on(e,i),this},i.prototype.removeListener=function(e,t){var i,r,o,s;if(!n(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(i=this._events[e],o=i.length,r=-1,i===t||n(i.listener)&&i.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(a(i)){for(s=o;s-- >0;)if(i[s]===t||i[s].listener&&i[s].listener===t){r=s;break}if(r<0)return this;1===i.length?(i.length=0,delete this._events[e]):i.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},i.prototype.removeAllListeners=function(e){var t,i;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(i=this._events[e],n(i))this.removeListener(e,i);else if(i)for(;i.length;)this.removeListener(e,i[i.length-1]);return delete this._events[e],this},i.prototype.listeners=function(e){return this._events&&this._events[e]?n(this._events[e])?[this._events[e]]:this._events[e].slice():[]},i.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(n(t))return 1;if(t)return t.length}return 0},i.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e){var t=e.byteLength,i=t&&new DataView(e).getUint8(t-1);return i?e.slice(0,t-i):e}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var l=function(){function e(t,i){n(this,e),this.subtle=t,this.aesIV=i}return e.prototype.decrypt=function(e,t){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},t,e)},e}(),c=l,u=function(){function e(t,i){r(this,e),this.subtle=t,this.key=i}return e.prototype.expandKey=function(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])},e}(),h=u,d=function(){function e(){a(this,e),this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.initTable()}return e.prototype.uint8ArrayToUint32Array_=function(e){for(var t=new DataView(e),i=new Uint32Array(4),n=0;n<4;n++)i[n]=t.getUint32(4*n);return i},e.prototype.initTable=function(){var e=this.sBox,t=this.invSBox,i=this.subMix,n=i[0],r=i[1],a=i[2],o=i[3],s=this.invSubMix,l=s[0],c=s[1],u=s[2],h=s[3],d=new Uint32Array(256),p=0,f=0,m=0;for(m=0;m<256;m++)d[m]=m<128?m<<1:m<<1^283;for(m=0;m<256;m++){var g=f^f<<1^f<<2^f<<3^f<<4;g=g>>>8^255&g^99,e[p]=g,t[g]=p;var v=d[p],y=d[v],b=d[y],_=257*d[g]^16843008*g;n[p]=_<<24|_>>>8,r[p]=_<<16|_>>>16,a[p]=_<<8|_>>>24,o[p]=_,_=16843009*b^65537*y^257*v^16843008*p,l[g]=_<<24|_>>>8,c[g]=_<<16|_>>>16,u[g]=_<<8|_>>>24,h[g]=_,p?(p=v^d[d[d[b^v]]],f^=d[d[f]]):p=f=1}},e.prototype.expandKey=function(e){for(var t=this.uint8ArrayToUint32Array_(e),i=!0,n=0;n<t.length&&i;)i=t[n]===this.key[n],n++;if(!i){this.key=t;var r=this.keySize=t.length;if(4!==r&&6!==r&&8!==r)throw new Error("Invalid aes key size="+r);var a=this.ksRows=4*(r+6+1),o=void 0,s=void 0,l=this.keySchedule=new Uint32Array(a),c=this.invKeySchedule=new Uint32Array(a),u=this.sBox,h=this.rcon,d=this.invSubMix,p=d[0],f=d[1],m=d[2],g=d[3],v=void 0,y=void 0;for(o=0;o<a;o++)o<r?v=l[o]=t[o]:(y=v,o%r===0?(y=y<<8|y>>>24,y=u[y>>>24]<<24|u[y>>>16&255]<<16|u[y>>>8&255]<<8|u[255&y],y^=h[o/r|0]<<24):r>6&&o%r===4&&(y=u[y>>>24]<<24|u[y>>>16&255]<<16|u[y>>>8&255]<<8|u[255&y]),l[o]=v=(l[o-r]^y)>>>0);for(s=0;s<a;s++)o=a-s,y=3&s?l[o]:l[o-4],c[s]=s<4||o<=4?y:p[u[y>>>24]]^f[u[y>>>16&255]]^m[u[y>>>8&255]]^g[u[255&y]],c[s]=c[s]>>>0}},e.prototype.networkToHostOrderSwap=function(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24},e.prototype.decrypt=function(e,t,i,n){for(var r=this.keySize+6,a=this.invKeySchedule,s=this.invSBox,l=this.invSubMix,c=l[0],u=l[1],h=l[2],d=l[3],p=this.uint8ArrayToUint32Array_(i),f=p[0],m=p[1],g=p[2],v=p[3],y=new Int32Array(e),b=new Int32Array(y.length),_=void 0,A=void 0,E=void 0,w=void 0,x=void 0,T=void 0,S=void 0,C=void 0,k=void 0,O=void 0,P=void 0,j=void 0,I=void 0,M=void 0,R=this.networkToHostOrderSwap;t<y.length;){for(k=R(y[t]),O=R(y[t+1]),P=R(y[t+2]),j=R(y[t+3]),x=k^a[0],T=j^a[1],S=P^a[2],C=O^a[3],I=4,M=1;M<r;M++)_=c[x>>>24]^u[T>>16&255]^h[S>>8&255]^d[255&C]^a[I],A=c[T>>>24]^u[S>>16&255]^h[C>>8&255]^d[255&x]^a[I+1],E=c[S>>>24]^u[C>>16&255]^h[x>>8&255]^d[255&T]^a[I+2],w=c[C>>>24]^u[x>>16&255]^h[T>>8&255]^d[255&S]^a[I+3],x=_,T=A,S=E,C=w,I+=4;_=s[x>>>24]<<24^s[T>>16&255]<<16^s[S>>8&255]<<8^s[255&C]^a[I],A=s[T>>>24]<<24^s[S>>16&255]<<16^s[C>>8&255]<<8^s[255&x]^a[I+1],E=s[S>>>24]<<24^s[C>>16&255]<<16^s[x>>8&255]<<8^s[255&T]^a[I+2],w=s[C>>>24]<<24^s[x>>16&255]<<16^s[T>>8&255]<<8^s[255&S]^a[I+3],I+=3,b[t]=R(_^f),b[t+1]=R(w^m),b[t+2]=R(E^g),b[t+3]=R(A^v),f=k,m=O,g=P,v=j,t+=4}return n?o(b.buffer):b.buffer},e.prototype.destroy=function(){this.key=void 0,this.keySize=void 0,this.ksRows=void 0,this.sBox=void 0,this.invSBox=void 0,this.subMix=void 0,this.invSubMix=void 0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.rcon=void 0},e}(),p=d,f=i(2),m=i(0),g=i(1),v=i(4),y=Object(v.a)(),b=function(){function e(t,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.removePKCS7Padding,a=void 0===r||r;if(s(this,e),this.logEnabled=!0,this.observer=t,this.config=i,this.removePKCS7Padding=a,a)try{var o=y.crypto;o&&(this.subtle=o.subtle||o.webkitSubtle)}catch(e){}this.disableWebCrypto=!this.subtle}return e.prototype.isSync=function(){return this.disableWebCrypto&&this.config.enableSoftwareAES},e.prototype.decrypt=function(e,t,i,n){var r=this;if(this.disableWebCrypto&&this.config.enableSoftwareAES){this.logEnabled&&(m.b.log("JS AES decrypt"),this.logEnabled=!1);var a=this.decryptor;a||(this.decryptor=a=new p),a.expandKey(t),n(a.decrypt(e,0,i,this.removePKCS7Padding))}else{this.logEnabled&&(m.b.log("WebCrypto AES decrypt"),this.logEnabled=!1);var o=this.subtle;this.key!==t&&(this.key=t,this.fastAesKey=new h(o,t)),this.fastAesKey.expandKey().then(function(a){new c(o,i).decrypt(e,a).catch(function(a){r.onWebCryptoError(a,e,t,i,n)}).then(function(e){n(e)})}).catch(function(a){r.onWebCryptoError(a,e,t,i,n)})}},e.prototype.onWebCryptoError=function(e,t,i,n,r){this.config.enableSoftwareAES?(m.b.log("WebCrypto Error, disable WebCrypto API"),this.disableWebCrypto=!0,this.logEnabled=!0,this.decrypt(t,i,n,r)):(m.b.error("decrypting error : "+e.message),this.observer.trigger(g.a.ERROR,{type:f.b.MEDIA_ERROR,details:f.a.FRAG_DECRYPT_ERROR,fatal:!0,reason:e.message}))},e.prototype.destroy=function(){var e=this.decryptor;e&&(e.destroy(),this.decryptor=void 0)},e}();t.a=b},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=i(0),a=i(1),o=Math.pow(2,32)-1,s=function(){function e(t,i){n(this,e),this.observer=t,this.remuxer=i}return e.prototype.resetTimeStamp=function(e){this.initPTS=e},e.prototype.resetInitSegment=function(t,i,n,r){if(t&&t.byteLength){var o=this.initData=e.parseInitSegment(t);null==i&&(i="mp4a.40.5"),null==n&&(n="avc1.42e01e");var s={};o.audio&&o.video?s.audiovideo={container:"video/mp4",codec:i+","+n,initSegment:r?t:null}:(o.audio&&(s.audio={container:"audio/mp4",codec:i,initSegment:r?t:null}),o.video&&(s.video={container:"video/mp4",codec:n,initSegment:r?t:null})),this.observer.trigger(a.a.FRAG_PARSING_INIT_SEGMENT,{tracks:s})}else i&&(this.audioCodec=i),n&&(this.videoCodec=n)},e.probe=function(t){return e.findBox({data:t,start:0,end:Math.min(t.length,16384)},["moof"]).length>0},e.bin2str=function(e){return String.fromCharCode.apply(null,e)},e.readUint16=function(e,t){e.data&&(t+=e.start,e=e.data);var i=e[t]<<8|e[t+1];return i<0?65536+i:i},e.readUint32=function(e,t){e.data&&(t+=e.start,e=e.data);var i=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3];return i<0?4294967296+i:i},e.writeUint32=function(e,t,i){e.data&&(t+=e.start,e=e.data),e[t]=i>>24,e[t+1]=i>>16&255,e[t+2]=i>>8&255,e[t+3]=255&i},e.findBox=function(t,i){var n=[],r=void 0,a=void 0,o=void 0,s=void 0,l=void 0,c=void 0,u=void 0;if(t.data?(c=t.start,s=t.end,t=t.data):(c=0,s=t.byteLength),!i.length)return null;for(r=c;r<s;)a=e.readUint32(t,r),o=e.bin2str(t.subarray(r+4,r+8)),u=a>1?r+a:s,o===i[0]&&(1===i.length?n.push({data:t,start:r+8,end:u}):(l=e.findBox({data:t,start:r+8,end:u},i.slice(1)),l.length&&(n=n.concat(l)))),r=u;return n},e.parseSegmentIndex=function(t){var i=e.findBox(t,["moov"])[0],n=i?i.end:null,r=0,a=e.findBox(t,["sidx"]),o=void 0;if(!a||!a[0])return null;o=[],a=a[0];var s=a.data[0];r=0===s?8:16;var l=e.readUint32(a,r);r+=4;r+=0===s?8:16,r+=2;var c=a.end+0,u=e.readUint16(a,r);r+=2;for(var h=0;h<u;h++){var d=r,p=e.readUint32(a,d);d+=4;var f=2147483647&p;if(1===(2147483648&p)>>>31)return void console.warn("SIDX has hierarchical references (not supported)");var m=e.readUint32(a,d);d+=4,o.push({referenceSize:f,subsegmentDuration:m,info:{duration:m/l,start:c,end:c+f-1}}),c+=f,d+=4,r=d}return{earliestPresentationTime:0,timescale:l,version:s,referencesCount:u,references:o,moovEndOffset:n}},e.parseInitSegment=function(t){var i=[];return e.findBox(t,["moov","trak"]).forEach(function(t){var n=e.findBox(t,["tkhd"])[0];if(n){var a=n.data[n.start],o=0===a?12:20,s=e.readUint32(n,o),l=e.findBox(t,["mdia","mdhd"])[0];if(l){a=l.data[l.start],o=0===a?12:20;var c=e.readUint32(l,o),u=e.findBox(t,["mdia","hdlr"])[0];if(u){var h=e.bin2str(u.data.subarray(u.start+8,u.start+12)),d={soun:"audio",vide:"video"}[h];if(d){var p=e.findBox(t,["mdia","minf","stbl","stsd"]);if(p.length){p=p[0];var f=e.bin2str(p.data.subarray(p.start+12,p.start+16));r.b.log("MP4Demuxer:"+d+":"+f+" found")}i[s]={timescale:c,type:d},i[d]={timescale:c,id:s}}}}}}),i},e.getStartDTS=function(t,i){var n=void 0,r=void 0,a=void 0;return n=e.findBox(i,["moof","traf"]),r=[].concat.apply([],n.map(function(i){return e.findBox(i,["tfhd"]).map(function(n){var r=void 0,a=void 0;return r=e.readUint32(n,4),a=t[r].timescale||9e4,e.findBox(i,["tfdt"]).map(function(t){var i=void 0,n=void 0;return i=t.data[t.start],n=e.readUint32(t,4),1===i&&(n*=Math.pow(2,32),n+=e.readUint32(t,8)),n})[0]/a})})),a=Math.min.apply(null,r),isFinite(a)?a:0},e.offsetStartDTS=function(t,i,n){e.findBox(i,["moof","traf"]).map(function(i){return e.findBox(i,["tfhd"]).map(function(r){var a=e.readUint32(r,4),s=t[a].timescale||9e4;e.findBox(i,["tfdt"]).map(function(t){var i=t.data[t.start],r=e.readUint32(t,4);if(0===i)e.writeUint32(t,4,r-n*s);else{r*=Math.pow(2,32),r+=e.readUint32(t,8),r-=n*s,r=Math.max(r,0);var a=Math.floor(r/(o+1)),l=Math.floor(r%(o+1));e.writeUint32(t,4,a),e.writeUint32(t,8,l)}})})})},e.prototype.append=function(t,i,n,r){var o=this.initData;o||(this.resetInitSegment(t,this.audioCodec,this.videoCodec,!1),o=this.initData);var s=void 0,l=this.initPTS;if(void 0===l){var c=e.getStartDTS(o,t);this.initPTS=l=c-i,this.observer.trigger(a.a.INIT_PTS_FOUND,{initPTS:l})}e.offsetStartDTS(o,t,l),s=e.getStartDTS(o,t),this.remuxer.remux(o.audio,o.video,null,null,s,n,r,t)},e.prototype.destroy=function(){},e}();t.a=s},function(e,t,i){"use strict";function n(e,t,i,n){var r=void 0,a=void 0,o=void 0,s=void 0,l=void 0,c=navigator.userAgent.toLowerCase(),u=n,h=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];return r=1+((192&t[i+2])>>>6),(a=(60&t[i+2])>>>2)>h.length-1?void e.trigger(w.a.ERROR,{type:x.b.MEDIA_ERROR,details:x.a.FRAG_PARSING_ERROR,fatal:!0,reason:"invalid ADTS sampling index:"+a}):(s=(1&t[i+2])<<2,s|=(192&t[i+3])>>>6,C.b.log("manifest codec:"+n+",ADTS data:type:"+r+",sampleingIndex:"+a+"["+h[a]+"Hz],channelConfig:"+s),/firefox/i.test(c)?a>=6?(r=5,l=new Array(4),o=a-3):(r=2,l=new Array(2),o=a):-1!==c.indexOf("android")?(r=2,l=new Array(2),o=a):(r=5,l=new Array(4),n&&(-1!==n.indexOf("mp4a.40.29")||-1!==n.indexOf("mp4a.40.5"))||!n&&a>=6?o=a-3:((n&&-1!==n.indexOf("mp4a.40.2")&&(a>=6&&1===s||/vivaldi/i.test(c))||!n&&1===s)&&(r=2,l=new Array(2)),o=a)),l[0]=r<<3,l[0]|=(14&a)>>1,l[1]|=(1&a)<<7,l[1]|=s<<3,5===r&&(l[1]|=(14&o)>>1,l[2]=(1&o)<<7,l[2]|=8,l[3]=0),{config:l,samplerate:h[a],channelCount:s,codec:"mp4a.40."+r,manifestCodec:u})}function r(e,t){return 255===e[t]&&240===(246&e[t+1])}function a(e,t){return 1&e[t+1]?7:9}function o(e,t){return(3&e[t+3])<<11|e[t+4]<<3|(224&e[t+5])>>>5}function s(e,t){return!!(t+1<e.length&&r(e,t))}function l(e,t){if(t+1<e.length&&r(e,t)){var i=a(e,t),n=i;t+5<e.length&&(n=o(e,t));var s=t+n;if(s===e.length||s+1<e.length&&r(e,s))return!0}return!1}function c(e,t,i,r,a){if(!e.samplerate){var o=n(t,i,r,a);e.config=o.config,e.samplerate=o.samplerate,e.channelCount=o.channelCount,e.codec=o.codec,e.manifestCodec=o.manifestCodec,C.b.log("parsed codec:"+e.codec+",rate:"+o.samplerate+",nb channel:"+o.channelCount)}}function u(e){return 9216e4/e}function h(e,t,i,n,r){var s=void 0,l=void 0,c=void 0,u=e.length;if(s=a(e,t),l=o(e,t),(l-=s)>0&&t+s+l<=u)return c=i+n*r,{headerLength:s,frameLength:l,stamp:c}}function d(e,t,i,n,r){var a=u(e.samplerate),o=h(t,i,n,r,a);if(o){var s=o.stamp,l=o.headerLength,c=o.frameLength,d={unit:t.subarray(i+l,i+l+c),pts:s,dts:s};return e.samples.push(d),e.len+=c,{sample:d,length:c+l}}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var w=i(1),x=i(2),T=i(8),S=i(3),C=i(0),k=i(4),O=i(6),P=function(){function e(t,i,n){p(this,e),this.observer=t,this.config=n,this.remuxer=i}return e.prototype.resetInitSegment=function(e,t,i,n){this._audioTrack={container:"audio/adts",type:"audio",id:0,sequenceNumber:0,isAAC:!0,samples:[],len:0,manifestCodec:t,duration:n,inputTimeScale:9e4}},e.prototype.resetTimeStamp=function(){},e.probe=function(e){if(!e)return!1;for(var t=O.a.getID3Data(e,0)||[],i=t.length,n=e.length;i<n;i++)if(l(e,i))return C.b.log("ADTS sync word found !"),!0;return!1},e.prototype.append=function(e,t,i,n){for(var r=this._audioTrack,a=O.a.getID3Data(e,0)||[],o=O.a.getTimeStamp(a),l=Object(S.a)(o)?90*o:9e4*t,u=0,h=l,p=e.length,f=a.length,m=[{pts:h,dts:h,data:a}];f<p-1;)if(s(e,f)&&f+5<p){c(r,this.observer,e,f,r.manifestCodec);var g=d(r,e,f,l,u);if(!g){C.b.log("Unable to parse AAC frame");break}f+=g.length,h=g.sample.pts,u++}else O.a.isHeader(e,f)?(a=O.a.getID3Data(e,f),m.push({pts:h,dts:h,data:a}),f+=a.length):f++;this.remuxer.remux(r,{samples:[]},{samples:m,inputTimeScale:9e4},{samples:[]},t,i,n)},e.prototype.destroy=function(){},e}(),j=P,I=i(9),M={BitratesMap:[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],SamplingRateMap:[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],SamplesCoefficients:[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],BytesInSlot:[0,1,1,4],appendFrame:function(e,t,i,n,r){if(!(i+24>t.length)){var a=this.parseHeader(t,i);if(a&&i+a.frameLength<=t.length){var o=9e4*a.samplesPerFrame/a.sampleRate,s=n+r*o,l={unit:t.subarray(i,i+a.frameLength),pts:s,dts:s};return e.config=[],e.channelCount=a.channelCount,e.samplerate=a.sampleRate,e.samples.push(l),e.len+=a.frameLength,{sample:l,length:a.frameLength}}}},parseHeader:function(e,t){var i=e[t+1]>>3&3,n=e[t+1]>>1&3,r=e[t+2]>>4&15,a=e[t+2]>>2&3,o=e[t+2]>>1&1;if(1!==i&&0!==r&&15!==r&&3!==a){var s=3===i?3-n:3===n?3:4,l=1e3*M.BitratesMap[14*s+r-1],c=3===i?0:2===i?1:2,u=M.SamplingRateMap[3*c+a],h=e[t+3]>>6===3?1:2,d=M.SamplesCoefficients[i][n],p=M.BytesInSlot[n],f=8*d*p;return{sampleRate:u,channelCount:h,frameLength:parseInt(d*l/u+o,10)*p,samplesPerFrame:f}}},isHeaderPattern:function(e,t){return 255===e[t]&&224===(224&e[t+1])&&0!==(6&e[t+1])},isHeader:function(e,t){return!!(t+1<e.length&&this.isHeaderPattern(e,t))},probe:function(e,t){if(t+1<e.length&&this.isHeaderPattern(e,t)){var i=this.parseHeader(e,t),n=4;i&&i.frameLength&&(n=i.frameLength);var r=t+n;if(r===e.length||r+1<e.length&&this.isHeaderPattern(e,r))return!0}return!1}},R=M,D=function(){function e(t){f(this,e),this.data=t,this.bytesAvailable=t.byteLength,this.word=0,this.bitsAvailable=0}return e.prototype.loadWord=function(){var e=this.data,t=this.bytesAvailable,i=e.byteLength-t,n=new Uint8Array(4),r=Math.min(4,t);if(0===r)throw new Error("no bytes available");n.set(e.subarray(i,i+r)),this.word=new DataView(n.buffer).getUint32(0),this.bitsAvailable=8*r,this.bytesAvailable-=r},e.prototype.skipBits=function(e){var t=void 0;this.bitsAvailable>e?(this.word<<=e,this.bitsAvailable-=e):(e-=this.bitsAvailable,t=e>>3,e-=t>>3,this.bytesAvailable-=t,this.loadWord(),this.word<<=e,this.bitsAvailable-=e)},e.prototype.readBits=function(e){var t=Math.min(this.bitsAvailable,e),i=this.word>>>32-t;return e>32&&C.b.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=t,this.bitsAvailable>0?this.word<<=t:this.bytesAvailable>0&&this.loadWord(),t=e-t,t>0&&this.bitsAvailable?i<<t|this.readBits(t):i},e.prototype.skipLZ=function(){var e=void 0;for(e=0;e<this.bitsAvailable;++e)if(0!==(this.word&2147483648>>>e))return this.word<<=e,this.bitsAvailable-=e,e;return this.loadWord(),e+this.skipLZ()},e.prototype.skipUEG=function(){this.skipBits(1+this.skipLZ())},e.prototype.skipEG=function(){this.skipBits(1+this.skipLZ())},e.prototype.readUEG=function(){var e=this.skipLZ();return this.readBits(e+1)-1},e.prototype.readEG=function(){var e=this.readUEG();return 1&e?1+e>>>1:-1*(e>>>1)},e.prototype.readBoolean=function(){return 1===this.readBits(1)},e.prototype.readUByte=function(){return this.readBits(8)},e.prototype.readUShort=function(){return this.readBits(16)},e.prototype.readUInt=function(){return this.readBits(32)},e.prototype.skipScalingList=function(e){var t=8,i=8,n=void 0,r=void 0;for(n=0;n<e;n++)0!==i&&(r=this.readEG(),i=(t+r+256)%256),t=0===i?t:i},e.prototype.readSPS=function(){var e=0,t=0,i=0,n=0,r=void 0,a=void 0,o=void 0,s=void 0,l=void 0,c=void 0,u=void 0,h=this.readUByte.bind(this),d=this.readBits.bind(this),p=this.readUEG.bind(this),f=this.readBoolean.bind(this),m=this.skipBits.bind(this),g=this.skipEG.bind(this),v=this.skipUEG.bind(this),y=this.skipScalingList.bind(this);if(h(),r=h(),d(5),m(3),h(),v(),100===r||110===r||122===r||244===r||44===r||83===r||86===r||118===r||128===r){var b=p();if(3===b&&m(1),v(),v(),m(1),f())for(c=3!==b?8:12,u=0;u<c;u++)f()&&y(u<6?16:64)}v();var _=p();if(0===_)p();else if(1===_)for(m(1),g(),g(),a=p(),u=0;u<a;u++)g();v(),m(1),o=p(),s=p(),l=d(1),0===l&&m(1),m(1),f()&&(e=p(),t=p(),i=p(),n=p());var A=[1,1];if(f()&&f()){switch(h()){case 1:A=[1,1];break;case 2:A=[12,11];break;case 3:A=[10,11];break;case 4:A=[16,11];break;case 5:A=[40,33];break;case 6:A=[24,11];break;case 7:A=[20,11];break;case 8:A=[32,11];break;case 9:A=[80,33];break;case 10:A=[18,11];break;case 11:A=[15,11];break;case 12:A=[64,33];break;case 13:A=[160,99];break;case 14:A=[4,3];break;case 15:A=[3,2];break;case 16:A=[2,1];break;case 255:A=[h()<<8|h(),h()<<8|h()]}}return{width:Math.ceil(16*(o+1)-2*e-2*t),height:(2-l)*(s+1)*16-(l?2:4)*(i+n),pixelRatio:A}},e.prototype.readSliceType=function(){return this.readUByte(),this.readUEG(),this.readUEG()},e}(),L=D,N=function(){function e(t,i,n,r){m(this,e),this.decryptdata=n,this.discardEPB=r,this.decrypter=new T.a(t,i,{removePKCS7Padding:!1})}return e.prototype.decryptBuffer=function(e,t){this.decrypter.decrypt(e,this.decryptdata.key.buffer,this.decryptdata.iv.buffer,t)},e.prototype.decryptAacSample=function(e,t,i,n){var r=e[t].unit,a=r.subarray(16,r.length-r.length%16),o=a.buffer.slice(a.byteOffset,a.byteOffset+a.length),s=this;this.decryptBuffer(o,function(a){a=new Uint8Array(a),r.set(a,16),n||s.decryptAacSamples(e,t+1,i)})},e.prototype.decryptAacSamples=function(e,t,i){for(;;t++){if(t>=e.length)return void i();if(!(e[t].unit.length<32)){var n=this.decrypter.isSync();if(this.decryptAacSample(e,t,i,n),!n)return}}},e.prototype.getAvcEncryptedData=function(e){for(var t=16*Math.floor((e.length-48)/160)+16,i=new Int8Array(t),n=0,r=32;r<=e.length-16;r+=160,n+=16)i.set(e.subarray(r,r+16),n);return i},e.prototype.getAvcDecryptedUnit=function(e,t){t=new Uint8Array(t);for(var i=0,n=32;n<=e.length-16;n+=160,i+=16)e.set(t.subarray(i,i+16),n);return e},e.prototype.decryptAvcSample=function(e,t,i,n,r,a){var o=this.discardEPB(r.data),s=this.getAvcEncryptedData(o),l=this;this.decryptBuffer(s.buffer,function(s){r.data=l.getAvcDecryptedUnit(o,s),a||l.decryptAvcSamples(e,t,i+1,n)})},e.prototype.decryptAvcSamples=function(e,t,i,n){for(;;t++,i=0){if(t>=e.length)return void n();for(var r=e[t].units;!(i>=r.length);i++){var a=r[i];if(!(a.length<=48||1!==a.type&&5!==a.type)){var o=this.decrypter.isSync();if(this.decryptAvcSample(e,t,i,n,a,o),!o)return}}}},e}(),B=N,F={video:1,audio:2,id3:3,text:4},U=function(){function e(t,i,n,r){g(this,e),this.observer=t,this.config=n,this.typeSupported=r,this.remuxer=i,this.sampleAes=null}return e.prototype.setDecryptData=function(e){null!=e&&null!=e.key&&"SAMPLE-AES"===e.method?this.sampleAes=new B(this.observer,this.config,e,this.discardEPB):this.sampleAes=null},e.probe=function(t){var i=e._syncOffset(t);return!(i<0)&&(i&&C.b.warn("MPEG2-TS detected but first sync word found @ offset "+i+", junk ahead ?"),!0)},e._syncOffset=function(e){for(var t=Math.min(1e3,e.length-564),i=0;i<t;){if(71===e[i]&&71===e[i+188]&&71===e[i+376])return i;i++}return-1},e.createTrack=function(e,t){return{container:"video"===e||"audio"===e?"video/mp2t":void 0,type:e,id:F[e],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],len:0,dropped:"video"===e?0:void 0,isAAC:"audio"===e||void 0,duration:"audio"===e?t:void 0}},e.prototype.resetInitSegment=function(t,i,n,r){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack=e.createTrack("video",r),this._audioTrack=e.createTrack("audio",r),this._id3Track=e.createTrack("id3",r),this._txtTrack=e.createTrack("text",r),this.aacOverFlow=null,this.aacLastPTS=null,this.avcSample=null,this.audioCodec=i,this.videoCodec=n,this._duration=r},e.prototype.resetTimeStamp=function(){},e.prototype.append=function(t,i,n,r){var a=void 0,o=t.length,s=void 0,l=void 0,c=void 0,u=void 0,h=!1;this.contiguous=n;var d=this.pmtParsed,p=this._avcTrack,f=this._audioTrack,m=this._id3Track,g=p.pid,v=f.pid,y=m.pid,b=this._pmtId,_=p.pesData,A=f.pesData,E=m.pesData,T=this._parsePAT,S=this._parsePMT,k=this._parsePES,O=this._parseAVCPES.bind(this),P=this._parseAACPES.bind(this),j=this._parseMPEGPES.bind(this),I=this._parseID3PES.bind(this),M=e._syncOffset(t);for(o-=(o+M)%188,a=M;a<o;a+=188)if(71===t[a]){if(s=!!(64&t[a+1]),l=((31&t[a+1])<<8)+t[a+2],(48&t[a+3])>>4>1){if((c=a+5+t[a+4])===a+188)continue}else c=a+4;switch(l){case g:s&&(_&&(u=k(_))&&void 0!==u.pts&&O(u,!1),_={data:[],size:0}),_&&(_.data.push(t.subarray(c,a+188)),_.size+=a+188-c);break;case v:s&&(A&&(u=k(A))&&void 0!==u.pts&&(f.isAAC?P(u):j(u)),A={data:[],size:0}),A&&(A.data.push(t.subarray(c,a+188)),A.size+=a+188-c);break;case y:s&&(E&&(u=k(E))&&void 0!==u.pts&&I(u),E={data:[],size:0}),E&&(E.data.push(t.subarray(c,a+188)),E.size+=a+188-c);break;case 0:s&&(c+=t[c]+1),b=this._pmtId=T(t,c);break;case b:s&&(c+=t[c]+1);var R=S(t,c,!0===this.typeSupported.mpeg||!0===this.typeSupported.mp3,null!=this.sampleAes);g=R.avc,g>0&&(p.pid=g),v=R.audio,v>0&&(f.pid=v,f.isAAC=R.isAAC),y=R.id3,y>0&&(m.pid=y),h&&!d&&(C.b.log("reparse from beginning"),h=!1,a=M-188),d=this.pmtParsed=!0;break;case 17:case 8191:break;default:h=!0}}else this.observer.trigger(w.a.ERROR,{type:x.b.MEDIA_ERROR,details:x.a.FRAG_PARSING_ERROR,fatal:!1,reason:"TS packet did not start with 0x47"});_&&(u=k(_))&&void 0!==u.pts?(O(u,!0),p.pesData=null):p.pesData=_,A&&(u=k(A))&&void 0!==u.pts?(f.isAAC?P(u):j(u),f.pesData=null):(A&&A.size&&C.b.log("last AAC PES packet truncated,might overlap between fragments"),f.pesData=A),E&&(u=k(E))&&void 0!==u.pts?(I(u),m.pesData=null):m.pesData=E,null==this.sampleAes?this.remuxer.remux(f,p,m,this._txtTrack,i,n,r):this.decryptAndRemux(f,p,m,this._txtTrack,i,n,r)},e.prototype.decryptAndRemux=function(e,t,i,n,r,a,o){if(e.samples&&e.isAAC){var s=this;this.sampleAes.decryptAacSamples(e.samples,0,function(){s.decryptAndRemuxAvc(e,t,i,n,r,a,o)})}else this.decryptAndRemuxAvc(e,t,i,n,r,a,o)},e.prototype.decryptAndRemuxAvc=function(e,t,i,n,r,a,o){if(t.samples){var s=this;this.sampleAes.decryptAvcSamples(t.samples,0,0,function(){s.remuxer.remux(e,t,i,n,r,a,o)})}else this.remuxer.remux(e,t,i,n,r,a,o)},e.prototype.destroy=function(){this._initPTS=this._initDTS=void 0,this._duration=0},e.prototype._parsePAT=function(e,t){return(31&e[t+10])<<8|e[t+11]},e.prototype._parsePMT=function(e,t,i,n){var r=void 0,a=void 0,o=void 0,s=void 0,l={audio:-1,avc:-1,id3:-1,isAAC:!0};for(r=(15&e[t+1])<<8|e[t+2],a=t+3+r-4,o=(15&e[t+10])<<8|e[t+11],t+=12+o;t<a;){switch(s=(31&e[t+1])<<8|e[t+2],e[t]){case 207:if(!n){C.b.log("unkown stream type:"+e[t]);break}case 15:-1===l.audio&&(l.audio=s);break;case 21:-1===l.id3&&(l.id3=s);break;case 219:if(!n){C.b.log("unkown stream type:"+e[t]);break}case 27:-1===l.avc&&(l.avc=s);break;case 3:case 4:i?-1===l.audio&&(l.audio=s,l.isAAC=!1):C.b.log("MPEG audio found, not supported in this browser for now");break;case 36:C.b.warn("HEVC stream type found, not supported for now");break;default:C.b.log("unkown stream type:"+e[t])}t+=5+((15&e[t+3])<<8|e[t+4])}return l},e.prototype._parsePES=function(e){var t=0,i=void 0,n=void 0,r=void 0,a=void 0,o=void 0,s=void 0,l=void 0,c=void 0,u=e.data;if(!e||0===e.size)return null;for(;u[0].length<19&&u.length>1;){var h=new Uint8Array(u[0].length+u[1].length);h.set(u[0]),h.set(u[1],u[0].length),u[0]=h,u.splice(1,1)}if(i=u[0],1===(i[0]<<16)+(i[1]<<8)+i[2]){if((r=(i[4]<<8)+i[5])&&r>e.size-6)return null;n=i[7],192&n&&(s=536870912*(14&i[9])+4194304*(255&i[10])+16384*(254&i[11])+128*(255&i[12])+(254&i[13])/2,s>4294967295&&(s-=8589934592),64&n?(l=536870912*(14&i[14])+4194304*(255&i[15])+16384*(254&i[16])+128*(255&i[17])+(254&i[18])/2,l>4294967295&&(l-=8589934592),s-l>54e5&&(C.b.warn(Math.round((s-l)/9e4)+"s delta between PTS and DTS, align them"),s=l)):l=s),a=i[8],c=a+9,e.size-=c,o=new Uint8Array(e.size);for(var d=0,p=u.length;d<p;d++){i=u[d];var f=i.byteLength;if(c){if(c>f){c-=f;continue}i=i.subarray(c),f-=c,c=0}o.set(i,t),t+=f}return r&&(r-=a+3),{data:o,pts:s,dts:l,len:r}}return null},e.prototype.pushAccesUnit=function(e,t){if(e.units.length&&e.frame){var i=t.samples,n=i.length;!this.config.forceKeyFrameOnDiscontinuity||!0===e.key||t.sps&&(n||this.contiguous)?(e.id=n,i.push(e)):t.dropped++}e.debug.length&&C.b.log(e.pts+"/"+e.dts+":"+e.debug)},e.prototype._parseAVCPES=function(e,t){var i=this,n=this._avcTrack,r=this._parseAVCNALu(e.data),a=void 0,o=this.avcSample,s=void 0,l=!1,c=void 0,u=this.pushAccesUnit.bind(this),h=function(e,t,i,n){return{key:e,pts:t,dts:i,units:[],debug:n}};e.data=null,o&&r.length&&!n.audFound&&(u(o,n),o=this.avcSample=h(!1,e.pts,e.dts,"")),r.forEach(function(t){switch(t.type){case 1:s=!0,o||(o=i.avcSample=h(!0,e.pts,e.dts,"")),o.frame=!0;var r=t.data;if(l&&r.length>4){var d=new L(r).readSliceType();2!==d&&4!==d&&7!==d&&9!==d||(o.key=!0)}break;case 5:s=!0,o||(o=i.avcSample=h(!0,e.pts,e.dts,"")),o.key=!0,o.frame=!0;break;case 6:s=!0,a=new L(i.discardEPB(t.data)),a.readUByte();for(var p=0,f=0,m=!1,g=0;!m&&a.bytesAvailable>1;){p=0;do{g=a.readUByte(),p+=g}while(255===g);f=0;do{g=a.readUByte(),f+=g}while(255===g);if(4===p&&0!==a.bytesAvailable){m=!0;if(181===a.readUByte()){if(49===a.readUShort()){if(1195456820===a.readUInt()){if(3===a.readUByte()){var v=a.readUByte(),y=a.readUByte(),b=31&v,_=[v,y];for(c=0;c<b;c++)_.push(a.readUByte()),_.push(a.readUByte()),_.push(a.readUByte());i._insertSampleInOrder(i._txtTrack.samples,{type:3,pts:e.pts,bytes:_})}}}}}else if(f<a.bytesAvailable)for(c=0;c<f;c++)a.readUByte()}break;case 7:if(s=!0,l=!0,!n.sps){a=new L(t.data);var A=a.readSPS();n.width=A.width,n.height=A.height,n.pixelRatio=A.pixelRatio,n.sps=[t.data],n.duration=i._duration;var E=t.data.subarray(1,4),w="avc1.";for(c=0;c<3;c++){var x=E[c].toString(16);x.length<2&&(x="0"+x),w+=x}n.codec=w}break;case 8:s=!0,n.pps||(n.pps=[t.data]);break;case 9:s=!1,n.audFound=!0,o&&u(o,n),o=i.avcSample=h(!1,e.pts,e.dts,"");break;case 12:s=!1;break;default:s=!1,o&&(o.debug+="unknown NAL "+t.type+" ")}if(o&&s){o.units.push(t)}}),t&&o&&(u(o,n),this.avcSample=null)},e.prototype._insertSampleInOrder=function(e,t){var i=e.length;if(i>0){if(t.pts>=e[i-1].pts)e.push(t);else for(var n=i-1;n>=0;n--)if(t.pts<e[n].pts){e.splice(n,0,t);break}}else e.push(t)},e.prototype._getLastNalUnit=function(){var e=this.avcSample,t=void 0;if(!e||0===e.units.length){var i=this._avcTrack,n=i.samples;e=n[n.length-1]}if(e){var r=e.units;t=r[r.length-1]}return t},e.prototype._parseAVCNALu=function(e){var t=0,i=e.byteLength,n=void 0,r=void 0,a=this._avcTrack,o=a.naluState||0,s=o,l=[],c=void 0,u=void 0,h=-1,d=void 0;for(-1===o&&(h=0,d=31&e[0],o=0,t=1);t<i;)if(n=e[t++],o)if(1!==o)if(n)if(1===n){if(h>=0)c={data:e.subarray(h,t-o-1),type:d},l.push(c);else{var p=this._getLastNalUnit();if(p&&(s&&t<=4-s&&p.state&&(p.data=p.data.subarray(0,p.data.byteLength-s)),(r=t-o-1)>0)){var f=new Uint8Array(p.data.byteLength+r);f.set(p.data,0),f.set(e.subarray(0,r),p.data.byteLength),p.data=f}}t<i?(u=31&e[t],h=t,d=u,o=0):o=-1}else o=0;else o=3;else o=n?0:2;else o=n?0:1;if(h>=0&&o>=0&&(c={data:e.subarray(h,i),type:d,state:o},l.push(c)),0===l.length){var m=this._getLastNalUnit();if(m){var g=new Uint8Array(m.data.byteLength+e.byteLength);g.set(m.data,0),g.set(e,m.data.byteLength),m.data=g}}return a.naluState=o,l},e.prototype.discardEPB=function(e){for(var t=e.byteLength,i=[],n=1,r=void 0,a=void 0;n<t-2;)0===e[n]&&0===e[n+1]&&3===e[n+2]?(i.push(n+2),n+=2):n++;if(0===i.length)return e;r=t-i.length,a=new Uint8Array(r);var o=0;for(n=0;n<r;o++,n++)o===i[0]&&(o++,i.shift()),a[n]=e[o];return a},e.prototype._parseAACPES=function(e){var t=this._audioTrack,i=e.data,n=e.pts,r=this.aacOverFlow,a=this.aacLastPTS,o=void 0,l=void 0,h=void 0,p=void 0,f=void 0;if(r){var m=new Uint8Array(r.byteLength+i.byteLength);m.set(r,0),m.set(i,r.byteLength),i=m}for(h=0,f=i.length;h<f-1&&!s(i,h);h++);if(h){var g=void 0,v=void 0;if(h<f-1?(g="AAC PES did not start with ADTS header,offset:"+h,v=!1):(g="no ADTS header found in AAC PES",v=!0),C.b.warn("parsing error:"+g),this.observer.trigger(w.a.ERROR,{type:x.b.MEDIA_ERROR,details:x.a.FRAG_PARSING_ERROR,fatal:v,reason:g}),v)return}if(c(t,this.observer,i,h,this.audioCodec),l=0,o=u(t.samplerate),r&&a){var y=a+o;Math.abs(y-n)>1&&(C.b.log("AAC: align PTS for overlapping frames by "+Math.round((y-n)/90)),n=y)}for(;h<f;)if(s(i,h)&&h+5<f){var b=d(t,i,h,n,l);if(!b)break;h+=b.length,p=b.sample.pts,l++}else h++;r=h<f?i.subarray(h,f):null,this.aacOverFlow=r,this.aacLastPTS=p},e.prototype._parseMPEGPES=function(e){for(var t=e.data,i=t.length,n=0,r=0,a=e.pts;r<i;)if(R.isHeader(t,r)){var o=R.appendFrame(this._audioTrack,t,r,a,n);if(!o)break;r+=o.length,n++}else r++},e.prototype._parseID3PES=function(e){this._id3Track.samples.push(e)},e}(),z=U,H=function(){function e(t,i,n){v(this,e),this.observer=t,this.config=n,this.remuxer=i}return e.prototype.resetInitSegment=function(e,t,i,n){this._audioTrack={container:"audio/mpeg",type:"audio",id:-1,sequenceNumber:0,isAAC:!1,samples:[],len:0,manifestCodec:t,duration:n,inputTimeScale:9e4}},e.prototype.resetTimeStamp=function(){},e.probe=function(e){var t=void 0,i=void 0,n=O.a.getID3Data(e,0);if(n&&void 0!==O.a.getTimeStamp(n))for(t=n.length,i=Math.min(e.length-1,t+100);t<i;t++)if(R.probe(e,t))return C.b.log("MPEG Audio sync word found !"),!0;return!1},e.prototype.append=function(e,t,i,n){for(var r=O.a.getID3Data(e,0),a=O.a.getTimeStamp(r),o=a?90*a:9e4*t,s=r.length,l=e.length,c=0,u=0,h=this._audioTrack,d=[{pts:o,dts:o,data:r}];s<l;)if(R.isHeader(e,s)){var p=R.appendFrame(h,e,s,o,c);if(!p)break;s+=p.length,u=p.sample.pts,c++}else O.a.isHeader(e,s)?(r=O.a.getID3Data(e,s),d.push({pts:u,dts:u,data:r}),s+=r.length):s++;this.remuxer.remux(h,{samples:[]},{samples:d,inputTimeScale:9e4},{samples:[]},t,i,n)},e.prototype.destroy=function(){},e}(),V=H,G=function(){function e(){y(this,e)}return e.getSilentFrame=function(e,t){switch(e){case"mp4a.40.2":if(1===t)return new Uint8Array([0,200,0,128,35,128]);if(2===t)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(1===t)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null},e}(),q=G,W=Math.pow(2,32)-1,Y=function(){function e(){b(this,e)}return e.init=function(){e.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]};var t=void 0;for(t in e.types)e.types.hasOwnProperty(t)&&(e.types[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);var i=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),n=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);e.HDLR_TYPES={video:i,audio:n};var r=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),a=new Uint8Array([0,0,0,0,0,0,0,0]);e.STTS=e.STSC=e.STCO=a,e.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),e.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),e.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),e.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var o=new Uint8Array([105,115,111,109]),s=new Uint8Array([97,118,99,49]),l=new Uint8Array([0,0,0,1]);e.FTYP=e.box(e.types.ftyp,o,l,o,s),e.DINF=e.box(e.types.dinf,e.box(e.types.dref,r))},e.box=function(e){for(var t=Array.prototype.slice.call(arguments,1),i=8,n=t.length,r=n,a=void 0;n--;)i+=t[n].byteLength;for(a=new Uint8Array(i),a[0]=i>>24&255,a[1]=i>>16&255,a[2]=i>>8&255,a[3]=255&i,a.set(e,4),n=0,i=8;n<r;n++)a.set(t[n],i),i+=t[n].byteLength;return a},e.hdlr=function(t){return e.box(e.types.hdlr,e.HDLR_TYPES[t])},e.mdat=function(t){return e.box(e.types.mdat,t)},e.mdhd=function(t,i){i*=t;var n=Math.floor(i/(W+1)),r=Math.floor(i%(W+1));return e.box(e.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,n>>24,n>>16&255,n>>8&255,255&n,r>>24,r>>16&255,r>>8&255,255&r,85,196,0,0]))},e.mdia=function(t){return e.box(e.types.mdia,e.mdhd(t.timescale,t.duration),e.hdlr(t.type),e.minf(t))},e.mfhd=function(t){return e.box(e.types.mfhd,new Uint8Array([0,0,0,0,t>>24,t>>16&255,t>>8&255,255&t]))},e.minf=function(t){return"audio"===t.type?e.box(e.types.minf,e.box(e.types.smhd,e.SMHD),e.DINF,e.stbl(t)):e.box(e.types.minf,e.box(e.types.vmhd,e.VMHD),e.DINF,e.stbl(t))},e.moof=function(t,i,n){return e.box(e.types.moof,e.mfhd(t),e.traf(n,i))},e.moov=function(t){for(var i=t.length,n=[];i--;)n[i]=e.trak(t[i]);return e.box.apply(null,[e.types.moov,e.mvhd(t[0].timescale,t[0].duration)].concat(n).concat(e.mvex(t)))},e.mvex=function(t){for(var i=t.length,n=[];i--;)n[i]=e.trex(t[i]);return e.box.apply(null,[e.types.mvex].concat(n))},e.mvhd=function(t,i){i*=t;var n=Math.floor(i/(W+1)),r=Math.floor(i%(W+1)),a=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,n>>24,n>>16&255,n>>8&255,255&n,r>>24,r>>16&255,r>>8&255,255&r,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return e.box(e.types.mvhd,a)},e.sdtp=function(t){var i=t.samples||[],n=new Uint8Array(4+i.length),r=void 0,a=void 0;for(a=0;a<i.length;a++)r=i[a].flags,n[a+4]=r.dependsOn<<4|r.isDependedOn<<2|r.hasRedundancy;return e.box(e.types.sdtp,n)},e.stbl=function(t){return e.box(e.types.stbl,e.stsd(t),e.box(e.types.stts,e.STTS),e.box(e.types.stsc,e.STSC),e.box(e.types.stsz,e.STSZ),e.box(e.types.stco,e.STCO))},e.avc1=function(t){var i=[],n=[],r=void 0,a=void 0,o=void 0;for(r=0;r<t.sps.length;r++)a=t.sps[r],o=a.byteLength,i.push(o>>>8&255),i.push(255&o),i=i.concat(Array.prototype.slice.call(a));for(r=0;r<t.pps.length;r++)a=t.pps[r],o=a.byteLength,n.push(o>>>8&255),n.push(255&o),n=n.concat(Array.prototype.slice.call(a));var s=e.box(e.types.avcC,new Uint8Array([1,i[3],i[4],i[5],255,224|t.sps.length].concat(i).concat([t.pps.length]).concat(n))),l=t.width,c=t.height,u=t.pixelRatio[0],h=t.pixelRatio[1];return e.box(e.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,l>>8&255,255&l,c>>8&255,255&c,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),s,e.box(e.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),e.box(e.types.pasp,new Uint8Array([u>>24,u>>16&255,u>>8&255,255&u,h>>24,h>>16&255,h>>8&255,255&h])))},e.esds=function(e){var t=e.config.length;return new Uint8Array([0,0,0,0,3,23+t,0,1,0,4,15+t,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([t]).concat(e.config).concat([6,1,2]))},e.mp4a=function(t){var i=t.samplerate;return e.box(e.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,i>>8&255,255&i,0,0]),e.box(e.types.esds,e.esds(t)))},e.mp3=function(t){var i=t.samplerate;return e.box(e.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,i>>8&255,255&i,0,0]))},e.stsd=function(t){return"audio"===t.type?t.isAAC||"mp3"!==t.codec?e.box(e.types.stsd,e.STSD,e.mp4a(t)):e.box(e.types.stsd,e.STSD,e.mp3(t)):e.box(e.types.stsd,e.STSD,e.avc1(t))},e.tkhd=function(t){var i=t.id,n=t.duration*t.timescale,r=t.width,a=t.height,o=Math.floor(n/(W+1)),s=Math.floor(n%(W+1));return e.box(e.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,i>>24&255,i>>16&255,i>>8&255,255&i,0,0,0,0,o>>24,o>>16&255,o>>8&255,255&o,s>>24,s>>16&255,s>>8&255,255&s,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,r>>8&255,255&r,0,0,a>>8&255,255&a,0,0]))},e.traf=function(t,i){var n=e.sdtp(t),r=t.id,a=Math.floor(i/(W+1)),o=Math.floor(i%(W+1));return e.box(e.types.traf,e.box(e.types.tfhd,new Uint8Array([0,0,0,0,r>>24,r>>16&255,r>>8&255,255&r])),e.box(e.types.tfdt,new Uint8Array([1,0,0,0,a>>24,a>>16&255,a>>8&255,255&a,o>>24,o>>16&255,o>>8&255,255&o])),e.trun(t,n.length+16+20+8+16+8+8),n)},e.trak=function(t){return t.duration=t.duration||4294967295,e.box(e.types.trak,e.tkhd(t),e.mdia(t))},e.trex=function(t){var i=t.id;return e.box(e.types.trex,new Uint8Array([0,0,0,0,i>>24,i>>16&255,i>>8&255,255&i,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))},e.trun=function(t,i){var n=t.samples||[],r=n.length,a=12+16*r,o=new Uint8Array(a),s=void 0,l=void 0,c=void 0,u=void 0,h=void 0,d=void 0;for(i+=8+a,o.set([0,0,15,1,r>>>24&255,r>>>16&255,r>>>8&255,255&r,i>>>24&255,i>>>16&255,i>>>8&255,255&i],0),s=0;s<r;s++)l=n[s],c=l.duration,u=l.size,h=l.flags,d=l.cts,o.set([c>>>24&255,c>>>16&255,c>>>8&255,255&c,u>>>24&255,u>>>16&255,u>>>8&255,255&u,h.isLeading<<2|h.dependsOn,h.isDependedOn<<6|h.hasRedundancy<<4|h.paddingValue<<1|h.isNonSync,61440&h.degradPrio,15&h.degradPrio,d>>>24&255,d>>>16&255,d>>>8&255,255&d],12+16*s);return e.box(e.types.trun,o)},e.initSegment=function(t){e.types||e.init();var i=e.moov(t),n=void 0;return n=new Uint8Array(e.FTYP.byteLength+i.byteLength),n.set(e.FTYP),n.set(i,e.FTYP.byteLength),n},e}(),X=Y,Q=function(){function e(t,i,n,r){_(this,e),this.observer=t,this.config=i,this.typeSupported=n;var a=navigator.userAgent;this.isSafari=r&&r.indexOf("Apple")>-1&&a&&!a.match("CriOS"),this.ISGenerated=!1}return e.prototype.destroy=function(){},e.prototype.resetTimeStamp=function(e){this._initPTS=this._initDTS=e},e.prototype.resetInitSegment=function(){this.ISGenerated=!1},e.prototype.remux=function(e,t,i,n,r,a,o){if(this.ISGenerated||this.generateIS(e,t,r),this.ISGenerated){var s=e.samples.length,l=t.samples.length,c=r,u=r;if(s&&l){var h=(e.samples[0].dts-t.samples[0].dts)/t.inputTimeScale;c+=Math.max(0,h),u+=Math.max(0,-h)}if(s){e.timescale||(C.b.warn("regenerate InitSegment as audio detected"),this.generateIS(e,t,r));var d=this.remuxAudio(e,c,a,o);if(l){var p=void 0;d&&(p=d.endPTS-d.startPTS),t.timescale||(C.b.warn("regenerate InitSegment as video detected"),this.generateIS(e,t,r)),this.remuxVideo(t,u,a,p,o)}}else if(l){var f=this.remuxVideo(t,u,a,0,o);f&&e.codec&&this.remuxEmptyAudio(e,c,a,f)}}i.samples.length&&this.remuxID3(i,r),n.samples.length&&this.remuxText(n,r),this.observer.trigger(w.a.FRAG_PARSED)},e.prototype.generateIS=function(e,t,i){var n=this.observer,r=e.samples,a=t.samples,o=this.typeSupported,s="audio/mp4",l={},c={tracks:l},u=void 0===this._initPTS,h=void 0,d=void 0;if(u&&(h=d=1/0),e.config&&r.length&&(e.timescale=e.samplerate,C.b.log("audio sampling rate : "+e.samplerate),e.isAAC||(o.mpeg?(s="audio/mpeg",e.codec=""):o.mp3&&(e.codec="mp3")),l.audio={container:s,codec:e.codec,initSegment:!e.isAAC&&o.mpeg?new Uint8Array:X.initSegment([e]),metadata:{channelCount:e.channelCount}},u&&(h=d=r[0].pts-e.inputTimeScale*i)),t.sps&&t.pps&&a.length){var p=t.inputTimeScale;t.timescale=p,l.video={container:"video/mp4",codec:t.codec,initSegment:X.initSegment([t]),metadata:{width:t.width,height:t.height}},u&&(h=Math.min(h,a[0].pts-p*i),d=Math.min(d,a[0].dts-p*i),this.observer.trigger(w.a.INIT_PTS_FOUND,{initPTS:h}))}Object.keys(l).length?(n.trigger(w.a.FRAG_PARSING_INIT_SEGMENT,c),this.ISGenerated=!0,u&&(this._initPTS=h,this._initDTS=d)):n.trigger(w.a.ERROR,{type:x.b.MEDIA_ERROR,details:x.a.FRAG_PARSING_ERROR,fatal:!1,reason:"no audio/video samples found"})},e.prototype.remuxVideo=function(e,t,i,n,r){var a=8,o=e.timescale,s=void 0,l=void 0,c=void 0,u=void 0,h=void 0,d=void 0,p=void 0,f=e.samples,m=[],g=f.length,v=this._PTSNormalize,y=this._initDTS,b=this.nextAvcDts,_=this.isSafari;if(0!==g){_&&(i|=f.length&&b&&(r&&Math.abs(t-b/o)<.1||Math.abs(f[0].pts-b-y)<o/5)),i||(b=t*o),f.forEach(function(e){e.pts=v(e.pts-y,b),e.dts=v(e.dts-y,b)}),f.sort(function(e,t){var i=e.dts-t.dts,n=e.pts-t.pts;return i||n||e.id-t.id});var A=f.reduce(function(e,t){return Math.max(Math.min(e,t.pts-t.dts),-18e3)},0);if(A<0){C.b.warn("PTS < DTS detected in video samples, shifting DTS by "+Math.round(A/90)+" ms to overcome this issue");for(var E=0;E<f.length;E++)f[E].dts+=A}var T=f[0];h=Math.max(T.dts,0),u=Math.max(T.pts,0);var S=Math.round((h-b)/90);i&&S&&(S>1?C.b.log("AVC:"+S+" ms hole between fragments detected,filling it"):S<-1&&C.b.log("AVC:"+-S+" ms overlapping between fragments detected"),h=b,f[0].dts=h,u=Math.max(u-S,b),f[0].pts=u,C.b.log("Video/PTS/DTS adjusted: "+Math.round(u/90)+"/"+Math.round(h/90)+",delta:"+S+" ms")),h,T=f[f.length-1],p=Math.max(T.dts,0),d=Math.max(T.pts,0,p),_&&(s=Math.round((p-h)/(f.length-1)));for(var k=0,O=0,P=0;P<g;P++){for(var j=f[P],I=j.units,M=I.length,R=0,D=0;D<M;D++)R+=I[D].data.length;O+=R,k+=M,j.length=R,j.dts=_?h+P*s:Math.max(j.dts,h),j.pts=Math.max(j.pts,j.dts)}var L=O+4*k+8;try{l=new Uint8Array(L)}catch(e){return void this.observer.trigger(w.a.ERROR,{type:x.b.MUX_ERROR,details:x.a.REMUX_ALLOC_ERROR,fatal:!1,bytes:L,reason:"fail allocating video mdat "+L})}var N=new DataView(l.buffer);N.setUint32(0,L),l.set(X.types.mdat,4);for(var B=0;B<g;B++){for(var F=f[B],U=F.units,z=0,H=void 0,V=0,G=U.length;V<G;V++){var q=U[V],W=q.data,Y=q.data.byteLength;N.setUint32(a,Y),a+=4,l.set(W,a),a+=Y,z+=4+Y}if(_)H=Math.max(0,s*Math.round((F.pts-F.dts)/s));else{if(B<g-1)s=f[B+1].dts-F.dts;else{var Q=this.config,K=F.dts-f[B>0?B-1:B].dts;if(Q.stretchShortVideoTrack){var Z=Q.maxBufferHole,J=Math.floor(Z*o),$=(n?u+n*o:this.nextAudioPts)-F.pts;$>J?(s=$-K,s<0&&(s=K),C.b.log("It is approximately "+$/90+" ms to the next segment; using duration "+s/90+" ms for the last video frame.")):s=K}else s=K}H=Math.round(F.pts-F.dts)}m.push({size:z,duration:s,cts:H,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:F.key?2:1,isNonSync:F.key?0:1}})}this.nextAvcDts=p+s;var ee=e.dropped;if(e.len=0,e.nbNalu=0,e.dropped=0,m.length&&navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var te=m[0].flags;te.dependsOn=2,te.isNonSync=0}e.samples=m,c=X.moof(e.sequenceNumber++,h,e),e.samples=[];var ie={data1:c,data2:l,startPTS:u/o,endPTS:(d+s)/o,startDTS:h/o,endDTS:this.nextAvcDts/o,type:"video",hasAudio:!1,hasVideo:!0,nb:m.length,dropped:ee};return this.observer.trigger(w.a.FRAG_PARSING_DATA,ie),ie}},e.prototype.remuxAudio=function(e,t,i,n){var r=e.inputTimeScale,a=e.timescale,o=r/a,s=e.isAAC?1024:1152,l=s*o,c=this._PTSNormalize,u=this._initDTS,h=!e.isAAC&&this.typeSupported.mpeg,d=void 0,p=void 0,f=void 0,m=void 0,g=void 0,v=void 0,y=void 0,b=e.samples,_=[],A=this.nextAudioPts;if(i|=b.length&&A&&(n&&Math.abs(t-A/r)<.1||Math.abs(b[0].pts-A-u)<20*l),b.forEach(function(e){e.pts=e.dts=c(e.pts-u,t*r)}),b=b.filter(function(e){return e.pts>=0}),0!==b.length){if(i||(A=n?t*r:b[0].pts),e.isAAC)for(var E=this.config.maxAudioFramesDrift,T=0,S=A;T<b.length;){var k,O=b[T],P=O.pts;k=P-S;var j=Math.abs(1e3*k/r);if(k<=-E*l)C.b.warn("Dropping 1 audio frame @ "+(S/r).toFixed(3)+"s due to "+Math.round(j)+" ms overlap."),b.splice(T,1),e.len-=O.unit.length;else if(k>=E*l&&j<1e4&&S){var I=Math.round(k/l);C.b.warn("Injecting "+I+" audio frame @ "+(S/r).toFixed(3)+"s due to "+Math.round(1e3*k/r)+" ms gap.");for(var M=0;M<I;M++){var R=Math.max(S,0);f=q.getSilentFrame(e.manifestCodec||e.codec,e.channelCount),f||(C.b.log("Unable to get silent frame for given audio codec; duplicating last frame instead."),f=O.unit.subarray()),b.splice(T,0,{unit:f,pts:R,dts:R}),e.len+=f.length,S+=l,T++}O.pts=O.dts=S,S+=l,T++}else Math.abs(k),O.pts=O.dts=S,S+=l,T++}for(var D=0,L=b.length;D<L;D++){var N=b[D],B=N.unit,F=N.pts;if(void 0!==y)p.duration=Math.round((F-y)/o);else{var U=Math.round(1e3*(F-A)/r),z=0;if(i&&e.isAAC&&U){if(U>0&&U<1e4)z=Math.round((F-A)/l),C.b.log(U+" ms hole between AAC samples detected,filling it"),z>0&&(f=q.getSilentFrame(e.manifestCodec||e.codec,e.channelCount),f||(f=B.subarray()),e.len+=z*f.length);else if(U<-12){C.b.log("drop overlapping AAC sample, expected/parsed/delta:"+(A/r).toFixed(3)+"s/"+(F/r).toFixed(3)+"s/"+-U+"ms"),e.len-=B.byteLength;continue}F=A}if(v=F,!(e.len>0))return;var H=h?e.len:e.len+8;d=h?0:8;try{m=new Uint8Array(H)}catch(e){return void this.observer.trigger(w.a.ERROR,{type:x.b.MUX_ERROR,details:x.a.REMUX_ALLOC_ERROR,fatal:!1,bytes:H,reason:"fail allocating audio mdat "+H})}if(!h){new DataView(m.buffer).setUint32(0,H),m.set(X.types.mdat,4)}for(var V=0;V<z;V++)f=q.getSilentFrame(e.manifestCodec||e.codec,e.channelCount),f||(C.b.log("Unable to get silent frame for given audio codec; duplicating this frame instead."),f=B.subarray()),m.set(f,d),d+=f.byteLength,p={size:f.byteLength,cts:0,duration:1024,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},_.push(p)}m.set(B,d);var G=B.byteLength;d+=G,p={size:G,cts:0,duration:0,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},_.push(p),y=F}var W=0,Y=_.length;if(Y>=2&&(W=_[Y-2].duration,p.duration=W),Y){this.nextAudioPts=A=y+o*W,e.len=0,e.samples=_,g=h?new Uint8Array:X.moof(e.sequenceNumber++,v/o,e),e.samples=[];var Q=v/r,K=A/r,Z={data1:g,data2:m,startPTS:Q,endPTS:K,startDTS:Q,endDTS:K,type:"audio",hasAudio:!0,hasVideo:!1,nb:Y};return this.observer.trigger(w.a.FRAG_PARSING_DATA,Z),Z}return null}},e.prototype.remuxEmptyAudio=function(e,t,i,n){var r=e.inputTimeScale,a=e.samplerate?e.samplerate:r,o=r/a,s=this.nextAudioPts,l=(void 0!==s?s:n.startDTS*r)+this._initDTS,c=n.endDTS*r+this._initDTS,u=1024*o,h=Math.ceil((c-l)/u),d=q.getSilentFrame(e.manifestCodec||e.codec,e.channelCount);if(C.b.warn("remux empty Audio"),!d)return void C.b.trace("Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec!");for(var p=[],f=0;f<h;f++){var m=l+f*u;p.push({unit:d,pts:m,dts:m}),e.len+=d.length}e.samples=p,this.remuxAudio(e,t,i)},e.prototype.remuxID3=function(e,t){var i=e.samples.length,n=void 0,r=e.inputTimeScale,a=this._initPTS,o=this._initDTS;if(i){for(var s=0;s<i;s++)n=e.samples[s],n.pts=(n.pts-a)/r,n.dts=(n.dts-o)/r;this.observer.trigger(w.a.FRAG_PARSING_METADATA,{samples:e.samples})}e.samples=[],t=t},e.prototype.remuxText=function(e,t){e.samples.sort(function(e,t){return e.pts-t.pts});var i=e.samples.length,n=void 0,r=e.inputTimeScale,a=this._initPTS;if(i){for(var o=0;o<i;o++)n=e.samples[o],n.pts=(n.pts-a)/r;this.observer.trigger(w.a.FRAG_PARSING_USERDATA,{samples:e.samples})}e.samples=[],t=t},e.prototype._PTSNormalize=function(e,t){var i=void 0;if(void 0===t)return e;for(i=t<e?-8589934592:8589934592;Math.abs(e-t)>4294967296;)e+=i;return e},e}(),K=Q,Z=function(){function e(t){A(this,e),this.observer=t}return e.prototype.destroy=function(){},e.prototype.resetTimeStamp=function(){},e.prototype.resetInitSegment=function(){},e.prototype.remux=function(e,t,i,n,r,a,o,s){var l=this.observer,c="";e&&(c+="audio"),t&&(c+="video"),l.trigger(w.a.FRAG_PARSING_DATA,{data1:s,startPTS:r,startDTS:r,type:c,hasAudio:!!e,hasVideo:!!t,nb:1,dropped:0}),l.trigger(w.a.FRAG_PARSED)},e}(),J=Z,$=Object(k.a)(),ee=$.performance,te=function(){function e(t,i,n,r){E(this,e),this.observer=t,this.typeSupported=i,this.config=n,this.vendor=r}return e.prototype.destroy=function(){var e=this.demuxer;e&&e.destroy()},e.prototype.push=function(e,t,i,n,r,a,o,s,l,c,u,h){if(e.byteLength>0&&null!=t&&null!=t.key&&"AES-128"===t.method){var d=this.decrypter;null==d&&(d=this.decrypter=new T.a(this.observer,this.config));var p=this,f=void 0;try{f=ee.now()}catch(e){f=Date.now()}d.decrypt(e,t.key.buffer,t.iv.buffer,function(e){var d=void 0;try{d=ee.now()}catch(e){d=Date.now()}p.observer.trigger(w.a.FRAG_DECRYPTED,{stats:{tstart:f,tdecrypt:d}}),p.pushDecrypted(new Uint8Array(e),t,new Uint8Array(i),n,r,a,o,s,l,c,u,h)})}else this.pushDecrypted(new Uint8Array(e),t,new Uint8Array(i),n,r,a,o,s,l,c,u,h)},e.prototype.pushDecrypted=function(e,t,i,n,r,a,o,s,l,c,u,h){var d=this.demuxer;if(!d||(o||s)&&!this.probe(e)){for(var p=this.observer,f=this.typeSupported,m=this.config,g=[{demux:z,remux:K},{demux:I.a,remux:J},{demux:j,remux:K},{demux:V,remux:K}],v=0,y=g.length;v<y;v++){var b=g[v],_=b.demux.probe;if(_(e)){var A=this.remuxer=new b.remux(p,m,f,this.vendor);d=new b.demux(p,A,m,f),this.probe=_;break}}if(!d)return void p.trigger(w.a.ERROR,{type:x.b.MEDIA_ERROR,details:x.a.FRAG_PARSING_ERROR,fatal:!0,reason:"no demux matching with content found"});this.demuxer=d}var E=this.remuxer;(o||s)&&(d.resetInitSegment(i,n,r,c),E.resetInitSegment()),o&&(d.resetTimeStamp(h),E.resetTimeStamp(h)),"function"===typeof d.setDecryptData&&d.setDecryptData(t),d.append(e,a,l,u)},e}();t.a=te},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){var i=wt[t];return!!i&&!0===i[e.slice(0,4)]}function c(e,t){return window.MediaSource.isTypeSupported((t||"video")+'/mp4;codecs="'+e+'"')}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var i=e[t],n=t-1;n>=0;n--){var r=e[n];r.programDateTime=i.programDateTime-1e3*r.duration,i=r}}function d(e,t){e.rawProgramDateTime?e.programDateTime=Date.parse(e.rawProgramDateTime):t&&t.programDateTime&&(e.programDateTime=t.endProgramDateTime),Object(it.a)(e.programDateTime)||(e.programDateTime=null,e.rawProgramDateTime=null)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function m(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function y(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function A(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function x(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(){if("undefined"!==typeof window)return window.MediaSource||window.WebKitMediaSource}function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t,i){switch(t){case"audio":e.audioGroupIds||(e.audioGroupIds=[]),e.audioGroupIds.push(i);break;case"text":e.textGroupIds||(e.textGroupIds=[]),e.textGroupIds.push(i)}}function O(e,t,i){var n=e[t],r=e[i],a=r.startPTS;Object(it.a)(a)?i>t?(n.duration=a-n.start,n.duration<0&&rt.b.warn("negative duration computed for frag "+n.sn+",level "+n.level+", there should be some duration drift between playlist and fragment!")):(r.duration=n.start-a,r.duration<0&&rt.b.warn("negative duration computed for frag "+r.sn+",level "+r.level+", there should be some duration drift between playlist and fragment!")):r.start=i>t?n.start+n.duration:Math.max(n.start-r.duration,0)}function P(e,t,i,n,r,a){var o=i;if(Object(it.a)(t.startPTS)){var s=Math.abs(t.startPTS-i);Object(it.a)(t.deltaPTS)?t.deltaPTS=Math.max(s,t.deltaPTS):t.deltaPTS=s,o=Math.max(i,t.startPTS),i=Math.min(i,t.startPTS),n=Math.max(n,t.endPTS),r=Math.min(r,t.startDTS),a=Math.max(a,t.endDTS)}var l=i-t.start;t.start=t.startPTS=i,t.maxStartPTS=o,t.endPTS=n,t.startDTS=r,t.endDTS=a,t.duration=n-i;var c=t.sn;if(!e||c<e.startSN||c>e.endSN)return 0;var u=void 0,h=void 0,d=void 0;for(u=c-e.startSN,h=e.fragments,h[u]=t,d=u;d>0;d--)O(h,d,d-1);for(d=u;d<h.length-1;d++)O(h,d,d+1);return e.PTSKnown=!0,l}function j(e,t){var i=Math.max(e.startSN,t.startSN)-t.startSN,n=Math.min(e.endSN,t.endSN)-t.startSN,r=t.startSN-e.startSN,a=e.fragments,o=t.fragments,s=0,l=void 0;if(t.initSegment&&e.initSegment&&(t.initSegment=e.initSegment),n<i)return void(t.PTSKnown=!1);for(var c=i;c<=n;c++){var u=a[r+c],h=o[c];h&&u&&(s=u.cc-h.cc,Object(it.a)(u.startPTS)&&(h.start=h.startPTS=u.startPTS,h.endPTS=u.endPTS,h.duration=u.duration,h.backtracked=u.backtracked,h.dropped=u.dropped,l=h))}if(s)for(rt.b.log("discontinuity sliding from playlist, take drift into account"),c=0;c<o.length;c++)o[c].cc+=s;if(l)P(t,l,l.startPTS,l.endPTS,l.startDTS,l.endDTS);else if(r>=0&&r<a.length){var d=a[r].start;for(c=0;c<o.length;c++)o[c].start+=d}t.PTSKnown=e.PTSKnown}function I(e,t){for(var i=null,n=0;n<e.length;n+=1){var r=e[n];if(r&&r.cc===t){i=r;break}}return i}function M(e,t){return qt.search(e,function(e){return e.cc<t?1:e.cc>t?-1:0})}function R(e,t,i){var n=!1;return t&&t.details&&i&&(i.endCC>i.startCC||e&&e.cc<i.startCC)&&(n=!0),n}function D(e,t){var i=e.fragments,n=t.fragments;if(!n.length||!i.length)return void rt.b.log("No fragments to align");var r=I(i,n[0].cc);return!r||r&&!r.startPTS?void rt.b.log("No frag in previous level to align on"):r}function L(e,t){t.fragments.forEach(function(t){if(t){var i=t.start+e;t.start=t.startPTS=i,t.endPTS=i+t.duration}}),t.PTSKnown=!0}function N(e,t,i){B(e,i,t),!i.PTSKnown&&t&&F(i,t.details)}function B(e,t,i){if(R(e,i,t)){var n=D(i.details,t);n&&(rt.b.log("Adjusting PTS using last level due to CC increase within current level"),L(n.start,t))}}function F(e,t){if(t&&t.fragments.length){if(!e.hasProgramDateTime||!t.hasProgramDateTime)return;var i=t.fragments[0].programDateTime,n=e.fragments[0].programDateTime,r=(n-i)/1e3+t.fragments[0].start;Object(it.a)(r)&&(rt.b.log("adjusting PTS using programDateTime delta, sliding:"+r.toFixed(3)),L(r,e))}}function U(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function z(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function H(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function V(e,t,i){if(!Array.isArray(e)||!e.length||!Object(it.a)(t))return null;if(t<e[0].programDateTime)return null;if(t>=e[e.length-1].endProgramDateTime)return null;i=i||0;for(var n=0;n<e.length;++n){var r=e[n];if(W(t,i,r))return r}return null}function G(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=e?t[e.sn-t[0].sn+1]:null;return r&&!q(i,n,r)?r:qt.search(t,q.bind(null,i,n))}function q(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments[2],n=Math.min(t,i.duration+(i.deltaPTS?i.deltaPTS:0));return i.start+i.duration-n<=e?1:i.start-n>e&&i.start?-1:0}function W(e,t,i){var n=1e3*Math.min(t,i.duration+(i.deltaPTS?i.deltaPTS:0));return i.endProgramDateTime-n>e}function Y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function X(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Q(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function K(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function Z(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function J(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function $(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function ee(e,t){var i=null;try{i=new window.Event("addtrack")}catch(e){i=document.createEvent("Event"),i.initEvent("addtrack",!1,!1)}i.track=e,t.dispatchEvent(i)}function te(e){if(e&&e.cues)for(;e.cues.length>0;)e.removeCue(e.cues[0])}function ie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ne(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function re(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function ae(){var e=S(),t=window.SourceBuffer||window.WebKitSourceBuffer,i=e&&"function"===typeof e.isTypeSupported&&e.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),n=!t||t.prototype&&"function"===typeof t.prototype.appendBuffer&&"function"===typeof t.prototype.remove;return!!i&&!!n}function oe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function se(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function le(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ce(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function ue(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function he(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function de(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function pe(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function fe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function me(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function ge(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function ve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ye(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function be(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ee(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function we(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function xe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Te(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function Se(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function Ce(){this.window=window,this.state="INITIAL",this.buffer="",this.decoder=new nn,this.regionList=[]}function ke(e){function t(e,t,i,n){return 3600*(0|e)+60*(0|t)+(0|i)+(0|n)/1e3}var i=e.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return i?i[3]?t(i[1],i[2],i[3].replace(":",""),i[4]):i[1]>59?t(i[1],i[2],0,i[4]):t(0,i[1],i[2],i[4]):null}function Oe(){this.values=Object.create(null)}function Pe(e,t,i,n){var r=n?e.split(n):[e];for(var a in r)if("string"===typeof r[a]){var o=r[a].split(i);if(2===o.length){var s=o[0],l=o[1];t(s,l)}}}function je(e,t,i){function n(){var t=ke(e);if(null===t)throw new Error("Malformed timestamp: "+a);return e=e.replace(/^[^\sa-zA-Z-]+/,""),t}function r(){e=e.replace(/^\s+/,"")}var a=e;if(r(),t.startTime=n(),r(),"--\x3e"!==e.substr(0,3))throw new Error("Malformed time stamp (time stamps must be separated by '--\x3e'): "+a);e=e.substr(3),r(),t.endTime=n(),r(),function(e,t){var n=new Oe;Pe(e,function(e,t){switch(e){case"region":for(var r=i.length-1;r>=0;r--)if(i[r].id===t){n.set(e,i[r].region);break}break;case"vertical":n.alt(e,t,["rl","lr"]);break;case"line":var a=t.split(","),o=a[0];n.integer(e,o),n.percent(e,o)&&n.set("snapToLines",!1),n.alt(e,o,["auto"]),2===a.length&&n.alt("lineAlign",a[1],["start",an,"end"]);break;case"position":a=t.split(","),n.percent(e,a[0]),2===a.length&&n.alt("positionAlign",a[1],["start",an,"end","line-left","line-right","auto"]);break;case"size":n.percent(e,t);break;case"align":n.alt(e,t,["start",an,"end","left","right"])}},/:/,/\s/),t.region=n.get("region",null),t.vertical=n.get("vertical","");var r=n.get("line","auto");"auto"===r&&-1===rn.line&&(r=-1),t.line=r,t.lineAlign=n.get("lineAlign","start"),t.snapToLines=n.get("snapToLines",!0),t.size=n.get("size",100),t.align=n.get("align",an);var a=n.get("position","auto");"auto"===a&&50===rn.position&&(a="start"===t.align||"left"===t.align?0:"end"===t.align||"right"===t.align?100:50),t.position=a}(e,t)}function Ie(e){return e.replace(/<br(?: \/)?>/gi,"\n")}function Me(e,t,i,n){for(var r=void 0,a=void 0,o=void 0,s=void 0,l=void 0,c=window.VTTCue||window.TextTrackCue,u=0;u<n.rows.length;u++)if(r=n.rows[u],o=!0,s=0,l="",!r.isEmpty()){for(var h=0;h<r.chars.length;h++)r.chars[h].uchar.match(/\s/)&&o?s++:(l+=r.chars[h].uchar,o=!1);r.cueStartTime=t,t===i&&(i+=1e-4),a=new c(t,i,Ie(l.trim())),s>=16?s--:s++,navigator.userAgent.match(/Firefox\//)?a.line=u+1:a.line=u>7?u-2:u+1,a.align="left",a.position=Math.max(0,Math.min(100,s/32*100+(navigator.userAgent.match(/Firefox\//)?50:0))),e.addCue(a)}}function Re(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function De(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Le(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ne(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function Be(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function Fe(e,t){return e&&e.label===t.name&&!(e.textTrack1||e.textTrack2)}function Ue(e,t,i,n){return Math.min(t,n)-Math.max(e,i)}function ze(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function He(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function Ve(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function Ge(e){for(var t=[],i=0;i<e.length;i++)"subtitles"===e[i].kind&&t.push(e[i]);return t}function qe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function We(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function Ye(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function Xe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function Ke(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function Ze(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var Je={};i.d(Je,"newCue",function(){return Me});var $e=i(5),et=i.n($e),tt=i(2),it=i(3),nt=i(1),rt=i(0),at="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ot=new Set(["hlsEventGeneric","hlsHandlerDestroying","hlsHandlerDestroyed"]),st=function(){function e(t){n(this,e),this.hls=t,this.onEvent=this.onEvent.bind(this);for(var i=arguments.length,r=Array(i>1?i-1:0),a=1;a<i;a++)r[a-1]=arguments[a];this.handledEvents=r,this.useGenericHandler=!0,this.registerListeners()}return e.prototype.destroy=function(){this.onHandlerDestroying(),this.unregisterListeners(),this.onHandlerDestroyed()},e.prototype.onHandlerDestroying=function(){},e.prototype.onHandlerDestroyed=function(){},e.prototype.isEventHandler=function(){return"object"===at(this.handledEvents)&&this.handledEvents.length&&"function"===typeof this.onEvent},e.prototype.registerListeners=function(){this.isEventHandler()&&this.handledEvents.forEach(function(e){if(ot.has(e))throw new Error("Forbidden event-name: "+e);this.hls.on(e,this.onEvent)},this)},e.prototype.unregisterListeners=function(){this.isEventHandler()&&this.handledEvents.forEach(function(e){this.hls.off(e,this.onEvent)},this)},e.prototype.onEvent=function(e,t){this.onEventGeneric(e,t)},e.prototype.onEventGeneric=function(e,t){var i=function(e,t){var i="on"+e.replace("hls","");if("function"!==typeof this[i])throw new Error("Event "+e+" has no generic handler in this "+this.constructor.name+" class (tried "+i+")");return this[i].bind(this,t)};try{i.call(this,e,t).call()}catch(t){rt.b.error("An internal error happened while handling event "+e+'. Error message: "'+t.message+'". Here is a stacktrace:',t),this.hls.trigger(nt.a.ERROR,{type:tt.b.OTHER_ERROR,details:tt.a.INTERNAL_EXCEPTION,fatal:!1,event:e,err:t})}},e}(),lt=st,ct=i(9),ut=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),ht=function(){function e(){r(this,e),this.method=null,this.key=null,this.iv=null,this._uri=null}return ut(e,[{key:"uri",get:function(){return!this._uri&&this.reluri&&(this._uri=et.a.buildAbsoluteURL(this.baseuri,this.reluri,{alwaysNormalize:!0})),this._uri}}]),e}(),dt=ht,pt=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),ft=function(){function e(){var t;a(this,e),this._url=null,this._byteRange=null,this._decryptdata=null,this.tagList=[],this.programDateTime=null,this.rawProgramDateTime=null,this._elementaryStreams=(t={},t[e.ElementaryStreamTypes.AUDIO]=!1,t[e.ElementaryStreamTypes.VIDEO]=!1,t)}return e.prototype.addElementaryStream=function(e){this._elementaryStreams[e]=!0},e.prototype.hasElementaryStream=function(e){return!0===this._elementaryStreams[e]},e.prototype.createInitializationVector=function(e){for(var t=new Uint8Array(16),i=12;i<16;i++)t[i]=e>>8*(15-i)&255;return t},e.prototype.fragmentDecryptdataFromLevelkey=function(e,t){var i=e;return e&&e.method&&e.uri&&!e.iv&&(i=new dt,i.method=e.method,i.baseuri=e.baseuri,i.reluri=e.reluri,i.iv=this.createInitializationVector(t)),i},pt(e,[{key:"url",get:function(){return!this._url&&this.relurl&&(this._url=et.a.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url},set:function(e){this._url=e}},{key:"byteRange",get:function(){if(!this._byteRange&&!this.rawByteRange)return[];if(this._byteRange)return this._byteRange;var e=[];if(this.rawByteRange){var t=this.rawByteRange.split("@",2);if(1===t.length){var i=this.lastByteRangeEndOffset;e[0]=i||0}else e[0]=parseInt(t[1]);e[1]=parseInt(t[0])+e[0],this._byteRange=e}return e}},{key:"byteRangeStartOffset",get:function(){return this.byteRange[0]}},{key:"byteRangeEndOffset",get:function(){return this.byteRange[1]}},{key:"decryptdata",get:function(){return this._decryptdata||(this._decryptdata=this.fragmentDecryptdataFromLevelkey(this.levelkey,this.sn)),this._decryptdata}},{key:"endProgramDateTime",get:function(){if(!Object(it.a)(this.programDateTime))return null;var e=Object(it.a)(this.duration)?this.duration:0;return this.programDateTime+1e3*e}},{key:"encrypted",get:function(){return!(!this.decryptdata||null===this.decryptdata.uri||null!==this.decryptdata.key)}}],[{key:"ElementaryStreamTypes",get:function(){return{AUDIO:"audio",VIDEO:"video"}}}]),e}(),mt=ft,gt=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),vt=function(){function e(t){o(this,e),this.endCC=0,this.endSN=0,this.fragments=[],this.initSegment=null,this.live=!0,this.needSidxRanges=!1,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=t,this.version=null}return gt(e,[{key:"hasProgramDateTime",get:function(){return!(!this.fragments[0]||!Object(it.a)(this.fragments[0].programDateTime))}}]),e}(),yt=vt,bt=/^(\d+)x(\d+)$/,_t=/\s*(.+?)\s*=((?:\".*?\")|.*?)(?:,|$)/g,At=function(){function e(t){s(this,e),"string"===typeof t&&(t=e.parseAttrList(t));for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i])}return e.prototype.decimalInteger=function(e){var t=parseInt(this[e],10);return t>Number.MAX_SAFE_INTEGER?1/0:t},e.prototype.hexadecimalInteger=function(e){if(this[e]){var t=(this[e]||"0x").slice(2);t=(1&t.length?"0":"")+t;for(var i=new Uint8Array(t.length/2),n=0;n<t.length/2;n++)i[n]=parseInt(t.slice(2*n,2*n+2),16);return i}return null},e.prototype.hexadecimalIntegerAsNumber=function(e){var t=parseInt(this[e],16);return t>Number.MAX_SAFE_INTEGER?1/0:t},e.prototype.decimalFloatingPoint=function(e){return parseFloat(this[e])},e.prototype.enumeratedString=function(e){return this[e]},e.prototype.decimalResolution=function(e){var t=bt.exec(this[e]);if(null!==t)return{width:parseInt(t[1],10),height:parseInt(t[2],10)}},e.parseAttrList=function(e){var t=void 0,i={};for(_t.lastIndex=0;null!==(t=_t.exec(e));){var n=t[2];0===n.indexOf('"')&&n.lastIndexOf('"')===n.length-1&&(n=n.slice(1,-1)),i[t[1]]=n}return i},e}(),Et=At,wt={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,drac:!0,dvav:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,"vc-1":!0,vp08:!0,vp09:!0}},xt=/#EXT-X-STREAM-INF:([^\n\r]*)[\r\n]+([^\r\n]+)/g,Tt=/#EXT-X-MEDIA:(.*)/g,St=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/|(?!#)(\S+)/.source,/|#EXT-X-BYTERANGE:*(.+)/.source,/|#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/|#.*/.source].join(""),"g"),Ct=/(?:(?:#(EXTM3U))|(?:#EXT-X-(PLAYLIST-TYPE):(.+))|(?:#EXT-X-(MEDIA-SEQUENCE): *(\d+))|(?:#EXT-X-(TARGETDURATION): *(\d+))|(?:#EXT-X-(KEY):(.+))|(?:#EXT-X-(START):(.+))|(?:#EXT-X-(ENDLIST))|(?:#EXT-X-(DISCONTINUITY-SEQ)UENCE:(\d+))|(?:#EXT-X-(DIS)CONTINUITY))|(?:#EXT-X-(VERSION):(\d+))|(?:#EXT-X-(MAP):(.+))|(?:(#)([^:]*):(.*))|(?:(#)(.*))(?:.*)\r?\n?/,kt=/\.(mp4|m4s|m4v|m4a)$/i,Ot=function(){function e(){u(this,e)}return e.findGroup=function(e,t){if(!e)return null;for(var i=null,n=0;n<e.length;n++){var r=e[n];r.id===t&&(i=r)}return i},e.convertAVC1ToAVCOTI=function(e){var t=void 0,i=e.split(".");return i.length>2?(t=i.shift()+".",t+=parseInt(i.shift()).toString(16),t+=("000"+parseInt(i.shift()).toString(16)).substr(-4)):t=e,t},e.resolve=function(e,t){return et.a.buildAbsoluteURL(t,e,{alwaysNormalize:!0})},e.parseMasterPlaylist=function(t,i){var n=[],r=void 0;for(xt.lastIndex=0;null!=(r=xt.exec(t));){var a={},o=a.attrs=new Et(r[1]);a.url=e.resolve(r[2],i);var s=o.decimalResolution("RESOLUTION");s&&(a.width=s.width,a.height=s.height),a.bitrate=o.decimalInteger("AVERAGE-BANDWIDTH")||o.decimalInteger("BANDWIDTH"),a.name=o.NAME,function(e,t){["video","audio"].forEach(function(i){var n=e.filter(function(e){return l(e,i)});if(n.length){var r=n.filter(function(e){return 0===e.lastIndexOf("avc1",0)||0===e.lastIndexOf("mp4a",0)});t[i+"Codec"]=r.length>0?r[0]:n[0],e=e.filter(function(e){return-1===n.indexOf(e)})}}),t.unknownCodecs=e}([].concat((o.CODECS||"").split(/[ ,]+/)),a),a.videoCodec&&-1!==a.videoCodec.indexOf("avc1")&&(a.videoCodec=e.convertAVC1ToAVCOTI(a.videoCodec)),n.push(a)}return n},e.parseMasterPlaylistMedia=function(t,i,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=void 0,o=[],s=0;for(Tt.lastIndex=0;null!==(a=Tt.exec(t));){var l={},c=new Et(a[1]);if(c.TYPE===n){if(l.groupId=c["GROUP-ID"],l.name=c.NAME,l.type=n,l.default="YES"===c.DEFAULT,l.autoselect="YES"===c.AUTOSELECT,l.forced="YES"===c.FORCED,c.URI&&(l.url=e.resolve(c.URI,i)),l.lang=c.LANGUAGE,l.name||(l.name=l.lang),r.length){var u=e.findGroup(r,l.groupId);l.audioCodec=u?u.codec:r[0].codec}l.id=s++,o.push(l)}}return o},e.parseLevelPlaylist=function(e,t,i,n,r){var a=0,o=0,s=new yt(t),l=new dt,c=0,u=null,p=new mt,f=void 0,m=void 0,g=null;for(St.lastIndex=0;null!==(f=St.exec(e));){var v=f[1];if(v){p.duration=parseFloat(v);var y=(" "+f[2]).slice(1);p.title=y||null,p.tagList.push(y?["INF",v,y]:["INF",v])}else if(f[3]){if(Object(it.a)(p.duration)){var b=a++;p.type=n,p.start=o,p.levelkey=l,p.sn=b,p.level=i,p.cc=c,p.urlId=r,p.baseurl=t,p.relurl=(" "+f[3]).slice(1),d(p,u),s.fragments.push(p),u=p,o+=p.duration,p=new mt}}else if(f[4]){if(p.rawByteRange=(" "+f[4]).slice(1),u){var _=u.byteRangeEndOffset;_&&(p.lastByteRangeEndOffset=_)}}else if(f[5])p.rawProgramDateTime=(" "+f[5]).slice(1),p.tagList.push(["PROGRAM-DATE-TIME",p.rawProgramDateTime]),null===g&&(g=s.fragments.length);else{for(f=f[0].match(Ct),m=1;m<f.length&&void 0===f[m];m++);var A=(" "+f[m+1]).slice(1),E=(" "+f[m+2]).slice(1);switch(f[m]){case"#":p.tagList.push(E?[A,E]:[A]);break;case"PLAYLIST-TYPE":s.type=A.toUpperCase();break;case"MEDIA-SEQUENCE":a=s.startSN=parseInt(A);break;case"TARGETDURATION":s.targetduration=parseFloat(A);break;case"VERSION":s.version=parseInt(A);break;case"EXTM3U":break;case"ENDLIST":s.live=!1;break;case"DIS":c++,p.tagList.push(["DIS"]);break;case"DISCONTINUITY-SEQ":c=parseInt(A);break;case"KEY":var w=A,x=new Et(w),T=x.enumeratedString("METHOD"),S=x.URI,C=x.hexadecimalInteger("IV");T&&(l=new dt,S&&["AES-128","SAMPLE-AES","SAMPLE-AES-CENC"].indexOf(T)>=0&&(l.method=T,l.baseuri=t,l.reluri=S,l.key=null,l.iv=C));break;case"START":var k=A,O=new Et(k),P=O.decimalFloatingPoint("TIME-OFFSET");Object(it.a)(P)&&(s.startTimeOffset=P);break;case"MAP":var j=new Et(A);p.relurl=j.URI,p.rawByteRange=j.BYTERANGE,p.baseurl=t,p.level=i,p.type=n,p.sn="initSegment",s.initSegment=p,p=new mt,p.rawProgramDateTime=s.initSegment.rawProgramDateTime;break;default:rt.b.warn("line parsed but not handled: "+f)}}}return p=u,p&&!p.relurl&&(s.fragments.pop(),o-=p.duration),s.totalduration=o,s.averagetargetduration=o/s.fragments.length,s.endSN=a-1,s.startCC=s.fragments[0]?s.fragments[0].cc:0,s.endCC=c,!s.initSegment&&s.fragments.length&&s.fragments.every(function(e){return kt.test(e.relurl)})&&(rt.b.warn("MP4 fragments found but no init segment (probably no MAP, incomplete M3U8), trying to fetch SIDX"),p=new mt,p.relurl=s.fragments[0].relurl,p.baseurl=t,p.level=i,p.type=n,p.sn="initSegment",s.initSegment=p,s.needSidxRanges=!0),g&&h(s.fragments,g),s},e}(),Pt=Ot,jt=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),It=window,Mt=It.performance,Rt={MANIFEST:"manifest",LEVEL:"level",AUDIO_TRACK:"audioTrack",SUBTITLE_TRACK:"subtitleTrack"},Dt={MAIN:"main",AUDIO:"audio",SUBTITLE:"subtitle"},Lt=function(e){function t(i){p(this,t);var n=f(this,e.call(this,i,nt.a.MANIFEST_LOADING,nt.a.LEVEL_LOADING,nt.a.AUDIO_TRACK_LOADING,nt.a.SUBTITLE_TRACK_LOADING));return n.loaders={},n}return m(t,e),t.canHaveQualityLevels=function(e){return e!==Rt.AUDIO_TRACK&&e!==Rt.SUBTITLE_TRACK},t.mapContextToLevelType=function(e){switch(e.type){case Rt.AUDIO_TRACK:return Dt.AUDIO;case Rt.SUBTITLE_TRACK:return Dt.SUBTITLE;default:return Dt.MAIN}},t.getResponseUrl=function(e,t){var i=e.url;return void 0!==i&&0!==i.indexOf("data:")||(i=t.url),i},t.prototype.createInternalLoader=function(e){var t=this.hls.config,i=t.pLoader,n=t.loader,r=i||n,a=new r(t);return e.loader=a,this.loaders[e.type]=a,a},t.prototype.getInternalLoader=function(e){return this.loaders[e.type]},t.prototype.resetInternalLoader=function(e){this.loaders[e]&&delete this.loaders[e]},t.prototype.destroyInternalLoaders=function(){for(var e in this.loaders){var t=this.loaders[e];t&&t.destroy(),this.resetInternalLoader(e)}},t.prototype.destroy=function(){this.destroyInternalLoaders(),e.prototype.destroy.call(this)},t.prototype.onManifestLoading=function(e){this.load(e.url,{type:Rt.MANIFEST,level:0,id:null})},t.prototype.onLevelLoading=function(e){this.load(e.url,{type:Rt.LEVEL,level:e.level,id:e.id})},t.prototype.onAudioTrackLoading=function(e){this.load(e.url,{type:Rt.AUDIO_TRACK,level:null,id:e.id})},t.prototype.onSubtitleTrackLoading=function(e){this.load(e.url,{type:Rt.SUBTITLE_TRACK,level:null,id:e.id})},t.prototype.load=function(e,t){var i=this.hls.config;rt.b.debug("Loading playlist of type "+t.type+", level: "+t.level+", id: "+t.id);var n=this.getInternalLoader(t);if(n){var r=n.context;if(r&&r.url===e)return rt.b.trace("playlist request ongoing"),!1;rt.b.warn("aborting previous loader for type: "+t.type),n.abort()}var a=void 0,o=void 0,s=void 0,l=void 0;switch(t.type){case Rt.MANIFEST:a=i.manifestLoadingMaxRetry,o=i.manifestLoadingTimeOut,s=i.manifestLoadingRetryDelay,l=i.manifestLoadingMaxRetryTimeout;break;case Rt.LEVEL:a=0,o=i.levelLoadingTimeOut;break;default:a=i.levelLoadingMaxRetry,o=i.levelLoadingTimeOut,s=i.levelLoadingRetryDelay,l=i.levelLoadingMaxRetryTimeout}n=this.createInternalLoader(t),t.url=e,t.responseType=t.responseType||"";var c={timeout:o,maxRetry:a,retryDelay:s,maxRetryDelay:l},u={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)};return rt.b.debug("Calling internal loader delegate for URL: "+e),n.load(t,c,u),!0},t.prototype.loadsuccess=function(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(i.isSidxRequest)return this._handleSidxRequest(e,i),void this._handlePlaylistLoaded(e,t,i,n);this.resetInternalLoader(i.type);var r=e.data;if(t.tload=Mt.now(),0!==r.indexOf("#EXTM3U"))return void this._handleManifestParsingError(e,i,"no EXTM3U delimiter",n);r.indexOf("#EXTINF:")>0||r.indexOf("#EXT-X-TARGETDURATION:")>0?this._handleTrackOrLevelPlaylist(e,t,i,n):this._handleMasterPlaylist(e,t,i,n)},t.prototype.loaderror=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._handleNetworkError(t,i)},t.prototype.loadtimeout=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._handleNetworkError(t,i,!0)},t.prototype._handleMasterPlaylist=function(e,i,n,r){var a=this.hls,o=e.data,s=t.getResponseUrl(e,n),l=Pt.parseMasterPlaylist(o,s);if(!l.length)return void this._handleManifestParsingError(e,n,"no level found in manifest",r);var c=l.map(function(e){return{id:e.attrs.AUDIO,codec:e.audioCodec}}),u=Pt.parseMasterPlaylistMedia(o,s,"AUDIO",c),h=Pt.parseMasterPlaylistMedia(o,s,"SUBTITLES");if(u.length){var d=!1;u.forEach(function(e){e.url||(d=!0)}),!1===d&&l[0].audioCodec&&!l[0].attrs.AUDIO&&(rt.b.log("audio codec signaled in quality level, but no embedded audio track signaled, create one"),u.unshift({type:"main",name:"main"}))}a.trigger(nt.a.MANIFEST_LOADED,{levels:l,audioTracks:u,subtitles:h,url:s,stats:i,networkDetails:r})},t.prototype._handleTrackOrLevelPlaylist=function(e,i,n,r){var a=this.hls,o=n.id,s=n.level,l=n.type,c=t.getResponseUrl(e,n),u=Object(it.a)(o)?o:0,h=Object(it.a)(s)?s:u,d=t.mapContextToLevelType(n),p=Pt.parseLevelPlaylist(e.data,c,h,d,u);if(p.tload=i.tload,l===Rt.MANIFEST){var f={url:c,details:p};a.trigger(nt.a.MANIFEST_LOADED,{levels:[f],audioTracks:[],url:c,stats:i,networkDetails:r})}if(i.tparsed=Mt.now(),p.needSidxRanges){var m=p.initSegment.url;return void this.load(m,{isSidxRequest:!0,type:l,level:s,levelDetails:p,id:o,rangeStart:0,rangeEnd:2048,responseType:"arraybuffer"})}n.levelDetails=p,this._handlePlaylistLoaded(e,i,n,r)},t.prototype._handleSidxRequest=function(e,t){var i=ct.a.parseSegmentIndex(new Uint8Array(e.data));i.references.forEach(function(e,i){var n=e.info,r=t.levelDetails.fragments[i];0===r.byteRange.length&&(r.rawByteRange=String(1+n.end-n.start)+"@"+String(n.start))}),t.levelDetails.initSegment.rawByteRange=String(i.moovEndOffset)+"@0"},t.prototype._handleManifestParsingError=function(e,t,i,n){this.hls.trigger(nt.a.ERROR,{type:tt.b.NETWORK_ERROR,details:tt.a.MANIFEST_PARSING_ERROR,fatal:!0,url:e.url,reason:i,networkDetails:n})},t.prototype._handleNetworkError=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];rt.b.info("A network error occured while loading a "+e.type+"-type playlist");var n=void 0,r=void 0,a=this.getInternalLoader(e);switch(e.type){case Rt.MANIFEST:n=i?tt.a.MANIFEST_LOAD_TIMEOUT:tt.a.MANIFEST_LOAD_ERROR,r=!0;break;case Rt.LEVEL:n=i?tt.a.LEVEL_LOAD_TIMEOUT:tt.a.LEVEL_LOAD_ERROR,r=!1;break;case Rt.AUDIO_TRACK:n=i?tt.a.AUDIO_TRACK_LOAD_TIMEOUT:tt.a.AUDIO_TRACK_LOAD_ERROR,r=!1;break;default:r=!1}a&&(a.abort(),this.resetInternalLoader(e.type)),this.hls.trigger(nt.a.ERROR,{type:tt.b.NETWORK_ERROR,details:n,fatal:r,url:a.url,loader:a,context:e,networkDetails:t})},t.prototype._handlePlaylistLoaded=function(e,i,n,r){var a=n.type,o=n.level,s=n.id,l=n.levelDetails;if(!l.targetduration)return void this._handleManifestParsingError(e,n,"invalid target duration",r);if(t.canHaveQualityLevels(n.type))this.hls.trigger(nt.a.LEVEL_LOADED,{details:l,level:o||0,id:s||0,stats:i,networkDetails:r});else switch(a){case Rt.AUDIO_TRACK:this.hls.trigger(nt.a.AUDIO_TRACK_LOADED,{details:l,id:s,stats:i,networkDetails:r});break;case Rt.SUBTITLE_TRACK:this.hls.trigger(nt.a.SUBTITLE_TRACK_LOADED,{details:l,id:s,stats:i,networkDetails:r})}},jt(t,null,[{key:"ContextType",get:function(){return Rt}},{key:"LevelType",get:function(){return Dt}}]),t}(lt),Nt=Lt,Bt=function(e){function t(i){g(this,t);var n=v(this,e.call(this,i,nt.a.FRAG_LOADING));return n.loaders={},n}return y(t,e),t.prototype.destroy=function(){var t=this.loaders;for(var i in t){var n=t[i];n&&n.destroy()}this.loaders={},e.prototype.destroy.call(this)},t.prototype.onFragLoading=function(e){var t=e.frag,i=t.type,n=this.loaders,r=this.hls.config,a=r.fLoader,o=r.loader;t.loaded=0;var s=n[i];s&&(rt.b.warn("abort previous fragment loader for type: "+i),s.abort()),s=n[i]=t.loader=r.fLoader?new a(r):new o(r);var l=void 0,c=void 0,u=void 0;l={url:t.url,frag:t,responseType:"arraybuffer",progressData:!1};var h=t.byteRangeStartOffset,d=t.byteRangeEndOffset;Object(it.a)(h)&&Object(it.a)(d)&&(l.rangeStart=h,l.rangeEnd=d),c={timeout:r.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:r.fragLoadingMaxRetryTimeout},u={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this),onProgress:this.loadprogress.bind(this)},s.load(l,c,u)},t.prototype.loadsuccess=function(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=e.data,a=i.frag;a.loader=void 0,this.loaders[a.type]=void 0,this.hls.trigger(nt.a.FRAG_LOADED,{payload:r,frag:a,stats:t,networkDetails:n})},t.prototype.loaderror=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=t.frag,r=n.loader;r&&r.abort(),this.loaders[n.type]=void 0,this.hls.trigger(nt.a.ERROR,{type:tt.b.NETWORK_ERROR,details:tt.a.FRAG_LOAD_ERROR,fatal:!1,frag:t.frag,response:e,networkDetails:i})},t.prototype.loadtimeout=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=t.frag,r=n.loader;r&&r.abort(),this.loaders[n.type]=void 0,this.hls.trigger(nt.a.ERROR,{type:tt.b.NETWORK_ERROR,details:tt.a.FRAG_LOAD_TIMEOUT,fatal:!1,frag:t.frag,networkDetails:i})},t.prototype.loadprogress=function(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=t.frag;r.loaded=e.loaded,this.hls.trigger(nt.a.FRAG_LOAD_PROGRESS,{frag:r,stats:e,networkDetails:n})},t}(lt),Ft=Bt,Ut=function(e){function t(i){b(this,t);var n=_(this,e.call(this,i,nt.a.KEY_LOADING));return n.loaders={},n.decryptkey=null,n.decrypturl=null,n}return A(t,e),t.prototype.destroy=function(){for(var e in this.loaders){var t=this.loaders[e];t&&t.destroy()}this.loaders={},lt.prototype.destroy.call(this)},t.prototype.onKeyLoading=function(e){var t=e.frag,i=t.type,n=this.loaders[i],r=t.decryptdata,a=r.uri;if(a!==this.decrypturl||null===this.decryptkey){var o=this.hls.config;n&&(rt.b.warn("abort previous key loader for type:"+i),n.abort()),t.loader=this.loaders[i]=new o.loader(o),this.decrypturl=a,this.decryptkey=null;var s=void 0,l=void 0,c=void 0;s={url:a,frag:t,responseType:"arraybuffer"},l={timeout:o.fragLoadingTimeOut,maxRetry:o.fragLoadingMaxRetry,retryDelay:o.fragLoadingRetryDelay,maxRetryDelay:o.fragLoadingMaxRetryTimeout},c={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)},t.loader.load(s,l,c)}else this.decryptkey&&(r.key=this.decryptkey,this.hls.trigger(nt.a.KEY_LOADED,{frag:t}))},t.prototype.loadsuccess=function(e,t,i){var n=i.frag;this.decryptkey=n.decryptdata.key=new Uint8Array(e.data),n.loader=void 0,this.loaders[n.type]=void 0,this.hls.trigger(nt.a.KEY_LOADED,{frag:n})},t.prototype.loaderror=function(e,t){var i=t.frag,n=i.loader;n&&n.abort(),this.loaders[t.type]=void 0,this.hls.trigger(nt.a.ERROR,{type:tt.b.NETWORK_ERROR,details:tt.a.KEY_LOAD_ERROR,fatal:!1,frag:i,response:e})},t.prototype.loadtimeout=function(e,t){var i=t.frag,n=i.loader;n&&n.abort(),this.loaders[t.type]=void 0,this.hls.trigger(nt.a.ERROR,{type:tt.b.NETWORK_ERROR,details:tt.a.KEY_LOAD_TIMEOUT,fatal:!1,frag:i})},t}(lt),zt=Ut,Ht={NOT_LOADED:"NOT_LOADED",APPENDING:"APPENDING",PARTIAL:"PARTIAL",OK:"OK"},Vt=function(e){function t(i){E(this,t);var n=w(this,e.call(this,i,nt.a.BUFFER_APPENDED,nt.a.FRAG_BUFFERED,nt.a.FRAG_LOADED));return n.bufferPadding=.2,n.fragments=Object.create(null),n.timeRanges=Object.create(null),n.config=i.config,n}return x(t,e),t.prototype.destroy=function(){this.fragments=null,this.timeRanges=null,this.config=null,lt.prototype.destroy.call(this),e.prototype.destroy.call(this)},t.prototype.getBufferedFrag=function(e,t){var i=this.fragments,n=Object.keys(i).filter(function(n){var r=i[n];if(r.body.type!==t)return!1;if(!r.buffered)return!1;var a=r.body;return a.startPTS<=e&&e<=a.endPTS});if(0===n.length)return null;var r=n.pop();return i[r].body},t.prototype.detectEvictedFragments=function(e,t){var i=this,n=void 0,r=void 0;Object.keys(this.fragments).forEach(function(a){var o=i.fragments[a];if(!0===o.buffered){var s=o.range[e];if(s){n=s.time;for(var l=0;l<n.length;l++)if(r=n[l],!1===i.isTimeBuffered(r.startPTS,r.endPTS,t)){i.removeFragment(o.body);break}}}})},t.prototype.detectPartialFragments=function(e){var t=this,i=this.getFragmentKey(e),n=this.fragments[i];n&&(n.buffered=!0,Object.keys(this.timeRanges).forEach(function(i){if(e.hasElementaryStream(i)){var r=t.timeRanges[i];n.range[i]=t.getBufferedTimes(e.startPTS,e.endPTS,r)}}))},t.prototype.getBufferedTimes=function(e,t,i){for(var n=[],r=void 0,a=void 0,o=!1,s=0;s<i.length;s++){if(r=i.start(s)-this.bufferPadding,a=i.end(s)+this.bufferPadding,e>=r&&t<=a){n.push({startPTS:Math.max(e,i.start(s)),endPTS:Math.min(t,i.end(s))});break}if(e<a&&t>r)n.push({startPTS:Math.max(e,i.start(s)),endPTS:Math.min(t,i.end(s))}),o=!0;else if(t<=r)break}return{time:n,partial:o}},t.prototype.getFragmentKey=function(e){return e.type+"_"+e.level+"_"+e.urlId+"_"+e.sn},t.prototype.getPartialFragment=function(e){var t=this,i=void 0,n=void 0,r=void 0,a=null,o=0;return Object.keys(this.fragments).forEach(function(s){var l=t.fragments[s];t.isPartial(l)&&(n=l.body.startPTS-t.bufferPadding,r=l.body.endPTS+t.bufferPadding,e>=n&&e<=r&&(i=Math.min(e-n,r-e),o<=i&&(a=l.body,o=i)))}),a},t.prototype.getState=function(e){var t=this.getFragmentKey(e),i=this.fragments[t],n=Ht.NOT_LOADED;return void 0!==i&&(n=i.buffered?!0===this.isPartial(i)?Ht.PARTIAL:Ht.OK:Ht.APPENDING),n},t.prototype.isPartial=function(e){return!0===e.buffered&&(void 0!==e.range.video&&!0===e.range.video.partial||void 0!==e.range.audio&&!0===e.range.audio.partial)},t.prototype.isTimeBuffered=function(e,t,i){for(var n=void 0,r=void 0,a=0;a<i.length;a++){if(n=i.start(a)-this.bufferPadding,r=i.end(a)+this.bufferPadding,e>=n&&t<=r)return!0;if(t<=n)return!1}return!1},t.prototype.onFragLoaded=function(e){var t=e.frag;Object(it.a)(t.sn)&&!t.bitrateTest&&(this.fragments[this.getFragmentKey(t)]={body:t,range:Object.create(null),buffered:!1})},t.prototype.onBufferAppended=function(e){var t=this;this.timeRanges=e.timeRanges,Object.keys(this.timeRanges).forEach(function(e){var i=t.timeRanges[e];t.detectEvictedFragments(e,i)})},t.prototype.onFragBuffered=function(e){this.detectPartialFragments(e.frag)},t.prototype.hasFragment=function(e){var t=this.getFragmentKey(e);return void 0!==this.fragments[t]},t.prototype.removeFragment=function(e){var t=this.getFragmentKey(e);delete this.fragments[t]},t.prototype.removeAllFragments=function(){this.fragments=Object.create(null)},t}(lt),Gt={search:function(e,t){for(var i=0,n=e.length-1,r=null,a=null;i<=n;){r=(i+n)/2|0,a=e[r];var o=t(a);if(o>0)i=r+1;else{if(!(o<0))return a;n=r-1}}return null}},qt=Gt,Wt=function(){function e(){T(this,e)}return e.isBuffered=function(e,t){try{if(e)for(var i=e.buffered,n=0;n<i.length;n++)if(t>=i.start(n)&&t<=i.end(n))return!0}catch(e){}return!1},e.bufferInfo=function(e,t,i){try{if(e){var n=e.buffered,r=[],a=void 0;for(a=0;a<n.length;a++)r.push({start:n.start(a),end:n.end(a)});return this.bufferedInfo(r,t,i)}}catch(e){}return{len:0,start:t,end:t,nextStart:void 0}},e.bufferedInfo=function(e,t,i){var n=[],r=void 0,a=void 0,o=void 0,s=void 0,l=void 0;for(e.sort(function(e,t){var i=e.start-t.start;return i||t.end-e.end}),l=0;l<e.length;l++){var c=n.length;if(c){var u=n[c-1].end;e[l].start-u<i?e[l].end>u&&(n[c-1].end=e[l].end):n.push(e[l])}else n.push(e[l])}for(l=0,r=0,a=o=t;l<n.length;l++){var h=n[l].start,d=n[l].end;if(t+i>=h&&t<d)a=h,o=d,r=o-t;else if(t+i<h){s=h;break}}return{len:r,start:a,end:o,nextStart:s}},e}(),Yt=i(7),Xt=i.n(Yt),Qt=i(12),Kt=i.n(Qt),Zt=i(10),Jt=i(4),$t=Object(Jt.a)(),ei=S(),ti=function(){function e(t,i){C(this,e),this.hls=t,this.id=i;var n=this.observer=new Xt.a,r=t.config;n.trigger=function(e){for(var t=arguments.length,i=Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];n.emit.apply(n,[e,e].concat(i))},n.off=function(e){for(var t=arguments.length,i=Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];n.removeListener.apply(n,[e].concat(i))};var a=function(e,i){i=i||{},i.frag=this.frag,i.id=this.id,t.trigger(e,i)}.bind(this);n.on(nt.a.FRAG_DECRYPTED,a),n.on(nt.a.FRAG_PARSING_INIT_SEGMENT,a),n.on(nt.a.FRAG_PARSING_DATA,a),n.on(nt.a.FRAG_PARSED,a),n.on(nt.a.ERROR,a),n.on(nt.a.FRAG_PARSING_METADATA,a),n.on(nt.a.FRAG_PARSING_USERDATA,a),n.on(nt.a.INIT_PTS_FOUND,a);var o={mp4:ei.isTypeSupported("video/mp4"),mpeg:ei.isTypeSupported("audio/mpeg"),mp3:ei.isTypeSupported('audio/mp4; codecs="mp3"')},s=navigator.vendor;if(r.enableWorker&&"undefined"!==typeof Worker){rt.b.log("demuxing in webworker");var l=void 0;try{l=this.w=Kt()(13),this.onwmsg=this.onWorkerMessage.bind(this),l.addEventListener("message",this.onwmsg),l.onerror=function(e){t.trigger(nt.a.ERROR,{type:tt.b.OTHER_ERROR,details:tt.a.INTERNAL_EXCEPTION,fatal:!0,event:"demuxerWorker",err:{message:e.message+" ("+e.filename+":"+e.lineno+")"}})},l.postMessage({cmd:"init",typeSupported:o,vendor:s,id:i,config:JSON.stringify(r)})}catch(e){rt.b.error("error while initializing DemuxerWorker, fallback on DemuxerInline"),l&&$t.URL.revokeObjectURL(l.objectURL),this.demuxer=new Zt.a(n,o,r,s),this.w=void 0}}else this.demuxer=new Zt.a(n,o,r,s)}return e.prototype.destroy=function(){var e=this.w;if(e)e.removeEventListener("message",this.onwmsg),e.terminate(),this.w=null;else{var t=this.demuxer;t&&(t.destroy(),this.demuxer=null)}var i=this.observer;i&&(i.removeAllListeners(),this.observer=null)},e.prototype.push=function(e,t,i,n,r,a,o,s){var l=this.w,c=Object(it.a)(r.startDTS)?r.startDTS:r.start,u=r.decryptdata,h=this.frag,d=!(h&&r.cc===h.cc),p=!(h&&r.level===h.level),f=h&&r.sn===h.sn+1,m=!p&&f;if(d&&rt.b.log(this.id+":discontinuity detected"),p&&rt.b.log(this.id+":switch detected"),this.frag=r,l)l.postMessage({cmd:"demux",data:e,decryptdata:u,initSegment:t,audioCodec:i,videoCodec:n,timeOffset:c,discontinuity:d,trackSwitch:p,contiguous:m,duration:a,accurateTimeOffset:o,defaultInitPTS:s},e instanceof ArrayBuffer?[e]:[]);else{var g=this.demuxer;g&&g.push(e,u,t,i,n,c,d,p,m,a,o,s)}},e.prototype.onWorkerMessage=function(e){var t=e.data,i=this.hls;switch(t.event){case"init":$t.URL.revokeObjectURL(this.w.objectURL);break;case nt.a.FRAG_PARSING_DATA:t.data.data1=new Uint8Array(t.data1),t.data2&&(t.data.data2=new Uint8Array(t.data2));default:t.data=t.data||{},t.data.frag=this.frag,t.data.id=this.id,i.trigger(t.event,t.data)}},e}(),ii=ti,ni={toString:function(e){for(var t="",i=e.length,n=0;n<i;n++)t+="["+e.start(n).toFixed(3)+","+e.end(n).toFixed(3)+"]";return t}},ri=ni,ai=function(e){function t(i){U(this,t);for(var n=arguments.length,r=Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];var o=z(this,e.call.apply(e,[this,i].concat(r)));return o._tickInterval=null,o._tickTimer=null,o._tickCallCount=0,o._boundTick=o.tick.bind(o),o}return H(t,e),t.prototype.onHandlerDestroying=function(){this.clearNextTick(),this.clearInterval()},t.prototype.hasInterval=function(){return!!this._tickInterval},t.prototype.hasNextTick=function(){return!!this._tickTimer},t.prototype.setInterval=function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){return!this._tickInterval&&(this._tickInterval=setInterval(this._boundTick,e),!0)}),t.prototype.clearInterval=function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){return!!this._tickInterval&&(clearInterval(this._tickInterval),this._tickInterval=null,!0)}),t.prototype.clearNextTick=function(){return!!this._tickTimer&&(clearTimeout(this._tickTimer),this._tickTimer=null,!0)},t.prototype.tick=function(){1===++this._tickCallCount&&(this.doTick(),this._tickCallCount>1&&(this.clearNextTick(),this._tickTimer=setTimeout(this._boundTick,0)),this._tickCallCount=0)},t.prototype.doTick=function(){},t}(lt),oi=ai,si=function(){function e(t,i,n,r){Y(this,e),this.config=t,this.media=i,this.fragmentTracker=n,this.hls=r,this.stallReported=!1}return e.prototype.poll=function(e,t){var i=this.config,n=this.media,r=n.currentTime,a=window.performance.now();if(r!==e)return this.stallReported&&(rt.b.warn("playback not stuck anymore @"+r+", after "+Math.round(a-this.stalled)+"ms"),this.stallReported=!1),this.stalled=null,void(this.nudgeRetry=0);if(!(n.ended||!n.buffered.length||n.readyState>2)&&(!n.seeking||!Wt.isBuffered(n,r))){var o=a-this.stalled,s=Wt.bufferInfo(n,r,i.maxBufferHole);if(!this.stalled)return void(this.stalled=a);o>=1e3&&this._reportStall(s.len),this._tryFixBufferStall(s,o)}},e.prototype._tryFixBufferStall=function(e,t){var i=this.config,n=this.fragmentTracker,r=this.media,a=r.currentTime,o=n.getPartialFragment(a);o&&this._trySkipBufferHole(o),e.len>.5&&t>1e3*i.highBufferWatchdogPeriod&&(this.stalled=null,this._tryNudgeBuffer())},e.prototype._reportStall=function(e){var t=this.hls,i=this.media;this.stallReported||(this.stallReported=!0,rt.b.warn("Playback stalling at @"+i.currentTime+" due to low buffer"),t.trigger(nt.a.ERROR,{type:tt.b.MEDIA_ERROR,details:tt.a.BUFFER_STALLED_ERROR,fatal:!1,buffer:e}))},e.prototype._trySkipBufferHole=function(e){for(var t=this.hls,i=this.media,n=i.currentTime,r=0,a=0;a<i.buffered.length;a++){var o=i.buffered.start(a);if(n>=r&&n<o)return i.currentTime=Math.max(o,i.currentTime+.1),rt.b.warn("skipping hole, adjusting currentTime from "+n+" to "+i.currentTime),this.stalled=null,void t.trigger(nt.a.ERROR,{type:tt.b.MEDIA_ERROR,details:tt.a.BUFFER_SEEK_OVER_HOLE,fatal:!1,reason:"fragment loaded with buffer holes, seeking from "+n+" to "+i.currentTime,frag:e});r=i.buffered.end(a)}},e.prototype._tryNudgeBuffer=function(){var e=this.config,t=this.hls,i=this.media,n=i.currentTime,r=(this.nudgeRetry||0)+1;if(this.nudgeRetry=r,r<e.nudgeMaxRetry){var a=n+r*e.nudgeOffset;rt.b.log("adjust currentTime from "+n+" to "+a),i.currentTime=a,t.trigger(nt.a.ERROR,{type:tt.b.MEDIA_ERROR,details:tt.a.BUFFER_NUDGE_ON_STALL,fatal:!1})}else rt.b.error("still stuck in high buffer @"+n+" after "+e.nudgeMaxRetry+", raise fatal error"),t.trigger(nt.a.ERROR,{type:tt.b.MEDIA_ERROR,details:tt.a.BUFFER_STALLED_ERROR,fatal:!0})},e}(),li=si,ci=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),ui={STOPPED:"STOPPED",IDLE:"IDLE",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_LEVEL:"WAITING_LEVEL",PARSING:"PARSING",PARSED:"PARSED",BUFFER_FLUSHING:"BUFFER_FLUSHING",ENDED:"ENDED",ERROR:"ERROR"},hi=function(e){function t(i,n){X(this,t);var r=Q(this,e.call(this,i,nt.a.MEDIA_ATTACHED,nt.a.MEDIA_DETACHING,nt.a.MANIFEST_LOADING,nt.a.MANIFEST_PARSED,nt.a.LEVEL_LOADED,nt.a.KEY_LOADED,nt.a.FRAG_LOADED,nt.a.FRAG_LOAD_EMERGENCY_ABORTED,nt.a.FRAG_PARSING_INIT_SEGMENT,nt.a.FRAG_PARSING_DATA,nt.a.FRAG_PARSED,nt.a.ERROR,nt.a.AUDIO_TRACK_SWITCHING,nt.a.AUDIO_TRACK_SWITCHED,nt.a.BUFFER_CREATED,nt.a.BUFFER_APPENDED,nt.a.BUFFER_FLUSHED));return r.fragmentTracker=n,r.config=i.config,r.audioCodecSwap=!1,r._state=ui.STOPPED,r.stallReported=!1,r.gapController=null,r}return K(t,e),t.prototype.onHandlerDestroying=function(){this.stopLoad(),e.prototype.onHandlerDestroying.call(this)},t.prototype.onHandlerDestroyed=function(){this.state=ui.STOPPED,this.fragmentTracker=null,e.prototype.onHandlerDestroyed.call(this)},t.prototype.startLoad=function(e){if(this.levels){var t=this.lastCurrentTime,i=this.hls;if(this.stopLoad(),this.setInterval(100),this.level=-1,this.fragLoadError=0,!this.startFragRequested){var n=i.startLevel;-1===n&&(n=0,this.bitrateTest=!0),this.level=i.nextLoadLevel=n,this.loadedmetadata=!1}t>0&&-1===e&&(rt.b.log("override startPosition with lastCurrentTime @"+t.toFixed(3)),e=t),this.state=ui.IDLE,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}else this.forceStartLoad=!0,this.state=ui.STOPPED},t.prototype.stopLoad=function(){var e=this.fragCurrent;e&&(e.loader&&e.loader.abort(),this.fragmentTracker.removeFragment(e),this.fragCurrent=null),this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.clearInterval(),this.state=ui.STOPPED,this.forceStartLoad=!1},t.prototype.doTick=function(){switch(this.state){case ui.BUFFER_FLUSHING:this.fragLoadError=0;break;case ui.IDLE:this._doTickIdle();break;case ui.WAITING_LEVEL:var e=this.levels[this.level];e&&e.details&&(this.state=ui.IDLE);break;case ui.FRAG_LOADING_WAITING_RETRY:var t=window.performance.now(),i=this.retryDate;(!i||t>=i||this.media&&this.media.seeking)&&(rt.b.log("mediaController: retryDate reached, switch back to IDLE state"),this.state=ui.IDLE);break;case ui.ERROR:case ui.STOPPED:case ui.FRAG_LOADING:case ui.PARSING:case ui.PARSED:case ui.ENDED:}this._checkBuffer(),this._checkFragmentChanged()},t.prototype._doTickIdle=function(){var e=this.hls,t=e.config,i=this.media;if(void 0!==this.levelLastLoaded&&(i||!this.startFragRequested&&t.startFragPrefetch)){var n=void 0;n=this.loadedmetadata?i.currentTime:this.nextLoadPosition;var r=e.nextLoadLevel,a=this.levels[r];if(a){var o=a.bitrate,s=void 0;s=o?Math.max(8*t.maxBufferSize/o,t.maxBufferLength):t.maxBufferLength,s=Math.min(s,t.maxMaxBufferLength);var l=Wt.bufferInfo(this.mediaBuffer?this.mediaBuffer:i,n,t.maxBufferHole),c=l.len;if(!(c>=s)){rt.b.trace("buffer length of "+c.toFixed(3)+" is below max of "+s.toFixed(3)+". checking for more payload ..."),this.level=e.nextLoadLevel=r;var u=a.details;if(!u||u.live&&this.levelLastLoaded!==r)return void(this.state=ui.WAITING_LEVEL);var h=this.fragPrevious;if(!u.live&&h&&!h.backtracked&&h.sn===u.endSN&&!l.nextStart){if(Math.min(i.duration,h.start+h.duration)-Math.max(l.end,h.start)<=Math.max(.2,h.duration)){var d={};return this.altAudio&&(d.type="video"),this.hls.trigger(nt.a.BUFFER_EOS,d),void(this.state=ui.ENDED)}}this._fetchPayloadOrEos(n,l,u)}}}},t.prototype._fetchPayloadOrEos=function(e,t,i){var n=this.fragPrevious,r=this.level,a=i.fragments,o=a.length;if(0!==o){var s=a[0].start,l=a[o-1].start+a[o-1].duration,c=t.end,u=void 0;if(i.initSegment&&!i.initSegment.data)u=i.initSegment;else if(i.live){var h=this.config.initialLiveManifestSize;if(o<h)return void rt.b.warn("Can not start playback of a level, reason: not enough fragments "+o+" < "+h);if(null===(u=this._ensureFragmentAtLivePoint(i,c,s,l,n,a,o)))return}else c<s&&(u=a[0]);u||(u=this._findFragment(s,n,o,a,c,l,i)),u&&(u.encrypted?(rt.b.log("Loading key for "+u.sn+" of ["+i.startSN+" ,"+i.endSN+"],level "+r),this._loadKey(u)):(rt.b.log("Loading "+u.sn+" of ["+i.startSN+" ,"+i.endSN+"],level "+r+", currentTime:"+e.toFixed(3)+",bufferEnd:"+c.toFixed(3)),this._loadFragment(u)))}},t.prototype._ensureFragmentAtLivePoint=function(e,t,i,n,r,a,o){var s=this.hls.config,l=this.media,c=void 0,u=void 0!==s.liveMaxLatencyDuration?s.liveMaxLatencyDuration:s.liveMaxLatencyDurationCount*e.targetduration;if(t<Math.max(i-s.maxFragLookUpTolerance,n-u)){var h=this.liveSyncPosition=this.computeLivePosition(i,e);rt.b.log("buffer end: "+t.toFixed(3)+" is located too far from the end of live sliding playlist, reset currentTime to : "+h.toFixed(3)),t=h,l&&l.readyState&&l.duration>h&&(l.currentTime=h),this.nextLoadPosition=h}if(e.PTSKnown&&t>n&&l&&l.readyState)return null;if(this.startFragRequested&&!e.PTSKnown){if(r)if(e.hasProgramDateTime)rt.b.log("live playlist, switching playlist, load frag with same PDT: "+r.programDateTime),c=V(a,r.endProgramDateTime,s.maxFragLookUpTolerance);else{var d=r.sn+1;if(d>=e.startSN&&d<=e.endSN){var p=a[d-e.startSN];r.cc===p.cc&&(c=p,rt.b.log("live playlist, switching playlist, load frag with next SN: "+c.sn))}c||(c=qt.search(a,function(e){return r.cc-e.cc}))&&rt.b.log("live playlist, switching playlist, load frag with same CC: "+c.sn)}c||(c=a[Math.min(o-1,Math.round(o/2))],rt.b.log("live playlist, switching playlist, unknown, load middle frag : "+c.sn))}return c},t.prototype._findFragment=function(e,t,i,n,r,a,o){var s=this.hls.config,l=void 0;if(r<a){l=G(t,n,r,r>a-s.maxFragLookUpTolerance?0:s.maxFragLookUpTolerance)}else l=n[i-1];if(l){var c=l.sn-o.startSN,u=t&&l.level===t.level,h=n[c-1],d=n[c+1];if(t&&l.sn===t.sn)if(u&&!l.backtracked)if(l.sn<o.endSN){var p=t.deltaPTS;p&&p>s.maxBufferHole&&t.dropped&&c?(l=h,rt.b.warn("SN just loaded, with large PTS gap between audio and video, maybe frag is not starting with a keyframe ? load previous one to try to overcome this")):(l=d,rt.b.log("SN just loaded, load next one: "+l.sn,l))}else l=null;else l.backtracked&&(d&&d.backtracked?(rt.b.warn("Already backtracked from fragment "+d.sn+", will not backtrack to fragment "+l.sn+". Loading fragment "+d.sn),l=d):(rt.b.warn("Loaded fragment with dropped frames, backtracking 1 segment to find a keyframe"),l.dropped=0,h?(l=h,l.backtracked=!0):c&&(l=null)))}return l},t.prototype._loadKey=function(e){this.state=ui.KEY_LOADING,this.hls.trigger(nt.a.KEY_LOADING,{frag:e})},t.prototype._loadFragment=function(e){var t=this.fragmentTracker.getState(e);this.fragCurrent=e,this.startFragRequested=!0,Object(it.a)(e.sn)&&!e.bitrateTest&&(this.nextLoadPosition=e.start+e.duration),e.backtracked||t===Ht.NOT_LOADED||t===Ht.PARTIAL?(e.autoLevel=this.hls.autoLevelEnabled,e.bitrateTest=this.bitrateTest,this.hls.trigger(nt.a.FRAG_LOADING,{frag:e}),this.demuxer||(this.demuxer=new ii(this.hls,"main")),this.state=ui.FRAG_LOADING):t===Ht.APPENDING&&this._reduceMaxBufferLength(e.duration)&&this.fragmentTracker.removeFragment(e)},t.prototype.getBufferedFrag=function(e){return this.fragmentTracker.getBufferedFrag(e,Nt.LevelType.MAIN)},t.prototype.followingBufferedFrag=function(e){return e?this.getBufferedFrag(e.endPTS+.5):null},t.prototype._checkFragmentChanged=function(){var e=void 0,t=void 0,i=this.media;if(i&&i.readyState&&!1===i.seeking&&(t=i.currentTime,t>this.lastCurrentTime&&(this.lastCurrentTime=t),Wt.isBuffered(i,t)?e=this.getBufferedFrag(t):Wt.isBuffered(i,t+.1)&&(e=this.getBufferedFrag(t+.1)),e)){var n=e;if(n!==this.fragPlaying){this.hls.trigger(nt.a.FRAG_CHANGED,{frag:n});var r=n.level;this.fragPlaying&&this.fragPlaying.level===r||this.hls.trigger(nt.a.LEVEL_SWITCHED,{level:r}),this.fragPlaying=n}}},t.prototype.immediateLevelSwitch=function(){if(rt.b.log("immediateLevelSwitch"),!this.immediateSwitch){this.immediateSwitch=!0;var e=this.media,t=void 0;e?(t=e.paused,e.pause()):t=!0,this.previouslyPaused=t}var i=this.fragCurrent;i&&i.loader&&i.loader.abort(),this.fragCurrent=null,this.flushMainBuffer(0,Number.POSITIVE_INFINITY)},t.prototype.immediateLevelSwitchEnd=function(){var e=this.media;e&&e.buffered.length&&(this.immediateSwitch=!1,Wt.isBuffered(e,e.currentTime)&&(e.currentTime-=1e-4),this.previouslyPaused||e.play())},t.prototype.nextLevelSwitch=function(){var e=this.media;if(e&&e.readyState){var t=void 0,i=void 0,n=void 0;if(i=this.getBufferedFrag(e.currentTime),i&&i.startPTS>1&&this.flushMainBuffer(0,i.startPTS-1),e.paused)t=0;else{var r=this.hls.nextLoadLevel,a=this.levels[r],o=this.fragLastKbps;t=o&&this.fragCurrent?this.fragCurrent.duration*a.bitrate/(1e3*o)+1:0}if((n=this.getBufferedFrag(e.currentTime+t))&&(n=this.followingBufferedFrag(n))){var s=this.fragCurrent;s&&s.loader&&s.loader.abort(),this.fragCurrent=null,this.flushMainBuffer(n.maxStartPTS,Number.POSITIVE_INFINITY)}}},t.prototype.flushMainBuffer=function(e,t){this.state=ui.BUFFER_FLUSHING;var i={startOffset:e,endOffset:t};this.altAudio&&(i.type="video"),this.hls.trigger(nt.a.BUFFER_FLUSHING,i)},t.prototype.onMediaAttached=function(e){var t=this.media=this.mediaBuffer=e.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),this.onvended=this.onMediaEnded.bind(this),t.addEventListener("seeking",this.onvseeking),t.addEventListener("seeked",this.onvseeked),t.addEventListener("ended",this.onvended);var i=this.config;this.levels&&i.autoStartLoad&&this.hls.startLoad(i.startPosition),this.gapController=new li(i,t,this.fragmentTracker,this.hls)},t.prototype.onMediaDetaching=function(){var e=this.media;e&&e.ended&&(rt.b.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0);var t=this.levels;t&&t.forEach(function(e){e.details&&e.details.fragments.forEach(function(e){e.backtracked=void 0})}),e&&(e.removeEventListener("seeking",this.onvseeking),e.removeEventListener("seeked",this.onvseeked),e.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.stopLoad()},t.prototype.onMediaSeeking=function(){var e=this.media,t=e?e.currentTime:void 0,i=this.config;Object(it.a)(t)&&rt.b.log("media seeking to "+t.toFixed(3));var n=this.mediaBuffer?this.mediaBuffer:e,r=Wt.bufferInfo(n,t,this.config.maxBufferHole);if(this.state===ui.FRAG_LOADING){var a=this.fragCurrent;if(0===r.len&&a){var o=i.maxFragLookUpTolerance,s=a.start-o,l=a.start+a.duration+o;t<s||t>l?(a.loader&&(rt.b.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),a.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.state=ui.IDLE):rt.b.log("seeking outside of buffer but within currently loaded fragment range")}}else this.state===ui.ENDED&&(0===r.len&&(this.fragPrevious=0),this.state=ui.IDLE);e&&(this.lastCurrentTime=t),this.loadedmetadata||(this.nextLoadPosition=this.startPosition=t),this.tick()},t.prototype.onMediaSeeked=function(){var e=this.media,t=e?e.currentTime:void 0;Object(it.a)(t)&&rt.b.log("media seeked to "+t.toFixed(3)),this.tick()},t.prototype.onMediaEnded=function(){rt.b.log("media ended"),this.startPosition=this.lastCurrentTime=0},t.prototype.onManifestLoading=function(){rt.b.log("trigger BUFFER_RESET"),this.hls.trigger(nt.a.BUFFER_RESET),this.fragmentTracker.removeAllFragments(),this.stalled=!1,this.startPosition=this.lastCurrentTime=0},t.prototype.onManifestParsed=function(e){var t=!1,i=!1,n=void 0;e.levels.forEach(function(e){(n=e.audioCodec)&&(-1!==n.indexOf("mp4a.40.2")&&(t=!0),-1!==n.indexOf("mp4a.40.5")&&(i=!0))}),this.audioCodecSwitch=t&&i,this.audioCodecSwitch&&rt.b.log("both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=e.levels,this.startFragRequested=!1;var r=this.config;(r.autoStartLoad||this.forceStartLoad)&&this.hls.startLoad(r.startPosition)},t.prototype.onLevelLoaded=function(e){var t=e.details,i=e.level,n=this.levels[this.levelLastLoaded],r=this.levels[i],a=t.totalduration,o=0;if(rt.b.log("level "+i+" loaded ["+t.startSN+","+t.endSN+"],duration:"+a),t.live){var s=r.details;s&&t.fragments.length>0?(j(s,t),o=t.fragments[0].start,this.liveSyncPosition=this.computeLivePosition(o,s),t.PTSKnown&&Object(it.a)(o)?rt.b.log("live playlist sliding:"+o.toFixed(3)):(rt.b.log("live playlist - outdated PTS, unknown sliding"),N(this.fragPrevious,n,t))):(rt.b.log("live playlist - first load, unknown sliding"),t.PTSKnown=!1,N(this.fragPrevious,n,t))}else t.PTSKnown=!1;if(r.details=t,this.levelLastLoaded=i,this.hls.trigger(nt.a.LEVEL_UPDATED,{details:t,level:i}),!1===this.startFragRequested){if(-1===this.startPosition||-1===this.lastCurrentTime){var l=t.startTimeOffset;Object(it.a)(l)?(l<0&&(rt.b.log("negative start time offset "+l+", count from end of last fragment"),l=o+a+l),rt.b.log("start time offset found in playlist, adjust startPosition to "+l),this.startPosition=l):t.live?(this.startPosition=this.computeLivePosition(o,t),rt.b.log("configure startPosition to "+this.startPosition)):this.startPosition=0,this.lastCurrentTime=this.startPosition}this.nextLoadPosition=this.startPosition}this.state===ui.WAITING_LEVEL&&(this.state=ui.IDLE),this.tick()},t.prototype.onKeyLoaded=function(){this.state===ui.KEY_LOADING&&(this.state=ui.IDLE,this.tick())},t.prototype.onFragLoaded=function(e){var t=this.fragCurrent,i=this.hls,n=this.levels,r=this.media,a=e.frag;if(this.state===ui.FRAG_LOADING&&t&&"main"===a.type&&a.level===t.level&&a.sn===t.sn){var o=e.stats,s=n[t.level],l=s.details;if(this.bitrateTest=!1,this.stats=o,rt.b.log("Loaded "+t.sn+" of ["+l.startSN+" ,"+l.endSN+"],level "+t.level),a.bitrateTest&&i.nextLoadLevel)this.state=ui.IDLE,this.startFragRequested=!1,o.tparsed=o.tbuffered=window.performance.now(),i.trigger(nt.a.FRAG_BUFFERED,{stats:o,frag:t,id:"main"}),this.tick();else if("initSegment"===a.sn)this.state=ui.IDLE,o.tparsed=o.tbuffered=window.performance.now(),l.initSegment.data=e.payload,i.trigger(nt.a.FRAG_BUFFERED,{stats:o,frag:t,id:"main"}),this.tick();else{rt.b.log("Parsing "+t.sn+" of ["+l.startSN+" ,"+l.endSN+"],level "+t.level+", cc "+t.cc),this.state=ui.PARSING,this.pendingBuffering=!0,this.appended=!1,a.bitrateTest&&(a.bitrateTest=!1,this.fragmentTracker.onFragLoaded({frag:a}));var c=!(r&&r.seeking)&&(l.PTSKnown||!l.live),u=l.initSegment?l.initSegment.data:[],h=this._getAudioCodec(s),d=this.demuxer=this.demuxer||new ii(this.hls,"main");d.push(e.payload,u,h,s.videoCodec,t,l.totalduration,c)}}this.fragLoadError=0},t.prototype.onFragParsingInitSegment=function(e){var t=this.fragCurrent,i=e.frag;if(t&&"main"===e.id&&i.sn===t.sn&&i.level===t.level&&this.state===ui.PARSING){var n=e.tracks,r=void 0,a=void 0;if(n.audio&&this.altAudio&&delete n.audio,a=n.audio){var o=this.levels[this.level].audioCodec,s=navigator.userAgent.toLowerCase();o&&this.audioCodecSwap&&(rt.b.log("swapping playlist audio codec"),o=-1!==o.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),this.audioCodecSwitch&&1!==a.metadata.channelCount&&-1===s.indexOf("firefox")&&(o="mp4a.40.5"),-1!==s.indexOf("android")&&"audio/mpeg"!==a.container&&(o="mp4a.40.2",rt.b.log("Android: force audio codec to "+o)),a.levelCodec=o,a.id=e.id}a=n.video,a&&(a.levelCodec=this.levels[this.level].videoCodec,a.id=e.id),this.hls.trigger(nt.a.BUFFER_CODECS,n);for(r in n){a=n[r],rt.b.log("main track:"+r+",container:"+a.container+",codecs[level/parsed]=["+a.levelCodec+"/"+a.codec+"]");var l=a.initSegment;l&&(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(nt.a.BUFFER_APPENDING,{type:r,data:l,parent:"main",content:"initSegment"}))}this.tick()}},t.prototype.onFragParsingData=function(e){var t=this,i=this.fragCurrent,n=e.frag;if(i&&"main"===e.id&&n.sn===i.sn&&n.level===i.level&&("audio"!==e.type||!this.altAudio)&&this.state===ui.PARSING){var r=this.levels[this.level],a=i;if(Object(it.a)(e.endPTS)||(e.endPTS=e.startPTS+i.duration,e.endDTS=e.startDTS+i.duration),!0===e.hasAudio&&a.addElementaryStream(mt.ElementaryStreamTypes.AUDIO),!0===e.hasVideo&&a.addElementaryStream(mt.ElementaryStreamTypes.VIDEO),rt.b.log("Parsed "+e.type+",PTS:["+e.startPTS.toFixed(3)+","+e.endPTS.toFixed(3)+"],DTS:["+e.startDTS.toFixed(3)+"/"+e.endDTS.toFixed(3)+"],nb:"+e.nb+",dropped:"+(e.dropped||0)),"video"===e.type)if(a.dropped=e.dropped,a.dropped)if(a.backtracked)rt.b.warn("Already backtracked on this fragment, appending with the gap",a.sn);else{var o=r.details;if(!o||a.sn!==o.startSN)return rt.b.warn("missing video frame(s), backtracking fragment",a.sn),this.fragmentTracker.removeFragment(a),a.backtracked=!0,this.nextLoadPosition=e.startPTS,this.state=ui.IDLE,this.fragPrevious=a,void this.tick();rt.b.warn("missing video frame(s) on first frag, appending with gap",a.sn)}else a.backtracked=!1;var s=P(r.details,a,e.startPTS,e.endPTS,e.startDTS,e.endDTS),l=this.hls;l.trigger(nt.a.LEVEL_PTS_UPDATED,{details:r.details,level:this.level,drift:s,type:e.type,start:e.startPTS,end:e.endPTS}),[e.data1,e.data2].forEach(function(i){i&&i.length&&t.state===ui.PARSING&&(t.appended=!0,t.pendingBuffering=!0,l.trigger(nt.a.BUFFER_APPENDING,{type:e.type,data:i,parent:"main",content:"data"}))}),this.tick()}},t.prototype.onFragParsed=function(e){var t=this.fragCurrent,i=e.frag;t&&"main"===e.id&&i.sn===t.sn&&i.level===t.level&&this.state===ui.PARSING&&(this.stats.tparsed=window.performance.now(),this.state=ui.PARSED,this._checkAppendedParsed())},t.prototype.onAudioTrackSwitching=function(e){var t=!!e.url,i=e.id;if(!t){if(this.mediaBuffer!==this.media){rt.b.log("switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;var n=this.fragCurrent;n.loader&&(rt.b.log("switching to main audio track, cancel main fragment load"),n.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=ui.IDLE}var r=this.hls;r.trigger(nt.a.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),r.trigger(nt.a.AUDIO_TRACK_SWITCHED,{id:i}),this.altAudio=!1}},t.prototype.onAudioTrackSwitched=function(e){var t=e.id,i=!!this.hls.audioTracks[t].url;if(i){var n=this.videoBuffer;n&&this.mediaBuffer!==n&&(rt.b.log("switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=n)}this.altAudio=i,this.tick()},t.prototype.onBufferCreated=function(e){var t=e.tracks,i=void 0,n=void 0,r=!1;for(var a in t){var o=t[a];"main"===o.id?(n=a,i=o,"video"===a&&(this.videoBuffer=t[a].buffer)):r=!0}r&&i?(rt.b.log("alternate track found, use "+n+".buffered to schedule main fragment loading"),this.mediaBuffer=i.buffer):this.mediaBuffer=this.media},t.prototype.onBufferAppended=function(e){if("main"===e.parent){var t=this.state;t!==ui.PARSING&&t!==ui.PARSED||(this.pendingBuffering=e.pending>0,this._checkAppendedParsed())}},t.prototype._checkAppendedParsed=function(){if(this.state===ui.PARSED&&(!this.appended||!this.pendingBuffering)){var e=this.fragCurrent;if(e){var t=this.mediaBuffer?this.mediaBuffer:this.media;rt.b.log("main buffered : "+ri.toString(t.buffered)),this.fragPrevious=e;var i=this.stats;i.tbuffered=window.performance.now(),this.fragLastKbps=Math.round(8*i.total/(i.tbuffered-i.tfirst)),this.hls.trigger(nt.a.FRAG_BUFFERED,{stats:i,frag:e,id:"main"}),this.state=ui.IDLE}this.tick()}},t.prototype.onError=function(e){var t=e.frag||this.fragCurrent;if(!t||"main"===t.type){var i=!!this.media&&Wt.isBuffered(this.media,this.media.currentTime)&&Wt.isBuffered(this.media,this.media.currentTime+.5);switch(e.details){case tt.a.FRAG_LOAD_ERROR:case tt.a.FRAG_LOAD_TIMEOUT:case tt.a.KEY_LOAD_ERROR:case tt.a.KEY_LOAD_TIMEOUT:if(!e.fatal)if(this.fragLoadError+1<=this.config.fragLoadingMaxRetry){var n=Math.min(Math.pow(2,this.fragLoadError)*this.config.fragLoadingRetryDelay,this.config.fragLoadingMaxRetryTimeout);rt.b.warn("mediaController: frag loading failed, retry in "+n+" ms"),this.retryDate=window.performance.now()+n,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.fragLoadError++,this.state=ui.FRAG_LOADING_WAITING_RETRY}else rt.b.error("mediaController: "+e.details+" reaches max retry, redispatch as fatal ..."),e.fatal=!0,this.state=ui.ERROR;break;case tt.a.LEVEL_LOAD_ERROR:case tt.a.LEVEL_LOAD_TIMEOUT:this.state!==ui.ERROR&&(e.fatal?(this.state=ui.ERROR,rt.b.warn("streamController: "+e.details+",switch to "+this.state+" state ...")):e.levelRetry||this.state!==ui.WAITING_LEVEL||(this.state=ui.IDLE));break;case tt.a.BUFFER_FULL_ERROR:"main"!==e.parent||this.state!==ui.PARSING&&this.state!==ui.PARSED||(i?(this._reduceMaxBufferLength(this.config.maxBufferLength),this.state=ui.IDLE):(rt.b.warn("buffer full error also media.currentTime is not buffered, flush everything"),this.fragCurrent=null,this.flushMainBuffer(0,Number.POSITIVE_INFINITY)))}}},t.prototype._reduceMaxBufferLength=function(e){var t=this.config;return t.maxMaxBufferLength>=e&&(t.maxMaxBufferLength/=2,rt.b.warn("main:reduce max buffer length to "+t.maxMaxBufferLength+"s"),!0)},t.prototype._checkBuffer=function(){var e=this.media;if(e&&0!==e.readyState){var t=this.mediaBuffer?this.mediaBuffer:e,i=t.buffered;!this.loadedmetadata&&i.length?(this.loadedmetadata=!0,this._seekToStartPos()):this.immediateSwitch?this.immediateLevelSwitchEnd():this.gapController.poll(this.lastCurrentTime,i)}},t.prototype.onFragLoadEmergencyAborted=function(){this.state=ui.IDLE,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tick()},t.prototype.onBufferFlushed=function(){var e=this.mediaBuffer?this.mediaBuffer:this.media;e&&this.fragmentTracker.detectEvictedFragments(mt.ElementaryStreamTypes.VIDEO,e.buffered),this.state=ui.IDLE,this.fragPrevious=null},t.prototype.swapAudioCodec=function(){this.audioCodecSwap=!this.audioCodecSwap},t.prototype.computeLivePosition=function(e,t){var i=void 0!==this.config.liveSyncDuration?this.config.liveSyncDuration:this.config.liveSyncDurationCount*t.targetduration;return e+Math.max(0,t.totalduration-i)},t.prototype._seekToStartPos=function(){var e=this.media,t=e.currentTime,i=e.seeking?t:this.startPosition;t!==i&&(rt.b.log("target start position not buffered, seek to buffered.start(0) "+i+" from current time "+t+" "),e.currentTime=i)},t.prototype._getAudioCodec=function(e){var t=this.config.defaultAudioCodec||e.audioCodec;return this.audioCodecSwap&&(rt.b.log("swapping playlist audio codec"),t&&(t=-1!==t.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5")),t},ci(t,[{key:"state",set:function(e){if(this.state!==e){var t=this.state;this._state=e,rt.b.log("main stream:"+t+"->"+e),this.hls.trigger(nt.a.STREAM_STATE_TRANSITION,{previousState:t,nextState:e})}},get:function(){return this._state}},{key:"currentLevel",get:function(){var e=this.media;if(e){var t=this.getBufferedFrag(e.currentTime);if(t)return t.level}return-1}},{key:"nextBufferedFrag",get:function(){var e=this.media;return e?this.followingBufferedFrag(this.getBufferedFrag(e.currentTime)):null}},{key:"nextLevel",get:function(){var e=this.nextBufferedFrag;return e?e.level:-1}},{key:"liveSyncPosition",get:function(){return this._liveSyncPosition},set:function(e){this._liveSyncPosition=e}}]),t}(oi),di=hi,pi="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fi=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),mi=window,gi=mi.performance,vi=function(e){function t(i){Z(this,t);var n=J(this,e.call(this,i,nt.a.MANIFEST_LOADED,nt.a.LEVEL_LOADED,nt.a.AUDIO_TRACK_SWITCHED,nt.a.FRAG_LOADED,nt.a.ERROR));return n.canload=!1,n.currentLevelIndex=null,n.manualLevelIndex=-1,n.timer=null,n}return $(t,e),t.prototype.onHandlerDestroying=function(){this.clearTimer(),this.manualLevelIndex=-1},t.prototype.clearTimer=function(){null!==this.timer&&(clearTimeout(this.timer),this.timer=null)},t.prototype.startLoad=function(){var e=this._levels;this.canload=!0,this.levelRetryCount=0,e&&e.forEach(function(e){e.loadError=0;var t=e.details;t&&t.live&&(e.details=void 0)}),null!==this.timer&&this.loadLevel()},t.prototype.stopLoad=function(){this.canload=!1},t.prototype.onManifestLoaded=function(e){var t=[],i=void 0,n={},r=null,a=!1,o=!1,s=/chrome|firefox/.test(navigator.userAgent.toLowerCase()),l=[];if(e.levels.forEach(function(e){e.loadError=0,e.fragmentError=!1,a=a||!!e.videoCodec,o=o||!!e.audioCodec||!(!e.attrs||!e.attrs.AUDIO),s&&e.audioCodec&&-1!==e.audioCodec.indexOf("mp4a.40.34")&&(e.audioCodec=void 0),r=n[e.bitrate],r?r.url.push(e.url):(e.url=[e.url],e.urlId=0,n[e.bitrate]=e,t.push(e)),e.attrs&&e.attrs.AUDIO&&k(r||e,"audio",e.attrs.AUDIO),e.attrs&&e.attrs.SUBTITLES&&k(r||e,"text",e.attrs.SUBTITLES)}),a&&o&&(t=t.filter(function(e){return!!e.videoCodec})),t=t.filter(function(e){var t=e.audioCodec,i=e.videoCodec;return(!t||c(t))&&(!i||c(i))}),e.audioTracks&&(l=e.audioTracks.filter(function(e){return!e.audioCodec||c(e.audioCodec,"audio")}),l.forEach(function(e,t){e.id=t})),t.length>0){i=t[0].bitrate,t.sort(function(e,t){return e.bitrate-t.bitrate}),this._levels=t;for(var u=0;u<t.length;u++)if(t[u].bitrate===i){this._firstLevel=u,rt.b.log("manifest loaded,"+t.length+" level(s) found, first bitrate:"+i);break}this.hls.trigger(nt.a.MANIFEST_PARSED,{levels:t,audioTracks:l,firstLevel:this._firstLevel,stats:e.stats,audio:o,video:a,altAudio:l.length>0&&a})}else this.hls.trigger(nt.a.ERROR,{type:tt.b.MEDIA_ERROR,details:tt.a.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:this.hls.url,reason:"no level with compatible codecs found in manifest"})},t.prototype.setLevelInternal=function(e){var t=this._levels,i=this.hls;if(e>=0&&e<t.length){if(this.clearTimer(),this.currentLevelIndex!==e){rt.b.log("switching to level "+e),this.currentLevelIndex=e;var n=t[e];n.level=e,i.trigger(nt.a.LEVEL_SWITCHING,n)}var r=t[e],a=r.details;if(!a||a.live){var o=r.urlId;i.trigger(nt.a.LEVEL_LOADING,{url:r.url[o],level:e,id:o})}}else i.trigger(nt.a.ERROR,{type:tt.b.OTHER_ERROR,details:tt.a.LEVEL_SWITCH_ERROR,level:e,fatal:!1,reason:"invalid level idx"})},t.prototype.onError=function(e){if(e.fatal)return void(e.type===tt.b.NETWORK_ERROR&&this.clearTimer());var t=!1,i=!1,n=void 0;switch(e.details){case tt.a.FRAG_LOAD_ERROR:case tt.a.FRAG_LOAD_TIMEOUT:case tt.a.KEY_LOAD_ERROR:case tt.a.KEY_LOAD_TIMEOUT:n=e.frag.level,i=!0;break;case tt.a.LEVEL_LOAD_ERROR:case tt.a.LEVEL_LOAD_TIMEOUT:n=e.context.level,t=!0;break;case tt.a.REMUX_ALLOC_ERROR:n=e.level,t=!0}void 0!==n&&this.recoverLevel(e,n,t,i)},t.prototype.recoverLevel=function(e,t,i,n){var r=this,a=this.hls.config,o=e.details,s=this._levels[t],l=void 0,c=void 0,u=void 0;if(s.loadError++,s.fragmentError=n,i){if(!(this.levelRetryCount+1<=a.levelLoadingMaxRetry))return rt.b.error("level controller, cannot recover from "+o+" error"),this.currentLevelIndex=null,this.clearTimer(),void(e.fatal=!0);c=Math.min(Math.pow(2,this.levelRetryCount)*a.levelLoadingRetryDelay,a.levelLoadingMaxRetryTimeout),this.timer=setTimeout(function(){return r.loadLevel()},c),e.levelRetry=!0,this.levelRetryCount++,rt.b.warn("level controller, "+o+", retry in "+c+" ms, current retry count is "+this.levelRetryCount)}(i||n)&&(l=s.url.length,l>1&&s.loadError<l?(s.urlId=(s.urlId+1)%l,s.details=void 0,rt.b.warn("level controller, "+o+" for level "+t+": switching to redundant URL-id "+s.urlId)):-1===this.manualLevelIndex?(u=0===t?this._levels.length-1:t-1,rt.b.warn("level controller, "+o+": switch to "+u),this.hls.nextAutoLevel=this.currentLevelIndex=u):n&&(rt.b.warn("level controller, "+o+": reload a fragment"),this.currentLevelIndex=null))},t.prototype.onFragLoaded=function(e){var t=e.frag;if(void 0!==t&&"main"===t.type){var i=this._levels[t.level];void 0!==i&&(i.fragmentError=!1,i.loadError=0,this.levelRetryCount=0)}},t.prototype.onLevelLoaded=function(e){var t=this,i=e.level;if(i===this.currentLevelIndex){var n=this._levels[i];n.fragmentError||(n.loadError=0,this.levelRetryCount=0);var r=e.details;if(r.live){var a=1e3*(r.averagetargetduration?r.averagetargetduration:r.targetduration),o=a,s=n.details;s&&r.endSN===s.endSN&&(o/=2,rt.b.log("same live playlist, reload twice faster")),o-=gi.now()-e.stats.trequest,o=Math.max(a/2,Math.round(o)),rt.b.log("live playlist, reload in "+Math.round(o)+" ms"),this.timer=setTimeout(function(){return t.loadLevel()},o)}else this.clearTimer()}},t.prototype.onAudioTrackSwitched=function(e){var t=this.hls.audioTracks[e.id].groupId,i=this.hls.levels[this.currentLevelIndex];if(i&&i.audioGroupIds){var n=i.audioGroupIds.findIndex(function(e){return e===t});n!==i.urlId&&(i.urlId=n,this.startLoad())}},t.prototype.loadLevel=function(){if(rt.b.debug("call to loadLevel"),null!==this.currentLevelIndex&&this.canload){var e=this._levels[this.currentLevelIndex];if("object"===("undefined"===typeof e?"undefined":pi(e))&&e.url.length>0){var t=this.currentLevelIndex,i=e.urlId,n=e.url[i];rt.b.log("Attempt loading level index "+t+" with URL-id "+i),this.hls.trigger(nt.a.LEVEL_LOADING,{url:n,level:t,id:i})}}},fi(t,[{key:"levels",get:function(){return this._levels}},{key:"level",get:function(){return this.currentLevelIndex},set:function(e){var t=this._levels;t&&(e=Math.min(e,t.length-1),this.currentLevelIndex===e&&t[e].details||this.setLevelInternal(e))}},{key:"manualLevel",get:function(){return this.manualLevelIndex},set:function(e){this.manualLevelIndex=e,void 0===this._startLevel&&(this._startLevel=e),-1!==e&&(this.level=e)}},{key:"firstLevel",get:function(){return this._firstLevel},set:function(e){this._firstLevel=e}},{key:"startLevel",get:function(){if(void 0===this._startLevel){var e=this.hls.config.startLevel;return void 0!==e?e:this._firstLevel}return this._startLevel},set:function(e){this._startLevel=e}},{key:"nextLoadLevel",get:function(){return-1!==this.manualLevelIndex?this.manualLevelIndex:this.hls.nextAutoLevel},set:function(e){this.level=e,-1===this.manualLevelIndex&&(this.hls.nextAutoLevel=e)}}]),t}(lt),yi=vi,bi=i(6),_i=function(e){function t(i){ie(this,t);var n=ne(this,e.call(this,i,nt.a.MEDIA_ATTACHED,nt.a.MEDIA_DETACHING,nt.a.FRAG_PARSING_METADATA));return n.id3Track=void 0,n.media=void 0,n}return re(t,e),t.prototype.destroy=function(){lt.prototype.destroy.call(this)},t.prototype.onMediaAttached=function(e){this.media=e.media,this.media},t.prototype.onMediaDetaching=function(){te(this.id3Track),this.id3Track=void 0,this.media=void 0},t.prototype.getID3Track=function(e){for(var t=0;t<e.length;t++){var i=e[t];if("metadata"===i.kind&&"id3"===i.label)return ee(i,this.media),i}return this.media.addTextTrack("metadata","id3")},t.prototype.onFragParsingMetadata=function(e){var t=e.frag,i=e.samples;this.id3Track||(this.id3Track=this.getID3Track(this.media.textTracks),this.id3Track.mode="hidden");for(var n=window.WebKitDataCue||window.VTTCue||window.TextTrackCue,r=0;r<i.length;r++){var a=bi.a.getID3Frames(i[r].data);if(a){var o=i[r].pts,s=r<i.length-1?i[r+1].pts:t.endPTS;o===s&&(s+=1e-4);for(var l=0;l<a.length;l++){var c=a[l];if(!bi.a.isTimeStampFrame(c)){var u=new n(o,s,"");u.value=c,this.id3Track.addCue(u)}}}}},t}(lt),Ai=_i,Ei=function(){function e(t){oe(this,e),this.alpha_=t?Math.exp(Math.log(.5)/t):0,this.estimate_=0,this.totalWeight_=0}return e.prototype.sample=function(e,t){var i=Math.pow(this.alpha_,e);this.estimate_=t*(1-i)+i*this.estimate_,this.totalWeight_+=e},e.prototype.getTotalWeight=function(){return this.totalWeight_},e.prototype.getEstimate=function(){if(this.alpha_){var e=1-Math.pow(this.alpha_,this.totalWeight_);return this.estimate_/e}return this.estimate_},e}(),wi=Ei,xi=function(){function e(t,i,n,r){se(this,e),this.hls=t,this.defaultEstimate_=r,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new wi(i),this.fast_=new wi(n)}return e.prototype.sample=function(e,t){e=Math.max(e,this.minDelayMs_);var i=8e3*t/e,n=e/1e3;this.fast_.sample(n,i),this.slow_.sample(n,i)},e.prototype.canEstimate=function(){var e=this.fast_;return e&&e.getTotalWeight()>=this.minWeight_},e.prototype.getEstimate=function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_},e.prototype.destroy=function(){},e}(),Ti=xi,Si=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),Ci=window,ki=Ci.performance,Oi=function(e){function t(i){le(this,t);var n=ce(this,e.call(this,i,nt.a.FRAG_LOADING,nt.a.FRAG_LOADED,nt.a.FRAG_BUFFERED,nt.a.ERROR));return n.lastLoadedFragLevel=0,n._nextAutoLevel=-1,n.hls=i,n.timer=null,n._bwEstimator=null,n.onCheck=n._abandonRulesCheck.bind(n),n}return ue(t,e),t.prototype.destroy=function(){this.clearTimer(),lt.prototype.destroy.call(this)},t.prototype.onFragLoading=function(e){var t=e.frag;if("main"===t.type&&(this.timer||(this.fragCurrent=t,this.timer=setInterval(this.onCheck,100)),!this._bwEstimator)){var i=this.hls,n=i.config,r=t.level,a=i.levels[r].details.live,o=void 0,s=void 0;a?(o=n.abrEwmaFastLive,s=n.abrEwmaSlowLive):(o=n.abrEwmaFastVoD,s=n.abrEwmaSlowVoD),this._bwEstimator=new Ti(i,s,o,n.abrEwmaDefaultEstimate)}},t.prototype._abandonRulesCheck=function(){var e=this.hls,t=e.media,i=this.fragCurrent;if(i){var n=i.loader,r=e.minAutoLevel;if(!n||n.stats&&n.stats.aborted)return rt.b.warn("frag loader destroy or aborted, disarm abandonRules"),this.clearTimer(),void(this._nextAutoLevel=-1);var a=n.stats;if(t&&a&&(!t.paused&&0!==t.playbackRate||!t.readyState)&&i.autoLevel&&i.level){var o=ki.now()-a.trequest,s=Math.abs(t.playbackRate);if(o>500*i.duration/s){var l=e.levels,c=Math.max(1,a.bw?a.bw/8:1e3*a.loaded/o),u=l[i.level],h=u.realBitrate?Math.max(u.realBitrate,u.bitrate):u.bitrate,d=a.total?a.total:Math.max(a.loaded,Math.round(i.duration*h/8)),p=t.currentTime,f=(d-a.loaded)/c,m=(Wt.bufferInfo(t,p,e.config.maxBufferHole).end-p)/s;if(m<2*i.duration/s&&f>m){var g=void 0,v=void 0;for(v=i.level-1;v>r;v--){var y=l[v].realBitrate?Math.max(l[v].realBitrate,l[v].bitrate):l[v].bitrate;if((g=i.duration*y/(6.4*c))<m)break}g<f&&(rt.b.warn("loading too slow, abort fragment loading and switch to level "+v+":fragLoadedDelay["+v+"]<fragLoadedDelay["+(i.level-1)+"];bufferStarvationDelay:"+g.toFixed(1)+"<"+f.toFixed(1)+":"+m.toFixed(1)),e.nextLoadLevel=v,this._bwEstimator.sample(o,a.loaded),n.abort(),this.clearTimer(),e.trigger(nt.a.FRAG_LOAD_EMERGENCY_ABORTED,{frag:i,stats:a}))}}}}},t.prototype.onFragLoaded=function(e){var t=e.frag;if("main"===t.type&&Object(it.a)(t.sn)){if(this.clearTimer(),this.lastLoadedFragLevel=t.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){var i=this.hls.levels[t.level],n=(i.loaded?i.loaded.bytes:0)+e.stats.loaded,r=(i.loaded?i.loaded.duration:0)+e.frag.duration;i.loaded={bytes:n,duration:r},i.realBitrate=Math.round(8*n/r)}if(e.frag.bitrateTest){var a=e.stats;a.tparsed=a.tbuffered=a.tload,this.onFragBuffered(e)}}},t.prototype.onFragBuffered=function(e){var t=e.stats,i=e.frag;if(!0!==t.aborted&&"main"===i.type&&Object(it.a)(i.sn)&&(!i.bitrateTest||t.tload===t.tbuffered)){var n=t.tparsed-t.trequest;rt.b.log("latency/loading/parsing/append/kbps:"+Math.round(t.tfirst-t.trequest)+"/"+Math.round(t.tload-t.tfirst)+"/"+Math.round(t.tparsed-t.tload)+"/"+Math.round(t.tbuffered-t.tparsed)+"/"+Math.round(8*t.loaded/(t.tbuffered-t.trequest))),this._bwEstimator.sample(n,t.loaded),t.bwEstimate=this._bwEstimator.getEstimate(),i.bitrateTest?this.bitrateTestDelay=n/1e3:this.bitrateTestDelay=0}},t.prototype.onError=function(e){switch(e.details){case tt.a.FRAG_LOAD_ERROR:case tt.a.FRAG_LOAD_TIMEOUT:this.clearTimer()}},t.prototype.clearTimer=function(){clearInterval(this.timer),this.timer=null},t.prototype._findBestLevel=function(e,t,i,n,r,a,o,s,l){for(var c=r;c>=n;c--){var u=l[c];if(u){var h=u.details,d=h?h.totalduration/h.fragments.length:t,p=!!h&&h.live,f=void 0;f=c<=e?o*i:s*i;var m=l[c].realBitrate?Math.max(l[c].realBitrate,l[c].bitrate):l[c].bitrate,g=m*d/f;if(rt.b.trace("level/adjustedbw/bitrate/avgDuration/maxFetchDuration/fetchDuration: "+c+"/"+Math.round(f)+"/"+m+"/"+d+"/"+a+"/"+g),f>m&&(!g||p&&!this.bitrateTestDelay||g<a))return c}}return-1},Si(t,[{key:"nextAutoLevel",get:function(){var e=this._nextAutoLevel,t=this._bwEstimator;if(-1!==e&&(!t||!t.canEstimate()))return e;var i=this._nextABRAutoLevel;return-1!==e&&(i=Math.min(e,i)),i},set:function(e){this._nextAutoLevel=e}},{key:"_nextABRAutoLevel",get:function(){var e=this.hls,t=e.maxAutoLevel,i=e.levels,n=e.config,r=e.minAutoLevel,a=e.media,o=this.lastLoadedFragLevel,s=this.fragCurrent?this.fragCurrent.duration:0,l=a?a.currentTime:0,c=a&&0!==a.playbackRate?Math.abs(a.playbackRate):1,u=this._bwEstimator?this._bwEstimator.getEstimate():n.abrEwmaDefaultEstimate,h=(Wt.bufferInfo(a,l,n.maxBufferHole).end-l)/c,d=this._findBestLevel(o,s,u,r,t,h,n.abrBandWidthFactor,n.abrBandWidthUpFactor,i);if(d>=0)return d;rt.b.trace("rebuffering expected to happen, lets try to find a quality level minimizing the rebuffering");var p=s?Math.min(s,n.maxStarvationDelay):n.maxStarvationDelay,f=n.abrBandWidthFactor,m=n.abrBandWidthUpFactor;if(0===h){var g=this.bitrateTestDelay;if(g){p=(s?Math.min(s,n.maxLoadingDelay):n.maxLoadingDelay)-g,rt.b.trace("bitrate test took "+Math.round(1e3*g)+"ms, set first fragment max fetchDuration to "+Math.round(1e3*p)+" ms"),f=m=1}}return d=this._findBestLevel(o,s,u,r,t,h+p,f,m,i),Math.max(d,0)}}]),t}(lt),Pi=Oi,ji=S(),Ii=function(e){function t(i){he(this,t);var n=de(this,e.call(this,i,nt.a.MEDIA_ATTACHING,nt.a.MEDIA_DETACHING,nt.a.MANIFEST_PARSED,nt.a.BUFFER_RESET,nt.a.BUFFER_APPENDING,nt.a.BUFFER_CODECS,nt.a.BUFFER_EOS,nt.a.BUFFER_FLUSHING,nt.a.LEVEL_PTS_UPDATED,nt.a.LEVEL_UPDATED));return n._msDuration=null,n._levelDuration=null,n._live=null,n._objectUrl=null,n.onsbue=n.onSBUpdateEnd.bind(n),n.onsbe=n.onSBUpdateError.bind(n),n.pendingTracks={},n.tracks={},n}return pe(t,e),t.prototype.destroy=function(){lt.prototype.destroy.call(this)},t.prototype.onLevelPtsUpdated=function(e){var t=e.type,i=this.tracks.audio;if("audio"===t&&i&&"audio/mpeg"===i.container){var n=this.sourceBuffer.audio;if(Math.abs(n.timestampOffset-e.start)>.1){var r=n.updating;try{n.abort()}catch(e){r=!0,rt.b.warn("can not abort audio buffer: "+e)}r?this.audioTimestampOffset=e.start:(rt.b.warn("change mpeg audio timestamp offset from "+n.timestampOffset+" to "+e.start),n.timestampOffset=e.start)}}},t.prototype.onManifestParsed=function(e){var t=e.audio,i=e.video||e.levels.length&&e.altAudio,n=0;e.altAudio&&(t||i)&&(n=(t?1:0)+(i?1:0),rt.b.log(n+" sourceBuffer(s) expected")),this.sourceBufferNb=n},t.prototype.onMediaAttaching=function(e){var t=this.media=e.media;if(t){var i=this.mediaSource=new ji;this.onmso=this.onMediaSourceOpen.bind(this),this.onmse=this.onMediaSourceEnded.bind(this),this.onmsc=this.onMediaSourceClose.bind(this),i.addEventListener("sourceopen",this.onmso),i.addEventListener("sourceended",this.onmse),i.addEventListener("sourceclose",this.onmsc),t.src=window.URL.createObjectURL(i),this._objectUrl=t.src}},t.prototype.onMediaDetaching=function(){rt.b.log("media source detaching");var e=this.mediaSource;if(e){if("open"===e.readyState)try{e.endOfStream()}catch(e){rt.b.warn("onMediaDetaching:"+e.message+" while calling endOfStream")}e.removeEventListener("sourceopen",this.onmso),e.removeEventListener("sourceended",this.onmse),e.removeEventListener("sourceclose",this.onmsc),this.media&&(window.URL.revokeObjectURL(this._objectUrl),this.media.src===this._objectUrl?(this.media.removeAttribute("src"),this.media.load()):rt.b.warn("media.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.pendingTracks={},this.tracks={},this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0}this.onmso=this.onmse=this.onmsc=null,this.hls.trigger(nt.a.MEDIA_DETACHED)},t.prototype.onMediaSourceOpen=function(){rt.b.log("media source opened"),this.hls.trigger(nt.a.MEDIA_ATTACHED,{media:this.media});var e=this.mediaSource;e&&e.removeEventListener("sourceopen",this.onmso),this.checkPendingTracks()},t.prototype.checkPendingTracks=function(){var e=this.pendingTracks,t=Object.keys(e).length;t&&(this.sourceBufferNb<=t||0===this.sourceBufferNb)&&(this.createSourceBuffers(e),this.pendingTracks={},this.doAppending())},t.prototype.onMediaSourceClose=function(){rt.b.log("media source closed")},t.prototype.onMediaSourceEnded=function(){rt.b.log("media source ended")},t.prototype.onSBUpdateEnd=function(){if(this.audioTimestampOffset){var e=this.sourceBuffer.audio;rt.b.warn("change mpeg audio timestamp offset from "+e.timestampOffset+" to "+this.audioTimestampOffset),e.timestampOffset=this.audioTimestampOffset,delete this.audioTimestampOffset}this._needsFlush&&this.doFlush(),this._needsEos&&this.checkEos(),this.appending=!1;var t=this.parent,i=this.segments.reduce(function(e,i){return i.parent===t?e+1:e},0),n={},r=this.sourceBuffer;for(var a in r)n[a]=r[a].buffered;this.hls.trigger(nt.a.BUFFER_APPENDED,{parent:t,pending:i,timeRanges:n}),this._needsFlush||this.doAppending(),this.updateMediaElementDuration()},t.prototype.onSBUpdateError=function(e){rt.b.error("sourceBuffer error:",e),this.hls.trigger(nt.a.ERROR,{type:tt.b.MEDIA_ERROR,details:tt.a.BUFFER_APPENDING_ERROR,fatal:!1})},t.prototype.onBufferReset=function(){var e=this.sourceBuffer;for(var t in e){var i=e[t];try{this.mediaSource.removeSourceBuffer(i),i.removeEventListener("updateend",this.onsbue),i.removeEventListener("error",this.onsbe)}catch(e){}}this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0},t.prototype.onBufferCodecs=function(e){if(0===Object.keys(this.sourceBuffer).length){for(var t in e)this.pendingTracks[t]=e[t];var i=this.mediaSource;i&&"open"===i.readyState&&this.checkPendingTracks()}},t.prototype.createSourceBuffers=function(e){var t=this.sourceBuffer,i=this.mediaSource;for(var n in e)if(!t[n]){var r=e[n],a=r.levelCodec||r.codec,o=r.container+";codecs="+a;rt.b.log("creating sourceBuffer("+o+")");try{var s=t[n]=i.addSourceBuffer(o);s.addEventListener("updateend",this.onsbue),s.addEventListener("error",this.onsbe),this.tracks[n]={codec:a,container:r.container},r.buffer=s}catch(e){rt.b.error("error while trying to add sourceBuffer:"+e.message),this.hls.trigger(nt.a.ERROR,{type:tt.b.MEDIA_ERROR,details:tt.a.BUFFER_ADD_CODEC_ERROR,fatal:!1,err:e,mimeType:o})}}this.hls.trigger(nt.a.BUFFER_CREATED,{tracks:e})},t.prototype.onBufferAppending=function(e){this._needsFlush||(this.segments?this.segments.push(e):this.segments=[e],this.doAppending())},t.prototype.onBufferAppendFail=function(e){rt.b.error("sourceBuffer error:",e.event),this.hls.trigger(nt.a.ERROR,{type:tt.b.MEDIA_ERROR,details:tt.a.BUFFER_APPENDING_ERROR,fatal:!1})},t.prototype.onBufferEos=function(e){var t=this.sourceBuffer,i=e.type;for(var n in t)i&&n!==i||t[n].ended||(t[n].ended=!0,rt.b.log(n+" sourceBuffer now EOS"));this.checkEos()},t.prototype.checkEos=function(){var e=this.sourceBuffer,t=this.mediaSource;if(!t||"open"!==t.readyState)return void(this._needsEos=!1);for(var i in e){var n=e[i];if(!n.ended)return;if(n.updating)return void(this._needsEos=!0)}rt.b.log("all media data available, signal endOfStream() to MediaSource and stop loading fragment");try{t.endOfStream()}catch(e){rt.b.warn("exception while calling mediaSource.endOfStream()")}this._needsEos=!1},t.prototype.onBufferFlushing=function(e){this.flushRange.push({start:e.startOffset,end:e.endOffset,type:e.type}),this.flushBufferCounter=0,this.doFlush()},t.prototype.onLevelUpdated=function(e){var t=e.details;t.fragments.length>0&&(this._levelDuration=t.totalduration+t.fragments[0].start,this._live=t.live,this.updateMediaElementDuration())},t.prototype.updateMediaElementDuration=function(){var e=this.hls.config,t=void 0;if(null!==this._levelDuration&&this.media&&this.mediaSource&&this.sourceBuffer&&0!==this.media.readyState&&"open"===this.mediaSource.readyState){for(var i in this.sourceBuffer)if(!0===this.sourceBuffer[i].updating)return;t=this.media.duration,null===this._msDuration&&(this._msDuration=this.mediaSource.duration),!0===this._live&&!0===e.liveDurationInfinity?(rt.b.log("Media Source duration is set to Infinity"),this._msDuration=this.mediaSource.duration=1/0):(this._levelDuration>this._msDuration&&this._levelDuration>t||!Object(it.a)(t))&&(rt.b.log("Updating Media Source duration to "+this._levelDuration.toFixed(3)),this._msDuration=this.mediaSource.duration=this._levelDuration)}},t.prototype.doFlush=function(){for(;this.flushRange.length;){var e=this.flushRange[0];if(!this.flushBuffer(e.start,e.end,e.type))return void(this._needsFlush=!0);this.flushRange.shift(),this.flushBufferCounter=0}if(0===this.flushRange.length){this._needsFlush=!1;var t=0,i=this.sourceBuffer;try{for(var n in i)t+=i[n].buffered.length}catch(e){rt.b.error("error while accessing sourceBuffer.buffered")}this.appended=t,this.hls.trigger(nt.a.BUFFER_FLUSHED)}},t.prototype.doAppending=function(){var e=this.hls,t=this.sourceBuffer,i=this.segments;if(Object.keys(t).length){if(this.media.error)return this.segments=[],void rt.b.error("trying to append although a media error occured, flush segment and abort");if(this.appending)return;if(i&&i.length){var n=i.shift();try{var r=n.type,a=t[r];a?a.updating?i.unshift(n):(a.ended=!1,this.parent=n.parent,a.appendBuffer(n.data),this.appendError=0,this.appended++,this.appending=!0):this.onSBUpdateEnd()}catch(t){rt.b.error("error while trying to append buffer:"+t.message),i.unshift(n);var o={type:tt.b.MEDIA_ERROR,parent:n.parent};22!==t.code?(this.appendError?this.appendError++:this.appendError=1,o.details=tt.a.BUFFER_APPEND_ERROR,this.appendError>e.config.appendErrorMaxRetry?(rt.b.log("fail "+e.config.appendErrorMaxRetry+" times to append segment in sourceBuffer"),i=[],o.fatal=!0,e.trigger(nt.a.ERROR,o)):(o.fatal=!1,e.trigger(nt.a.ERROR,o))):(this.segments=[],o.details=tt.a.BUFFER_FULL_ERROR,o.fatal=!1,e.trigger(nt.a.ERROR,o))}}}},t.prototype.flushBuffer=function(e,t,i){var n=void 0,r=void 0,a=void 0,o=void 0,s=void 0,l=void 0,c=this.sourceBuffer;if(Object.keys(c).length){if(rt.b.log("flushBuffer,pos/start/end: "+this.media.currentTime.toFixed(3)+"/"+e+"/"+t),this.flushBufferCounter<this.appended){for(var u in c)if(!i||u===i){if(n=c[u],n.ended=!1,n.updating)return rt.b.warn("cannot flush, sb updating in progress"),!1;try{for(r=0;r<n.buffered.length;r++)if(a=n.buffered.start(r),o=n.buffered.end(r),-1!==navigator.userAgent.toLowerCase().indexOf("firefox")&&t===Number.POSITIVE_INFINITY?(s=e,l=t):(s=Math.max(a,e),l=Math.min(o,t)),Math.min(l,o)-s>.5)return this.flushBufferCounter++,rt.b.log("flush "+u+" ["+s+","+l+"], of ["+a+","+o+"], pos:"+this.media.currentTime),n.remove(s,l),!1}catch(e){rt.b.warn("exception while accessing sourcebuffer, it might have been removed from MediaSource")}}}else rt.b.warn("abort flushing too many retries");rt.b.log("buffer flushed")}return!0},t}(lt),Mi=Ii,Ri=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),Di=function(e){function t(i){fe(this,t);var n=me(this,e.call(this,i,nt.a.FPS_DROP_LEVEL_CAPPING,nt.a.MEDIA_ATTACHING,nt.a.MANIFEST_PARSED,nt.a.BUFFER_CODECS,nt.a.MEDIA_DETACHING));return n.autoLevelCapping=Number.POSITIVE_INFINITY,n.firstLevel=null,n.levels=[],n.media=null,n.restrictedLevels=[],n.timer=null,n}return ge(t,e),t.prototype.destroy=function(){this.hls.config.capLevelToPlayerSize&&(this.media=null,this._stopCapping())},t.prototype.onFpsDropLevelCapping=function(e){t.isLevelAllowed(e.droppedLevel,this.restrictedLevels)&&this.restrictedLevels.push(e.droppedLevel)},t.prototype.onMediaAttaching=function(e){this.media=e.media instanceof window.HTMLVideoElement?e.media:null},t.prototype.onManifestParsed=function(e){var t=this.hls;this.restrictedLevels=[],this.levels=e.levels,this.firstLevel=e.firstLevel,t.config.capLevelToPlayerSize&&(e.video||e.levels.length&&e.altAudio)&&this._startCapping()},t.prototype.onBufferCodecs=function(e){this.hls.config.capLevelToPlayerSize&&e.video&&this._startCapping()},t.prototype.onLevelsUpdated=function(e){this.levels=e.levels},t.prototype.onMediaDetaching=function(){this._stopCapping()},t.prototype.detectPlayerSize=function(){if(this.media){var e=this.levels?this.levels.length:0;if(e){var t=this.hls;t.autoLevelCapping=this.getMaxLevel(e-1),t.autoLevelCapping>this.autoLevelCapping&&t.streamController.nextLevelSwitch(),this.autoLevelCapping=t.autoLevelCapping}}},t.prototype.getMaxLevel=function(e){var i=this;if(!this.levels)return-1;var n=this.levels.filter(function(n,r){return t.isLevelAllowed(r,i.restrictedLevels)&&r<=e});return t.getMaxLevelByMediaSize(n,this.mediaWidth,this.mediaHeight)},t.prototype._startCapping=function(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,this.hls.firstLevel=this.getMaxLevel(this.firstLevel),clearInterval(this.timer),this.timer=setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())},t.prototype._stopCapping=function(){this.restrictedLevels=[],this.firstLevel=null,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(this.timer=clearInterval(this.timer),this.timer=null)},t.isLevelAllowed=function(e){return-1===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).indexOf(e)},t.getMaxLevelByMediaSize=function(e,t,i){if(!e||e&&!e.length)return-1;for(var n=e.length-1,r=0;r<e.length;r+=1){var a=e[r];if((a.width>=t||a.height>=i)&&function(e,t){return!t||(e.width!==t.width||e.height!==t.height)}(a,e[r+1])){n=r;break}}return n},Ri(t,[{key:"mediaWidth",get:function(){var e=void 0,i=this.media;return i&&(e=i.width||i.clientWidth||i.offsetWidth,e*=t.contentScaleFactor),e}},{key:"mediaHeight",get:function(){var e=void 0,i=this.media;return i&&(e=i.height||i.clientHeight||i.offsetHeight,e*=t.contentScaleFactor),e}}],[{key:"contentScaleFactor",get:function(){var e=1;try{e=window.devicePixelRatio}catch(e){}return e}}]),t}(lt),Li=Di,Ni=window,Bi=Ni.performance,Fi=function(e){function t(i){return ve(this,t),ye(this,e.call(this,i,nt.a.MEDIA_ATTACHING))}return be(t,e),t.prototype.destroy=function(){this.timer&&clearInterval(this.timer),this.isVideoPlaybackQualityAvailable=!1},t.prototype.onMediaAttaching=function(e){var t=this.hls.config;if(t.capLevelOnFPSDrop){"function"===typeof(this.video=e.media instanceof window.HTMLVideoElement?e.media:null).getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),clearInterval(this.timer),this.timer=setInterval(this.checkFPSInterval.bind(this),t.fpsDroppedMonitoringPeriod)}},t.prototype.checkFPS=function(e,t,i){var n=Bi.now();if(t){if(this.lastTime){var r=n-this.lastTime,a=i-this.lastDroppedFrames,o=t-this.lastDecodedFrames,s=1e3*a/r,l=this.hls;if(l.trigger(nt.a.FPS_DROP,{currentDropped:a,currentDecoded:o,totalDroppedFrames:i}),s>0&&a>l.config.fpsDroppedMonitoringThreshold*o){var c=l.currentLevel;rt.b.warn("drop FPS ratio greater than max allowed value for currentLevel: "+c),c>0&&(-1===l.autoLevelCapping||l.autoLevelCapping>=c)&&(c-=1,l.trigger(nt.a.FPS_DROP_LEVEL_CAPPING,{level:c,droppedLevel:l.currentLevel}),l.autoLevelCapping=c,l.streamController.nextLevelSwitch())}}this.lastTime=n,this.lastDroppedFrames=i,this.lastDecodedFrames=t}},t.prototype.checkFPSInterval=function(){var e=this.video;if(e)if(this.isVideoPlaybackQualityAvailable){var t=e.getVideoPlaybackQuality();this.checkFPS(e,t.totalVideoFrames,t.droppedVideoFrames)}else this.checkFPS(e,e.webkitDecodedFrameCount,e.webkitDroppedFrameCount)},t}(lt),Ui=Fi,zi=window,Hi=zi.performance,Vi=zi.XMLHttpRequest,Gi=function(){function e(t){_e(this,e),t&&t.xhrSetup&&(this.xhrSetup=t.xhrSetup)}return e.prototype.destroy=function(){this.abort(),this.loader=null},e.prototype.abort=function(){var e=this.loader;e&&4!==e.readyState&&(this.stats.aborted=!0,e.abort()),window.clearTimeout(this.requestTimeout),this.requestTimeout=null,window.clearTimeout(this.retryTimeout),this.retryTimeout=null},e.prototype.load=function(e,t,i){this.context=e,this.config=t,this.callbacks=i,this.stats={trequest:Hi.now(),retry:0},this.retryDelay=t.retryDelay,this.loadInternal()},e.prototype.loadInternal=function(){var e=void 0,t=this.context;e=this.loader=new Vi;var i=this.stats;i.tfirst=0,i.loaded=0;var n=this.xhrSetup;try{if(n)try{n(e,t.url)}catch(i){e.open("GET",t.url,!0),n(e,t.url)}e.readyState||e.open("GET",t.url,!0)}catch(i){return void this.callbacks.onError({code:e.status,text:i.message},t,e)}t.rangeEnd&&e.setRequestHeader("Range","bytes="+t.rangeStart+"-"+(t.rangeEnd-1)),e.onreadystatechange=this.readystatechange.bind(this),e.onprogress=this.loadprogress.bind(this),e.responseType=t.responseType,this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),this.config.timeout),e.send()},e.prototype.readystatechange=function(e){var t=e.currentTarget,i=t.readyState,n=this.stats,r=this.context,a=this.config;if(!n.aborted&&i>=2)if(window.clearTimeout(this.requestTimeout),0===n.tfirst&&(n.tfirst=Math.max(Hi.now(),n.trequest)),4===i){var o=t.status;if(o>=200&&o<300){n.tload=Math.max(n.tfirst,Hi.now());var s=void 0,l=void 0;"arraybuffer"===r.responseType?(s=t.response,l=s.byteLength):(s=t.responseText,l=s.length),n.loaded=n.total=l;var c={url:t.responseURL,data:s};this.callbacks.onSuccess(c,n,r,t)}else n.retry>=a.maxRetry||o>=400&&o<499?(rt.b.error(o+" while loading "+r.url),this.callbacks.onError({code:o,text:t.statusText},r,t)):(rt.b.warn(o+" while loading "+r.url+", retrying in "+this.retryDelay+"..."),this.destroy(),this.retryTimeout=window.setTimeout(this.loadInternal.bind(this),this.retryDelay),this.retryDelay=Math.min(2*this.retryDelay,a.maxRetryDelay),n.retry++)}else this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),a.timeout)},e.prototype.loadtimeout=function(){rt.b.warn("timeout while loading "+this.context.url),this.callbacks.onTimeout(this.stats,this.context,null)},e.prototype.loadprogress=function(e){var t=e.currentTarget,i=this.stats;i.loaded=e.loaded,e.lengthComputable&&(i.total=e.total);var n=this.callbacks.onProgress;n&&n(i,this.context,null,t)},e}(),qi=Gi,Wi=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),Yi=function(e){function t(i){Ae(this,t);var n=Ee(this,e.call(this,i,nt.a.MANIFEST_LOADING,nt.a.MANIFEST_PARSED,nt.a.AUDIO_TRACK_LOADED,nt.a.AUDIO_TRACK_SWITCHED,nt.a.LEVEL_LOADED,nt.a.ERROR));return n._trackId=-1,n._selectDefaultTrack=!0,n.tracks=[],n.trackIdBlacklist=Object.create(null),n.audioGroupId=null,n}return we(t,e),t.prototype.onManifestLoading=function(){this.tracks=[],this._trackId=-1,this._selectDefaultTrack=!0},t.prototype.onManifestParsed=function(e){var t=this.tracks=e.audioTracks||[];this.hls.trigger(nt.a.AUDIO_TRACKS_UPDATED,{audioTracks:t})},t.prototype.onAudioTrackLoaded=function(e){if(e.id>=this.tracks.length)return void rt.b.warn("Invalid audio track id:",e.id);if(rt.b.log("audioTrack "+e.id+" loaded"),this.tracks[e.id].details=e.details,e.details.live&&!this.hasInterval()){var t=1e3*e.details.targetduration;this.setInterval(t)}!e.details.live&&this.hasInterval()&&this.clearInterval()},t.prototype.onAudioTrackSwitched=function(e){var t=this.tracks[e.id].groupId;t&&this.audioGroupId!==t&&(this.audioGroupId=t)},t.prototype.onLevelLoaded=function(e){var t=this.hls.levels[e.level];if(t.audioGroupIds){var i=t.audioGroupIds[t.urlId];this.audioGroupId!==i&&(this.audioGroupId=i,this._selectInitialAudioTrack())}},t.prototype.onError=function(e){e.type===tt.b.NETWORK_ERROR&&(e.fatal&&this.clearInterval(),e.details===tt.a.AUDIO_TRACK_LOAD_ERROR&&(rt.b.warn("Network failure on audio-track id:",e.context.id),this._handleLoadError()))},t.prototype._setAudioTrack=function(e){if(this._trackId===e&&this.tracks[this._trackId].details)return void rt.b.debug("Same id as current audio-track passed, and track details available -> no-op");if(e<0||e>=this.tracks.length)return void rt.b.warn("Invalid id passed to audio-track controller");var t=this.tracks[e];rt.b.log("Now switching to audio-track index "+e),this.clearInterval(),this._trackId=e;var i=t.url,n=t.type,r=t.id;this.hls.trigger(nt.a.AUDIO_TRACK_SWITCHING,{id:r,type:n,url:i}),this._loadTrackDetailsIfNeeded(t)},t.prototype.doTick=function(){this._updateTrack(this._trackId)},t.prototype._selectInitialAudioTrack=function(){var e=this,t=this.tracks;if(t.length){var i=this.tracks[this._trackId],n=null;if(i&&(n=i.name),this._selectDefaultTrack){var r=t.filter(function(e){return e.default});r.length?t=r:rt.b.warn("No default audio tracks defined")}var a=!1,o=function(){t.forEach(function(t){a||e.audioGroupId&&t.groupId!==e.audioGroupId||n&&n!==t.name||(e._setAudioTrack(t.id),a=!0)})};o(),a||(n=null,o()),a||(rt.b.error("No track found for running audio group-ID: "+this.audioGroupId),this.hls.trigger(nt.a.ERROR,{type:tt.b.MEDIA_ERROR,details:tt.a.AUDIO_TRACK_LOAD_ERROR,fatal:!0}))}},t.prototype._needsTrackLoading=function(e){var t=e.details;return!t||(!!t.live||void 0)},t.prototype._loadTrackDetailsIfNeeded=function(e){if(this._needsTrackLoading(e)){var t=e.url,i=e.id;rt.b.log("loading audio-track playlist for id: "+i),this.hls.trigger(nt.a.AUDIO_TRACK_LOADING,{url:t,id:i})}},t.prototype._updateTrack=function(e){if(!(e<0||e>=this.tracks.length)){this.clearInterval(),this._trackId=e,rt.b.log("trying to update audio-track "+e);var t=this.tracks[e];this._loadTrackDetailsIfNeeded(t)}},t.prototype._handleLoadError=function(){this.trackIdBlacklist[this._trackId]=!0;var e=this._trackId,t=this.tracks[e],i=t.name,n=t.language,r=t.groupId;rt.b.warn("Loading failed on audio track id: "+e+", group-id: "+r+', name/language: "'+i+'" / "'+n+'"');for(var a=e,o=0;o<this.tracks.length;o++)if(!this.trackIdBlacklist[o]){var s=this.tracks[o];if(s.name===i){a=o;break}}if(a===e)return void rt.b.warn('No fallback audio-track found for name/language: "'+i+'" / "'+n+'"');rt.b.log("Attempting audio-track fallback id:",a,"group-id:",this.tracks[a].groupId),this._setAudioTrack(a)},Wi(t,[{key:"audioTracks",get:function(){return this.tracks}},{key:"audioTrack",get:function(){return this._trackId},set:function(e){this._setAudioTrack(e),this._selectDefaultTrack=!1}}]),t}(oi),Xi=Yi,Qi=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),Ki=window,Zi=Ki.performance,Ji={STOPPED:"STOPPED",STARTING:"STARTING",IDLE:"IDLE",PAUSED:"PAUSED",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_TRACK:"WAITING_TRACK",PARSING:"PARSING",PARSED:"PARSED",BUFFER_FLUSHING:"BUFFER_FLUSHING",ENDED:"ENDED",ERROR:"ERROR",WAITING_INIT_PTS:"WAITING_INIT_PTS"},$i=function(e){function t(i,n){xe(this,t);var r=Te(this,e.call(this,i,nt.a.MEDIA_ATTACHED,nt.a.MEDIA_DETACHING,nt.a.AUDIO_TRACKS_UPDATED,nt.a.AUDIO_TRACK_SWITCHING,nt.a.AUDIO_TRACK_LOADED,nt.a.KEY_LOADED,nt.a.FRAG_LOADED,nt.a.FRAG_PARSING_INIT_SEGMENT,nt.a.FRAG_PARSING_DATA,nt.a.FRAG_PARSED,nt.a.ERROR,nt.a.BUFFER_RESET,nt.a.BUFFER_CREATED,nt.a.BUFFER_APPENDED,nt.a.BUFFER_FLUSHED,nt.a.INIT_PTS_FOUND));return r.fragmentTracker=n,r.config=i.config,r.audioCodecSwap=!1,r._state=Ji.STOPPED,r.initPTS=[],r.waitingFragment=null,r.videoTrackCC=null,r}return Se(t,e),t.prototype.onHandlerDestroying=function(){this.stopLoad(),e.prototype.onHandlerDestroying.call(this)},t.prototype.onHandlerDestroyed=function(){this.state=Ji.STOPPED,this.fragmentTracker=null,e.prototype.onHandlerDestroyed.call(this)},t.prototype.onInitPtsFound=function(e){var t=e.id,i=e.frag.cc,n=e.initPTS;"main"===t&&(this.initPTS[i]=n,this.videoTrackCC=i,rt.b.log("InitPTS for cc: "+i+" found from video track: "+n),this.state===Ji.WAITING_INIT_PTS&&this.tick())},t.prototype.startLoad=function(e){if(this.tracks){var t=this.lastCurrentTime;this.stopLoad(),this.setInterval(100),this.fragLoadError=0,t>0&&-1===e?(rt.b.log("audio:override startPosition with lastCurrentTime @"+t.toFixed(3)),this.state=Ji.IDLE):(this.lastCurrentTime=this.startPosition?this.startPosition:e,this.state=Ji.STARTING),this.nextLoadPosition=this.startPosition=this.lastCurrentTime,this.tick()}else this.startPosition=e,this.state=Ji.STOPPED},t.prototype.stopLoad=function(){var e=this.fragCurrent;e&&(e.loader&&e.loader.abort(),this.fragmentTracker.removeFragment(e),this.fragCurrent=null),this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=Ji.STOPPED},t.prototype.doTick=function(){var e=void 0,t=void 0,i=void 0,n=this.hls,r=n.config;switch(this.state){case Ji.ERROR:case Ji.PAUSED:case Ji.BUFFER_FLUSHING:break;case Ji.STARTING:this.state=Ji.WAITING_TRACK,this.loadedmetadata=!1;break;case Ji.IDLE:var a=this.tracks;if(!a)break;if(!this.media&&(this.startFragRequested||!r.startFragPrefetch))break;if(this.loadedmetadata)e=this.media.currentTime;else if(void 0===(e=this.nextLoadPosition))break;var o=this.mediaBuffer?this.mediaBuffer:this.media,s=this.videoBuffer?this.videoBuffer:this.media,l=Wt.bufferInfo(o,e,r.maxBufferHole),c=Wt.bufferInfo(s,e,r.maxBufferHole),u=l.len,h=l.end,d=this.fragPrevious,p=Math.min(r.maxBufferLength,r.maxMaxBufferLength),f=Math.max(p,c.len),m=this.audioSwitch,g=this.trackId;if((u<f||m)&&g<a.length){if("undefined"===typeof(i=a[g].details)){this.state=Ji.WAITING_TRACK;break}if(!m&&!i.live&&d&&d.sn===i.endSN&&!l.nextStart&&(!this.media.seeking||this.media.duration-h<d.duration/2)){this.hls.trigger(nt.a.BUFFER_EOS,{type:"audio"}),this.state=Ji.ENDED;break}var v=i.fragments,y=v.length,b=v[0].start,_=v[y-1].start+v[y-1].duration,A=void 0;if(m)if(i.live&&!i.PTSKnown)rt.b.log("switching audiotrack, live stream, unknown PTS,load first fragment"),h=0;else if(h=e,i.PTSKnown&&e<b){if(!(l.end>b||l.nextStart))return;rt.b.log("alt audio track ahead of main track, seek to start of alt audio track"),this.media.currentTime=b+.05}if(i.initSegment&&!i.initSegment.data)A=i.initSegment;else if(h<=b){if(A=v[0],null!==this.videoTrackCC&&A.cc!==this.videoTrackCC&&(A=M(v,this.videoTrackCC)),i.live&&A.loadIdx&&A.loadIdx===this.fragLoadIdx){var E=l.nextStart?l.nextStart:b;return rt.b.log("no alt audio available @currentTime:"+this.media.currentTime+", seeking @"+(E+.05)),void(this.media.currentTime=E+.05)}}else{var w=void 0,x=r.maxFragLookUpTolerance,T=d?v[d.sn-v[0].sn+1]:void 0,S=function(e){var t=Math.min(x,e.duration);return e.start+e.duration-t<=h?1:e.start-t>h&&e.start?-1:0};h<_?(h>_-x&&(x=0),w=T&&!S(T)?T:qt.search(v,S)):w=v[y-1],w&&(A=w,b=w.start,d&&A.level===d.level&&A.sn===d.sn&&(A.sn<i.endSN?(A=v[A.sn+1-i.startSN],rt.b.log("SN just loaded, load next one: "+A.sn)):A=null))}A&&(A.encrypted?(rt.b.log("Loading key for "+A.sn+" of ["+i.startSN+" ,"+i.endSN+"],track "+g),this.state=Ji.KEY_LOADING,n.trigger(nt.a.KEY_LOADING,{frag:A})):(rt.b.log("Loading "+A.sn+", cc: "+A.cc+" of ["+i.startSN+" ,"+i.endSN+"],track "+g+", currentTime:"+e+",bufferEnd:"+h.toFixed(3)),(m||this.fragmentTracker.getState(A)===Ht.NOT_LOADED)&&(this.fragCurrent=A,this.startFragRequested=!0,Object(it.a)(A.sn)&&(this.nextLoadPosition=A.start+A.duration),n.trigger(nt.a.FRAG_LOADING,{frag:A}),this.state=Ji.FRAG_LOADING)))}break;case Ji.WAITING_TRACK:t=this.tracks[this.trackId],t&&t.details&&(this.state=Ji.IDLE);break;case Ji.FRAG_LOADING_WAITING_RETRY:var C=Zi.now(),k=this.retryDate;o=this.media;var O=o&&o.seeking;(!k||C>=k||O)&&(rt.b.log("audioStreamController: retryDate reached, switch back to IDLE state"),this.state=Ji.IDLE);break;case Ji.WAITING_INIT_PTS:var P=this.videoTrackCC;if(void 0===this.initPTS[P])break;var j=this.waitingFragment;if(j){var I=j.frag.cc;P!==I?(t=this.tracks[this.trackId],t.details&&t.details.live&&(rt.b.warn("Waiting fragment CC ("+I+") does not match video track CC ("+P+")"),this.waitingFragment=null,this.state=Ji.IDLE)):(this.state=Ji.FRAG_LOADING,this.onFragLoaded(this.waitingFragment),this.waitingFragment=null)}else this.state=Ji.IDLE;break;case Ji.STOPPED:case Ji.FRAG_LOADING:case Ji.PARSING:case Ji.PARSED:case Ji.ENDED:}},t.prototype.onMediaAttached=function(e){var t=this.media=this.mediaBuffer=e.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),t.addEventListener("seeking",this.onvseeking),t.addEventListener("ended",this.onvended);var i=this.config;this.tracks&&i.autoStartLoad&&this.startLoad(i.startPosition)},t.prototype.onMediaDetaching=function(){var e=this.media;e&&e.ended&&(rt.b.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),e&&(e.removeEventListener("seeking",this.onvseeking),e.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.media=this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1,this.stopLoad()},t.prototype.onMediaSeeking=function(){this.state===Ji.ENDED&&(this.state=Ji.IDLE),this.media&&(this.lastCurrentTime=this.media.currentTime),this.tick()},t.prototype.onMediaEnded=function(){this.startPosition=this.lastCurrentTime=0},t.prototype.onAudioTracksUpdated=function(e){rt.b.log("audio tracks updated"),this.tracks=e.audioTracks},t.prototype.onAudioTrackSwitching=function(e){var t=!!e.url;this.trackId=e.id,this.fragCurrent=null,this.state=Ji.PAUSED,this.waitingFragment=null,t?this.setInterval(100):this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),t&&(this.audioSwitch=!0,this.state=Ji.IDLE),this.tick()},t.prototype.onAudioTrackLoaded=function(e){var t=e.details,i=e.id,n=this.tracks[i],r=t.totalduration,a=0;if(rt.b.log("track "+i+" loaded ["+t.startSN+","+t.endSN+"],duration:"+r),t.live){var o=n.details;o&&t.fragments.length>0?(j(o,t),a=t.fragments[0].start,t.PTSKnown?rt.b.log("live audio playlist sliding:"+a.toFixed(3)):rt.b.log("live audio playlist - outdated PTS, unknown sliding")):(t.PTSKnown=!1,rt.b.log("live audio playlist - first load, unknown sliding"))}else t.PTSKnown=!1;if(n.details=t,!this.startFragRequested){if(-1===this.startPosition){var s=t.startTimeOffset;Object(it.a)(s)?(rt.b.log("start time offset found in playlist, adjust startPosition to "+s),this.startPosition=s):this.startPosition=0}this.nextLoadPosition=this.startPosition}this.state===Ji.WAITING_TRACK&&(this.state=Ji.IDLE),this.tick()},t.prototype.onKeyLoaded=function(){this.state===Ji.KEY_LOADING&&(this.state=Ji.IDLE,this.tick())},t.prototype.onFragLoaded=function(e){var t=this.fragCurrent,i=e.frag;if(this.state===Ji.FRAG_LOADING&&t&&"audio"===i.type&&i.level===t.level&&i.sn===t.sn){var n=this.tracks[this.trackId],r=n.details,a=r.totalduration,o=t.level,s=t.sn,l=t.cc,c=this.config.defaultAudioCodec||n.audioCodec||"mp4a.40.2",u=this.stats=e.stats;if("initSegment"===s)this.state=Ji.IDLE,u.tparsed=u.tbuffered=Zi.now(),r.initSegment.data=e.payload,this.hls.trigger(nt.a.FRAG_BUFFERED,{stats:u,frag:t,id:"audio"}),this.tick();else{this.state=Ji.PARSING,this.appended=!1,this.demuxer||(this.demuxer=new ii(this.hls,"audio"));var h=this.initPTS[l],d=r.initSegment?r.initSegment.data:[];if(r.initSegment||void 0!==h){this.pendingBuffering=!0,rt.b.log("Demuxing "+s+" of ["+r.startSN+" ,"+r.endSN+"],track "+o);this.demuxer.push(e.payload,d,c,null,t,a,!1,h)}else rt.b.log("unknown video PTS for continuity counter "+l+", waiting for video PTS before demuxing audio frag "+s+" of ["+r.startSN+" ,"+r.endSN+"],track "+o),this.waitingFragment=e,this.state=Ji.WAITING_INIT_PTS}}this.fragLoadError=0},t.prototype.onFragParsingInitSegment=function(e){var t=this.fragCurrent,i=e.frag;if(t&&"audio"===e.id&&i.sn===t.sn&&i.level===t.level&&this.state===Ji.PARSING){var n=e.tracks,r=void 0;if(n.video&&delete n.video,r=n.audio){r.levelCodec=r.codec,r.id=e.id,this.hls.trigger(nt.a.BUFFER_CODECS,n),rt.b.log("audio track:audio,container:"+r.container+",codecs[level/parsed]=["+r.levelCodec+"/"+r.codec+"]");var a=r.initSegment;if(a){var o={type:"audio",data:a,parent:"audio",content:"initSegment"};this.audioSwitch?this.pendingData=[o]:(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(nt.a.BUFFER_APPENDING,o))}this.tick()}}},t.prototype.onFragParsingData=function(e){var t=this,i=this.fragCurrent,n=e.frag;if(i&&"audio"===e.id&&"audio"===e.type&&n.sn===i.sn&&n.level===i.level&&this.state===Ji.PARSING){var r=this.trackId,a=this.tracks[r],o=this.hls;Object(it.a)(e.endPTS)||(e.endPTS=e.startPTS+i.duration,e.endDTS=e.startDTS+i.duration),i.addElementaryStream(mt.ElementaryStreamTypes.AUDIO),rt.b.log("parsed "+e.type+",PTS:["+e.startPTS.toFixed(3)+","+e.endPTS.toFixed(3)+"],DTS:["+e.startDTS.toFixed(3)+"/"+e.endDTS.toFixed(3)+"],nb:"+e.nb),P(a.details,i,e.startPTS,e.endPTS);var s=this.audioSwitch,l=this.media,c=!1;if(s&&l)if(l.readyState){var u=l.currentTime;rt.b.log("switching audio track : currentTime:"+u),u>=e.startPTS&&(rt.b.log("switching audio track : flushing all audio"),this.state=Ji.BUFFER_FLUSHING,o.trigger(nt.a.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),c=!0,this.audioSwitch=!1,o.trigger(nt.a.AUDIO_TRACK_SWITCHED,{id:r}))}else this.audioSwitch=!1,o.trigger(nt.a.AUDIO_TRACK_SWITCHED,{id:r});var h=this.pendingData;if(!h)return rt.b.warn("Apparently attempt to enqueue media payload without codec initialization data upfront"),void o.trigger(nt.a.ERROR,{type:tt.b.MEDIA_ERROR,details:null,fatal:!0});this.audioSwitch||([e.data1,e.data2].forEach(function(t){t&&t.length&&h.push({type:e.type,data:t,parent:"audio",content:"data"})}),!c&&h.length&&(h.forEach(function(e){t.state===Ji.PARSING&&(t.pendingBuffering=!0,t.hls.trigger(nt.a.BUFFER_APPENDING,e))}),this.pendingData=[],this.appended=!0)),this.tick()}},t.prototype.onFragParsed=function(e){var t=this.fragCurrent,i=e.frag;t&&"audio"===e.id&&i.sn===t.sn&&i.level===t.level&&this.state===Ji.PARSING&&(this.stats.tparsed=Zi.now(),this.state=Ji.PARSED,this._checkAppendedParsed())},t.prototype.onBufferReset=function(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1},t.prototype.onBufferCreated=function(e){var t=e.tracks.audio;t&&(this.mediaBuffer=t.buffer,this.loadedmetadata=!0),e.tracks.video&&(this.videoBuffer=e.tracks.video.buffer)},t.prototype.onBufferAppended=function(e){if("audio"===e.parent){var t=this.state;t!==Ji.PARSING&&t!==Ji.PARSED||(this.pendingBuffering=e.pending>0,this._checkAppendedParsed())}},t.prototype._checkAppendedParsed=function(){if(this.state===Ji.PARSED&&(!this.appended||!this.pendingBuffering)){var e=this.fragCurrent,t=this.stats,i=this.hls;if(e){this.fragPrevious=e,t.tbuffered=Zi.now(),i.trigger(nt.a.FRAG_BUFFERED,{stats:t,frag:e,id:"audio"});var n=this.mediaBuffer?this.mediaBuffer:this.media;rt.b.log("audio buffered : "+ri.toString(n.buffered)),this.audioSwitch&&this.appended&&(this.audioSwitch=!1,i.trigger(nt.a.AUDIO_TRACK_SWITCHED,{id:this.trackId})),this.state=Ji.IDLE}this.tick()}},t.prototype.onError=function(e){var t=e.frag;if(!t||"audio"===t.type)switch(e.details){case tt.a.FRAG_LOAD_ERROR:case tt.a.FRAG_LOAD_TIMEOUT:var i=e.frag;if(i&&"audio"!==i.type)break;if(!e.fatal){var n=this.fragLoadError;n?n++:n=1;var r=this.config;if(n<=r.fragLoadingMaxRetry){this.fragLoadError=n;var a=Math.min(Math.pow(2,n-1)*r.fragLoadingRetryDelay,r.fragLoadingMaxRetryTimeout);rt.b.warn("AudioStreamController: frag loading failed, retry in "+a+" ms"),this.retryDate=Zi.now()+a,this.state=Ji.FRAG_LOADING_WAITING_RETRY}else rt.b.error("AudioStreamController: "+e.details+" reaches max retry, redispatch as fatal ..."),e.fatal=!0,this.state=Ji.ERROR}break;case tt.a.AUDIO_TRACK_LOAD_ERROR:case tt.a.AUDIO_TRACK_LOAD_TIMEOUT:case tt.a.KEY_LOAD_ERROR:case tt.a.KEY_LOAD_TIMEOUT:this.state!==Ji.ERROR&&(this.state=e.fatal?Ji.ERROR:Ji.IDLE,rt.b.warn("AudioStreamController: "+e.details+" while loading frag, now switching to "+this.state+" state ..."));break;case tt.a.BUFFER_FULL_ERROR:if("audio"===e.parent&&(this.state===Ji.PARSING||this.state===Ji.PARSED)){var o=this.mediaBuffer,s=this.media.currentTime;if(o&&Wt.isBuffered(o,s)&&Wt.isBuffered(o,s+.5)){var l=this.config;l.maxMaxBufferLength>=l.maxBufferLength&&(l.maxMaxBufferLength/=2,rt.b.warn("AudioStreamController: reduce max buffer length to "+l.maxMaxBufferLength+"s")),this.state=Ji.IDLE}else rt.b.warn("AudioStreamController: buffer full error also media.currentTime is not buffered, flush audio buffer"),this.fragCurrent=null,this.state=Ji.BUFFER_FLUSHING,this.hls.trigger(nt.a.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"})}}},t.prototype.onBufferFlushed=function(){var e=this,t=this.pendingData;t&&t.length?(rt.b.log("AudioStreamController: appending pending audio data after buffer flushed"),t.forEach(function(t){e.hls.trigger(nt.a.BUFFER_APPENDING,t)}),this.appended=!0,this.pendingData=[],this.state=Ji.PARSED):(this.state=Ji.IDLE,this.fragPrevious=null,this.tick())},Qi(t,[{key:"state",set:function(e){if(this.state!==e){var t=this.state;this._state=e,rt.b.log("audio stream:"+t+"->"+e)}},get:function(){return this._state}}]),t}(oi),en=$i,tn=function(){function e(e){return"string"===typeof e&&(!!a[e.toLowerCase()]&&e.toLowerCase())}function t(e){return"string"===typeof e&&(!!o[e.toLowerCase()]&&e.toLowerCase())}function i(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)e[n]=i[n]}return e}function n(n,a,o){var s=this,l=function(){if("undefined"!==typeof navigator)return/MSIE\s8\.0/.test(navigator.userAgent)}(),c={};l?s=document.createElement("custom"):c.enumerable=!0,s.hasBeenReset=!1;var u="",h=!1,d=n,p=a,f=o,m=null,g="",v=!0,y="auto",b="start",_=50,A="middle",E=50,w="middle";if(Object.defineProperty(s,"id",i({},c,{get:function(){return u},set:function(e){u=""+e}})),Object.defineProperty(s,"pauseOnExit",i({},c,{get:function(){return h},set:function(e){h=!!e}})),Object.defineProperty(s,"startTime",i({},c,{get:function(){return d},set:function(e){if("number"!==typeof e)throw new TypeError("Start time must be set to a number.");d=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"endTime",i({},c,{get:function(){return p},set:function(e){if("number"!==typeof e)throw new TypeError("End time must be set to a number.");p=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"text",i({},c,{get:function(){return f},set:function(e){f=""+e,this.hasBeenReset=!0}})),Object.defineProperty(s,"region",i({},c,{get:function(){return m},set:function(e){m=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"vertical",i({},c,{get:function(){return g},set:function(t){var i=e(t);if(!1===i)throw new SyntaxError("An invalid or illegal string was specified.");g=i,this.hasBeenReset=!0}})),Object.defineProperty(s,"snapToLines",i({},c,{get:function(){return v},set:function(e){v=!!e,this.hasBeenReset=!0}})),Object.defineProperty(s,"line",i({},c,{get:function(){return y},set:function(e){if("number"!==typeof e&&e!==r)throw new SyntaxError("An invalid number or illegal string was specified.");y=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"lineAlign",i({},c,{get:function(){return b},set:function(e){var i=t(e);if(!i)throw new SyntaxError("An invalid or illegal string was specified.");b=i,this.hasBeenReset=!0}})),Object.defineProperty(s,"position",i({},c,{get:function(){return _},set:function(e){if(e<0||e>100)throw new Error("Position must be between 0 and 100.");_=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"positionAlign",i({},c,{get:function(){return A},set:function(e){var i=t(e);if(!i)throw new SyntaxError("An invalid or illegal string was specified.");A=i,this.hasBeenReset=!0}})),Object.defineProperty(s,"size",i({},c,{get:function(){return E},set:function(e){if(e<0||e>100)throw new Error("Size must be between 0 and 100.");E=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"align",i({},c,{get:function(){return w},set:function(e){var i=t(e);if(!i)throw new SyntaxError("An invalid or illegal string was specified.");w=i,this.hasBeenReset=!0}})),s.displayState=void 0,l)return s}if("undefined"!==typeof window&&window.VTTCue)return window.VTTCue;var r="auto",a={"":!0,lr:!0,rl:!0},o={start:!0,middle:!0,end:!0,left:!0,right:!0};return n.prototype.getCueAsHTML=function(){return window.WebVTT.convertCueToDOMTree(window,this.text)},n}(),nn=function(){return{decode:function(e){if(!e)return"";if("string"!==typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}};Oe.prototype={set:function(e,t){this.get(e)||""===t||(this.values[e]=t)},get:function(e,t,i){return i?this.has(e)?this.values[e]:t[i]:this.has(e)?this.values[e]:t},has:function(e){return e in this.values},alt:function(e,t,i){for(var n=0;n<i.length;++n)if(t===i[n]){this.set(e,t);break}},integer:function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},percent:function(e,t){return!!(t.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(t=parseFloat(t))>=0&&t<=100)&&(this.set(e,t),!0)}};var rn=new tn(0,0,0),an="middle"===rn.align?"middle":"center";Ce.prototype={parse:function(e){function t(){var e=i.buffer,t=0;for(e=Ie(e);t<e.length&&"\r"!==e[t]&&"\n"!==e[t];)++t;var n=e.substr(0,t);return"\r"===e[t]&&++t,"\n"===e[t]&&++t,i.buffer=e.substr(t),n}var i=this;e&&(i.buffer+=i.decoder.decode(e,{stream:!0}));try{var n=void 0;if("INITIAL"===i.state){if(!/\r\n|\n/.test(i.buffer))return this;n=t();var r=n.match(/^(\xef\xbb\xbf)?WEBVTT([ \t].*)?$/);if(!r||!r[0])throw new Error("Malformed WebVTT signature.");i.state="HEADER"}for(var a=!1;i.buffer;){if(!/\r\n|\n/.test(i.buffer))return this;switch(a?a=!1:n=t(),i.state){case"HEADER":/:/.test(n)?function(e){Pe(e,function(e,t){},/:/)}(n):n||(i.state="ID");continue;case"NOTE":n||(i.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(n)){i.state="NOTE";break}if(!n)continue;if(i.cue=new tn(0,0,""),i.state="CUE",-1===n.indexOf("--\x3e")){i.cue.id=n;continue}case"CUE":try{je(n,i.cue,i.regionList)}catch(e){i.cue=null,i.state="BADCUE";continue}i.state="CUETEXT";continue;case"CUETEXT":var o=-1!==n.indexOf("--\x3e");if(!n||o&&(a=!0)){i.oncue&&i.oncue(i.cue),i.cue=null,i.state="ID";continue}i.cue.text&&(i.cue.text+="\n"),i.cue.text+=n;continue;case"BADCUE":n||(i.state="ID");continue}}}catch(e){"CUETEXT"===i.state&&i.cue&&i.oncue&&i.oncue(i.cue),i.cue=null,i.state="INITIAL"===i.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var e=this;try{if(e.buffer+=e.decoder.decode(),(e.cue||"HEADER"===e.state)&&(e.buffer+="\n\n",e.parse()),"INITIAL"===e.state)throw new Error("Malformed WebVTT signature.")}catch(e){throw e}return e.onflush&&e.onflush(),this}};var on=Ce,sn={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},ln=function(e){var t=e;return sn.hasOwnProperty(e)&&(t=sn[e]),String.fromCharCode(t)},cn=15,un=100,hn={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},dn={17:2,18:4,21:6,22:8,23:10,19:13,20:15},pn={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},fn={25:2,26:4,29:6,30:8,31:10,27:13,28:15},mn=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],gn={verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function(e){this.time=e},log:function(e,t){this.verboseFilter[e];this.verboseLevel}},vn=function(e){for(var t=[],i=0;i<e.length;i++)t.push(e[i].toString(16));return t},yn=function(){function e(t,i,n,r,a){Re(this,e),this.foreground=t||"white",this.underline=i||!1,this.italics=n||!1,this.background=r||"black",this.flash=a||!1}return e.prototype.reset=function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},e.prototype.setStyles=function(e){for(var t=["foreground","underline","italics","background","flash"],i=0;i<t.length;i++){var n=t[i];e.hasOwnProperty(n)&&(this[n]=e[n])}},e.prototype.isDefault=function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash},e.prototype.equals=function(e){return this.foreground===e.foreground&&this.underline===e.underline&&this.italics===e.italics&&this.background===e.background&&this.flash===e.flash},e.prototype.copy=function(e){this.foreground=e.foreground,this.underline=e.underline,this.italics=e.italics,this.background=e.background,this.flash=e.flash},e.prototype.toString=function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash},e}(),bn=function(){function e(t,i,n,r,a,o){Re(this,e),this.uchar=t||" ",this.penState=new yn(i,n,r,a,o)}return e.prototype.reset=function(){this.uchar=" ",this.penState.reset()},e.prototype.setChar=function(e,t){this.uchar=e,this.penState.copy(t)},e.prototype.setPenState=function(e){this.penState.copy(e)},e.prototype.equals=function(e){return this.uchar===e.uchar&&this.penState.equals(e.penState)},e.prototype.copy=function(e){this.uchar=e.uchar,this.penState.copy(e.penState)},e.prototype.isEmpty=function(){return" "===this.uchar&&this.penState.isDefault()},e}(),_n=function(){function e(){Re(this,e),this.chars=[];for(var t=0;t<un;t++)this.chars.push(new bn);this.pos=0,this.currPenState=new yn}return e.prototype.equals=function(e){for(var t=!0,i=0;i<un;i++)if(!this.chars[i].equals(e.chars[i])){t=!1;break}return t},e.prototype.copy=function(e){for(var t=0;t<un;t++)this.chars[t].copy(e.chars[t])},e.prototype.isEmpty=function(){for(var e=!0,t=0;t<un;t++)if(!this.chars[t].isEmpty()){e=!1;break}return e},e.prototype.setCursor=function(e){this.pos!==e&&(this.pos=e),this.pos<0?(gn.log("ERROR","Negative cursor position "+this.pos),this.pos=0):this.pos>un&&(gn.log("ERROR","Too large cursor position "+this.pos),this.pos=un)},e.prototype.moveCursor=function(e){var t=this.pos+e;if(e>1)for(var i=this.pos+1;i<t+1;i++)this.chars[i].setPenState(this.currPenState);this.setCursor(t)},e.prototype.backSpace=function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},e.prototype.insertChar=function(e){e>=144&&this.backSpace();var t=ln(e);if(this.pos>=un)return void gn.log("ERROR","Cannot insert "+e.toString(16)+" ("+t+") at position "+this.pos+". Skipping it!");this.chars[this.pos].setChar(t,this.currPenState),this.moveCursor(1)},e.prototype.clearFromPos=function(e){var t=void 0;for(t=e;t<un;t++)this.chars[t].reset()},e.prototype.clear=function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},e.prototype.clearToEndOfRow=function(){this.clearFromPos(this.pos)},e.prototype.getTextString=function(){for(var e=[],t=!0,i=0;i<un;i++){var n=this.chars[i].uchar;" "!==n&&(t=!1),e.push(n)}return t?"":e.join("")},e.prototype.setPenStyles=function(e){this.currPenState.setStyles(e),this.chars[this.pos].setPenState(this.currPenState)},e}(),An=function(){function e(){Re(this,e),this.rows=[];for(var t=0;t<cn;t++)this.rows.push(new _n);this.currRow=cn-1,this.nrRollUpRows=null,this.reset()}return e.prototype.reset=function(){for(var e=0;e<cn;e++)this.rows[e].clear();this.currRow=cn-1},e.prototype.equals=function(e){for(var t=!0,i=0;i<cn;i++)if(!this.rows[i].equals(e.rows[i])){t=!1;break}return t},e.prototype.copy=function(e){for(var t=0;t<cn;t++)this.rows[t].copy(e.rows[t])},e.prototype.isEmpty=function(){for(var e=!0,t=0;t<cn;t++)if(!this.rows[t].isEmpty()){e=!1;break}return e},e.prototype.backSpace=function(){this.rows[this.currRow].backSpace()},e.prototype.clearToEndOfRow=function(){this.rows[this.currRow].clearToEndOfRow()},e.prototype.insertChar=function(e){this.rows[this.currRow].insertChar(e)},e.prototype.setPen=function(e){this.rows[this.currRow].setPenStyles(e)},e.prototype.moveCursor=function(e){this.rows[this.currRow].moveCursor(e)},e.prototype.setCursor=function(e){gn.log("INFO","setCursor: "+e),this.rows[this.currRow].setCursor(e)},e.prototype.setPAC=function(e){gn.log("INFO","pacData = "+JSON.stringify(e));var t=e.row-1;if(this.nrRollUpRows&&t<this.nrRollUpRows-1&&(t=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==t){for(var i=0;i<cn;i++)this.rows[i].clear();var n=this.currRow+1-this.nrRollUpRows,r=this.lastOutputScreen;if(r){var a=r.rows[n].cueStartTime;if(a&&a<gn.time)for(var o=0;o<this.nrRollUpRows;o++)this.rows[t-this.nrRollUpRows+o+1].copy(r.rows[n+o])}}this.currRow=t;var s=this.rows[this.currRow];if(null!==e.indent){var l=e.indent,c=Math.max(l-1,0);s.setCursor(e.indent),e.color=s.chars[c].penState.foreground}var u={foreground:e.color,underline:e.underline,italics:e.italics,background:"black",flash:!1};this.setPen(u)},e.prototype.setBkgData=function(e){gn.log("INFO","bkgData = "+JSON.stringify(e)),this.backSpace(),this.setPen(e),this.insertChar(32)},e.prototype.setRollUpRows=function(e){this.nrRollUpRows=e},e.prototype.rollUp=function(){if(null===this.nrRollUpRows)return void gn.log("DEBUG","roll_up but nrRollUpRows not set yet");gn.log("TEXT",this.getDisplayText());var e=this.currRow+1-this.nrRollUpRows,t=this.rows.splice(e,1)[0];t.clear(),this.rows.splice(this.currRow,0,t),gn.log("INFO","Rolling up")},e.prototype.getDisplayText=function(e){e=e||!1;for(var t=[],i="",n=-1,r=0;r<cn;r++){var a=this.rows[r].getTextString();a&&(n=r+1,e?t.push("Row "+n+": '"+a+"'"):t.push(a.trim()))}return t.length>0&&(i=e?"["+t.join(" | ")+"]":t.join("\n")),i},e.prototype.getTextAndFormat=function(){return this.rows},e}(),En=function(){function e(t,i){Re(this,e),this.chNr=t,this.outputFilter=i,this.mode=null,this.verbose=0,this.displayedMemory=new An,this.nonDisplayedMemory=new An,this.lastOutputScreen=new An,this.currRollUpRow=this.displayedMemory.rows[cn-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}return e.prototype.reset=function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.currRollUpRow=this.displayedMemory.rows[cn-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.lastCueEndTime=null},e.prototype.getHandler=function(){return this.outputFilter},e.prototype.setHandler=function(e){this.outputFilter=e},e.prototype.setPAC=function(e){this.writeScreen.setPAC(e)},e.prototype.setBkgData=function(e){this.writeScreen.setBkgData(e)},e.prototype.setMode=function(e){e!==this.mode&&(this.mode=e,gn.log("INFO","MODE="+e),"MODE_POP-ON"===this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=e)},e.prototype.insertChars=function(e){for(var t=0;t<e.length;t++)this.writeScreen.insertChar(e[t]);var i=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";gn.log("INFO",i+": "+this.writeScreen.getDisplayText(!0)),"MODE_PAINT-ON"!==this.mode&&"MODE_ROLL-UP"!==this.mode||(gn.log("TEXT","DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},e.prototype.ccRCL=function(){gn.log("INFO","RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},e.prototype.ccBS=function(){gn.log("INFO","BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},e.prototype.ccAOF=function(){},e.prototype.ccAON=function(){},e.prototype.ccDER=function(){gn.log("INFO","DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},e.prototype.ccRU=function(e){gn.log("INFO","RU("+e+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(e)},e.prototype.ccFON=function(){gn.log("INFO","FON - Flash On"),this.writeScreen.setPen({flash:!0})},e.prototype.ccRDC=function(){gn.log("INFO","RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},e.prototype.ccTR=function(){gn.log("INFO","TR"),this.setMode("MODE_TEXT")},e.prototype.ccRTD=function(){gn.log("INFO","RTD"),this.setMode("MODE_TEXT")},e.prototype.ccEDM=function(){gn.log("INFO","EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)},e.prototype.ccCR=function(){gn.log("CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)},e.prototype.ccENM=function(){gn.log("INFO","ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},e.prototype.ccEOC=function(){if(gn.log("INFO","EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var e=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=e,this.writeScreen=this.nonDisplayedMemory,gn.log("TEXT","DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)},e.prototype.ccTO=function(e){gn.log("INFO","TO("+e+") - Tab Offset"),this.writeScreen.moveCursor(e)},e.prototype.ccMIDROW=function(e){var t={flash:!1};if(t.underline=e%2===1,t.italics=e>=46,t.italics)t.foreground="white";else{var i=Math.floor(e/2)-16,n=["white","green","blue","cyan","red","yellow","magenta"];t.foreground=n[i]}gn.log("INFO","MIDROW: "+JSON.stringify(t)),this.writeScreen.setPen(t)},e.prototype.outputDataUpdate=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=gn.time;null!==t&&this.outputFilter&&(null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue&&(this.outputFilter.newCue(this.cueStartTime,t,this.lastOutputScreen),!0===e&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue()),this.cueStartTime=this.displayedMemory.isEmpty()?null:t):this.cueStartTime=t,this.lastOutputScreen.copy(this.displayedMemory))},e.prototype.cueSplitAtTime=function(e){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.displayedMemory),this.cueStartTime=e))},e}(),wn=function(){function e(t,i,n){Re(this,e),this.field=t||1,this.outputs=[i,n],this.channels=[new En(1,i),new En(2,n)],this.currChNr=-1,this.lastCmdA=null,this.lastCmdB=null,this.bufferedData=[],this.startTime=null,this.lastTime=null,this.dataCounters={padding:0,char:0,cmd:0,other:0}}return e.prototype.getHandler=function(e){return this.channels[e].getHandler()},e.prototype.setHandler=function(e,t){this.channels[e].setHandler(t)},e.prototype.addData=function(e,t){var i=void 0,n=void 0,r=void 0,a=!1;this.lastTime=e,gn.setTime(e);for(var o=0;o<t.length;o+=2)if(n=127&t[o],r=127&t[o+1],0!==n||0!==r){if(gn.log("DATA","["+vn([t[o],t[o+1]])+"] -> ("+vn([n,r])+")"),i=this.parseCmd(n,r),i||(i=this.parseMidrow(n,r)),i||(i=this.parsePAC(n,r)),i||(i=this.parseBackgroundAttributes(n,r)),!i&&(a=this.parseChars(n,r)))if(this.currChNr&&this.currChNr>=0){var s=this.channels[this.currChNr-1];s.insertChars(a)}else gn.log("WARNING","No channel found yet. TEXT-MODE?");i?this.dataCounters.cmd+=2:a?this.dataCounters.char+=2:(this.dataCounters.other+=2,gn.log("WARNING","Couldn't parse cleaned data "+vn([n,r])+" orig: "+vn([t[o],t[o+1]])))}else this.dataCounters.padding+=2},e.prototype.parseCmd=function(e,t){var i=null,n=(20===e||28===e)&&t>=32&&t<=47,r=(23===e||31===e)&&t>=33&&t<=35;if(!n&&!r)return!1;if(e===this.lastCmdA&&t===this.lastCmdB)return this.lastCmdA=null,this.lastCmdB=null,gn.log("DEBUG","Repeated command ("+vn([e,t])+") is dropped"),!0;i=20===e||23===e?1:2;var a=this.channels[i-1];return 20===e||28===e?32===t?a.ccRCL():33===t?a.ccBS():34===t?a.ccAOF():35===t?a.ccAON():36===t?a.ccDER():37===t?a.ccRU(2):38===t?a.ccRU(3):39===t?a.ccRU(4):40===t?a.ccFON():41===t?a.ccRDC():42===t?a.ccTR():43===t?a.ccRTD():44===t?a.ccEDM():45===t?a.ccCR():46===t?a.ccENM():47===t&&a.ccEOC():a.ccTO(t-32),this.lastCmdA=e,this.lastCmdB=t,this.currChNr=i,!0},e.prototype.parseMidrow=function(e,t){var i=null;if((17===e||25===e)&&t>=32&&t<=47){if((i=17===e?1:2)!==this.currChNr)return gn.log("ERROR","Mismatch channel in midrow parsing"),!1;return this.channels[i-1].ccMIDROW(t),gn.log("DEBUG","MIDROW ("+vn([e,t])+")"),!0}return!1},e.prototype.parsePAC=function(e,t){var i=null,n=null,r=(e>=17&&e<=23||e>=25&&e<=31)&&t>=64&&t<=127,a=(16===e||24===e)&&t>=64&&t<=95;if(!r&&!a)return!1;if(e===this.lastCmdA&&t===this.lastCmdB)return this.lastCmdA=null,this.lastCmdB=null,!0;i=e<=23?1:2,n=t>=64&&t<=95?1===i?hn[e]:pn[e]:1===i?dn[e]:fn[e];var o=this.interpretPAC(n,t);return this.channels[i-1].setPAC(o),this.lastCmdA=e,this.lastCmdB=t,this.currChNr=i,!0},e.prototype.interpretPAC=function(e,t){var i=t,n={color:null,italics:!1,indent:null,underline:!1,row:e};return i=t>95?t-96:t-64,n.underline=1===(1&i),i<=13?n.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(i/2)]:i<=15?(n.italics=!0,n.color="white"):n.indent=4*Math.floor((i-16)/2),n},e.prototype.parseChars=function(e,t){var i=null,n=null,r=null;if(e>=25?(i=2,r=e-8):(i=1,r=e),r>=17&&r<=19){var a=t;a=17===r?t+80:18===r?t+112:t+144,gn.log("INFO","Special char '"+ln(a)+"' in channel "+i),n=[a]}else e>=32&&e<=127&&(n=0===t?[e]:[e,t]);if(n){var o=vn(n);gn.log("DEBUG","Char codes =  "+o.join(",")),this.lastCmdA=null,this.lastCmdB=null}return n},e.prototype.parseBackgroundAttributes=function(e,t){var i=void 0,n=void 0,r=void 0,a=void 0,o=(16===e||24===e)&&t>=32&&t<=47,s=(23===e||31===e)&&t>=45&&t<=47;return!(!o&&!s)&&(i={},16===e||24===e?(n=Math.floor((t-32)/2),i.background=mn[n],t%2===1&&(i.background=i.background+"_semi")):45===t?i.background="transparent":(i.foreground="black",47===t&&(i.underline=!0)),r=e<24?1:2,a=this.channels[r-1],a.setBkgData(i),this.lastCmdA=null,this.lastCmdB=null,!0)},e.prototype.reset=function(){for(var e=0;e<this.channels.length;e++)this.channels[e]&&this.channels[e].reset();this.lastCmdA=null,this.lastCmdB=null},e.prototype.cueSplitAtTime=function(e){for(var t=0;t<this.channels.length;t++)this.channels[t]&&this.channels[t].cueSplitAtTime(e)},e}(),xn=wn,Tn=function(){function e(t,i){De(this,e),this.timelineController=t,this.trackName=i,this.startTime=null,this.endTime=null,this.screen=null}return e.prototype.dispatchCue=function(){null!==this.startTime&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen),this.startTime=null)},e.prototype.newCue=function(e,t,i){(null===this.startTime||this.startTime>e)&&(this.startTime=e),this.endTime=t,this.screen=i,this.timelineController.createCaptionsTrack(this.trackName)},e}(),Sn=Tn,Cn=function(e,t,i){return e.substr(i||0,t.length)===t},kn=function(e){var t=parseInt(e.substr(-3)),i=parseInt(e.substr(-6,2)),n=parseInt(e.substr(-9,2)),r=e.length>9?parseInt(e.substr(0,e.indexOf(":"))):0;return Object(it.a)(t)&&Object(it.a)(i)&&Object(it.a)(n)&&Object(it.a)(r)?(t+=1e3*i,t+=6e4*n,t+=36e5*r):-1},On=function(e){for(var t=5381,i=e.length;i;)t=33*t^e.charCodeAt(--i);return(t>>>0).toString()},Pn=function(e,t,i){var n=e[t],r=e[n.prevCC];if(!r||!r.new&&n.new)return e.ccOffset=e.presentationOffset=n.start,void(n.new=!1);for(;r&&r.new;)e.ccOffset+=n.start-r.start,n.new=!1,n=r,r=e[n.prevCC];e.presentationOffset=i},jn={parse:function(e,t,i,n,r,a){var o=/\r\n|\n\r|\n|\r/g,s=Object(bi.b)(new Uint8Array(e)).trim().replace(o,"\n").split("\n"),l="00:00.000",c=0,u=0,h=0,d=[],p=void 0,f=!0,m=new on;m.oncue=function(e){var t=i[n],r=i.ccOffset;t&&t.new&&(void 0!==u?r=i.ccOffset=t.start:Pn(i,n,h)),h&&(r=h+i.ccOffset-i.presentationOffset),e.startTime+=r-u,e.endTime+=r-u,e.id=On(e.startTime.toString())+On(e.endTime.toString())+On(e.text),e.text=decodeURIComponent(encodeURIComponent(e.text)),e.endTime>0&&d.push(e)},m.onparsingerror=function(e){p=e},m.onflush=function(){if(p&&a)return void a(p);r(d)},s.forEach(function(e){if(f){if(Cn(e,"X-TIMESTAMP-MAP=")){f=!1,e.substr(16).split(",").forEach(function(e){Cn(e,"LOCAL:")?l=e.substr(6):Cn(e,"MPEGTS:")&&(c=parseInt(e.substr(7)))});try{t=t<0?t+8589934592:t,c-=t,u=kn(l)/1e3,h=c/9e4,-1===u&&(p=new Error("Malformed X-TIMESTAMP-MAP: "+e))}catch(t){p=new Error("Malformed X-TIMESTAMP-MAP: "+e)}return}""===e&&(f=!1)}m.parse(e+"\n")}),m.flush()}},In=jn,Mn=function(e){function t(i){Le(this,t);var n=Ne(this,e.call(this,i,nt.a.MEDIA_ATTACHING,nt.a.MEDIA_DETACHING,nt.a.FRAG_PARSING_USERDATA,nt.a.FRAG_DECRYPTED,nt.a.MANIFEST_LOADING,nt.a.MANIFEST_LOADED,nt.a.FRAG_LOADED,nt.a.LEVEL_SWITCHING,nt.a.INIT_PTS_FOUND));if(n.hls=i,n.config=i.config,n.enabled=!0,n.Cues=i.config.cueHandler,n.textTracks=[],n.tracks=[],n.unparsedVttFrags=[],n.initPTS=void 0,n.cueRanges=[],n.captionsTracks={},n.captionsProperties={textTrack1:{label:n.config.captionsTextTrack1Label,languageCode:n.config.captionsTextTrack1LanguageCode},textTrack2:{label:n.config.captionsTextTrack2Label,languageCode:n.config.captionsTextTrack2LanguageCode}},n.config.enableCEA708Captions){var r=new Sn(n,"textTrack1"),a=new Sn(n,"textTrack2");n.cea608Parser=new xn(0,r,a)}return n}return Be(t,e),t.prototype.addCues=function(e,t,i,n){for(var r=this.cueRanges,a=!1,o=r.length;o--;){var s=r[o],l=Ue(s[0],s[1],t,i);if(l>=0&&(s[0]=Math.min(s[0],t),s[1]=Math.max(s[1],i),a=!0,l/(i-t)>.5))return}a||r.push([t,i]),this.Cues.newCue(this.captionsTracks[e],t,i,n)},t.prototype.onInitPtsFound=function(e){var t=this;"undefined"===typeof this.initPTS&&(this.initPTS=e.initPTS),this.unparsedVttFrags.length&&(this.unparsedVttFrags.forEach(function(e){t.onFragLoaded(e)}),this.unparsedVttFrags=[])},t.prototype.getExistingTrack=function(e){var t=this.media;if(t)for(var i=0;i<t.textTracks.length;i++){var n=t.textTracks[i];if(n[e])return n}return null},t.prototype.createCaptionsTrack=function(e){var t=this.captionsProperties[e],i=t.label,n=t.languageCode,r=this.captionsTracks;if(!r[e]){var a=this.getExistingTrack(e);if(a)r[e]=a,te(r[e]),ee(r[e],this.media);else{var o=this.createTextTrack("captions",i,n);o&&(o[e]=!0,r[e]=o)}}},t.prototype.createTextTrack=function(e,t,i){var n=this.media;if(n)return n.addTextTrack(e,t,i)},t.prototype.destroy=function(){lt.prototype.destroy.call(this)},t.prototype.onMediaAttaching=function(e){this.media=e.media,this._cleanTracks()},t.prototype.onMediaDetaching=function(){var e=this.captionsTracks;Object.keys(e).forEach(function(t){te(e[t]),delete e[t]})},t.prototype.onManifestLoading=function(){this.lastSn=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0},this._cleanTracks()},t.prototype._cleanTracks=function(){var e=this.media;if(e){var t=e.textTracks;if(t)for(var i=0;i<t.length;i++)te(t[i])}},t.prototype.onManifestLoaded=function(e){var t=this;if(this.textTracks=[],this.unparsedVttFrags=this.unparsedVttFrags||[],this.initPTS=void 0,this.cueRanges=[],this.config.enableWebVTT){this.tracks=e.subtitles||[];var i=this.media?this.media.textTracks:[];this.tracks.forEach(function(e,n){var r=void 0;if(n<i.length){var a=i[n];Fe(a,e)&&(r=a)}r||(r=t.createTextTrack("subtitles",e.name,e.lang)),e.default?r.mode=t.hls.subtitleDisplay?"showing":"hidden":r.mode="disabled",t.textTracks.push(r)})}},t.prototype.onLevelSwitching=function(){this.enabled="NONE"!==this.hls.currentLevel.closedCaptions},t.prototype.onFragLoaded=function(e){var t=e.frag,i=e.payload;if("main"===t.type){var n=t.sn;if(n!==this.lastSn+1){var r=this.cea608Parser;r&&r.reset()}this.lastSn=n}else if("subtitle"===t.type)if(i.byteLength){if("undefined"===typeof this.initPTS)return void this.unparsedVttFrags.push(e);var a=t.decryptdata;null!=a&&null!=a.key&&"AES-128"===a.method||this._parseVTTs(t,i)}else this.hls.trigger(nt.a.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:t})},t.prototype._parseVTTs=function(e,t){var i=this.vttCCs;i[e.cc]||(i[e.cc]={start:e.start,prevCC:this.prevCC,new:!0},this.prevCC=e.cc);var n=this.textTracks,r=this.hls;In.parse(t,this.initPTS,i,e.cc,function(t){var i=n[e.trackId];if("disabled"===i.mode)return void r.trigger(nt.a.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e});t.forEach(function(e){if(!i.cues.getCueById(e.id))try{i.addCue(e)}catch(n){var t=new window.TextTrackCue(e.startTime,e.endTime,e.text);t.id=e.id,i.addCue(t)}}),r.trigger(nt.a.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:e})},function(t){rt.b.log("Failed to parse VTT cue: "+t),r.trigger(nt.a.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e})})},t.prototype.onFragDecrypted=function(e){var t=e.payload,i=e.frag;if("subtitle"===i.type){if("undefined"===typeof this.initPTS)return void this.unparsedVttFrags.push(e);this._parseVTTs(i,t)}},t.prototype.onFragParsingUserdata=function(e){if(this.enabled&&this.config.enableCEA708Captions)for(var t=0;t<e.samples.length;t++){var i=this.extractCea608Data(e.samples[t].bytes);this.cea608Parser.addData(e.samples[t].pts,i)}},t.prototype.extractCea608Data=function(e){for(var t=31&e[0],i=2,n=void 0,r=void 0,a=void 0,o=void 0,s=void 0,l=[],c=0;c<t;c++)n=e[i++],r=127&e[i++],a=127&e[i++],o=0!==(4&n),s=3&n,0===r&&0===a||o&&0===s&&(l.push(r),l.push(a));return l},t}(lt),Rn=Mn,Dn=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),Ln=function(e){function t(i){ze(this,t);var n=He(this,e.call(this,i,nt.a.MEDIA_ATTACHED,nt.a.MEDIA_DETACHING,nt.a.MANIFEST_LOADING,nt.a.MANIFEST_LOADED,nt.a.SUBTITLE_TRACK_LOADED));return n.tracks=[],n.trackId=-1,n.media=null,n.subtitleDisplay=!0,n}return Ve(t,e),t.prototype._onTextTracksChanged=function(){if(this.media){for(var e=-1,t=Ge(this.media.textTracks),i=0;i<t.length;i++)if("hidden"===t[i].mode)e=i;else if("showing"===t[i].mode){e=i;break}this.subtitleTrack=e}},t.prototype.destroy=function(){lt.prototype.destroy.call(this)},t.prototype.onMediaAttached=function(e){var t=this;this.media=e.media,this.media&&(this.queuedDefaultTrack&&(this.subtitleTrack=this.queuedDefaultTrack,delete this.queuedDefaultTrack),this.trackChangeListener=this._onTextTracksChanged.bind(this),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.subtitlePollingInterval=setInterval(function(){t.trackChangeListener()},500):this.media.textTracks.addEventListener("change",this.trackChangeListener))},t.prototype.onMediaDetaching=function(){this.media&&(this.useTextTrackPolling?clearInterval(this.subtitlePollingInterval):this.media.textTracks.removeEventListener("change",this.trackChangeListener),this.media=null)},t.prototype.onManifestLoading=function(){this.tracks=[],this.trackId=-1},t.prototype.onManifestLoaded=function(e){var t=this,i=e.subtitles||[];this.tracks=i,this.trackId=-1,this.hls.trigger(nt.a.SUBTITLE_TRACKS_UPDATED,{subtitleTracks:i}),i.forEach(function(e){e.default&&(t.media?t.subtitleTrack=e.id:t.queuedDefaultTrack=e.id)})},t.prototype.onTick=function(){var e=this.trackId,t=this.tracks[e];if(t){var i=t.details;i&&!i.live||(rt.b.log("(re)loading playlist for subtitle track "+e),this.hls.trigger(nt.a.SUBTITLE_TRACK_LOADING,{url:t.url,id:e}))}},t.prototype.onSubtitleTrackLoaded=function(e){var t=this;e.id<this.tracks.length&&(rt.b.log("subtitle track "+e.id+" loaded"),this.tracks[e.id].details=e.details,e.details.live&&!this.timer&&(this.timer=setInterval(function(){t.onTick()},1e3*e.details.targetduration,this)),!e.details.live&&this.timer&&this._stopTimer())},t.prototype.setSubtitleTrackInternal=function(e){var t=this.hls,i=this.tracks;if(!("number"!==typeof e||e<-1||e>=i.length)&&(this._stopTimer(),this.trackId=e,rt.b.log("switching to subtitle track "+e),t.trigger(nt.a.SUBTITLE_TRACK_SWITCH,{id:e}),-1!==e)){var n=i[e],r=n.details;r&&!r.live||(rt.b.log("(re)loading playlist for subtitle track "+e),t.trigger(nt.a.SUBTITLE_TRACK_LOADING,{url:n.url,id:e}))}},t.prototype._stopTimer=function(){this.timer&&(clearInterval(this.timer),this.timer=null)},t.prototype._toggleTrackModes=function(e){var t=this.media,i=this.subtitleDisplay,n=this.trackId;if(t){var r=Ge(t.textTracks);if(-1===e)[].slice.call(r).forEach(function(e){e.mode="disabled"});else{var a=r[n];a&&(a.mode="disabled")}var o=r[e];o&&(o.mode=i?"showing":"hidden")}},Dn(t,[{key:"subtitleTracks",get:function(){return this.tracks}},{key:"subtitleTrack",get:function(){return this.trackId},set:function(e){this.trackId!==e&&(this._toggleTrackModes(e),this.setSubtitleTrackInternal(e))}}]),t}(lt),Nn=Ln,Bn=i(8),Fn=window,Un=Fn.performance,zn={STOPPED:"STOPPED",IDLE:"IDLE",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING"},Hn=function(e){function t(i){qe(this,t);var n=We(this,e.call(this,i,nt.a.MEDIA_ATTACHED,nt.a.ERROR,nt.a.KEY_LOADED,nt.a.FRAG_LOADED,nt.a.SUBTITLE_TRACKS_UPDATED,nt.a.SUBTITLE_TRACK_SWITCH,nt.a.SUBTITLE_TRACK_LOADED,nt.a.SUBTITLE_FRAG_PROCESSED));return n.config=i.config,n.vttFragSNsProcessed={},n.vttFragQueues=void 0,n.currentlyProcessing=null,n.state=zn.STOPPED,n.currentTrackId=-1,n.decrypter=new Bn.a(i.observer,i.config),n}return Ye(t,e),t.prototype.onHandlerDestroyed=function(){this.state=zn.STOPPED},t.prototype.clearVttFragQueues=function(){var e=this;this.vttFragQueues={},this.tracks.forEach(function(t){e.vttFragQueues[t.id]=[]})},t.prototype.nextFrag=function(){if(null===this.currentlyProcessing&&this.currentTrackId>-1&&this.vttFragQueues[this.currentTrackId].length){var e=this.currentlyProcessing=this.vttFragQueues[this.currentTrackId].shift();this.fragCurrent=e,this.hls.trigger(nt.a.FRAG_LOADING,{frag:e}),this.state=zn.FRAG_LOADING}},t.prototype.onSubtitleFragProcessed=function(e){e.success&&this.vttFragSNsProcessed[e.frag.trackId].push(e.frag.sn),this.currentlyProcessing=null,this.state=zn.IDLE,this.nextFrag()},t.prototype.onMediaAttached=function(){this.state=zn.IDLE},t.prototype.onError=function(e){var t=e.frag;t&&"subtitle"!==t.type||this.currentlyProcessing&&(this.currentlyProcessing=null,this.nextFrag())},t.prototype.doTick=function(){var e=this;switch(this.state){case zn.IDLE:var t=this.tracks,i=this.currentTrackId,n=this.vttFragSNsProcessed[i],r=this.vttFragQueues[i],a=this.currentlyProcessing?this.currentlyProcessing.sn:-1,o=function(e){return n.indexOf(e.sn)>-1},s=function(e){return r.some(function(t){return t.sn===e.sn})};if(!t)break;var l;if(i<t.length&&(l=t[i].details),"undefined"===typeof l)break;l.fragments.forEach(function(t){o(t)||t.sn===a||s(t)||(t.encrypted?(rt.b.log("Loading key for "+t.sn),e.state=zn.KEY_LOADING,e.hls.trigger(nt.a.KEY_LOADING,{frag:t})):(t.trackId=i,r.push(t),e.nextFrag()))})}},t.prototype.onSubtitleTracksUpdated=function(e){var t=this;rt.b.log("subtitle tracks updated"),this.tracks=e.subtitleTracks,this.clearVttFragQueues(),this.vttFragSNsProcessed={},this.tracks.forEach(function(e){t.vttFragSNsProcessed[e.id]=[]})},t.prototype.onSubtitleTrackSwitch=function(e){if(this.currentTrackId=e.id,this.tracks&&-1!==this.currentTrackId){var t=this.tracks[this.currentTrackId];t&&t.details&&this.tick()}},t.prototype.onSubtitleTrackLoaded=function(){this.tick()},t.prototype.onKeyLoaded=function(){this.state===zn.KEY_LOADING&&(this.state=zn.IDLE,this.tick())},t.prototype.onFragLoaded=function(e){var t=this.fragCurrent,i=e.frag.decryptdata,n=e.frag,r=this.hls;if(this.state===zn.FRAG_LOADING&&t&&"subtitle"===e.frag.type&&t.sn===e.frag.sn&&e.payload.byteLength>0&&null!=i&&null!=i.key&&"AES-128"===i.method){var a=void 0;try{a=Un.now()}catch(e){a=Date.now()}this.decrypter.decrypt(e.payload,i.key.buffer,i.iv.buffer,function(e){var t=void 0;try{t=Un.now()}catch(e){t=Date.now()}r.trigger(nt.a.FRAG_DECRYPTED,{frag:n,payload:e,stats:{tstart:a,tdecrypt:t}})})}},t}(oi),Vn=Hn,Gn=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),qn=window,Wn=qn.XMLHttpRequest,Yn={WIDEVINE:"com.widevine.alpha",PLAYREADY:"com.microsoft.playready"},Xn=function(e,t,i){var n={videoCapabilities:[]};return t.forEach(function(e){n.videoCapabilities.push({contentType:'video/mp4; codecs="'+e+'"'})}),[n]},Qn=function(e,t,i){switch(e){case Yn.WIDEVINE:return Xn(0,i);default:throw Error("Unknown key-system: "+e)}},Kn=function(e){function t(i){Xe(this,t);var n=Qe(this,e.call(this,i,nt.a.MEDIA_ATTACHED,nt.a.MANIFEST_PARSED));return n._widevineLicenseUrl=i.config.widevineLicenseUrl,n._licenseXhrSetup=i.config.licenseXhrSetup,n._emeEnabled=i.config.emeEnabled,n._requestMediaKeySystemAccess=i.config.requestMediaKeySystemAccessFunc,n._mediaKeysList=[],n._media=null,n._hasSetMediaKeys=!1,n._isMediaEncrypted=!1,n._requestLicenseFailureCount=0,n}return Ke(t,e),t.prototype.getLicenseServerUrl=function(e){var t=void 0;switch(e){case Yn.WIDEVINE:t=this._widevineLicenseUrl;break;default:t=null}return t||(rt.b.error('No license server URL configured for key-system "'+e+'"'),this.hls.trigger(nt.a.ERROR,{type:tt.b.KEY_SYSTEM_ERROR,details:tt.a.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0})),t},t.prototype._attemptKeySystemAccess=function(e,t,i){var n=this,r=Qn(e,0,i);if(!r)return void rt.b.warn("Can not create config for key-system (maybe because platform is not supported):",e);rt.b.log("Requesting encrypted media key-system access"),this.requestMediaKeySystemAccess(e,r).then(function(t){n._onMediaKeySystemAccessObtained(e,t)}).catch(function(t){rt.b.error('Failed to obtain key-system "'+e+'" access:',t)})},t.prototype._onMediaKeySystemAccessObtained=function(e,t){var i=this;rt.b.log('Access for key-system "'+e+'" obtained');var n={mediaKeys:null,mediaKeysSession:null,mediaKeysSessionInitialized:!1,mediaKeySystemAccess:t,mediaKeySystemDomain:e};this._mediaKeysList.push(n),t.createMediaKeys().then(function(t){n.mediaKeys=t,rt.b.log('Media-keys created for key-system "'+e+'"'),i._onMediaKeysCreated()}).catch(function(e){rt.b.error("Failed to create media-keys:",e)})},t.prototype._onMediaKeysCreated=function(){var e=this;this._mediaKeysList.forEach(function(t){t.mediaKeysSession||(t.mediaKeysSession=t.mediaKeys.createSession(),e._onNewMediaKeySession(t.mediaKeysSession))})},t.prototype._onNewMediaKeySession=function(e){var t=this;rt.b.log("New key-system session "+e.sessionId),e.addEventListener("message",function(i){t._onKeySessionMessage(e,i.message)},!1)},t.prototype._onKeySessionMessage=function(e,t){rt.b.log("Got EME message event, creating license request"),this._requestLicense(t,function(t){rt.b.log("Received license data, updating key-session"),e.update(t)})},t.prototype._onMediaEncrypted=function(e,t){rt.b.log('Media is encrypted using "'+e+'" init data type'),this._isMediaEncrypted=!0,this._mediaEncryptionInitDataType=e,this._mediaEncryptionInitData=t,this._attemptSetMediaKeys(),this._generateRequestWithPreferredKeySession()},t.prototype._attemptSetMediaKeys=function(){if(!this._hasSetMediaKeys){var e=this._mediaKeysList[0];if(!e||!e.mediaKeys)return rt.b.error("Fatal: Media is encrypted but no CDM access or no keys have been obtained yet"),void this.hls.trigger(nt.a.ERROR,{type:tt.b.KEY_SYSTEM_ERROR,details:tt.a.KEY_SYSTEM_NO_KEYS,fatal:!0});rt.b.log("Setting keys for encrypted media"),this._media.setMediaKeys(e.mediaKeys),this._hasSetMediaKeys=!0}},t.prototype._generateRequestWithPreferredKeySession=function(){var e=this,t=this._mediaKeysList[0];if(!t)return rt.b.error("Fatal: Media is encrypted but not any key-system access has been obtained yet"),void this.hls.trigger(nt.a.ERROR,{type:tt.b.KEY_SYSTEM_ERROR,details:tt.a.KEY_SYSTEM_NO_ACCESS,fatal:!0});if(t.mediaKeysSessionInitialized)return void rt.b.warn("Key-Session already initialized but requested again");var i=t.mediaKeysSession;i||(rt.b.error("Fatal: Media is encrypted but no key-session existing"),this.hls.trigger(nt.a.ERROR,{type:tt.b.KEY_SYSTEM_ERROR,details:tt.a.KEY_SYSTEM_NO_SESSION,fatal:!0}));var n=this._mediaEncryptionInitDataType,r=this._mediaEncryptionInitData;rt.b.log('Generating key-session request for "'+n+'" init data type'),t.mediaKeysSessionInitialized=!0,i.generateRequest(n,r).then(function(){rt.b.debug("Key-session generation succeeded")}).catch(function(t){rt.b.error("Error generating key-session request:",t),e.hls.trigger(nt.a.ERROR,{type:tt.b.KEY_SYSTEM_ERROR,details:tt.a.KEY_SYSTEM_NO_SESSION,fatal:!1})})},t.prototype._createLicenseXhr=function(e,t,i){var n=new Wn,r=this._licenseXhrSetup;try{if(r)try{r(n,e)}catch(t){n.open("POST",e,!0),r(n,e)}n.readyState||n.open("POST",e,!0)}catch(e){return rt.b.error("Error setting up key-system license XHR",e),void this.hls.trigger(nt.a.ERROR,{type:tt.b.KEY_SYSTEM_ERROR,details:tt.a.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0})}return n.responseType="arraybuffer",n.onreadystatechange=this._onLicenseRequestReadyStageChange.bind(this,n,e,t,i),n},t.prototype._onLicenseRequestReadyStageChange=function(e,t,i,n){switch(e.readyState){case 4:if(200===e.status)this._requestLicenseFailureCount=0,rt.b.log("License request succeeded"),n(e.response);else{if(rt.b.error("License Request XHR failed ("+t+"). Status: "+e.status+" ("+e.statusText+")"),++this._requestLicenseFailureCount<=3){var r=3-this._requestLicenseFailureCount+1;return rt.b.warn("Retrying license request, "+r+" attempts left"),void this._requestLicense(i,n)}this.hls.trigger(nt.a.ERROR,{type:tt.b.KEY_SYSTEM_ERROR,details:tt.a.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0})}}},t.prototype._generateLicenseRequestChallenge=function(e,t){var i=void 0;return e.mediaKeySystemDomain===Yn.PLAYREADY?rt.b.error("PlayReady is not supported (yet)"):e.mediaKeySystemDomain===Yn.WIDEVINE?i=t:rt.b.error("Unsupported key-system:",e.mediaKeySystemDomain),i},t.prototype._requestLicense=function(e,t){rt.b.log("Requesting content license for key-system");var i=this._mediaKeysList[0];if(!i)return rt.b.error("Fatal error: Media is encrypted but no key-system access has been obtained yet"),void this.hls.trigger(nt.a.ERROR,{type:tt.b.KEY_SYSTEM_ERROR,details:tt.a.KEY_SYSTEM_NO_ACCESS,fatal:!0});var n=this.getLicenseServerUrl(i.mediaKeySystemDomain),r=this._createLicenseXhr(n,e,t);rt.b.log("Sending license request to URL: "+n),r.send(this._generateLicenseRequestChallenge(i,e))},t.prototype.onMediaAttached=function(e){var t=this;if(this._emeEnabled){var i=e.media;this._media=i,i.addEventListener("encrypted",function(e){t._onMediaEncrypted(e.initDataType,e.initData)})}},t.prototype.onManifestParsed=function(e){if(this._emeEnabled){var t=e.levels.map(function(e){return e.audioCodec}),i=e.levels.map(function(e){return e.videoCodec});this._attemptKeySystemAccess(Yn.WIDEVINE,t,i)}},Gn(t,[{key:"requestMediaKeySystemAccess",get:function(){if(!this._requestMediaKeySystemAccess)throw new Error("No requestMediaKeySystemAccess function configured");return this._requestMediaKeySystemAccess}}]),t}(lt),Zn=Kn,Jn=function(){return"undefined"!==typeof window&&window.navigator&&window.navigator.requestMediaKeySystemAccess?window.navigator.requestMediaKeySystemAccess.bind(window.navigator):null}(),$n={autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,initialLiveManifestSize:1,maxBufferLength:30,maxBufferSize:6e7,maxBufferHole:.5,lowBufferWatchdogPeriod:.5,highBufferWatchdogPeriod:3,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,liveDurationInfinity:!1,maxMaxBufferLength:600,enableWorker:!0,enableSoftwareAES:!0,manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,startLevel:void 0,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:qi,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,abrController:Pi,bufferController:Mi,capLevelController:Li,fpsController:Ui,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,requestMediaKeySystemAccessFunc:Jn};$n.subtitleStreamController=Vn,$n.subtitleTrackController=Nn,$n.timelineController=Rn,$n.cueHandler=Je,$n.enableCEA708Captions=!0,$n.enableWebVTT=!0,$n.captionsTextTrack1Label="English",$n.captionsTextTrack1LanguageCode="en",$n.captionsTextTrack2Label="Spanish",$n.captionsTextTrack2LanguageCode="es",$n.audioStreamController=en,$n.audioTrackController=Xi,$n.emeController=Zn;var er=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();i(14);var tr=function(){function e(){var t=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Ze(this,e);var n=e.DefaultConfig;if((i.liveSyncDurationCount||i.liveMaxLatencyDurationCount)&&(i.liveSyncDuration||i.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");for(var r in n)r in i||(i[r]=n[r]);if(void 0!==i.liveMaxLatencyDurationCount&&i.liveMaxLatencyDurationCount<=i.liveSyncDurationCount)throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be gt "liveSyncDurationCount"');if(void 0!==i.liveMaxLatencyDuration&&(i.liveMaxLatencyDuration<=i.liveSyncDuration||void 0===i.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be gt "liveSyncDuration"');Object(rt.a)(i.debug),this.config=i,this._autoLevelCapping=-1;var a=this.observer=new Xt.a;a.trigger=function(e){for(var t=arguments.length,i=Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];a.emit.apply(a,[e,e].concat(i))},a.off=function(e){for(var t=arguments.length,i=Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];a.removeListener.apply(a,[e].concat(i))},this.on=a.on.bind(a),this.off=a.off.bind(a),this.once=a.once.bind(a),this.trigger=a.trigger.bind(a);var o=this.abrController=new i.abrController(this),s=new i.bufferController(this),l=new i.capLevelController(this),c=new i.fpsController(this),u=new Nt(this),h=new Ft(this),d=new zt(this),p=new Ai(this),f=this.levelController=new yi(this),m=new Vt(this),g=this.streamController=new di(this,m),v=[f,g],y=i.audioStreamController;y&&v.push(new y(this,m)),this.networkControllers=v;var b=[u,h,d,o,s,l,c,p,m];if(y=i.audioTrackController){var _=new y(this);this.audioTrackController=_,b.push(_)}if(y=i.subtitleTrackController){var A=new y(this);this.subtitleTrackController=A,b.push(A)}if(y=i.emeController){var E=new y(this);this.emeController=E,b.push(E)}[i.subtitleStreamController,i.timelineController].forEach(function(e){e&&b.push(new e(t))}),this.coreComponents=b}return e.isSupported=function(){return ae()},er(e,null,[{key:"version",get:function(){return"0.11.0"}},{key:"Events",get:function(){return nt.a}},{key:"ErrorTypes",get:function(){return tt.b}},{key:"ErrorDetails",get:function(){return tt.a}},{key:"DefaultConfig",get:function(){return e.defaultConfig?e.defaultConfig:$n},set:function(t){e.defaultConfig=t}}]),e.prototype.destroy=function(){rt.b.log("destroy"),this.trigger(nt.a.DESTROYING),this.detachMedia(),this.coreComponents.concat(this.networkControllers).forEach(function(e){e.destroy()}),this.url=null,this.observer.removeAllListeners(),this._autoLevelCapping=-1},e.prototype.attachMedia=function(e){rt.b.log("attachMedia"),this.media=e,this.trigger(nt.a.MEDIA_ATTACHING,{media:e})},e.prototype.detachMedia=function(){rt.b.log("detachMedia"),this.trigger(nt.a.MEDIA_DETACHING),this.media=null},e.prototype.loadSource=function(e){e=et.a.buildAbsoluteURL(window.location.href,e,{alwaysNormalize:!0}),rt.b.log("loadSource:"+e),this.url=e,this.trigger(nt.a.MANIFEST_LOADING,{url:e})},e.prototype.startLoad=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;rt.b.log("startLoad("+e+")"),this.networkControllers.forEach(function(t){t.startLoad(e)})},e.prototype.stopLoad=function(){rt.b.log("stopLoad"),this.networkControllers.forEach(function(e){e.stopLoad()})},e.prototype.swapAudioCodec=function(){rt.b.log("swapAudioCodec"),this.streamController.swapAudioCodec()},e.prototype.recoverMediaError=function(){rt.b.log("recoverMediaError");var e=this.media;this.detachMedia(),this.attachMedia(e)},er(e,[{key:"levels",get:function(){return this.levelController.levels}},{key:"currentLevel",get:function(){return this.streamController.currentLevel},set:function(e){rt.b.log("set currentLevel:"+e),this.loadLevel=e,this.streamController.immediateLevelSwitch()}},{key:"nextLevel",get:function(){return this.streamController.nextLevel},set:function(e){rt.b.log("set nextLevel:"+e),this.levelController.manualLevel=e,this.streamController.nextLevelSwitch()}},{key:"loadLevel",get:function(){return this.levelController.level},set:function(e){rt.b.log("set loadLevel:"+e),this.levelController.manualLevel=e}},{key:"nextLoadLevel",get:function(){return this.levelController.nextLoadLevel},set:function(e){this.levelController.nextLoadLevel=e}},{key:"firstLevel",get:function(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)},set:function(e){rt.b.log("set firstLevel:"+e),this.levelController.firstLevel=e}},{key:"startLevel",get:function(){return this.levelController.startLevel},set:function(e){rt.b.log("set startLevel:"+e);var t=this;-1!==e&&(e=Math.max(e,t.minAutoLevel)),t.levelController.startLevel=e}},{key:"autoLevelCapping",get:function(){return this._autoLevelCapping},set:function(e){rt.b.log("set autoLevelCapping:"+e),this._autoLevelCapping=e}},{key:"autoLevelEnabled",get:function(){return-1===this.levelController.manualLevel}},{key:"manualLevel",get:function(){return this.levelController.manualLevel}},{key:"minAutoLevel",get:function(){for(var e=this,t=e.levels,i=e.config.minAutoBitrate,n=t?t.length:0,r=0;r<n;r++){if((t[r].realBitrate?Math.max(t[r].realBitrate,t[r].bitrate):t[r].bitrate)>i)return r}return 0}},{key:"maxAutoLevel",get:function(){var e=this,t=e.levels,i=e.autoLevelCapping;return-1===i&&t&&t.length?t.length-1:i}},{key:"nextAutoLevel",get:function(){var e=this;return Math.min(Math.max(e.abrController.nextAutoLevel,e.minAutoLevel),e.maxAutoLevel)},set:function(e){var t=this;t.abrController.nextAutoLevel=Math.max(t.minAutoLevel,e)}},{key:"audioTracks",get:function(){var e=this.audioTrackController;return e?e.audioTracks:[]}},{key:"audioTrack",get:function(){var e=this.audioTrackController;return e?e.audioTrack:-1},set:function(e){var t=this.audioTrackController;t&&(t.audioTrack=e)}},{key:"liveSyncPosition",get:function(){return this.streamController.liveSyncPosition}},{key:"subtitleTracks",get:function(){var e=this.subtitleTrackController;return e?e.subtitleTracks:[]}},{key:"subtitleTrack",get:function(){var e=this.subtitleTrackController;return e?e.subtitleTrack:-1},set:function(e){var t=this.subtitleTrackController;t&&(t.subtitleTrack=e)}},{key:"subtitleDisplay",get:function(){var e=this.subtitleTrackController;return!!e&&e.subtitleDisplay},set:function(e){var t=this.subtitleTrackController;t&&(t.subtitleDisplay=e)}}]),e}();t.default=tr},function(e,t,i){function n(e){function t(n){if(i[n])return i[n].exports;var r=i[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var i={};t.m=e,t.c=i,t.i=function(e){return e},t.d=function(e,i,n){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t.oe=function(e){throw console.error(e),e};var n=t(t.s=ENTRY_MODULE);return n.default||n}function r(e){return(e+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function a(e,t,n){var a={};a[n]=[];var o=t.toString(),s=o.match(/^function\s?\(\w+,\s*\w+,\s*(\w+)\)/);if(!s)return a;for(var u,h=s[1],d=new RegExp("(\\\\n|\\W)"+r(h)+c,"g");u=d.exec(o);)"dll-reference"!==u[3]&&a[n].push(u[3]);for(d=new RegExp("\\("+r(h)+'\\("(dll-reference\\s('+l+'))"\\)\\)'+c,"g");u=d.exec(o);)e[u[2]]||(a[n].push(u[1]),e[u[2]]=i(u[1]).m),a[u[2]]=a[u[2]]||[],a[u[2]].push(u[4]);return a}function o(e){return Object.keys(e).reduce(function(t,i){return t||e[i].length>0},!1)}function s(e,t){for(var i={main:[t]},n={main:[]},r={main:{}};o(i);)for(var s=Object.keys(i),l=0;l<s.length;l++){var c=s[l],u=i[c],h=u.pop();if(r[c]=r[c]||{},!r[c][h]&&e[c][h]){r[c][h]=!0,n[c]=n[c]||[],n[c].push(h);for(var d=a(e,e[c][h],c),p=Object.keys(d),f=0;f<p.length;f++)i[p[f]]=i[p[f]]||[],i[p[f]]=i[p[f]].concat(d[p[f]])}}return n}var l="[\\.|\\-|\\+|\\w|/|@]+",c="\\((/\\*.*?\\*/)?s?.*?("+l+").*?\\)";e.exports=function(e,t){t=t||{};var r={main:i.m},a=t.all?{main:Object.keys(r)}:s(r,e),o="";Object.keys(a).filter(function(e){return"main"!==e}).forEach(function(e){for(var t=0;a[e][t];)t++;a[e].push(t),r[e][t]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",o=o+"var "+e+" = ("+n.toString().replace("ENTRY_MODULE",JSON.stringify(t))+")({"+a[e].map(function(t){return JSON.stringify(t)+": "+r[e][t].toString()}).join(",")+"});\n"}),o=o+"("+n.toString().replace("ENTRY_MODULE",JSON.stringify(e))+")({"+a.main.map(function(e){return JSON.stringify(e)+": "+r.main[e].toString()}).join(",")+"})(self);";var l=new window.Blob([o],{type:"text/javascript"});if(t.bare)return l;var c=window.URL||window.webkitURL||window.mozURL||window.msURL,u=c.createObjectURL(l),h=new window.Worker(u);return h.objectURL=u,h}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(10),r=i(1),a=i(0),o=i(7),s=i.n(o),l=function(e){var t=new s.a;t.trigger=function(e){for(var i=arguments.length,n=Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];t.emit.apply(t,[e,e].concat(n))},t.off=function(e){for(var i=arguments.length,n=Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];t.removeListener.apply(t,[e].concat(n))};var i=function(t,i){e.postMessage({event:t,data:i})};e.addEventListener("message",function(r){var o=r.data;switch(o.cmd){case"init":var s=JSON.parse(o.config);e.demuxer=new n.a(t,o.typeSupported,s,o.vendor);try{Object(a.a)(!0===s.debug)}catch(e){console.warn("demuxerWorker: unable to enable logs")}i("init",null);break;case"demux":e.demuxer.push(o.data,o.decryptdata,o.initSegment,o.audioCodec,o.videoCodec,o.timeOffset,o.discontinuity,o.trackSwitch,o.contiguous,o.duration,o.accurateTimeOffset,o.defaultInitPTS)}}),t.on(r.a.FRAG_DECRYPTED,i),t.on(r.a.FRAG_PARSING_INIT_SEGMENT,i),t.on(r.a.FRAG_PARSED,i),t.on(r.a.ERROR,i),t.on(r.a.FRAG_PARSING_METADATA,i),t.on(r.a.FRAG_PARSING_USERDATA,i),t.on(r.a.INIT_PTS_FOUND,i),t.on(r.a.FRAG_PARSING_DATA,function(t,i){var n=[],r={event:t,data:i};i.data1&&(r.data1=i.data1.buffer,n.push(i.data1.buffer),delete i.data1),i.data2&&(r.data2=i.data2.buffer,n.push(i.data2.buffer),delete i.data2),e.postMessage(r,n)})};t.default=l},function(e,t){String.prototype.endsWith||function(){"use strict";var e=function(){try{var e={},t=Object.defineProperty,i=t(e,e,e)&&t}catch(e){}return i}(),t={}.toString,i=function(e){if(null==this)throw TypeError();var i=String(this);if(e&&"[object RegExp]"==t.call(e))throw TypeError();var n=i.length,r=String(e),a=r.length,o=n;if(arguments.length>1){var s=arguments[1];void 0!==s&&(o=s?Number(s):0)!=o&&(o=0)}var l=Math.min(Math.max(o,0),n),c=l-a;if(c<0)return!1;for(var u=-1;++u<a;)if(i.charCodeAt(c+u)!=r.charCodeAt(u))return!1;return!0};e?e(String.prototype,"endsWith",{value:i,configurable:!0,writable:!0}):String.prototype.endsWith=i}()}]).default})},1419:function(e,t,i){"use strict";function n(e,t){if(e&&e.special){var i=A.a.getFiles(),n="";if(!e.special.media_url&&e.special.uploading&&e.special.buffer&&i[e.special.buffer]&&i[e.special.buffer].media_id===e.obj_id)n=i[e.special.buffer].url;else if(!e.special.media_url)for(var l=0;l<i.length;l++)if(i[l].media_id===e.obj_id){n=i[l].url;break}switch(e.obj_type){case"video":r(e,t,n);break;case"audio":a(e,t,n);break;case"image":o(e,t,n);break;case"text":s(e,t)}}}function r(e,t,i){if(!(E&&e.special.preview_hls||E&&e.special.media_url&&e.special.media_url.toLocaleLowerCase().indexOf(".m3u8")>-1||e.special.media_url&&e.special.media_url.toLocaleLowerCase().indexOf(".mp4")>-1||i))return _.f[e.obj_id]=_.f[e.obj_id]||{},void(_.f[e.obj_id][t+"_"]=e);if(e.trans_end&&e.trans_end.bind&&!_.l[e.obj_id+"_"+t+"_trans"]){_.l[e.obj_id+"_"+t+"_trans"]=document.createElement(e.obj_type),_.l[e.obj_id+"_"+t+"_trans"].crossOrigin="anonymous",_.l[e.obj_id+"_"+t+"_trans"].onerror=function(i){_.l[e.obj_id+"_"+t+"_trans"].crossOrigin=null,_.l[e.obj_id+"_"+t+"_trans"].onerror=null,_.l[e.obj_id+"_"+t+"_trans"].load(),_.g[e.obj_id]=_.g[e.obj_id]||{},_.g[e.obj_id][e.obj_id+"_"+t+"_trans"]=!0},E&&e.special.preview_hls&&w?(_.c[e.obj_id+"_"+t+"_trans"]=new d.a,_.c[e.obj_id+"_"+t+"_trans"].loadSource(e.special.preview_hls),_.c[e.obj_id+"_"+t+"_trans"].attachMedia(_.l[e.obj_id+"_"+t+"_trans"])):E&&e.special.media_url&&e.special.media_url.toLocaleLowerCase().indexOf(".m3u8")>-1?(_.c[e.obj_id+"_"+t+"_trans"]=new d.a,_.c[e.obj_id+"_"+t+"_trans"].loadSource(e.special.media_url),_.c[e.obj_id+"_"+t+"_trans"].attachMedia(_.l[e.obj_id+"_"+t+"_trans"])):e.special.preview_mp4&&e.special.preview_mp4.toLocaleLowerCase().indexOf(".mp4")>-1?_.l[e.obj_id+"_"+t+"_trans"].src=e.special.preview_mp4||i:_.l[e.obj_id+"_"+t+"_trans"].src=e.special.media_url||i;var n=_.l[e.obj_id+"_"+t+"_trans"];n.currentTime=5,n.oncanplay=function(){var e=270,t=480;t=n.videoWidth||t,e=n.videoHeight||e,t/e>16/9?(e=e/t*480,t=480):(t=t/e*270,e=270),C.width=t,C.height=e,O.drawImage(n,0,0,t,e),n.thumbnail=S.toDataURL("image/png"),n.oncanplay=function(){},n.currentTime=0}}if(!_.l[e.obj_id+"_"+t]){_.l[e.obj_id+"_"+t]=document.createElement(e.obj_type),_.l[e.obj_id+"_"+t].crossOrigin="anonymous",_.l[e.obj_id+"_"+t].onerror=function(i){_.l[e.obj_id+"_"+t].crossOrigin=null,_.l[e.obj_id+"_"+t].onerror=null,_.l[e.obj_id+"_"+t].load(),_.g[e.obj_id]=_.g[e.obj_id]||{},_.g[e.obj_id][e.obj_id+"_"+t]=!0},E&&e.special.preview_hls&&w?(_.c[e.obj_id+"_"+t]=new d.a,_.c[e.obj_id+"_"+t].loadSource(e.special.preview_hls),_.c[e.obj_id+"_"+t].attachMedia(_.l[e.obj_id+"_"+t])):E&&e.special.media_url&&e.special.media_url.toLocaleLowerCase().indexOf(".m3u8")>-1?(_.c[e.obj_id+"_"+t]=new d.a,_.c[e.obj_id+"_"+t].loadSource(e.special.media_url),_.c[e.obj_id+"_"+t].attachMedia(_.l[e.obj_id+"_"+t])):e.special.preview_mp4&&e.special.preview_mp4.toLocaleLowerCase().indexOf(".mp4")>-1?_.l[e.obj_id+"_"+t].src=e.special.preview_mp4||i:_.l[e.obj_id+"_"+t].src=e.special.media_url||i;var r=_.l[e.obj_id+"_"+t];r.currentTime=5,r.onloadeddata=function(){var e=270,t=480;t=r.videoWidth||t,e=r.videoHeight||e,t/e>16/9?(e=e/t*480,t=480):(t=t/e*270,e=270),C.width=t,C.height=e,O.drawImage(r,0,0,t,e);try{r.thumbnail=C.toDataURL("image/png")}catch(e){r.thumbnail="",m.t.warning("\u8be5\u754c\u9762\u4e2d\u5305\u542b\u672a\u5bfc\u5165\u5b8c\u6210\u7d20\u6750\uff0c\u8bf7\u8010\u5fc3\u7b49\u5f85\uff01\uff01")}r.onloadeddata=function(){},r.currentTime=0}}}function a(e,t,i){if(!(e.special.preview_mp3||e.special.media_url&&e.special.media_url.toLocaleLowerCase().indexOf(".mp3")>-1||i))return _.f[e.obj_id]=_.f[e.obj_id]||{},void(_.f[e.obj_id][t+"_"]=e);if(!_.l[e.obj_id+"_"+t]){_.l[e.obj_id+"_"+t]=document.createElement(e.obj_type),_.l[e.obj_id+"_"+t].src=e.special.preview_mp3||e.special.media_url||i;var n=_.l[e.obj_id+"_"+t];n.onloadeddata=function(){n.duration===1/0&&(n.currentTime=99999)}}}function o(e,t,i){_.l[e.obj_id+"_"+t]||(_.l[e.obj_id+"_"+t]=document.createElement("img"),_.l[e.obj_id+"_"+t].crossOrigin="anonymous",_.l[e.obj_id+"_"+t].onerror=function(i){_.l[e.obj_id+"_"+t].crossOrigin=null,_.l[e.obj_id+"_"+t].onerror=null,_.l[e.obj_id+"_"+t].load(),_.g[e.obj_id]=_.g[e.obj_id]||{},_.g[e.obj_id][e.obj_id+"_"+t]=!0},_.l[e.obj_id+"_"+t].onerror=function(){_.l[e.obj_id+"_"+t].crossOrigin=null,_.l[e.obj_id+"_"+t].onerror=null,_.l[e.obj_id+"_"+t].src=e.special.thumbnail||e.special.media_url||i,_.g[e.obj_id]=_.g[e.obj_id]||{},_.g[e.obj_id][e.obj_id+"_"+t]=!0},_.l[e.obj_id+"_"+t].src=e.special.thumbnail||e.special.media_url||i)}function s(e,t){if("animation"===e.special.sub_type)return void l(e,t);_.l[e.obj_id+"_"+t]||(c(e.special),_.l[e.obj_id+"_"+t]=document.createElement("img"),_.l[e.obj_id+"_"+t].crossOrigin="anonymous",_.l[e.obj_id+"_"+t]&&(_.l[e.obj_id+"_"+t].src=e.special.svg1),setTimeout(function(){c(e.special),_.l[e.obj_id+"_"+t]&&(_.l[e.obj_id+"_"+t].src=e.special.svg1)},1e3))}function l(e,t){if(!_.l[e.obj_id+"_"+t]){var i=Object(y.b)(e.special.media_url||e.special.json_url);i.fonts={list:j},i.layers.map(function(t,n){if(5===t.ty){var r=t.t.d.k[0].s;if(r.tr=0,e.layers&&e.layers[n]){var a=e.layers[n].s||{};for(var o in r)a[o]&&a[o]!==r[o]&&(r[o]=a[o])}}else if(0===t.ty){var s=t;i.assets.map(function(t,i){t.id&&t.id===s.refId&&t.layers.map(function(t,i){if(5===t.ty){var n=t.t.d.k[0].s;if(n.tr=0,e.layers&&e.layers[i]){var r=e.layers[i].s||{};for(var a in n)r[a]&&r[a]!==n[a]&&(n[a]=r[a])}}})})}}),e.special&&(e.special.position_w=i.w,e.special.position_h=i.h);var n={wrapper:document.createElement("div"),animType:"svg",loop:!0,prerender:!0,autoplay:!0,animationData:i};_.l[e.obj_id+"_"+t]=document.createElement("img"),_.l[e.obj_id+"_"+t].crossOrigin="anonymous",_.l[e.obj_id+"_"+t].lottie=v.a.loadAnimation(n),_.l[e.obj_id+"_"+t].lottie.goToAndStop(_.l[e.obj_id+"_"+t].lottie.totalFrames/2,!0);var r=new Blob([_.l[e.obj_id+"_"+t].lottie.wrapper.innerHTML],{type:"image/svg+xml;charset=utf-8"}),a=URL.createObjectURL(r);_.l[e.obj_id+"_"+t].src=a}}function c(e){function t(n){for(var l=0;l<n.length;l++){var u=n[l];if("P"===u.nodeName&&(r.push(0),a=l),3===u.nodeType){k.font=c+" "+h+" "+e.font_size+"px "+g;for(var p=0;p<u.textContent.length;p++)r[a]+=k.measureText(u.textContent[p]).width+1*e.spacing}else if(1===u.nodeType){switch(u.nodeName){case"P":o=l,s=0,i(u);break;case"EM":c="oblique";break;case"STRONG":h="bold";break;case"U":d=!0}var f="";switch(u.className&&-1!==u.className.toLocaleLowerCase().indexOf("ql-font-")&&(f=u.className.split("ql-font-")[1]),g=f||g,t(n[l].childNodes),f&&(g="_fangsong"),u.nodeName){case"P":o=l,s=0,i(u);break;case"EM":c="normal";break;case"STRONG":h="normal";break;case"U":d=!1}}}}function i(e){var t=e.className.split("ql-align-")[1];switch(c="normal",h="normal",m="",d=!1,g="_fangsong",t){case"left":l=0;break;case"center":l=(S.width-r[o])/2;break;case"right":l=S.width-r[o];break;default:l=0}}function n(t){for(var r=0;r<t.length;r++){var a=t[r];if(1===a.nodeType){switch(a.nodeName){case"P":o=r,s=0,i(a);break;case"EM":c="oblique";break;case"STRONG":h="bold";break;case"U":d=!0}var u="";a.className&&-1!==a.className.toLocaleLowerCase().indexOf("ql-font-")&&(u=a.className.split("ql-font-")[1]);var v=f()(a).css("color"),y=f()(a).css("backgroundColor");switch(g=u||g,p=v||p,m=y||m,n(t[r].childNodes),v&&(p="#000"),y&&(m=""),u&&(g="_fangsong"),a.nodeName){case"P":o=r,s=0,i(a);break;case"EM":c="normal";break;case"STRONG":h="normal";break;case"U":d=!1}}else if(3===a.nodeType){k.font=c+" "+h+" "+e.font_size+"px "+g,k.textBaseline="middle";var b=0;m&&(k.fillStyle=m),m&&k.fillRect(l,o*e.line_height,k.measureText(a.textContent).width+a.textContent.length*e.spacing,e.line_height);for(var _=0;_<a.textContent.length;_++){var A=k.measureText(a.textContent[_]).width+1*e.spacing;k.fillStyle=p||"#000",d&&k.fillRect(l+b,(o+1)*e.line_height+(e.font_size-e.line_height)/2,A,4),k.fillText(a.textContent[_],l+b+e.spacing/2,(o+.5)*e.line_height),b+=A}l+=b}}}x.innerHTML=u(e.text),S.width=e.position_w,S.height=e.position_h,k.font=e.font_size+"px _fangsong",k.beginPath();var r=[],a=0,o=0,s=0,l=0,c="normal",h="normal",d=!1,p="#000",m="",g="arial";t(x.childNodes),n(x.childNodes),k.stroke(),e.svg1=S.toDataURL("image/png")}function u(e){var t="";return 0===e.length?"":(t=e.replace(/&amp;/g,"&"),t=t.replace(/&lt;/g,"<"),t=t.replace(/&gt;/g,">"),t=t.replace(/&nbsp;/g," "),t=t.replace(/&#39;/g,"'"),t=t.replace(/&quot;/g,'"'))}t.a=n,t.b=c;var h=i(1418),d=i.n(h),p=i(70),f=i.n(p),m=i(52),g=i(1390),v=i.n(g),y=i(84),b=i(1379),_=i(1391),A=i(511),E=d.a.isSupported(),w=!1,x=document.createElement("div"),T=document.createElement("img"),S=document.createElement("canvas"),C=document.createElement("canvas"),k=S.getContext("2d"),O=C.getContext("2d");T.crossOrigin="anonymous";var P=Object(b.b)(),j=[{origin:0,fClass:"",fStyle:"Regular",fPath:"",fFamily:"FZFangSong-Z02S",fName:"FZFangSong-Z02S",fWeight:"",ascent:1},{origin:0,fClass:"",fStyle:"Regular",fPath:"",fFamily:"FZHei-B01S",fName:"FZHei-B01S",fWeight:"",ascent:1},{origin:0,fClass:"",fStyle:"Regular",fPath:"",fFamily:"FZKai-Z03S",fName:"FZKai-Z03S",fWeight:"",ascent:1},{origin:0,fClass:"",fStyle:"Regular",fPath:"",fFamily:"FZShuSong-Z01S",fName:"FZShuSong-Z01S",fWeight:"",ascent:1},{origin:0,fClass:"",fStyle:"Regular",fPath:"",fFamily:"HappyZcool-2016",fName:"HappyZcool-2016",fWeight:"",ascent:1},{origin:0,fClass:"",fStyle:"Regular",fPath:"",fFamily:"zcool-gdh",fName:"zcool-gdh",fWeight:"",ascent:1},{origin:0,fClass:"",fStyle:"Regular",fPath:"",fFamily:"HuXiaoBo_KuHei",fName:"HuXiaoBo_KuHei",fWeight:"",ascent:1},{origin:0,fClass:"",fStyle:"Regular",fPath:"",fFamily:"a dripping marker",fName:"a dripping marker",fWeight:"",ascent:1},{origin:0,fClass:"",fStyle:"Regular",fPath:"",fFamily:"Aspire",fName:"Aspire",fWeight:"",ascent:1},{origin:0,fClass:"",fStyle:"Regular",fPath:"",fFamily:"Champignon",fName:"Champignon",fWeight:"",ascent:1},{origin:0,fClass:"",fStyle:"Regular",fPath:"",fFamily:"Great Vibes",fName:"Great Vibes",fWeight:"",ascent:1},{origin:0,fClass:"",fStyle:"Regular",fPath:"",fFamily:"Regencie Alt",fName:"Regencie Alt",fWeight:"",ascent:1},{origin:0,fClass:"",fStyle:"Regular",fPath:"",fFamily:"TruenoBdOl",fName:"TruenoBdOl",fWeight:"",ascent:1},{origin:0,fClass:"",fStyle:"Regular",fPath:"",fFamily:"TruenoRg",fName:"TruenoRg",fWeight:"",ascent:1}];P.length&&(j=[]),P.map(function(e,t){j.push({origin:0,fPath:"",fClass:"",fFamily:e.code,fWeight:"",fStyle:"Regular",fName:e.code,ascent:1})}),Object(_.e)(function(e){e.map(function(e,t){var i=_.g[e.media_id];console.info(e.status);var r=_.f[e.media_id];if(4!==e.status&&i){for(var a in i)i[a]&&_.l[a]&&(_.l[a].crossOrigin="anonymous",_.l[a].src=e.media_url);delete _.f[e.media_id]}if(r&&(2!==e.status&&5!==e.status||delete _.f[e.media_id],1===e.status)){for(var o in r)r[o].special.preview_hls=e.preview_hls||"",r[o].special.preview_mp3=e.preview_mp3||"",r[o].special.media_url=e.media_url||"",n(r[o],o.split("_")[0]);delete _.f[e.media_id]}})})},1420:function(e,t,i){"use strict";(function(e){function n(){return a.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function r(e,t){if(n()<t)throw new RangeError("Invalid typed array length");return a.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t),e.__proto__=a.prototype):(null===e&&(e=new a(t)),e.length=t),e}function a(e,t,i){if(!a.TYPED_ARRAY_SUPPORT&&!(this instanceof a))return new a(e,t,i);if("number"===typeof e){if("string"===typeof t)throw new Error("If encoding is specified then the first argument must be a string");return c(this,e)}return o(this,e,t,i)}function o(e,t,i,n){if("number"===typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&t instanceof ArrayBuffer?d(e,t,i,n):"string"===typeof t?u(e,t,i):p(e,t)}function s(e){if("number"!==typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function l(e,t,i,n){return s(t),t<=0?r(e,t):void 0!==i?"string"===typeof n?r(e,t).fill(i,n):r(e,t).fill(i):r(e,t)}function c(e,t){if(s(t),e=r(e,t<0?0:0|f(t)),!a.TYPED_ARRAY_SUPPORT)for(var i=0;i<t;++i)e[i]=0;return e}function u(e,t,i){if("string"===typeof i&&""!==i||(i="utf8"),!a.isEncoding(i))throw new TypeError('"encoding" must be a valid string encoding');var n=0|g(t,i);e=r(e,n);var o=e.write(t,i);return o!==n&&(e=e.slice(0,o)),e}function h(e,t){var i=t.length<0?0:0|f(t.length);e=r(e,i);for(var n=0;n<i;n+=1)e[n]=255&t[n];return e}function d(e,t,i,n){if(t.byteLength,i<0||t.byteLength<i)throw new RangeError("'offset' is out of bounds");if(t.byteLength<i+(n||0))throw new RangeError("'length' is out of bounds");return t=void 0===i&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,i):new Uint8Array(t,i,n),a.TYPED_ARRAY_SUPPORT?(e=t,e.__proto__=a.prototype):e=h(e,t),e}function p(e,t){if(a.isBuffer(t)){var i=0|f(t.length);return e=r(e,i),0===e.length?e:(t.copy(e,0,0,i),e)}if(t){if("undefined"!==typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!==typeof t.length||Q(t.length)?r(e,0):h(e,t);if("Buffer"===t.type&&J(t.data))return h(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function f(e){if(e>=n())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n().toString(16)+" bytes");return 0|e}function m(e){return+e!=e&&(e=0),a.alloc(+e)}function g(e,t){if(a.isBuffer(e))return e.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!==typeof e&&(e=""+e);var i=e.length;if(0===i)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":case void 0:return G(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return Y(e).length;default:if(n)return G(e).length;t=(""+t).toLowerCase(),n=!0}}function v(e,t,i){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===i||i>this.length)&&(i=this.length),i<=0)return"";if(i>>>=0,t>>>=0,i<=t)return"";for(e||(e="utf8");;)switch(e){case"hex":return I(this,t,i);case"utf8":case"utf-8":return k(this,t,i);case"ascii":return P(this,t,i);case"latin1":case"binary":return j(this,t,i);case"base64":return C(this,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,t,i);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function y(e,t,i){var n=e[t];e[t]=e[i],e[i]=n}function b(e,t,i,n,r){if(0===e.length)return-1;if("string"===typeof i?(n=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),i=+i,isNaN(i)&&(i=r?0:e.length-1),i<0&&(i=e.length+i),i>=e.length){if(r)return-1;i=e.length-1}else if(i<0){if(!r)return-1;i=0}if("string"===typeof t&&(t=a.from(t,n)),a.isBuffer(t))return 0===t.length?-1:_(e,t,i,n,r);if("number"===typeof t)return t&=255,a.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(e,t,i):Uint8Array.prototype.lastIndexOf.call(e,t,i):_(e,[t],i,n,r);throw new TypeError("val must be string, number or Buffer")}function _(e,t,i,n,r){function a(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}var o=1,s=e.length,l=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;o=2,s/=2,l/=2,i/=2}var c;if(r){var u=-1;for(c=i;c<s;c++)if(a(e,c)===a(t,-1===u?0:c-u)){if(-1===u&&(u=c),c-u+1===l)return u*o}else-1!==u&&(c-=c-u),u=-1}else for(i+l>s&&(i=s-l),c=i;c>=0;c--){for(var h=!0,d=0;d<l;d++)if(a(e,c+d)!==a(t,d)){h=!1;break}if(h)return c}return-1}function A(e,t,i,n){i=Number(i)||0;var r=e.length-i;n?(n=Number(n))>r&&(n=r):n=r;var a=t.length;if(a%2!==0)throw new TypeError("Invalid hex string");n>a/2&&(n=a/2);for(var o=0;o<n;++o){var s=parseInt(t.substr(2*o,2),16);if(isNaN(s))return o;e[i+o]=s}return o}function E(e,t,i,n){return X(G(t,e.length-i),e,i,n)}function w(e,t,i,n){return X(q(t),e,i,n)}function x(e,t,i,n){return w(e,t,i,n)}function T(e,t,i,n){return X(Y(t),e,i,n)}function S(e,t,i,n){return X(W(t,e.length-i),e,i,n)}function C(e,t,i){return 0===t&&i===e.length?K.fromByteArray(e):K.fromByteArray(e.slice(t,i))}function k(e,t,i){i=Math.min(e.length,i);for(var n=[],r=t;r<i;){var a=e[r],o=null,s=a>239?4:a>223?3:a>191?2:1;if(r+s<=i){var l,c,u,h;switch(s){case 1:a<128&&(o=a);break;case 2:l=e[r+1],128===(192&l)&&(h=(31&a)<<6|63&l)>127&&(o=h);break;case 3:l=e[r+1],c=e[r+2],128===(192&l)&&128===(192&c)&&(h=(15&a)<<12|(63&l)<<6|63&c)>2047&&(h<55296||h>57343)&&(o=h);break;case 4:l=e[r+1],c=e[r+2],u=e[r+3],128===(192&l)&&128===(192&c)&&128===(192&u)&&(h=(15&a)<<18|(63&l)<<12|(63&c)<<6|63&u)>65535&&h<1114112&&(o=h)}}null===o?(o=65533,s=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),r+=s}return O(n)}function O(e){var t=e.length;if(t<=$)return String.fromCharCode.apply(String,e);for(var i="",n=0;n<t;)i+=String.fromCharCode.apply(String,e.slice(n,n+=$));return i}function P(e,t,i){var n="";i=Math.min(e.length,i);for(var r=t;r<i;++r)n+=String.fromCharCode(127&e[r]);return n}function j(e,t,i){var n="";i=Math.min(e.length,i);for(var r=t;r<i;++r)n+=String.fromCharCode(e[r]);return n}function I(e,t,i){var n=e.length;(!t||t<0)&&(t=0),(!i||i<0||i>n)&&(i=n);for(var r="",a=t;a<i;++a)r+=V(e[a]);return r}function M(e,t,i){for(var n=e.slice(t,i),r="",a=0;a<n.length;a+=2)r+=String.fromCharCode(n[a]+256*n[a+1]);return r}function R(e,t,i){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>i)throw new RangeError("Trying to access beyond buffer length")}function D(e,t,i,n,r,o){if(!a.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>r||t<o)throw new RangeError('"value" argument is out of bounds');if(i+n>e.length)throw new RangeError("Index out of range")}function L(e,t,i,n){t<0&&(t=65535+t+1);for(var r=0,a=Math.min(e.length-i,2);r<a;++r)e[i+r]=(t&255<<8*(n?r:1-r))>>>8*(n?r:1-r)}function N(e,t,i,n){t<0&&(t=4294967295+t+1);for(var r=0,a=Math.min(e.length-i,4);r<a;++r)e[i+r]=t>>>8*(n?r:3-r)&255}function B(e,t,i,n,r,a){if(i+n>e.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function F(e,t,i,n,r){return r||B(e,t,i,4,3.4028234663852886e38,-3.4028234663852886e38),Z.write(e,t,i,n,23,4),i+4}function U(e,t,i,n,r){return r||B(e,t,i,8,1.7976931348623157e308,-1.7976931348623157e308),Z.write(e,t,i,n,52,8),i+8}function z(e){if(e=H(e).replace(ee,""),e.length<2)return"";for(;e.length%4!==0;)e+="=";return e}function H(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function V(e){return e<16?"0"+e.toString(16):e.toString(16)}function G(e,t){t=t||1/0;for(var i,n=e.length,r=null,a=[],o=0;o<n;++o){if((i=e.charCodeAt(o))>55295&&i<57344){if(!r){if(i>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(o+1===n){(t-=3)>-1&&a.push(239,191,189);continue}r=i;continue}if(i<56320){(t-=3)>-1&&a.push(239,191,189),r=i;continue}i=65536+(r-55296<<10|i-56320)}else r&&(t-=3)>-1&&a.push(239,191,189);if(r=null,i<128){if((t-=1)<0)break;a.push(i)}else if(i<2048){if((t-=2)<0)break;a.push(i>>6|192,63&i|128)}else if(i<65536){if((t-=3)<0)break;a.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return a}function q(e){for(var t=[],i=0;i<e.length;++i)t.push(255&e.charCodeAt(i));return t}function W(e,t){for(var i,n,r,a=[],o=0;o<e.length&&!((t-=2)<0);++o)i=e.charCodeAt(o),n=i>>8,r=i%256,a.push(r),a.push(n);return a}function Y(e){return K.toByteArray(z(e))}function X(e,t,i,n){for(var r=0;r<n&&!(r+i>=t.length||r>=e.length);++r)t[r+i]=e[r];return r}function Q(e){return e!==e}var K=i(1456),Z=i(1457),J=i(1458);t.Buffer=a,t.SlowBuffer=m,t.INSPECT_MAX_BYTES=50,a.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"===typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=n(),a.poolSize=8192,a._augment=function(e){return e.__proto__=a.prototype,e},a.from=function(e,t,i){return o(null,e,t,i)},a.TYPED_ARRAY_SUPPORT&&(a.prototype.__proto__=Uint8Array.prototype,a.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&a[Symbol.species]===a&&Object.defineProperty(a,Symbol.species,{value:null,configurable:!0})),a.alloc=function(e,t,i){return l(null,e,t,i)},a.allocUnsafe=function(e){return c(null,e)},a.allocUnsafeSlow=function(e){return c(null,e)},a.isBuffer=function(e){return!(null==e||!e._isBuffer)},a.compare=function(e,t){if(!a.isBuffer(e)||!a.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var i=e.length,n=t.length,r=0,o=Math.min(i,n);r<o;++r)if(e[r]!==t[r]){i=e[r],n=t[r];break}return i<n?-1:n<i?1:0},a.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(e,t){if(!J(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return a.alloc(0);var i;if(void 0===t)for(t=0,i=0;i<e.length;++i)t+=e[i].length;var n=a.allocUnsafe(t),r=0;for(i=0;i<e.length;++i){var o=e[i];if(!a.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,r),r+=o.length}return n},a.byteLength=g,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)y(this,t,t+1);return this},a.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},a.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},a.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?k(this,0,e):v.apply(this,arguments)},a.prototype.equals=function(e){if(!a.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===a.compare(this,e)},a.prototype.inspect=function(){var e="",i=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,i).match(/.{2}/g).join(" "),this.length>i&&(e+=" ... ")),"<Buffer "+e+">"},a.prototype.compare=function(e,t,i,n,r){if(!a.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===i&&(i=e?e.length:0),void 0===n&&(n=0),void 0===r&&(r=this.length),t<0||i>e.length||n<0||r>this.length)throw new RangeError("out of range index");if(n>=r&&t>=i)return 0;if(n>=r)return-1;if(t>=i)return 1;if(t>>>=0,i>>>=0,n>>>=0,r>>>=0,this===e)return 0;for(var o=r-n,s=i-t,l=Math.min(o,s),c=this.slice(n,r),u=e.slice(t,i),h=0;h<l;++h)if(c[h]!==u[h]){o=c[h],s=u[h];break}return o<s?-1:s<o?1:0},a.prototype.includes=function(e,t,i){return-1!==this.indexOf(e,t,i)},a.prototype.indexOf=function(e,t,i){return b(this,e,t,i,!0)},a.prototype.lastIndexOf=function(e,t,i){return b(this,e,t,i,!1)},a.prototype.write=function(e,t,i,n){if(void 0===t)n="utf8",i=this.length,t=0;else if(void 0===i&&"string"===typeof t)n=t,i=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(i)?(i|=0,void 0===n&&(n="utf8")):(n=i,i=void 0)}var r=this.length-t;if((void 0===i||i>r)&&(i=r),e.length>0&&(i<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var a=!1;;)switch(n){case"hex":return A(this,e,t,i);case"utf8":case"utf-8":return E(this,e,t,i);case"ascii":return w(this,e,t,i);case"latin1":case"binary":return x(this,e,t,i);case"base64":return T(this,e,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,e,t,i);default:if(a)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),a=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var $=4096;a.prototype.slice=function(e,t){var i=this.length;e=~~e,t=void 0===t?i:~~t,e<0?(e+=i)<0&&(e=0):e>i&&(e=i),t<0?(t+=i)<0&&(t=0):t>i&&(t=i),t<e&&(t=e);var n;if(a.TYPED_ARRAY_SUPPORT)n=this.subarray(e,t),n.__proto__=a.prototype;else{var r=t-e;n=new a(r,void 0);for(var o=0;o<r;++o)n[o]=this[o+e]}return n},a.prototype.readUIntLE=function(e,t,i){e|=0,t|=0,i||R(e,t,this.length);for(var n=this[e],r=1,a=0;++a<t&&(r*=256);)n+=this[e+a]*r;return n},a.prototype.readUIntBE=function(e,t,i){e|=0,t|=0,i||R(e,t,this.length);for(var n=this[e+--t],r=1;t>0&&(r*=256);)n+=this[e+--t]*r;return n},a.prototype.readUInt8=function(e,t){return t||R(e,1,this.length),this[e]},a.prototype.readUInt16LE=function(e,t){return t||R(e,2,this.length),this[e]|this[e+1]<<8},a.prototype.readUInt16BE=function(e,t){return t||R(e,2,this.length),this[e]<<8|this[e+1]},a.prototype.readUInt32LE=function(e,t){return t||R(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},a.prototype.readUInt32BE=function(e,t){return t||R(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},a.prototype.readIntLE=function(e,t,i){e|=0,t|=0,i||R(e,t,this.length);for(var n=this[e],r=1,a=0;++a<t&&(r*=256);)n+=this[e+a]*r;return r*=128,n>=r&&(n-=Math.pow(2,8*t)),n},a.prototype.readIntBE=function(e,t,i){e|=0,t|=0,i||R(e,t,this.length);for(var n=t,r=1,a=this[e+--n];n>0&&(r*=256);)a+=this[e+--n]*r;return r*=128,a>=r&&(a-=Math.pow(2,8*t)),a},a.prototype.readInt8=function(e,t){return t||R(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},a.prototype.readInt16LE=function(e,t){t||R(e,2,this.length);var i=this[e]|this[e+1]<<8;return 32768&i?4294901760|i:i},a.prototype.readInt16BE=function(e,t){t||R(e,2,this.length);var i=this[e+1]|this[e]<<8;return 32768&i?4294901760|i:i},a.prototype.readInt32LE=function(e,t){return t||R(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},a.prototype.readInt32BE=function(e,t){return t||R(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},a.prototype.readFloatLE=function(e,t){return t||R(e,4,this.length),Z.read(this,e,!0,23,4)},a.prototype.readFloatBE=function(e,t){return t||R(e,4,this.length),Z.read(this,e,!1,23,4)},a.prototype.readDoubleLE=function(e,t){return t||R(e,8,this.length),Z.read(this,e,!0,52,8)},a.prototype.readDoubleBE=function(e,t){return t||R(e,8,this.length),Z.read(this,e,!1,52,8)},a.prototype.writeUIntLE=function(e,t,i,n){if(e=+e,t|=0,i|=0,!n){D(this,e,t,i,Math.pow(2,8*i)-1,0)}var r=1,a=0;for(this[t]=255&e;++a<i&&(r*=256);)this[t+a]=e/r&255;return t+i},a.prototype.writeUIntBE=function(e,t,i,n){if(e=+e,t|=0,i|=0,!n){D(this,e,t,i,Math.pow(2,8*i)-1,0)}var r=i-1,a=1;for(this[t+r]=255&e;--r>=0&&(a*=256);)this[t+r]=e/a&255;return t+i},a.prototype.writeUInt8=function(e,t,i){return e=+e,t|=0,i||D(this,e,t,1,255,0),a.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},a.prototype.writeUInt16LE=function(e,t,i){return e=+e,t|=0,i||D(this,e,t,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):L(this,e,t,!0),t+2},a.prototype.writeUInt16BE=function(e,t,i){return e=+e,t|=0,i||D(this,e,t,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):L(this,e,t,!1),t+2},a.prototype.writeUInt32LE=function(e,t,i){return e=+e,t|=0,i||D(this,e,t,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):N(this,e,t,!0),t+4},a.prototype.writeUInt32BE=function(e,t,i){return e=+e,t|=0,i||D(this,e,t,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):N(this,e,t,!1),t+4},a.prototype.writeIntLE=function(e,t,i,n){if(e=+e,t|=0,!n){var r=Math.pow(2,8*i-1);D(this,e,t,i,r-1,-r)}var a=0,o=1,s=0;for(this[t]=255&e;++a<i&&(o*=256);)e<0&&0===s&&0!==this[t+a-1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+i},a.prototype.writeIntBE=function(e,t,i,n){if(e=+e,t|=0,!n){var r=Math.pow(2,8*i-1);D(this,e,t,i,r-1,-r)}var a=i-1,o=1,s=0;for(this[t+a]=255&e;--a>=0&&(o*=256);)e<0&&0===s&&0!==this[t+a+1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+i},a.prototype.writeInt8=function(e,t,i){return e=+e,t|=0,i||D(this,e,t,1,127,-128),a.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},a.prototype.writeInt16LE=function(e,t,i){return e=+e,t|=0,i||D(this,e,t,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):L(this,e,t,!0),t+2},a.prototype.writeInt16BE=function(e,t,i){return e=+e,t|=0,i||D(this,e,t,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):L(this,e,t,!1),t+2},a.prototype.writeInt32LE=function(e,t,i){return e=+e,t|=0,i||D(this,e,t,4,2147483647,-2147483648),a.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):N(this,e,t,!0),t+4},a.prototype.writeInt32BE=function(e,t,i){return e=+e,t|=0,i||D(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),a.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):N(this,e,t,!1),t+4},a.prototype.writeFloatLE=function(e,t,i){return F(this,e,t,!0,i)},a.prototype.writeFloatBE=function(e,t,i){return F(this,e,t,!1,i)},a.prototype.writeDoubleLE=function(e,t,i){return U(this,e,t,!0,i)},a.prototype.writeDoubleBE=function(e,t,i){return U(this,e,t,!1,i)},a.prototype.copy=function(e,t,i,n){if(i||(i=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<i&&(n=i),n===i)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-i&&(n=e.length-t+i);var r,o=n-i;if(this===e&&i<t&&t<n)for(r=o-1;r>=0;--r)e[r+t]=this[r+i];else if(o<1e3||!a.TYPED_ARRAY_SUPPORT)for(r=0;r<o;++r)e[r+t]=this[r+i];else Uint8Array.prototype.set.call(e,this.subarray(i,i+o),t);return o},a.prototype.fill=function(e,t,i,n){if("string"===typeof e){if("string"===typeof t?(n=t,t=0,i=this.length):"string"===typeof i&&(n=i,i=this.length),1===e.length){var r=e.charCodeAt(0);r<256&&(e=r)}if(void 0!==n&&"string"!==typeof n)throw new TypeError("encoding must be a string");if("string"===typeof n&&!a.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"===typeof e&&(e&=255);if(t<0||this.length<t||this.length<i)throw new RangeError("Out of range index");if(i<=t)return this;t>>>=0,i=void 0===i?this.length:i>>>0,e||(e=0);var o;if("number"===typeof e)for(o=t;o<i;++o)this[o]=e;else{var s=a.isBuffer(e)?e:G(new a(e,n).toString()),l=s.length;for(o=0;o<i-t;++o)this[o+t]=s[o%l]}return this};var ee=/[^+\/0-9A-Za-z-_]/g}).call(t,i(28))},1421:function(e,t,i){"use strict";function n(e,t){for(var i={},n=0;n<e.length;++n)for(var r=e[n].name,a=r.split("."),o=i,s=0;s<a.length;++s){var l=a[s].split("[");if(l.length>1){l[0]in o||(o[l[0]]=[]),o=o[l[0]];for(var c=1;c<l.length;++c){var u=parseInt(l[c]);c<l.length-1||s<a.length-1?(u in o||(c<l.length-1?o[u]=[]:o[u]={}),o=o[u]):o[u]=t?n:e[n].type}}else s<a.length-1?(l[0]in o||(o[l[0]]={}),o=o[l[0]]):o[l[0]]=t?n:e[n].type}return i}e.exports=n},1422:function(e,t){e.exports=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","uint","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"]},1423:function(e,t){e.exports=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"]},1424:function(e,t,i){"use strict";function n(){var e=document.documentElement;document.fullScreen||document.mozFullScreen||document.webkitIsFullScreen?document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen():e.requestFullscreen&&e.requestFullscreen()||e.mozRequestFullScreen&&e.mozRequestFullScreen()||e.webkitRequestFullscreen&&e.webkitRequestFullscreen()||e.msRequestFullscreen&&e.msRequestFullscreen()}function r(e){a=e}function a(){console.info("olistener")}t.a=n,t.b=r;document.getElementById("state");document.addEventListener("fullscreenchange",function(){a(document.fullscreen)},!1),document.addEventListener("mozfullscreenchange",function(){a(document.mozFullScreen)},!1),document.addEventListener("webkitfullscreenchange",function(){a(document.webkitIsFullScreen)},!1),document.addEventListener("msfullscreenchange",function(){a(document.msFullscreenElement)},!1)},1425:function(e,t,i){"use strict";var n=i(1392),r={createEditor:function(e,t){var i=new n(e,t);return void 0!==t.tabIndex&&this.setEditorTabIndex(i,t.tabIndex),this.hookEditor(i),i},hookEditor:function(e){var t=this.makeUnprivilegedEditor(e);this.handleTextChange=function(i,n,r){this.onEditorChangeText&&(this.onEditorChangeText(e.root.innerHTML,i,r,t),this.onEditorChangeSelection(e.getSelection(),r,t))}.bind(this),this.handleSelectionChange=function(e,i,n){this.onEditorChangeSelection&&this.onEditorChangeSelection(e,n,t)}.bind(this),e.on("editor-change",function(e,t,i,r){e===n.events.SELECTION_CHANGE&&this.handleSelectionChange(t,i,r),e===n.events.TEXT_CHANGE&&this.handleTextChange(t,i,r)}.bind(this))},unhookEditor:function(e){e.off("selection-change"),e.off("text-change")},setEditorReadOnly:function(e,t){t?e.disable():e.enable()},setEditorContents:function(e,t){var i=e.getSelection();"string"===typeof t?e.setContents(e.clipboard.convert(t)):e.setContents(t),i&&e.hasFocus()&&this.setEditorSelection(e,i)},setEditorSelection:function(e,t){if(t){var i=e.getLength();t.index=Math.max(0,Math.min(t.index,i-1)),t.length=Math.max(0,Math.min(t.length,i-1-t.index))}e.setSelection(t)},setEditorTabIndex:function(e,t){e.editor&&e.editor.scroll&&e.editor.scroll.domNode&&(e.editor.scroll.domNode.tabIndex=t)},makeUnprivilegedEditor:function(e){var t=e;return{getLength:function(){return t.getLength.apply(t,arguments)},getText:function(){return t.getText.apply(t,arguments)},getHTML:function(){return t.root.innerHTML},getContents:function(){return t.getContents.apply(t,arguments)},getSelection:function(){return t.getSelection.apply(t,arguments)},getBounds:function(){return t.getBounds.apply(t,arguments)}}}};e.exports=r},1426:function(e,t,i){var n=i(1518),r=i(539),a=n(r);e.exports=a},1427:function(e,t,i){function n(e,t){return e&&r(e,t,a)}var r=i(527),a=i(162);e.exports=n},1428:function(e,t,i){function n(e,t){return r(e,t)}var r=i(279);e.exports=n},1429:function(e,t,i){"use strict";!function(t){e.exports=t(i(0))}(function(e){function t(t){var i=e.createElement.bind(null,t);return i.type=t,i}return{a:t("a"),abbr:t("abbr"),address:t("address"),area:t("area"),article:t("article"),aside:t("aside"),audio:t("audio"),b:t("b"),base:t("base"),bdi:t("bdi"),bdo:t("bdo"),big:t("big"),blockquote:t("blockquote"),body:t("body"),br:t("br"),button:t("button"),canvas:t("canvas"),caption:t("caption"),cite:t("cite"),code:t("code"),col:t("col"),colgroup:t("colgroup"),data:t("data"),datalist:t("datalist"),dd:t("dd"),del:t("del"),details:t("details"),dfn:t("dfn"),dialog:t("dialog"),div:t("div"),dl:t("dl"),dt:t("dt"),em:t("em"),embed:t("embed"),fieldset:t("fieldset"),figcaption:t("figcaption"),figure:t("figure"),footer:t("footer"),form:t("form"),h1:t("h1"),h2:t("h2"),h3:t("h3"),h4:t("h4"),h5:t("h5"),h6:t("h6"),head:t("head"),header:t("header"),hgroup:t("hgroup"),hr:t("hr"),html:t("html"),i:t("i"),iframe:t("iframe"),img:t("img"),input:t("input"),ins:t("ins"),kbd:t("kbd"),keygen:t("keygen"),label:t("label"),legend:t("legend"),li:t("li"),link:t("link"),main:t("main"),map:t("map"),mark:t("mark"),menu:t("menu"),menuitem:t("menuitem"),meta:t("meta"),meter:t("meter"),nav:t("nav"),noscript:t("noscript"),object:t("object"),ol:t("ol"),optgroup:t("optgroup"),option:t("option"),output:t("output"),p:t("p"),param:t("param"),picture:t("picture"),pre:t("pre"),progress:t("progress"),q:t("q"),rp:t("rp"),rt:t("rt"),ruby:t("ruby"),s:t("s"),samp:t("samp"),script:t("script"),section:t("section"),select:t("select"),small:t("small"),source:t("source"),span:t("span"),strong:t("strong"),style:t("style"),sub:t("sub"),summary:t("summary"),sup:t("sup"),table:t("table"),tbody:t("tbody"),td:t("td"),textarea:t("textarea"),tfoot:t("tfoot"),th:t("th"),thead:t("thead"),time:t("time"),title:t("title"),tr:t("tr"),track:t("track"),u:t("u"),ul:t("ul"),var:t("var"),video:t("video"),wbr:t("wbr"),circle:t("circle"),clipPath:t("clipPath"),defs:t("defs"),ellipse:t("ellipse"),g:t("g"),image:t("image"),line:t("line"),linearGradient:t("linearGradient"),mask:t("mask"),path:t("path"),pattern:t("pattern"),polygon:t("polygon"),polyline:t("polyline"),radialGradient:t("radialGradient"),rect:t("rect"),stop:t("stop"),svg:t("svg"),text:t("text"),tspan:t("tspan")}})},1430:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.CustomPicker=t.TwitterPicker=t.SwatchesPicker=t.SliderPicker=t.SketchPicker=t.PhotoshopPicker=t.MaterialPicker=t.HuePicker=t.GithubPicker=t.CompactPicker=t.ChromePicker=t.default=t.CirclePicker=t.BlockPicker=t.AlphaPicker=void 0;var r=i(1528);Object.defineProperty(t,"AlphaPicker",{enumerable:!0,get:function(){return n(r).default}});var a=i(1567);Object.defineProperty(t,"BlockPicker",{enumerable:!0,get:function(){return n(a).default}});var o=i(1569);Object.defineProperty(t,"CirclePicker",{enumerable:!0,get:function(){return n(o).default}});var s=i(1571);Object.defineProperty(t,"ChromePicker",{enumerable:!0,get:function(){return n(s).default}});var l=i(1577);Object.defineProperty(t,"CompactPicker",{enumerable:!0,get:function(){return n(l).default}});var c=i(1580);Object.defineProperty(t,"GithubPicker",{enumerable:!0,get:function(){return n(c).default}});var u=i(1582);Object.defineProperty(t,"HuePicker",{enumerable:!0,get:function(){return n(u).default}});var h=i(1584);Object.defineProperty(t,"MaterialPicker",{enumerable:!0,get:function(){return n(h).default}});var d=i(1585);Object.defineProperty(t,"PhotoshopPicker",{enumerable:!0,get:function(){return n(d).default}});var p=i(1591);Object.defineProperty(t,"SketchPicker",{enumerable:!0,get:function(){return n(p).default}});var f=i(1594);Object.defineProperty(t,"SliderPicker",{enumerable:!0,get:function(){return n(f).default}});var m=i(1598);Object.defineProperty(t,"SwatchesPicker",{enumerable:!0,get:function(){return n(m).default}});var g=i(1602);Object.defineProperty(t,"TwitterPicker",{enumerable:!0,get:function(){return n(g).default}});var v=i(1434);Object.defineProperty(t,"CustomPicker",{enumerable:!0,get:function(){return n(v).default}});var y=n(s);t.default=y.default},1431:function(e,t,i){function n(e){return"function"==typeof e?e:r}var r=i(166);e.exports=n},1432:function(e,t){function i(e,t){for(var i=-1,n=null==e?0:e.length;++i<n&&!1!==t(e[i],i,e););return e}e.exports=i},1433:function(e,t,i){var n=i(537),r=i(278),a=i(517),o=i(538),s=Object.getOwnPropertySymbols,l=s?function(e){for(var t=[];e;)n(t,a(e)),e=r(e);return t}:o;e.exports=l},1434:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ColorWrap=void 0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},l=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),c=i(0),u=n(c),h=i(103),d=n(h),p=i(1370),f=n(p),m=t.ColorWrap=function(e){var t=function(t){function i(e){r(this,i);var t=a(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return t.handleChange=function(e,i){if(f.default.simpleCheckForValidColor(e)){var n=f.default.toState(e,e.h||t.state.oldHue);t.setState(n),t.props.onChangeComplete&&t.debounce(t.props.onChangeComplete,n,i),t.props.onChange&&t.props.onChange(n,i)}},t.handleSwatchHover=function(e,i){if(f.default.simpleCheckForValidColor(e)){var n=f.default.toState(e,e.h||t.state.oldHue);t.props.onSwatchHover&&t.props.onSwatchHover(n,i)}},t.state=s({},f.default.toState(e.color,0)),t.debounce=(0,d.default)(function(e,t,i){e(t,i)},100),t}return o(i,t),l(i,[{key:"render",value:function(){var t={};return this.props.onSwatchHover&&(t.onSwatchHover=this.handleSwatchHover),u.default.createElement(e,s({},this.props,this.state,{onChange:this.handleChange},t))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return s({},f.default.toState(e.color,t.oldHue))}}]),i}(c.PureComponent||c.Component);return t.propTypes=s({},e.propTypes),t.defaultProps=s({},e.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),t};t.default=m},1435:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i.d(t,"red",function(){return n}),i.d(t,"pink",function(){return r}),i.d(t,"purple",function(){return a}),i.d(t,"deepPurple",function(){return o}),i.d(t,"indigo",function(){return s}),i.d(t,"blue",function(){return l}),i.d(t,"lightBlue",function(){return c}),i.d(t,"cyan",function(){return u}),i.d(t,"teal",function(){return h}),i.d(t,"green",function(){return d}),i.d(t,"lightGreen",function(){return p}),i.d(t,"lime",function(){return f}),i.d(t,"yellow",function(){return m}),i.d(t,"amber",function(){return g}),i.d(t,"orange",function(){return v}),i.d(t,"deepOrange",function(){return y}),i.d(t,"brown",function(){return b}),i.d(t,"grey",function(){return _}),i.d(t,"blueGrey",function(){return A}),i.d(t,"darkText",function(){return E}),i.d(t,"lightText",function(){return w}),i.d(t,"darkIcons",function(){return x}),i.d(t,"lightIcons",function(){return T}),i.d(t,"white",function(){return S}),i.d(t,"black",function(){return C});var n={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",a100:"#ff8a80",a200:"#ff5252",a400:"#ff1744",a700:"#d50000"},r={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",a100:"#ff80ab",a200:"#ff4081",a400:"#f50057",a700:"#c51162"},a={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",a100:"#ea80fc",a200:"#e040fb",a400:"#d500f9",a700:"#aa00ff"},o={50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",a100:"#b388ff",a200:"#7c4dff",a400:"#651fff",a700:"#6200ea"},s={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",a100:"#8c9eff",a200:"#536dfe",a400:"#3d5afe",a700:"#304ffe"},l={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",a100:"#82b1ff",a200:"#448aff",a400:"#2979ff",a700:"#2962ff"},c={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",a100:"#80d8ff",a200:"#40c4ff",a400:"#00b0ff",a700:"#0091ea"},u={50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",a100:"#84ffff",a200:"#18ffff",a400:"#00e5ff",a700:"#00b8d4"},h={50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",a100:"#a7ffeb",a200:"#64ffda",a400:"#1de9b6",a700:"#00bfa5"},d={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",a100:"#b9f6ca",a200:"#69f0ae",a400:"#00e676",a700:"#00c853"},p={50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",a100:"#ccff90",a200:"#b2ff59",a400:"#76ff03",a700:"#64dd17"},f={50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",a100:"#f4ff81",a200:"#eeff41",a400:"#c6ff00",a700:"#aeea00"},m={50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",a100:"#ffff8d",a200:"#ffff00",a400:"#ffea00",a700:"#ffd600"},g={50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",a100:"#ffe57f",a200:"#ffd740",a400:"#ffc400",a700:"#ffab00"},v={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",a100:"#ffd180",a200:"#ffab40",a400:"#ff9100",a700:"#ff6d00"},y={50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",a100:"#ff9e80",a200:"#ff6e40",a400:"#ff3d00",a700:"#dd2c00"},b={50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723"},_={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121"},A={50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238"},E={primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",dividers:"rgba(0, 0, 0, 0.12)"},w={primary:"rgba(255, 255, 255, 1)",secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",dividers:"rgba(255, 255, 255, 0.12)"},x={active:"rgba(0, 0, 0, 0.54)",inactive:"rgba(0, 0, 0, 0.38)"},T={active:"rgba(255, 255, 255, 1)",inactive:"rgba(255, 255, 255, 0.5)"},S="#ffffff",C="#000000";t.default={red:n,pink:r,purple:a,deepPurple:o,indigo:s,blue:l,lightBlue:c,cyan:u,teal:h,green:d,lightGreen:p,lime:f,yellow:m,amber:g,orange:v,deepOrange:y,brown:b,grey:_,blueGrey:A,darkText:E,lightText:w,darkIcons:x,lightIcons:T,white:S,black:C}},1454:function(e,t,i){"use strict";function n(e){var t={};if(e.special)return"text"===e.obj_type&&e.copy&&(e.obj_id=+new Date+"text_"+e.obj_id.split("_")[1]),e;e.duration=e.duration||5,e.thumbnail=e.thumbnail||"",e.video_preview_img=e.video_preview_img||"",e.audio_preview_img=e.audio_preview_img||"",e.uploading=e.uploading||"",e.preview_mp4=e.preview_mp4||"",e.preview_mp3=e.preview_mp3||"",e.preview_hls=e.preview_hls||"",e.status=e.status||"",e.media_url=e.media_url||"",e.sub_type=e.sub_type||"";var i={obj_type:e.media_type,obj_id:e.media_id,duration:e.duration,name:e.name||"",start_time:e.start_time,end_time:e.end_time,effects:e.effects||"original",trans_start:e.trans_start||{},trans_end:e.trans_end||{},special:{media_url:e.media_url,status:e.status,preview_hls:e.preview_hls,preview_mp3:e.preview_mp3,preview_mp4:e.preview_mp4,sub_type:e.sub_type,uploading:e.uploading,buffer:0===e.buffer||e.buffer?e.buffer:void 0,video_preview_img:e.video_preview_img,audio_preview_img:e.audio_preview_img,thumbnail:e.thumbnail,start_range:e.start_range||0,end_range:e.end_range||e.duration},transform:e.transform||{rotation:0,flip:0,start_scale:1,end_scale:1,start_position_x:0,start_position_y:0,end_position_x:0,end_position_y:0},volume:e.volume||{value:100,end_value:1,echoes:!1},specialeffect:e.specialeffect||{back_play:!1,shake:!1,deshake:!1,vague_x:0,vague_y:0,remove_logo:!0,logo_x:0,logo_y:0,logo_width:0,logo_height:0},video_fade:[{time_point:0,visibility:100,fade_type:0}],delogo:[],color:e.color||{brightness:0,contrast:0,saturation:0,hue:0},colorkeying:{select_color:"",transparency:0,sensitivity:1},speed:{value:1},audio_fade:[{time_point:0,visibility:100,fade_type:0},{time_point:e.end_time||e.duration,visibility:100,fade_type:0}]};switch(e.media_type){case"video":t=i;break;case"audio":t={name:e.name||"",obj_type:e.media_type,obj_id:e.media_id,duration:e.duration,start_time:e.start_time,end_time:e.end_time,effects:"original",special:i.special,volume:i.volume,audio_fade:i.audio_fade};break;case"image":t={name:e.name||"",obj_type:e.media_type,obj_id:e.media_id,duration:e.duration,start_time:e.start_time,end_time:e.end_time,effects:"original",trans_start:e.trans_start||{},trans_end:e.trans_end||{},special:i.special,delogo:i.delogo,transform:i.transform,specialeffect:i.specialeffect,color:i.color,video_fade:i.video_fade,colorkeying:i.colorkeying};break;case"text":if(r.a[e.media_id])t=Object(a.b)(r.a[e.media_id]),t.obj_id=+new Date+e.media_id,t.duration=e.duration,t.special.thumbnail=e.thumbnail,t.start_time=e.start_time,t.end_time=e.end_time,t.effects="original",t.trans_start=e.trans_start||{},t.trans_end=e.trans_end||{};else switch(e.sub_type){case"animation":t={name:e.name||"",obj_type:e.media_type,obj_id:+new Date+e.media_id,duration:e.duration,start_time:e.start_time,end_time:e.end_time,effects:"original",trans_start:e.trans_start||{},trans_end:e.trans_end||{},special:{media_url:e.media_url,status:e.status,preview_hls:e.preview_hls,preview_mp3:e.preview_mp3,preview_mp4:e.preview_mp4,sub_type:e.sub_type,uploading:e.uploading,buffer:0===e.buffer||e.buffer?e.buffer:void 0,video_preview_img:e.video_preview_img,audio_preview_img:e.audio_preview_img,thumbnail:e.thumbnail,start_range:0,end_range:e.end_range||e.duration,text:"<p></p>",svg1:"",svg:"",position_x:0,position_y:0,position_w:1e3,position_h:1e3,move:0},transform:i.transform,layers:[],video_fade:i.video_fade};break;default:t={name:e.name||"",obj_type:e.media_type,obj_id:+new Date+e.media_id,duration:e.duration,start_time:e.start_time,end_time:e.end_time,effects:"original",trans_start:e.trans_start||{},trans_end:e.trans_end||{},special:{media_url:e.media_url,status:e.status,preview_hls:e.preview_hls,preview_mp3:e.preview_mp3,preview_mp4:e.preview_mp4,sub_type:e.sub_type,uploading:e.uploading,buffer:0===e.buffer||e.buffer?e.buffer:void 0,video_preview_img:e.video_preview_img,audio_preview_img:e.audio_preview_img,thumbnail:e.thumbnail,start_range:0,end_range:e.end_range||e.duration,text:'<p class="ql-align-center"><span style="color: rgb(102, 185, 102);">\u8fd9\u662f\u5927\u6807\u9898</span></p><p class="ql-align-center"><span style="color: rgb(102, 185, 102);">\u8fd9\u662f\u526f\u6807\u9898</span></p>',svg1:'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="800" height="400"><foreignObject width="100%" height="100%"><div  xmlns="http://www.w3.org/1999/xhtml"  style="font-size:100px;line-height:200px;letter-spacing:0px;padding-left: 0.2em;white-space:pre-wrap;word-break: break-all;" ><p class="ql-align-center" style="text-align: center; margin: 0px; padding: 0px; line-height: 200px; min-height: 200px;"><span style="color: rgb(102, 185, 102); margin: 0px -1px;">\u8fd9\u662f\u5927\u6807\u9898</span></p><p class="ql-align-center" style="text-align: center; margin: 0px; padding: 0px; line-height: 200px; min-height: 200px;"><span style="color: rgb(102, 185, 102); margin: 0px -1px;">\u8fd9\u662f\u526f\u6807\u9898</span></p></div></foreignObject></svg>',svg:"",font_family:0,bold:!1,italic:!1,underline:!1,text_color:"rgb(0,0,0)",background_color:"rgb(0,0,0)",container_color:"rgb(0,0,0)",text_align:1,line_height:200,spacing:0,font_size:100,position_x:0,position_y:0,position_w:1e3,position_h:1e3,move:0},transform:i.transform,layers:[],video_fade:i.video_fade}}}return t}t.a=n;var r=i(1455),a=i(161)},1455:function(e,t,i){"use strict";var n={text_1:{obj_type:"text",obj_id:"text_1",duration:8,start_time:0,end_time:0,effects:"original",trans_start:{},trans_end:{},special:{text:'<p class="ql-align-center"><strong style="color: rgb(255, 255, 255);">PLEASE INPUT TEXT</strong></p><p class="ql-align-center"><span style="color: rgb(255, 255, 255);">please Input text&nbsp;</span></p>',spacing:0,height:0,width:0,svg:"",position_w:1900,line_height:200,font_family:0,svg1:"",bold:!1,italic:!1,underline:!1,text_color:"rgb(0,0,0)",background_color:"rgb(0,0,0)",container_color:"rgb(0,0,0)",text_align:1,font_size:100,position_x:0,position_y:0,position_h:400,move:0,start_range:0,end_range:8},video_fade:[{fade_type:0,time_point:0,visibility:100}],transform:{animation_position:!1,flip:0,end_scale:1,end_position_x:0,end_position_y:0,animation_scale:!1,start_scale:1,rotation:0,start_position_x:0,start_position_y:0}},text_2:{obj_type:"text",obj_id:"text_2",duration:8,start_time:0,end_time:0,effects:"original",trans_start:{},trans_end:{},special:{font_size:150,position_h:240,text:'<p class="ql-align-center"><strong style="color: rgb(255, 255, 255);">PLEASE INPUT TEXT</strong></p>',spacing:0,height:0,width:0,svg:"",position_x:0,position_y:0,position_w:2e3,line_height:240,font_family:0,svg1:"",thumbnail:"",bold:!1,italic:!1,underline:!1,text_color:"rgb(0,0,0)",background_color:"rgb(0,0,0)",container_color:"rgb(0,0,0)",text_align:1,move:0,start_range:0,end_range:8},video_fade:[{time_point:0,visibility:100}],transform:{animation_position:!1,flip:0,end_scale:1,end_position_x:0,end_position_y:0,animation_scale:!1,start_scale:1,rotation:0,start_position_x:0,start_position_y:0}},text_3:{obj_type:"text",obj_id:"text_3",duration:8,start_time:0,end_time:0,effects:"original",trans_start:{},trans_end:{},special:{font_size:100,position_h:400,text:'<p class="ql-align-center"><strong style="color: rgb(255, 255, 255);">PLEASE INPUT TEXT</strong></p><p class="ql-align-center"><br></p>',spacing:0,height:0,width:0,svg:"",position_x:0,position_y:0,position_w:1400,line_height:180,font_family:0,svg1:"",thumbnail:"",bold:!1,italic:!1,underline:!1,text_color:"rgb(0,0,0)",background_color:"rgb(0,0,0)",container_color:"rgb(0,0,0)",text_align:1,move:0,start_range:0,end_range:8},video_fade:[{time_point:0,visibility:100}],transform:{animation_position:!1,flip:0,end_scale:1,end_position_x:-4,end_position_y:532,animation_scale:!1,start_scale:1,rotation:0,start_position_x:-4,start_position_y:532}},text_5:{obj_type:"text",obj_id:"text_5",duration:8,start_time:0,end_time:0,effects:"original",trans_start:{},trans_end:{},special:{font_size:100,position_h:1080,text:'<p class="ql-align-center"><strong style="color: rgb(255, 255, 255);">PLEASE INPUT TEXT</strong></p><p class="ql-align-center"><br></p><p class="ql-align-center"><strong style="color: rgb(255, 255, 255);">Actor\'s name Jonny Brook</strong></p><p class="ql-align-center"><strong style="color: rgb(255, 255, 255);">Actor\'s name Jonny Brook</strong></p><p class="ql-align-center"><strong style="color: rgb(255, 255, 255);">Actor\'s name Jonny Brook</strong></p><p class="ql-align-center"><strong style="color: rgb(255, 255, 255);">Actor\'s name Jonny Brook</strong></p><p class="ql-align-center"><strong style="color: rgb(255, 255, 255);">Actor\'s name Jonny Brook</strong></p><p class="ql-align-center"><strong style="color: rgb(255, 255, 255);">Thanks for watching</strong></p><p class="ql-align-center"><br></p><p class="ql-align-center"><br></p><p class="ql-align-center"><br></p><p class="ql-align-center"><br></p>',spacing:0,height:0,width:0,svg:"",position_x:0,position_y:0,position_w:1920,line_height:120,font_family:0,svg1:"",thumbnail:"",bold:!1,italic:!1,underline:!1,text_color:"rgb(0,0,0)",background_color:"rgb(0,0,0)",container_color:"rgb(0,0,0)",text_align:1,move:0,start_range:0,end_range:8},video_fade:[{time_point:0,visibility:100}],transform:{animation_position:!1,flip:0,end_scale:1,end_position_x:0,end_position_y:-1280,animation_scale:!1,start_scale:1,rotation:0,start_position_x:36,start_position_y:162}},text_4:{obj_type:"text",obj_id:"text_4",duration:8,start_time:0,end_time:0,effects:"original",trans_start:{},trans_end:{},special:{font_size:100,position_h:240,text:'<p class="ql-align-center"><strong style="color: rgb(255, 255, 255);">\xb7please Input text&nbsp;</strong></p>',spacing:0,height:0,width:0,svg:"",position_x:0,position_y:0,position_w:1400,line_height:240,font_family:0,svg1:"",thumbnail:"",bold:!1,italic:!1,underline:!1,text_color:"rgb(0,0,0)",background_color:"rgb(0,0,0)",container_color:"rgb(0,0,0)",text_align:1,move:0,start_range:0,end_range:8},video_fade:[{time_point:0,visibility:100}],transform:{animation_position:!1,flip:0,end_scale:1,end_position_x:0,end_position_y:400,animation_scale:!1,start_scale:1,rotation:0,start_position_x:0,start_position_y:400}},text_6:{obj_type:"text",obj_id:"text_6",duration:8,start_time:0,end_time:0,effects:"original",trans_start:{},trans_end:{},special:{font_size:50,position_h:1080,text:'<p><strong style="color: rgb(255, 255, 255);">PLEASE INPUT TEXT Actor\'s name Jonny BrookThanks for watching </strong></p>',spacing:4,height:0,width:0,svg:"",position_x:0,position_y:0,position_w:1920,line_height:120,font_family:0,svg1:"",thumbnail:"",bold:!1,italic:!1,underline:!1,text_color:"rgb(0,0,0)",background_color:"rgb(0,0,0)",container_color:"rgb(0,0,0)",text_align:1,move:0,start_range:0,end_range:8},video_fade:[{time_point:0,visibility:100}],transform:{animation_position:!1,flip:0,end_scale:1,end_position_x:-1920,end_position_y:950,animation_scale:!1,start_scale:1,rotation:0,start_position_x:1920,start_position_y:950}}};t.a=n},1456:function(e,t,i){"use strict";function n(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===e[t-2]?2:"="===e[t-1]?1:0}function r(e){return 3*e.length/4-n(e)}function a(e){var t,i,r,a,o,s,l=e.length;o=n(e),s=new h(3*l/4-o),r=o>0?l-4:l;var c=0;for(t=0,i=0;t<r;t+=4,i+=3)a=u[e.charCodeAt(t)]<<18|u[e.charCodeAt(t+1)]<<12|u[e.charCodeAt(t+2)]<<6|u[e.charCodeAt(t+3)],s[c++]=a>>16&255,s[c++]=a>>8&255,s[c++]=255&a;return 2===o?(a=u[e.charCodeAt(t)]<<2|u[e.charCodeAt(t+1)]>>4,s[c++]=255&a):1===o&&(a=u[e.charCodeAt(t)]<<10|u[e.charCodeAt(t+1)]<<4|u[e.charCodeAt(t+2)]>>2,s[c++]=a>>8&255,s[c++]=255&a),s}function o(e){return c[e>>18&63]+c[e>>12&63]+c[e>>6&63]+c[63&e]}function s(e,t,i){for(var n,r=[],a=t;a<i;a+=3)n=(e[a]<<16)+(e[a+1]<<8)+e[a+2],r.push(o(n));return r.join("")}function l(e){for(var t,i=e.length,n=i%3,r="",a=[],o=0,l=i-n;o<l;o+=16383)a.push(s(e,o,o+16383>l?l:o+16383));return 1===n?(t=e[i-1],r+=c[t>>2],r+=c[t<<4&63],r+="=="):2===n&&(t=(e[i-2]<<8)+e[i-1],r+=c[t>>10],r+=c[t>>4&63],r+=c[t<<2&63],r+="="),a.push(r),a.join("")}t.byteLength=r,t.toByteArray=a,t.fromByteArray=l;for(var c=[],u=[],h="undefined"!==typeof Uint8Array?Uint8Array:Array,d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p=0,f=d.length;p<f;++p)c[p]=d[p],u[d.charCodeAt(p)]=p;u["-".charCodeAt(0)]=62,u["_".charCodeAt(0)]=63},1457:function(e,t){t.read=function(e,t,i,n,r){var a,o,s=8*r-n-1,l=(1<<s)-1,c=l>>1,u=-7,h=i?r-1:0,d=i?-1:1,p=e[t+h];for(h+=d,a=p&(1<<-u)-1,p>>=-u,u+=s;u>0;a=256*a+e[t+h],h+=d,u-=8);for(o=a&(1<<-u)-1,a>>=-u,u+=n;u>0;o=256*o+e[t+h],h+=d,u-=8);if(0===a)a=1-c;else{if(a===l)return o?NaN:1/0*(p?-1:1);o+=Math.pow(2,n),a-=c}return(p?-1:1)*o*Math.pow(2,a-n)},t.write=function(e,t,i,n,r,a){var o,s,l,c=8*a-r-1,u=(1<<c)-1,h=u>>1,d=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:a-1,f=n?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=u):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),t+=o+h>=1?d/l:d*Math.pow(2,1-h),t*l>=2&&(o++,l/=2),o+h>=u?(s=0,o=u):o+h>=1?(s=(t*l-1)*Math.pow(2,r),o+=h):(s=t*Math.pow(2,h-1)*Math.pow(2,r),o=0));r>=8;e[i+p]=255&s,p+=f,s/=256,r-=8);for(o=o<<r|s,c+=r;c>0;e[i+p]=255&o,p+=f,o/=256,c-=8);e[i+p-f]|=128*m}},1458:function(e,t){var i={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==i.call(e)}},1459:function(e,t,i){"use strict";function n(e,t,i,n,r,o){u.width=i,u.height=n,h.viewport(0,0,i,n);var l=c()(h,e);l.minFilter=h.LINEAR,l.magFilter=h.LINEAR;var d=c()(h,t);return d.minFilter=h.LINEAR,d.magFilter=h.LINEAR,s()(h,a.a.find(function(e){return e.name===(a.a.map(function(e){return e.name}).includes(o)?o:"GridFlip")})).draw(r||0,l,d,u.width,u.height,{persp:1.5,unzoom:.6}),u}t.a=n;var r=i(1416),a=i.n(r),o=i(1460),s=i.n(o),l=i(1483),c=i.n(l),u=document.createElement("canvas"),h=u.getContext("webgl")||u.getContext("experimental-webgl");h.pixelStorei(h.UNPACK_FLIP_Y_WEBGL,!0);var d=h.createBuffer();h.bindBuffer(h.ARRAY_BUFFER,d),h.bufferData(h.ARRAY_BUFFER,new Float32Array([-1,-1,-1,4,4,-1]),h.STATIC_DRAW)},1460:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},r=i(1461),a=function(e){return e&&e.__esModule?e:{default:e}}(r),o={cover:function(e){return".5+(uv-.5)*vec2(min(ratio/"+e+",1.),min("+e+"/ratio,1.))"},contain:function(e){return".5+(uv-.5)*vec2(max(ratio/"+e+",1.),max("+e+"/ratio,1.))"},stretch:function(){return"uv"}},s=function(e,t){var i=o[t];if(!i)throw new Error("invalid resizeMode="+t);return"precision highp float;varying vec2 _uv;uniform sampler2D from, to;uniform float progress, ratio, _fromR, _toR;vec4 getFromColor(vec2 uv){return texture2D(from,"+i("_fromR")+");}vec4 getToColor(vec2 uv){return texture2D(to,"+i("_toR")+");}\n"+e+"\nvoid main(){gl_FragColor=transition(_uv);}"};t.default=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n({resizeMode:"cover"},i),o=r.resizeMode,l=(0,a.default)(e,"attribute vec2 _p;\nvarying vec2 _uv;\nvoid main() {\ngl_Position = vec4(_p,0.0,1.0);\n_uv = vec2(0.5, 0.5) * (_p+vec2(1.0, 1.0));\n}",s(t.glsl,o));return l.bind(),l.attributes._p.pointer(),{draw:function(i,n,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.drawingBufferWidth,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:e.drawingBufferHeight,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};l.bind(),l.uniforms.ratio=a/o,l.uniforms.progress=i,l.uniforms.from=n.bind(0),l.uniforms.to=r.bind(1),l.uniforms._fromR=n.shape[0]/n.shape[1],l.uniforms._toR=r.shape[0]/r.shape[1];var c=2;for(var u in t.paramsTypes){var h=u in s?s[u]:t.defaultParams[u];if("sampler2D"===t.paramsTypes[u])if(h){if("function"!==typeof h.bind)throw new Error("uniform["+u+"]: A gl-texture2d API-like object was expected");l.uniforms[u]=h.bind(c++)}else console.warn("uniform["+u+"]: A texture MUST be defined for uniform sampler2D of a texture");else l.uniforms[u]=h}e.drawArrays(e.TRIANGLES,0,3)},dispose:function(){l.dispose()}}}},1461:function(e,t,i){"use strict";function n(e){this.gl=e,this.gl.lastAttribCount=0,this._vref=this._fref=this._relink=this.vertShader=this.fragShader=this.program=this.attributes=this.uniforms=this.types=null}function r(e,t){return e.name<t.name?-1:1}function a(e,t,i,r,a){var o=new n(e);return o.update(t,i,r,a),o}var o=i(1462),s=i(1463),l=i(1421),c=i(1464),u=i(1482),h=i(1394),d=n.prototype;d.bind=function(){this.program||this._relink();var e,t=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES),i=this.gl.lastAttribCount;if(t>i)for(e=i;e<t;e++)this.gl.enableVertexAttribArray(e);else if(i>t)for(e=t;e<i;e++)this.gl.disableVertexAttribArray(e);this.gl.lastAttribCount=t,this.gl.useProgram(this.program)},d.dispose=function(){for(var e=this.gl.lastAttribCount,t=0;t<e;t++)this.gl.disableVertexAttribArray(t);this.gl.lastAttribCount=0,this._fref&&this._fref.dispose(),this._vref&&this._vref.dispose(),this.attributes=this.types=this.vertShader=this.fragShader=this.program=this._relink=this._fref=this._vref=null},d.update=function(e,t,i,n){function a(){p.program=c.program(f,p._vref,p._fref,A,E);for(var e=0;e<i.length;++e)k[e]=f.getUniformLocation(p.program,i[e].name)}if(!t||1===arguments.length){var d=e;e=d.vertex,t=d.fragment,i=d.uniforms,n=d.attributes}var p=this,f=p.gl,m=p._vref;p._vref=c.shader(f,f.VERTEX_SHADER,e),m&&m.dispose(),p.vertShader=p._vref.shader;var g=this._fref;if(p._fref=c.shader(f,f.FRAGMENT_SHADER,t),g&&g.dispose(),p.fragShader=p._fref.shader,!i||!n){var v=f.createProgram();if(f.attachShader(v,p.fragShader),f.attachShader(v,p.vertShader),f.linkProgram(v),!f.getProgramParameter(v,f.LINK_STATUS)){var y=f.getProgramInfoLog(v);throw new h(y,"Error linking program:"+y)}i=i||u.uniforms(f,v),n=n||u.attributes(f,v),f.deleteProgram(v)}n=n.slice(),n.sort(r);var b,_=[],A=[],E=[];for(b=0;b<n.length;++b){var w=n[b];if(w.type.indexOf("mat")>=0){for(var x=0|w.type.charAt(w.type.length-1),T=new Array(x),S=0;S<x;++S)T[S]=E.length,A.push(w.name+"["+S+"]"),"number"===typeof w.location?E.push(w.location+S):Array.isArray(w.location)&&w.location.length===x&&"number"===typeof w.location[S]?E.push(0|w.location[S]):E.push(-1);_.push({name:w.name,type:w.type,locations:T})}else _.push({name:w.name,type:w.type,locations:[E.length]}),A.push(w.name),"number"===typeof w.location?E.push(0|w.location):E.push(-1)}var C=0;for(b=0;b<E.length;++b)if(E[b]<0){for(;E.indexOf(C)>=0;)C+=1;E[b]=C}var k=new Array(i.length);a(),p._relink=a,p.types={uniforms:l(i),attributes:l(n)},p.attributes=s(f,p,_,E),Object.defineProperty(p,"uniforms",o(f,p,i,k))},e.exports=a},1462:function(e,t,i){"use strict";function n(e){return new Function("y","return function(){return y}")(e)}function r(e,t){for(var i=new Array(e),n=0;n<e;++n)i[n]=t;return i}function a(e,t,i,a){function l(i){return new Function("gl","wrapper","locations","return function(){return gl.getUniform(wrapper.program,locations["+i+"])}")(e,t,a)}function c(e,t,i){switch(i){case"bool":case"int":case"sampler2D":case"samplerCube":return"gl.uniform1i(locations["+t+"],obj"+e+")";case"float":return"gl.uniform1f(locations["+t+"],obj"+e+")";default:var n=i.indexOf("vec");if(!(0<=n&&n<=1&&i.length===4+n)){if(0===i.indexOf("mat")&&4===i.length){var r=i.charCodeAt(i.length-1)-48;if(r<2||r>4)throw new s("","Invalid uniform dimension type for matrix "+name+": "+i);return"gl.uniformMatrix"+r+"fv(locations["+t+"],false,obj"+e+")"}throw new s("","Unknown uniform data type for "+name+": "+i)}var r=i.charCodeAt(i.length-1)-48;if(r<2||r>4)throw new s("","Invalid data type");switch(i.charAt(0)){case"b":case"i":return"gl.uniform"+r+"iv(locations["+t+"],obj"+e+")";case"v":return"gl.uniform"+r+"fv(locations["+t+"],obj"+e+")";default:throw new s("","Unrecognized data type for vector "+name+": "+i)}}}function u(e,t){if("object"!==typeof t)return[[e,t]];var i=[];for(var n in t){var r=t[n],a=e;parseInt(n)+""===n?a+="["+n+"]":a+="."+n,"object"===typeof r?i.push.apply(i,u(a,r)):i.push([a,r])}return i}function h(t){for(var n=["return function updateProperty(obj){"],r=u("",t),o=0;o<r.length;++o){var s=r[o],l=s[0],h=s[1];a[h]&&n.push(c(l,h,i[h].type))}return n.push("return obj}"),new Function("gl","locations",n.join("\n"))(e,a)}function d(e){switch(e){case"bool":return!1;case"int":case"sampler2D":case"samplerCube":case"float":return 0;default:var t=e.indexOf("vec");if(0<=t&&t<=1&&e.length===4+t){var i=e.charCodeAt(e.length-1)-48;if(i<2||i>4)throw new s("","Invalid data type");return"b"===e.charAt(0)?r(i,!1):r(i,0)}if(0===e.indexOf("mat")&&4===e.length){var i=e.charCodeAt(e.length-1)-48;if(i<2||i>4)throw new s("","Invalid uniform dimension type for matrix "+name+": "+e);return r(i*i,0)}throw new s("","Unknown uniform data type for "+name+": "+e)}}function p(e,t,r){if("object"===typeof r){var o=f(r);Object.defineProperty(e,t,{get:n(o),set:h(r),enumerable:!0,configurable:!1})}else a[r]?Object.defineProperty(e,t,{get:l(r),set:h(r),enumerable:!0,configurable:!1}):e[t]=d(i[r].type)}function f(e){var t;if(Array.isArray(e)){t=new Array(e.length);for(var i=0;i<e.length;++i)p(t,i,e[i])}else{t={};for(var n in e)p(t,n,e[n])}return t}var m=o(i,!0);return{get:n(f(m)),set:h(m),enumerable:!0,configurable:!0}}var o=i(1421),s=i(1394);e.exports=a},1463:function(e,t,i){"use strict";function n(e,t,i,n,r,a){this._gl=e,this._wrapper=t,this._index=i,this._locations=n,this._dimension=r,this._constFunc=a}function r(e,t,i,r,a,o,s){for(var l=["gl","v"],c=[],u=0;u<a;++u)l.push("x"+u),c.push("x"+u);l.push("if(x0.length===void 0){return gl.vertexAttrib"+a+"f(v,"+c.join()+")}else{return gl.vertexAttrib"+a+"fv(v,x0)}");var h=Function.apply(null,l),d=new n(e,t,i,r,a,h);Object.defineProperty(o,s,{set:function(t){return e.disableVertexAttribArray(r[i]),h(e,r[i],t),t},get:function(){return d},enumerable:!0})}function a(e,t,i,n,a,o,s){for(var l=new Array(a),c=new Array(a),u=0;u<a;++u)r(e,t,i[u],n,a,l,u),c[u]=l[u];Object.defineProperty(l,"location",{set:function(e){if(Array.isArray(e))for(var t=0;t<a;++t)c[t].location=e[t];else for(var t=0;t<a;++t)c[t].location=e+t;return e},get:function(){for(var e=new Array(a),t=0;t<a;++t)e[t]=n[i[t]];return e},enumerable:!0}),l.pointer=function(t,r,o,s){t=t||e.FLOAT,r=!!r,o=o||a*a,s=s||0;for(var l=0;l<a;++l){var c=n[i[l]];e.vertexAttribPointer(c,a,t,r,o,s+l*a),e.enableVertexAttribArray(c)}};var h=new Array(a),d=e["vertexAttrib"+a+"fv"];Object.defineProperty(o,s,{set:function(t){for(var r=0;r<a;++r){var o=n[i[r]];if(e.disableVertexAttribArray(o),Array.isArray(t[0]))d.call(e,o,t[r]);else{for(var s=0;s<a;++s)h[s]=t[a*r+s];d.call(e,o,h)}}return t},get:function(){return l},enumerable:!0})}function o(e,t,i,n){for(var o={},l=0,c=i.length;l<c;++l){var u=i[l],h=u.name,d=u.type,p=u.locations;switch(d){case"bool":case"int":case"float":r(e,t,p[0],n,1,o,h);break;default:if(d.indexOf("vec")>=0){var f=d.charCodeAt(d.length-1)-48;if(f<2||f>4)throw new s("","Invalid data type for attribute "+h+": "+d);r(e,t,p[0],n,f,o,h)}else{if(!(d.indexOf("mat")>=0))throw new s("","Unknown data type for attribute "+h+": "+d);var f=d.charCodeAt(d.length-1)-48;if(f<2||f>4)throw new s("","Invalid data type for attribute "+h+": "+d);a(e,t,p,n,f,o,h)}}}return o}e.exports=o;var s=i(1394),l=n.prototype;l.pointer=function(e,t,i,n){var r=this,a=r._gl,o=r._locations[r._index];a.vertexAttribPointer(o,r._dimension,e||a.FLOAT,!!t,i||0,n||0),a.enableVertexAttribArray(o)},l.set=function(e,t,i,n){return this._constFunc(this._locations[this._index],e,t,i,n)},Object.defineProperty(l,"location",{get:function(){return this._locations[this._index]},set:function(e){return e!==this._locations[this._index]&&(this._locations[this._index]=0|e,this._wrapper.program=null),0|e}})},1464:function(e,t,i){"use strict";function n(e,t,i,n,r,a,o){this.id=e,this.src=t,this.type=i,this.shader=n,this.count=a,this.programs=[],this.cache=o}function r(e){this.gl=e,this.shaders=[{},{}],this.programs={}}function a(e,t,i){var n=e.createShader(t);if(e.shaderSource(n,i),e.compileShader(n),!e.getShaderParameter(n,e.COMPILE_STATUS)){var r=e.getShaderInfoLog(n);try{var a=h(r,i,t)}catch(e){throw console.warn("Failed to format compiler error: "+e),new u(r,"Error compiling shader:\n"+r)}throw new u(r,a.short,a.long)}return n}function o(e,t,i,n,r){var a=e.createProgram();e.attachShader(a,t),e.attachShader(a,i);for(var o=0;o<n.length;++o)e.bindAttribLocation(a,r[o],n[o]);if(e.linkProgram(a),!e.getProgramParameter(a,e.LINK_STATUS)){var s=e.getProgramInfoLog(a);throw new u(s,"Error linking program: "+s)}return a}function s(e){var t=p.get(e);return t||(t=new r(e),p.set(e,t)),t}function l(e,t,i){return s(e).getShaderReference(t,i)}function c(e,t,i,n,r){return s(e).getProgram(t,i,n,r)}t.shader=l,t.program=c;var u=i(1394),h=i(1465),d="undefined"===typeof WeakMap?i(1479):WeakMap,p=new d,f=0;n.prototype.dispose=function(){if(0===--this.count){for(var e=this.cache,t=e.gl,i=this.programs,n=0,r=i.length;n<r;++n){var a=e.programs[i[n]];a&&(delete e.programs[n],t.deleteProgram(a))}t.deleteShader(this.shader),delete e.shaders[this.type===t.FRAGMENT_SHADER|0][this.src]}};var m=r.prototype;m.getShaderReference=function(e,t){var i=this.gl,r=this.shaders[e===i.FRAGMENT_SHADER|0],o=r[t];if(o&&i.isShader(o.shader))o.count+=1;else{var s=a(i,e,t);o=r[t]=new n(f++,t,e,s,[],1,this)}return o},m.getProgram=function(e,t,i,n){var r=[e.id,t.id,i.join(":"),n.join(":")].join("@"),a=this.programs[r];return a&&this.gl.isProgram(a)||(this.programs[r]=a=o(this.gl,e.shader,t.shader,i,n),e.programs.push(r),t.programs.push(r)),a}},1465:function(e,t,i){function n(e,t,i){"use strict";var n=o(t)||"of unknown name (see npm glsl-shader-name)",l="unknown type";void 0!==i&&(l=i===a.FRAGMENT_SHADER?"fragment":"vertex");for(var c=r("Error compiling %s shader %s:\n",l,n),u=r("%s%s",c,e),h=e.split("\n"),d={},p=0;p<h.length;p++){var f=h[p];if(""!==f&&"\0"!==f){var m=parseInt(f.split(":")[2]);if(isNaN(m))throw new Error(r("Could not parse error: %s",f));d[m]=f}}for(var g=s(t).split("\n"),p=0;p<g.length;p++)if(d[p+3]||d[p+2]||d[p+1]){var v=g[p];if(c+=v+"\n",d[p+1]){var y=d[p+1];y=y.substr(y.split(":",3).join(":").length+1).trim(),c+=r("^^^ %s\n\n",y)}}return{long:c.trim(),short:u.trim()}}var r=i(1466).sprintf,a=i(1467),o=i(1469),s=i(1476);e.exports=n},1466:function(e,t,i){!function(e){function i(){var e=arguments[0],t=i.cache;return t[e]&&t.hasOwnProperty(e)||(t[e]=i.parse(e)),i.format.call(null,t[e],arguments)}function n(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function r(e,t){return Array(t+1).join(e)}var a={not_string:/[^s]/,number:/[diefg]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijosuxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[\+\-]/};i.format=function(e,t){var o,s,l,c,u,h,d,p=1,f=e.length,m="",g=[],v=!0,y="";for(s=0;s<f;s++)if("string"===(m=n(e[s])))g[g.length]=e[s];else if("array"===m){if(c=e[s],c[2])for(o=t[p],l=0;l<c[2].length;l++){if(!o.hasOwnProperty(c[2][l]))throw new Error(i("[sprintf] property '%s' does not exist",c[2][l]));o=o[c[2][l]]}else o=c[1]?t[c[1]]:t[p++];if("function"==n(o)&&(o=o()),a.not_string.test(c[8])&&a.not_json.test(c[8])&&"number"!=n(o)&&isNaN(o))throw new TypeError(i("[sprintf] expecting number but found %s",n(o)));switch(a.number.test(c[8])&&(v=o>=0),c[8]){case"b":o=o.toString(2);break;case"c":o=String.fromCharCode(o);break;case"d":case"i":o=parseInt(o,10);break;case"j":o=JSON.stringify(o,null,c[6]?parseInt(c[6]):0);break;case"e":o=c[7]?o.toExponential(c[7]):o.toExponential();break;case"f":o=c[7]?parseFloat(o).toFixed(c[7]):parseFloat(o);break;case"g":o=c[7]?parseFloat(o).toPrecision(c[7]):parseFloat(o);break;case"o":o=o.toString(8);break;case"s":o=(o=String(o))&&c[7]?o.substring(0,c[7]):o;break;case"u":o>>>=0;break;case"x":o=o.toString(16);break;case"X":o=o.toString(16).toUpperCase()}a.json.test(c[8])?g[g.length]=o:(!a.number.test(c[8])||v&&!c[3]?y="":(y=v?"+":"-",o=o.toString().replace(a.sign,"")),h=c[4]?"0"===c[4]?"0":c[4].charAt(1):" ",d=c[6]-(y+o).length,u=c[6]&&d>0?r(h,d):"",g[g.length]=c[5]?y+o+u:"0"===h?y+u+o:u+y+o)}return g.join("")},i.cache={},i.parse=function(e){for(var t=e,i=[],n=[],r=0;t;){if(null!==(i=a.text.exec(t)))n[n.length]=i[0];else if(null!==(i=a.modulo.exec(t)))n[n.length]="%";else{if(null===(i=a.placeholder.exec(t)))throw new SyntaxError("[sprintf] unexpected placeholder");if(i[2]){r|=1;var o=[],s=i[2],l=[];if(null===(l=a.key.exec(s)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(o[o.length]=l[1];""!==(s=s.substring(l[0].length));)if(null!==(l=a.key_access.exec(s)))o[o.length]=l[1];else{if(null===(l=a.index_access.exec(s)))throw new SyntaxError("[sprintf] failed to parse named argument key");o[o.length]=l[1]}i[2]=o}else r|=2;if(3===r)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");n[n.length]=i}t=t.substring(i[0].length)}return n};var o=function(e,t,n){return n=(t||[]).slice(0),n.splice(0,0,e),i.apply(null,n)};t.sprintf=i,t.vsprintf=o}("undefined"===typeof window||window)},1467:function(e,t,i){var n=i(1468);e.exports=function(e){return n[e]}},1468:function(e,t){e.exports={0:"NONE",1:"ONE",2:"LINE_LOOP",3:"LINE_STRIP",4:"TRIANGLES",5:"TRIANGLE_STRIP",6:"TRIANGLE_FAN",256:"DEPTH_BUFFER_BIT",512:"NEVER",513:"LESS",514:"EQUAL",515:"LEQUAL",516:"GREATER",517:"NOTEQUAL",518:"GEQUAL",519:"ALWAYS",768:"SRC_COLOR",769:"ONE_MINUS_SRC_COLOR",770:"SRC_ALPHA",771:"ONE_MINUS_SRC_ALPHA",772:"DST_ALPHA",773:"ONE_MINUS_DST_ALPHA",774:"DST_COLOR",775:"ONE_MINUS_DST_COLOR",776:"SRC_ALPHA_SATURATE",1024:"STENCIL_BUFFER_BIT",1028:"FRONT",1029:"BACK",1032:"FRONT_AND_BACK",1280:"INVALID_ENUM",1281:"INVALID_VALUE",1282:"INVALID_OPERATION",1285:"OUT_OF_MEMORY",1286:"INVALID_FRAMEBUFFER_OPERATION",2304:"CW",2305:"CCW",2849:"LINE_WIDTH",2884:"CULL_FACE",2885:"CULL_FACE_MODE",2886:"FRONT_FACE",2928:"DEPTH_RANGE",2929:"DEPTH_TEST",2930:"DEPTH_WRITEMASK",2931:"DEPTH_CLEAR_VALUE",2932:"DEPTH_FUNC",2960:"STENCIL_TEST",2961:"STENCIL_CLEAR_VALUE",2962:"STENCIL_FUNC",2963:"STENCIL_VALUE_MASK",2964:"STENCIL_FAIL",2965:"STENCIL_PASS_DEPTH_FAIL",2966:"STENCIL_PASS_DEPTH_PASS",2967:"STENCIL_REF",2968:"STENCIL_WRITEMASK",2978:"VIEWPORT",3024:"DITHER",3042:"BLEND",3088:"SCISSOR_BOX",3089:"SCISSOR_TEST",3106:"COLOR_CLEAR_VALUE",3107:"COLOR_WRITEMASK",3317:"UNPACK_ALIGNMENT",3333:"PACK_ALIGNMENT",3379:"MAX_TEXTURE_SIZE",3386:"MAX_VIEWPORT_DIMS",3408:"SUBPIXEL_BITS",3410:"RED_BITS",3411:"GREEN_BITS",3412:"BLUE_BITS",3413:"ALPHA_BITS",3414:"DEPTH_BITS",3415:"STENCIL_BITS",3553:"TEXTURE_2D",4352:"DONT_CARE",4353:"FASTEST",4354:"NICEST",5120:"BYTE",5121:"UNSIGNED_BYTE",5122:"SHORT",5123:"UNSIGNED_SHORT",5124:"INT",5125:"UNSIGNED_INT",5126:"FLOAT",5386:"INVERT",5890:"TEXTURE",6401:"STENCIL_INDEX",6402:"DEPTH_COMPONENT",6406:"ALPHA",6407:"RGB",6408:"RGBA",6409:"LUMINANCE",6410:"LUMINANCE_ALPHA",7680:"KEEP",7681:"REPLACE",7682:"INCR",7683:"DECR",7936:"VENDOR",7937:"RENDERER",7938:"VERSION",9728:"NEAREST",9729:"LINEAR",9984:"NEAREST_MIPMAP_NEAREST",9985:"LINEAR_MIPMAP_NEAREST",9986:"NEAREST_MIPMAP_LINEAR",9987:"LINEAR_MIPMAP_LINEAR",10240:"TEXTURE_MAG_FILTER",10241:"TEXTURE_MIN_FILTER",10242:"TEXTURE_WRAP_S",10243:"TEXTURE_WRAP_T",10497:"REPEAT",10752:"POLYGON_OFFSET_UNITS",16384:"COLOR_BUFFER_BIT",32769:"CONSTANT_COLOR",32770:"ONE_MINUS_CONSTANT_COLOR",32771:"CONSTANT_ALPHA",32772:"ONE_MINUS_CONSTANT_ALPHA",32773:"BLEND_COLOR",32774:"FUNC_ADD",32777:"BLEND_EQUATION_RGB",32778:"FUNC_SUBTRACT",32779:"FUNC_REVERSE_SUBTRACT",32819:"UNSIGNED_SHORT_4_4_4_4",32820:"UNSIGNED_SHORT_5_5_5_1",32823:"POLYGON_OFFSET_FILL",32824:"POLYGON_OFFSET_FACTOR",32854:"RGBA4",32855:"RGB5_A1",32873:"TEXTURE_BINDING_2D",32926:"SAMPLE_ALPHA_TO_COVERAGE",32928:"SAMPLE_COVERAGE",32936:"SAMPLE_BUFFERS",32937:"SAMPLES",32938:"SAMPLE_COVERAGE_VALUE",32939:"SAMPLE_COVERAGE_INVERT",32968:"BLEND_DST_RGB",32969:"BLEND_SRC_RGB",32970:"BLEND_DST_ALPHA",32971:"BLEND_SRC_ALPHA",33071:"CLAMP_TO_EDGE",33170:"GENERATE_MIPMAP_HINT",33189:"DEPTH_COMPONENT16",33306:"DEPTH_STENCIL_ATTACHMENT",33635:"UNSIGNED_SHORT_5_6_5",33648:"MIRRORED_REPEAT",33901:"ALIASED_POINT_SIZE_RANGE",33902:"ALIASED_LINE_WIDTH_RANGE",33984:"TEXTURE0",33985:"TEXTURE1",33986:"TEXTURE2",33987:"TEXTURE3",33988:"TEXTURE4",33989:"TEXTURE5",33990:"TEXTURE6",33991:"TEXTURE7",33992:"TEXTURE8",33993:"TEXTURE9",33994:"TEXTURE10",33995:"TEXTURE11",33996:"TEXTURE12",33997:"TEXTURE13",33998:"TEXTURE14",33999:"TEXTURE15",34e3:"TEXTURE16",34001:"TEXTURE17",34002:"TEXTURE18",34003:"TEXTURE19",34004:"TEXTURE20",34005:"TEXTURE21",34006:"TEXTURE22",34007:"TEXTURE23",34008:"TEXTURE24",34009:"TEXTURE25",34010:"TEXTURE26",34011:"TEXTURE27",34012:"TEXTURE28",34013:"TEXTURE29",34014:"TEXTURE30",34015:"TEXTURE31",34016:"ACTIVE_TEXTURE",34024:"MAX_RENDERBUFFER_SIZE",34041:"DEPTH_STENCIL",34055:"INCR_WRAP",34056:"DECR_WRAP",34067:"TEXTURE_CUBE_MAP",34068:"TEXTURE_BINDING_CUBE_MAP",34069:"TEXTURE_CUBE_MAP_POSITIVE_X",34070:"TEXTURE_CUBE_MAP_NEGATIVE_X",34071:"TEXTURE_CUBE_MAP_POSITIVE_Y",34072:"TEXTURE_CUBE_MAP_NEGATIVE_Y",34073:"TEXTURE_CUBE_MAP_POSITIVE_Z",34074:"TEXTURE_CUBE_MAP_NEGATIVE_Z",34076:"MAX_CUBE_MAP_TEXTURE_SIZE",34338:"VERTEX_ATTRIB_ARRAY_ENABLED",34339:"VERTEX_ATTRIB_ARRAY_SIZE",34340:"VERTEX_ATTRIB_ARRAY_STRIDE",34341:"VERTEX_ATTRIB_ARRAY_TYPE",34342:"CURRENT_VERTEX_ATTRIB",34373:"VERTEX_ATTRIB_ARRAY_POINTER",34466:"NUM_COMPRESSED_TEXTURE_FORMATS",34467:"COMPRESSED_TEXTURE_FORMATS",34660:"BUFFER_SIZE",34661:"BUFFER_USAGE",34816:"STENCIL_BACK_FUNC",34817:"STENCIL_BACK_FAIL",34818:"STENCIL_BACK_PASS_DEPTH_FAIL",34819:"STENCIL_BACK_PASS_DEPTH_PASS",34877:"BLEND_EQUATION_ALPHA",34921:"MAX_VERTEX_ATTRIBS",34922:"VERTEX_ATTRIB_ARRAY_NORMALIZED",34930:"MAX_TEXTURE_IMAGE_UNITS",34962:"ARRAY_BUFFER",34963:"ELEMENT_ARRAY_BUFFER",34964:"ARRAY_BUFFER_BINDING",34965:"ELEMENT_ARRAY_BUFFER_BINDING",34975:"VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",35040:"STREAM_DRAW",35044:"STATIC_DRAW",35048:"DYNAMIC_DRAW",35632:"FRAGMENT_SHADER",35633:"VERTEX_SHADER",35660:"MAX_VERTEX_TEXTURE_IMAGE_UNITS",35661:"MAX_COMBINED_TEXTURE_IMAGE_UNITS",35663:"SHADER_TYPE",35664:"FLOAT_VEC2",35665:"FLOAT_VEC3",35666:"FLOAT_VEC4",35667:"INT_VEC2",35668:"INT_VEC3",35669:"INT_VEC4",35670:"BOOL",35671:"BOOL_VEC2",35672:"BOOL_VEC3",35673:"BOOL_VEC4",35674:"FLOAT_MAT2",35675:"FLOAT_MAT3",35676:"FLOAT_MAT4",35678:"SAMPLER_2D",35680:"SAMPLER_CUBE",35712:"DELETE_STATUS",35713:"COMPILE_STATUS",35714:"LINK_STATUS",35715:"VALIDATE_STATUS",35716:"INFO_LOG_LENGTH",35717:"ATTACHED_SHADERS",35718:"ACTIVE_UNIFORMS",35719:"ACTIVE_UNIFORM_MAX_LENGTH",35720:"SHADER_SOURCE_LENGTH",35721:"ACTIVE_ATTRIBUTES",35722:"ACTIVE_ATTRIBUTE_MAX_LENGTH",35724:"SHADING_LANGUAGE_VERSION",35725:"CURRENT_PROGRAM",36003:"STENCIL_BACK_REF",36004:"STENCIL_BACK_VALUE_MASK",36005:"STENCIL_BACK_WRITEMASK",36006:"FRAMEBUFFER_BINDING",36007:"RENDERBUFFER_BINDING",36048:"FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",36049:"FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",36050:"FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",36051:"FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",36053:"FRAMEBUFFER_COMPLETE",36054:"FRAMEBUFFER_INCOMPLETE_ATTACHMENT",36055:"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",36057:"FRAMEBUFFER_INCOMPLETE_DIMENSIONS",36061:"FRAMEBUFFER_UNSUPPORTED",36064:"COLOR_ATTACHMENT0",36096:"DEPTH_ATTACHMENT",36128:"STENCIL_ATTACHMENT",36160:"FRAMEBUFFER",36161:"RENDERBUFFER",36162:"RENDERBUFFER_WIDTH",36163:"RENDERBUFFER_HEIGHT",36164:"RENDERBUFFER_INTERNAL_FORMAT",36168:"STENCIL_INDEX8",36176:"RENDERBUFFER_RED_SIZE",36177:"RENDERBUFFER_GREEN_SIZE",36178:"RENDERBUFFER_BLUE_SIZE",36179:"RENDERBUFFER_ALPHA_SIZE",36180:"RENDERBUFFER_DEPTH_SIZE",36181:"RENDERBUFFER_STENCIL_SIZE",36194:"RGB565",36336:"LOW_FLOAT",36337:"MEDIUM_FLOAT",36338:"HIGH_FLOAT",36339:"LOW_INT",36340:"MEDIUM_INT",36341:"HIGH_INT",36346:"SHADER_COMPILER",36347:"MAX_VERTEX_UNIFORM_VECTORS",36348:"MAX_VARYING_VECTORS",36349:"MAX_FRAGMENT_UNIFORM_VECTORS",37440:"UNPACK_FLIP_Y_WEBGL",37441:"UNPACK_PREMULTIPLY_ALPHA_WEBGL",37442:"CONTEXT_LOST_WEBGL",37443:"UNPACK_COLORSPACE_CONVERSION_WEBGL",37444:"BROWSER_DEFAULT_WEBGL"}},1469:function(e,t,i){function n(e){for(var t=Array.isArray(e)?e:r(e),i=0;i<t.length;i++){var n=t[i];if("preprocessor"===n.type){var o=n.data.match(/\#define\s+SHADER_NAME(_B64)?\s+(.+)$/);if(o&&o[2]){var s=o[1],l=o[2];return(s?a(l):l).trim()}}}}var r=i(1470),a=i(1475);e.exports=n},1470:function(e,t,i){function n(e,t){var i=r(t),n=[];return n=n.concat(i(e)),n=n.concat(i(null))}var r=i(1471);e.exports=n},1471:function(e,t,i){function n(e){function t(e){e.length&&H.push({type:w[U],data:e,position:q,line:V,column:G})}function i(e){B=0,e.toString&&(e=e.toString()),X+=e.replace(/\r\n/g,"\n"),N=X.length;for(var t;D=X[B],B<N;){switch(t=B,U){case h:B=k();break;case d:B=C();break;case p:B=S();break;case f:B=O();break;case m:B=I();break;case E:B=j();break;case g:B=M();break;case u:B=R();break;case _:B=T();break;case c:B=x()}if(t!==B)switch(X[t]){case"\n":G=0,++V;break;default:++G}}return F+=B,X=X.slice(B),H}function n(e){return z.length&&t(z.join("")),U=A,t("(eof)"),H}function x(){return z=z.length?[]:z,"/"===L&&"*"===D?(q=F+B-1,U=h,L=D,B+1):"/"===L&&"/"===D?(q=F+B-1,U=d,L=D,B+1):"#"===D?(U=p,q=F+B,B):/\s/.test(D)?(U=_,q=F+B,B):(W=/\d/.test(D),Y=/[^\w_]/.test(D),q=F+B,U=W?m:Y?f:u,B)}function T(){return/[^\s]/g.test(D)?(t(z.join("")),U=c,B):(z.push(D),L=D,B+1)}function S(){return"\r"!==D&&"\n"!==D||"\\"===L?(z.push(D),L=D,B+1):(t(z.join("")),U=c,B)}function C(){return S()}function k(){return"/"===D&&"*"===L?(z.push(D),t(z.join("")),U=c,B+1):(z.push(D),L=D,B+1)}function O(){if("."===L&&/\d/.test(D))return U=g,B;if("/"===L&&"*"===D)return U=h,B;if("/"===L&&"/"===D)return U=d,B;if("."===D&&z.length){for(;P(z););return U=g,B}if(";"===D||")"===D||"("===D){if(z.length)for(;P(z););return t(D),U=c,B+1}var e=2===z.length&&"="!==D;if(/[\w_\d\s]/.test(D)||e){for(;P(z););return U=c,B}return z.push(D),L=D,B+1}function P(e){for(var i,n,r=0;;){if(i=a.indexOf(e.slice(0,e.length+r).join("")),n=a[i],-1===i){if(r--+e.length>0)continue;n=e.slice(0,1).join("")}return t(n),q+=n.length,z=z.slice(n.length),z.length}}function j(){return/[^a-fA-F0-9]/.test(D)?(t(z.join("")),U=c,B):(z.push(D),L=D,B+1)}function I(){return"."===D?(z.push(D),U=g,L=D,B+1):/[eE]/.test(D)?(z.push(D),U=g,L=D,B+1):"x"===D&&1===z.length&&"0"===z[0]?(U=E,z.push(D),L=D,B+1):/[^\d]/.test(D)?(t(z.join("")),U=c,B):(z.push(D),L=D,B+1)}function M(){return"f"===D&&(z.push(D),L=D,B+=1),/[eE]/.test(D)?(z.push(D),L=D,B+1):("-"!==D&&"+"!==D||!/[eE]/.test(L))&&/[^\d]/.test(D)?(t(z.join("")),U=c,B):(z.push(D),L=D,B+1)}function R(){if(/[^\d\w_]/.test(D)){var e=z.join("");return U=J[e]?b:Z[e]?y:v,t(z.join("")),U=c,B}return z.push(D),L=D,B+1}var D,L,N,B=0,F=0,U=c,z=[],H=[],V=1,G=0,q=0,W=!1,Y=!1,X="";e=e||{};var Q=o,K=r;"300 es"===e.version&&(Q=l,K=s);for(var Z={},J={},B=0;B<Q.length;B++)Z[Q[B]]=!0;for(var B=0;B<K.length;B++)J[K[B]]=!0;return function(e){return H=[],null!==e?i(e):n()}}e.exports=n;var r=i(1422),a=i(1472),o=i(1423),s=i(1473),l=i(1474),c=999,u=9999,h=0,d=1,p=2,f=3,m=4,g=5,v=6,y=7,b=8,_=9,A=10,E=11,w=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"]},1472:function(e,t){e.exports=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"]},1473:function(e,t,i){var n=i(1422);e.exports=n.slice().concat(["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray"])},1474:function(e,t,i){var n=i(1423);n=n.slice().filter(function(e){return!/^(gl\_|texture)/.test(e)}),e.exports=n.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"])},1475:function(e,t){e.exports=function(e){return atob(e)}},1476:function(e,t,i){function n(e,t,i){t="number"===typeof t?t:1,i=i||": ";var n=e.split(/\r?\n/),a=String(n.length+t-1).length;return n.map(function(e,n){var o=n+t,s=String(o).length;return r(o,a-s)+i+e}).join("\n")}var r=i(1477);e.exports=n},1477:function(e,t,i){"use strict";var n=i(1478);e.exports=function(e,t,i){return i="undefined"!==typeof i?i+"":" ",n(i,t)+e}},1478:function(e,t,i){"use strict";function n(e,t){if("string"!==typeof e)throw new TypeError("expected a string");if(1===t)return e;if(2===t)return e+e;var i=e.length*t;if(r!==e||"undefined"===typeof r)r=e,a="";else if(a.length>=i)return a.substr(0,i);for(;i>a.length&&t>1;)1&t&&(a+=e),t>>=1,e+=e;return a+=e,a=a.substr(0,i)}var r,a="";e.exports=n},1479:function(e,t,i){function n(){var e=r();return{get:function(t,i){var n=e(t);return n.hasOwnProperty("value")?n.value:i},set:function(t,i){return e(t).value=i,this},has:function(t){return"value"in e(t)},delete:function(t){return delete e(t).value}}}var r=i(1480);e.exports=n},1480:function(e,t,i){function n(){var e={};return function(t){if(("object"!==typeof t||null===t)&&"function"!==typeof t)throw new Error("Weakmap-shim: Key must be object");var i=t.valueOf(e);return i&&i.identity===e?i:r(t,e)}}var r=i(1481);e.exports=n},1481:function(e,t){function i(e,t){var i={identity:t},n=e.valueOf;return Object.defineProperty(e,"valueOf",{value:function(e){return e!==t?n.apply(this,arguments):i},writable:!0}),i}e.exports=i},1482:function(e,t,i){"use strict";function n(e,t){if(!s){var i=Object.keys(o);s={};for(var n=0;n<i.length;++n){var r=i[n];s[e[r]]=o[r]}}return s[t]}function r(e,t){for(var i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),r=[],a=0;a<i;++a){var o=e.getActiveUniform(t,a);if(o){var s=n(e,o.type);if(o.size>1)for(var l=0;l<o.size;++l)r.push({name:o.name.replace("[0]","["+l+"]"),type:s});else r.push({name:o.name,type:s})}}return r}function a(e,t){for(var i=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),r=[],a=0;a<i;++a){var o=e.getActiveAttrib(t,a);o&&r.push({name:o.name,type:n(e,o.type)})}return r}t.uniforms=r,t.attributes=a;var o={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube"},s=null},1483:function(e,t,i){"use strict";function n(e){v=[e.LINEAR,e.NEAREST_MIPMAP_LINEAR,e.LINEAR_MIPMAP_NEAREST,e.LINEAR_MIPMAP_NEAREST],y=[e.NEAREST,e.LINEAR,e.NEAREST_MIPMAP_NEAREST,e.NEAREST_MIPMAP_LINEAR,e.LINEAR_MIPMAP_NEAREST,e.LINEAR_MIPMAP_LINEAR],b=[e.REPEAT,e.CLAMP_TO_EDGE,e.MIRRORED_REPEAT]}function r(e){return"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLVideoElement&&e instanceof HTMLVideoElement||"undefined"!=typeof ImageData&&e instanceof ImageData}function a(e,t,i){var n=e.gl,r=n.getParameter(n.MAX_TEXTURE_SIZE);if(t<0||t>r||i<0||i>r)throw new Error("gl-texture2d: Invalid texture size");return e._shape=[t,i],e.bind(),n.texImage2D(n.TEXTURE_2D,0,e.format,t,i,0,e.format,e.type,null),e._mipLevels=[0],e}function o(e,t,i,n,r,a){this.gl=e,this.handle=t,this.format=r,this.type=a,this._shape=[i,n],this._mipLevels=[0],this._magFilter=e.NEAREST,this._minFilter=e.NEAREST,this._wrapS=e.CLAMP_TO_EDGE,this._wrapT=e.CLAMP_TO_EDGE,this._anisoSamples=1;var o=this,s=[this._wrapS,this._wrapT];Object.defineProperties(s,[{get:function(){return o._wrapS},set:function(e){return o.wrapS=e}},{get:function(){return o._wrapT},set:function(e){return o.wrapT=e}}]),this._wrapVector=s;var l=[this._shape[0],this._shape[1]];Object.defineProperties(l,[{get:function(){return o._shape[0]},set:function(e){return o.width=e}},{get:function(){return o._shape[1]},set:function(e){return o.height=e}}]),this._shapeVector=l}function s(e,t){return 3===e.length?1===t[2]&&t[1]===e[0]*e[2]&&t[0]===e[2]:1===t[0]&&t[1]===e[0]}function l(e,t,i,n,r,a,o,l){var c=l.dtype,u=l.shape.slice();if(u.length<2||u.length>3)throw new Error("gl-texture2d: Invalid ndarray, must be 2d or 3d");var h=0,d=0,p=s(u,l.stride.slice());"float32"===c?h=e.FLOAT:"float64"===c?(h=e.FLOAT,p=!1,c="float32"):"uint8"===c?h=e.UNSIGNED_BYTE:(h=e.UNSIGNED_BYTE,p=!1,c="uint8");if(2===u.length)d=e.LUMINANCE,u=[u[0],u[1],1],l=f(l.data,u,[l.stride[0],l.stride[1],1],l.offset);else{if(3!==u.length)throw new Error("gl-texture2d: Invalid shape for texture");if(1===u[2])d=e.ALPHA;else if(2===u[2])d=e.LUMINANCE_ALPHA;else if(3===u[2])d=e.RGB;else{if(4!==u[2])throw new Error("gl-texture2d: Invalid shape for pixel coords");d=e.RGBA}u[2]}if(d!==e.LUMINANCE&&d!==e.ALPHA||r!==e.LUMINANCE&&r!==e.ALPHA||(d=r),d!==r)throw new Error("gl-texture2d: Incompatible texture format for setPixels");var v=l.size,y=o.indexOf(n)<0;if(y&&o.push(n),h===a&&p)0===l.offset&&l.data.length===v?y?e.texImage2D(e.TEXTURE_2D,n,r,u[0],u[1],0,r,a,l.data):e.texSubImage2D(e.TEXTURE_2D,n,t,i,u[0],u[1],r,a,l.data):y?e.texImage2D(e.TEXTURE_2D,n,r,u[0],u[1],0,r,a,l.data.subarray(l.offset,l.offset+v)):e.texSubImage2D(e.TEXTURE_2D,n,t,i,u[0],u[1],r,a,l.data.subarray(l.offset,l.offset+v));else{var b;b=a===e.FLOAT?g.mallocFloat32(v):g.mallocUint8(v);var A=f(b,u,[u[2],u[2]*u[0],1]);h===e.FLOAT&&a===e.UNSIGNED_BYTE?_(A,l):m.assign(A,l),y?e.texImage2D(e.TEXTURE_2D,n,r,u[0],u[1],0,r,a,b.subarray(0,v)):e.texSubImage2D(e.TEXTURE_2D,n,t,i,u[0],u[1],r,a,b.subarray(0,v)),a===e.FLOAT?g.freeFloat32(b):g.freeUint8(b)}}function c(e){var t=e.createTexture();return e.bindTexture(e.TEXTURE_2D,t),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),t}function u(e,t,i,n,r){var a=e.getParameter(e.MAX_TEXTURE_SIZE);if(t<0||t>a||i<0||i>a)throw new Error("gl-texture2d: Invalid texture shape");if(r===e.FLOAT&&!e.getExtension("OES_texture_float"))throw new Error("gl-texture2d: Floating point textures not supported on this platform");var s=c(e);return e.texImage2D(e.TEXTURE_2D,0,n,t,i,0,n,r,null),new o(e,s,t,i,n,r)}function h(e,t,i,n,r,a){var s=c(e);return e.texImage2D(e.TEXTURE_2D,0,r,r,a,t),new o(e,s,i,n,r,a)}function d(e,t){var i=t.dtype,n=t.shape.slice(),r=e.getParameter(e.MAX_TEXTURE_SIZE);if(n[0]<0||n[0]>r||n[1]<0||n[1]>r)throw new Error("gl-texture2d: Invalid texture size");var a=s(n,t.stride.slice()),l=0;"float32"===i?l=e.FLOAT:"float64"===i?(l=e.FLOAT,a=!1,i="float32"):"uint8"===i?l=e.UNSIGNED_BYTE:(l=e.UNSIGNED_BYTE,a=!1,i="uint8");var u=0;if(2===n.length)u=e.LUMINANCE,n=[n[0],n[1],1],t=f(t.data,n,[t.stride[0],t.stride[1],1],t.offset);else{if(3!==n.length)throw new Error("gl-texture2d: Invalid shape for texture");if(1===n[2])u=e.ALPHA;else if(2===n[2])u=e.LUMINANCE_ALPHA;else if(3===n[2])u=e.RGB;else{if(4!==n[2])throw new Error("gl-texture2d: Invalid shape for pixel coords");u=e.RGBA}}l!==e.FLOAT||e.getExtension("OES_texture_float")||(l=e.UNSIGNED_BYTE,a=!1);var h,d,p=t.size;if(a)h=0===t.offset&&t.data.length===p?t.data:t.data.subarray(t.offset,t.offset+p);else{var v=[n[2],n[2]*n[0],1];d=g.malloc(p,i);var y=f(d,n,v,0);"float32"!==i&&"float64"!==i||l!==e.UNSIGNED_BYTE?m.assign(y,t):_(y,t),h=d.subarray(0,p)}var b=c(e);return e.texImage2D(e.TEXTURE_2D,0,u,n[0],n[1],0,u,l,h),a||g.free(d),new o(e,b,n[0],n[1],u,l)}function p(e){if(arguments.length<=1)throw new Error("gl-texture2d: Missing arguments for texture2d constructor");if(v||n(e),"number"===typeof arguments[1])return u(e,arguments[1],arguments[2],arguments[3]||e.RGBA,arguments[4]||e.UNSIGNED_BYTE);if(Array.isArray(arguments[1]))return u(e,0|arguments[1][0],0|arguments[1][1],arguments[2]||e.RGBA,arguments[3]||e.UNSIGNED_BYTE);if("object"===typeof arguments[1]){var t=arguments[1],i=r(t)?t:t.raw;if(i)return h(e,i,0|t.width,0|t.height,arguments[2]||e.RGBA,arguments[3]||e.UNSIGNED_BYTE);if(t.shape&&t.data&&t.stride)return d(e,t)}throw new Error("gl-texture2d: Invalid arguments for texture2d constructor")}var f=i(1484),m=i(1487),g=i(1492);e.exports=p;var v=null,y=null,b=null,_=function(e,t){m.muls(e,t,255)},A=o.prototype;Object.defineProperties(A,{minFilter:{get:function(){return this._minFilter},set:function(e){this.bind();var t=this.gl;if(this.type===t.FLOAT&&v.indexOf(e)>=0&&(t.getExtension("OES_texture_float_linear")||(e=t.NEAREST)),y.indexOf(e)<0)throw new Error("gl-texture2d: Unknown filter mode "+e);return t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,e),this._minFilter=e}},magFilter:{get:function(){return this._magFilter},set:function(e){this.bind();var t=this.gl;if(this.type===t.FLOAT&&v.indexOf(e)>=0&&(t.getExtension("OES_texture_float_linear")||(e=t.NEAREST)),y.indexOf(e)<0)throw new Error("gl-texture2d: Unknown filter mode "+e);return t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,e),this._magFilter=e}},mipSamples:{get:function(){return this._anisoSamples},set:function(e){var t=this._anisoSamples;if(this._anisoSamples=0|Math.max(e,1),t!==this._anisoSamples){var i=this.gl.getExtension("EXT_texture_filter_anisotropic");i&&this.gl.texParameterf(this.gl.TEXTURE_2D,i.TEXTURE_MAX_ANISOTROPY_EXT,this._anisoSamples)}return this._anisoSamples}},wrapS:{get:function(){return this._wrapS},set:function(e){if(this.bind(),b.indexOf(e)<0)throw new Error("gl-texture2d: Unknown wrap mode "+e);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,e),this._wrapS=e}},wrapT:{get:function(){return this._wrapT},set:function(e){if(this.bind(),b.indexOf(e)<0)throw new Error("gl-texture2d: Unknown wrap mode "+e);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,e),this._wrapT=e}},wrap:{get:function(){return this._wrapVector},set:function(e){if(Array.isArray(e)||(e=[e,e]),2!==e.length)throw new Error("gl-texture2d: Must specify wrap mode for rows and columns");for(var t=0;t<2;++t)if(b.indexOf(e[t])<0)throw new Error("gl-texture2d: Unknown wrap mode "+e);this._wrapS=e[0],this._wrapT=e[1];var i=this.gl;return this.bind(),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,this._wrapS),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,this._wrapT),e}},shape:{get:function(){return this._shapeVector},set:function(e){if(Array.isArray(e)){if(2!==e.length)throw new Error("gl-texture2d: Invalid texture shape")}else e=[0|e,0|e];return a(this,0|e[0],0|e[1]),[0|e[0],0|e[1]]}},width:{get:function(){return this._shape[0]},set:function(e){return e|=0,a(this,e,this._shape[1]),e}},height:{get:function(){return this._shape[1]},set:function(e){return e|=0,a(this,this._shape[0],e),e}}}),A.bind=function(e){var t=this.gl;return void 0!==e&&t.activeTexture(t.TEXTURE0+(0|e)),t.bindTexture(t.TEXTURE_2D,this.handle),void 0!==e?0|e:t.getParameter(t.ACTIVE_TEXTURE)-t.TEXTURE0},A.dispose=function(){this.gl.deleteTexture(this.handle)},A.generateMipmap=function(){this.bind(),this.gl.generateMipmap(this.gl.TEXTURE_2D);for(var e=Math.min(this._shape[0],this._shape[1]),t=0;e>0;++t,e>>>=1)this._mipLevels.indexOf(t)<0&&this._mipLevels.push(t)},A.setPixels=function(e,t,i,n){var a=this.gl;this.bind(),Array.isArray(t)?(n=i,i=0|t[1],t=0|t[0]):(t=t||0,i=i||0),n=n||0;var o=r(e)?e:e.raw;if(o){this._mipLevels.indexOf(n)<0?(a.texImage2D(a.TEXTURE_2D,0,this.format,this.format,this.type,o),this._mipLevels.push(n)):a.texSubImage2D(a.TEXTURE_2D,n,t,i,this.format,this.type,o)}else{if(!(e.shape&&e.stride&&e.data))throw new Error("gl-texture2d: Unsupported data type");if(e.shape.length<2||t+e.shape[1]>this._shape[1]>>>n||i+e.shape[0]>this._shape[0]>>>n||t<0||i<0)throw new Error("gl-texture2d: Texture dimensions are out of bounds");l(a,t,i,n,this.format,this.type,this._mipLevels,e)}}},1484:function(e,t,i){function n(e,t){return e[0]-t[0]}function r(){var e,t=this.stride,i=new Array(t.length);for(e=0;e<i.length;++e)i[e]=[Math.abs(t[e]),e];i.sort(n);var r=new Array(i.length);for(e=0;e<r.length;++e)r[e]=i[e][1];return r}function a(e,t){var i=["View",t,"d",e].join("");t<0&&(i="View_Nil"+e);var n="generic"===e;if(-1===t){var a="function "+i+"(a){this.data=a;};var proto="+i+".prototype;proto.dtype='"+e+"';proto.index=function(){return -1};proto.size=0;proto.dimension=-1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function(){return new "+i+"(this.data);};proto.get=proto.set=function(){};proto.pick=function(){return null};return function construct_"+i+"(a){return new "+i+"(a);}",o=new Function(a);return o()}if(0===t){var a="function "+i+"(a,d) {this.data = a;this.offset = d};var proto="+i+".prototype;proto.dtype='"+e+"';proto.index=function(){return this.offset};proto.dimension=0;proto.size=1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function "+i+"_copy() {return new "+i+"(this.data,this.offset)};proto.pick=function "+i+"_pick(){return TrivialArray(this.data);};proto.valueOf=proto.get=function "+i+"_get(){return "+(n?"this.data.get(this.offset)":"this.data[this.offset]")+"};proto.set=function "+i+"_set(v){return "+(n?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"};return function construct_"+i+"(a,b,c,d){return new "+i+"(a,d)}",o=new Function("TrivialArray",a);return o(h[e][0])}var a=["'use strict'"],s=l(t),c=s.map(function(e){return"i"+e}),u="this.offset+"+s.map(function(e){return"this.stride["+e+"]*i"+e}).join("+"),d=s.map(function(e){return"b"+e}).join(","),p=s.map(function(e){return"c"+e}).join(",");a.push("function "+i+"(a,"+d+","+p+",d){this.data=a","this.shape=["+d+"]","this.stride=["+p+"]","this.offset=d|0}","var proto="+i+".prototype","proto.dtype='"+e+"'","proto.dimension="+t),a.push("Object.defineProperty(proto,'size',{get:function "+i+"_size(){return "+s.map(function(e){return"this.shape["+e+"]"}).join("*"),"}})"),1===t?a.push("proto.order=[0]"):(a.push("Object.defineProperty(proto,'order',{get:"),t<4?(a.push("function "+i+"_order(){"),2===t?a.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})"):3===t&&a.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);if(s0>s1){if(s1>s2){return [2,1,0];}else if(s0>s2){return [1,2,0];}else{return [1,0,2];}}else if(s0>s2){return [2,0,1];}else if(s2>s1){return [0,1,2];}else{return [0,2,1];}}})")):a.push("ORDER})")),a.push("proto.set=function "+i+"_set("+c.join(",")+",v){"),n?a.push("return this.data.set("+u+",v)}"):a.push("return this.data["+u+"]=v}"),a.push("proto.get=function "+i+"_get("+c.join(",")+"){"),n?a.push("return this.data.get("+u+")}"):a.push("return this.data["+u+"]}"),a.push("proto.index=function "+i+"_index(",c.join(),"){return "+u+"}"),a.push("proto.hi=function "+i+"_hi("+c.join(",")+"){return new "+i+"(this.data,"+s.map(function(e){return["(typeof i",e,"!=='number'||i",e,"<0)?this.shape[",e,"]:i",e,"|0"].join("")}).join(",")+","+s.map(function(e){return"this.stride["+e+"]"}).join(",")+",this.offset)}");var f=s.map(function(e){return"a"+e+"=this.shape["+e+"]"}),m=s.map(function(e){return"c"+e+"=this.stride["+e+"]"});a.push("proto.lo=function "+i+"_lo("+c.join(",")+"){var b=this.offset,d=0,"+f.join(",")+","+m.join(","));for(var g=0;g<t;++g)a.push("if(typeof i"+g+"==='number'&&i"+g+">=0){d=i"+g+"|0;b+=c"+g+"*d;a"+g+"-=d}");a.push("return new "+i+"(this.data,"+s.map(function(e){return"a"+e}).join(",")+","+s.map(function(e){return"c"+e}).join(",")+",b)}"),a.push("proto.step=function "+i+"_step("+c.join(",")+"){var "+s.map(function(e){return"a"+e+"=this.shape["+e+"]"}).join(",")+","+s.map(function(e){return"b"+e+"=this.stride["+e+"]"}).join(",")+",c=this.offset,d=0,ceil=Math.ceil");for(var g=0;g<t;++g)a.push("if(typeof i"+g+"==='number'){d=i"+g+"|0;if(d<0){c+=b"+g+"*(a"+g+"-1);a"+g+"=ceil(-a"+g+"/d)}else{a"+g+"=ceil(a"+g+"/d)}b"+g+"*=d}");a.push("return new "+i+"(this.data,"+s.map(function(e){return"a"+e}).join(",")+","+s.map(function(e){return"b"+e}).join(",")+",c)}");for(var v=new Array(t),y=new Array(t),g=0;g<t;++g)v[g]="a[i"+g+"]",y[g]="b[i"+g+"]";a.push("proto.transpose=function "+i+"_transpose("+c+"){"+c.map(function(e,t){return e+"=("+e+"===undefined?"+t+":"+e+"|0)"}).join(";"),"var a=this.shape,b=this.stride;return new "+i+"(this.data,"+v.join(",")+","+y.join(",")+",this.offset)}"),a.push("proto.pick=function "+i+"_pick("+c+"){var a=[],b=[],c=this.offset");for(var g=0;g<t;++g)a.push("if(typeof i"+g+"==='number'&&i"+g+">=0){c=(c+this.stride["+g+"]*i"+g+")|0}else{a.push(this.shape["+g+"]);b.push(this.stride["+g+"])}");a.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"),a.push("return function construct_"+i+"(data,shape,stride,offset){return new "+i+"(data,"+s.map(function(e){return"shape["+e+"]"}).join(",")+","+s.map(function(e){return"stride["+e+"]"}).join(",")+",offset)}");var o=new Function("CTOR_LIST","ORDER",a.join("\n"));return o(h[e],r)}function o(e){if(c(e))return"buffer";if(u)switch(Object.prototype.toString.call(e)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(e)?"array":"generic"}function s(e,t,i,n){if(void 0===e){var r=h.array[0];return r([])}"number"===typeof e&&(e=[e]),void 0===t&&(t=[e.length]);var s=t.length;if(void 0===i){i=new Array(s);for(var l=s-1,c=1;l>=0;--l)i[l]=c,c*=t[l]}if(void 0===n){n=0;for(var l=0;l<s;++l)i[l]<0&&(n-=(t[l]-1)*i[l])}for(var u=o(e),d=h[u];d.length<=s+1;)d.push(a(u,d.length-1));var r=d[s+1];return r(e,t,i,n)}var l=i(1485),c=i(1486),u="undefined"!==typeof Float64Array,h={float32:[],float64:[],int8:[],int16:[],int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],bigint64:[],biguint64:[],buffer:[],generic:[]};e.exports=s},1485:function(e,t,i){"use strict";function n(e){for(var t=new Array(e),i=0;i<e;++i)t[i]=i;return t}e.exports=n},1486:function(e,t){function i(e){return!!e.constructor&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function n(e){return"function"===typeof e.readFloatLE&&"function"===typeof e.slice&&i(e.slice(0,0))}e.exports=function(e){return null!=e&&(i(e)||n(e)||!!e._isBuffer)}},1487:function(e,t,i){"use strict";function n(e){if(!e)return s;for(var t=0;t<e.args.length;++t){var i=e.args[t];e.args[t]=0===t?{name:i,lvalue:!0,rvalue:!!e.rvalue,count:e.count||1}:{name:i,lvalue:!1,rvalue:!0,count:1}}return e.thisVars||(e.thisVars=[]),e.localVars||(e.localVars=[]),e}function r(e){return o({args:e.args,pre:n(e.pre),body:n(e.body),post:n(e.proc),funcName:e.funcName})}function a(e){for(var t=[],i=0;i<e.args.length;++i)t.push("a"+i);return new Function("P",["return function ",e.funcName,"_ndarrayops(",t.join(","),") {P(",t.join(","),");return a0}"].join(""))(r(e))}var o=i(1488),s={body:"",args:[],thisVars:[],localVars:[]},l={add:"+",sub:"-",mul:"*",div:"/",mod:"%",band:"&",bor:"|",bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"};!function(){for(var e in l){var i=l[e];t[e]=a({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+i+"c"},funcName:e}),t[e+"eq"]=a({args:["array","array"],body:{args:["a","b"],body:"a"+i+"=b"},rvalue:!0,funcName:e+"eq"}),t[e+"s"]=a({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+i+"s"},funcName:e+"s"}),t[e+"seq"]=a({args:["array","scalar"],body:{args:["a","s"],body:"a"+i+"=s"},rvalue:!0,funcName:e+"seq"})}}();var c={not:"!",bnot:"~",neg:"-",recip:"1.0/"};!function(){for(var e in c){var i=c[e];t[e]=a({args:["array","array"],body:{args:["a","b"],body:"a="+i+"b"},funcName:e}),t[e+"eq"]=a({args:["array"],body:{args:["a"],body:"a="+i+"a"},rvalue:!0,count:2,funcName:e+"eq"})}}();var u={and:"&&",or:"||",eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">="};!function(){for(var e in u){var i=u[e];t[e]=a({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+i+"c"},funcName:e}),t[e+"s"]=a({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+i+"s"},funcName:e+"s"}),t[e+"eq"]=a({args:["array","array"],body:{args:["a","b"],body:"a=a"+i+"b"},rvalue:!0,count:2,funcName:e+"eq"}),t[e+"seq"]=a({args:["array","scalar"],body:{args:["a","s"],body:"a=a"+i+"s"},rvalue:!0,count:2,funcName:e+"seq"})}}();var h=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan"];!function(){for(var e=0;e<h.length;++e){var i=h[e];t[i]=a({args:["array","array"],pre:{args:[],body:"this_f=Math."+i,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b)",thisVars:["this_f"]},funcName:i}),t[i+"eq"]=a({args:["array"],pre:{args:[],body:"this_f=Math."+i,thisVars:["this_f"]},body:{args:["a"],body:"a=this_f(a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:i+"eq"})}}();var d=["max","min","atan2","pow"];!function(){for(var e=0;e<d.length;++e){var i=d[e];t[i]=a({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+i,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:i}),t[i+"s"]=a({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+i,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:i+"s"}),t[i+"eq"]=a({args:["array","array"],pre:{args:[],body:"this_f=Math."+i,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:i+"eq"}),t[i+"seq"]=a({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+i,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:i+"seq"})}}();var p=["atan2","pow"];!function(){for(var e=0;e<p.length;++e){var i=p[e];t[i+"op"]=a({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+i,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:i+"op"}),t[i+"ops"]=a({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+i,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:i+"ops"}),t[i+"opeq"]=a({args:["array","array"],pre:{args:[],body:"this_f=Math."+i,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:i+"opeq"}),t[i+"opseq"]=a({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+i,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:i+"opseq"})}}(),t.any=o({args:["array"],pre:s,body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"if(a){return true}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return false"},funcName:"any"}),t.all=o({args:["array"],pre:s,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1}],body:"if(!x){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"all"}),t.sum=o({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s+=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"sum"}),t.prod=o({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=1"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s*=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"prod"}),t.norm2squared=o({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm2squared"}),t.norm2=o({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return Math.sqrt(this_s)"},funcName:"norm2"}),t.norminf=o({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:4}],body:"if(-a>this_s){this_s=-a}else if(a>this_s){this_s=a}",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norminf"}),t.norm1=o({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:3}],body:"this_s+=a<0?-a:a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm1"}),t.sup=o({args:["array"],pre:{body:"this_h=-Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_>this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),t.inf=o({args:["array"],pre:{body:"this_h=Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_<this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),t.argmin=o({args:["index","array","shape"],pre:{body:"{this_v=Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_<this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),t.argmax=o({args:["index","array","shape"],pre:{body:"{this_v=-Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_>this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),t.random=a({args:["array"],pre:{args:[],body:"this_f=Math.random",thisVars:["this_f"]},body:{args:["a"],body:"a=this_f()",thisVars:["this_f"]},funcName:"random"}),t.assign=a({args:["array","array"],body:{args:["a","b"],body:"a=b"},funcName:"assign"}),t.assigns=a({args:["array","scalar"],body:{args:["a","b"],body:"a=b"},funcName:"assigns"}),t.equals=o({args:["array","array"],pre:s,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1},{name:"y",lvalue:!1,rvalue:!0,count:1}],body:"if(x!==y){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"equals"})},1488:function(e,t,i){"use strict";function n(){this.argTypes=[],this.shimArgs=[],this.arrayArgs=[],this.arrayBlockIndices=[],this.scalarArgs=[],this.offsetArgs=[],this.offsetArgIndex=[],this.indexArgs=[],this.shapeArgs=[],this.funcName="",this.pre=null,this.body=null,this.post=null,this.debug=!1}function r(e){var t=new n;t.pre=e.pre,t.body=e.body,t.post=e.post;var i=e.args.slice(0);t.argTypes=i;for(var r=0;r<i.length;++r){var o=i[r];if("array"===o||"object"===typeof o&&o.blockIndices){if(t.argTypes[r]="array",t.arrayArgs.push(r),t.arrayBlockIndices.push(o.blockIndices?o.blockIndices:0),t.shimArgs.push("array"+r),r<t.pre.args.length&&t.pre.args[r].count>0)throw new Error("cwise: pre() block may not reference array args");if(r<t.post.args.length&&t.post.args[r].count>0)throw new Error("cwise: post() block may not reference array args")}else if("scalar"===o)t.scalarArgs.push(r),t.shimArgs.push("scalar"+r);else if("index"===o){if(t.indexArgs.push(r),r<t.pre.args.length&&t.pre.args[r].count>0)throw new Error("cwise: pre() block may not reference array index");if(r<t.body.args.length&&t.body.args[r].lvalue)throw new Error("cwise: body() block may not write to array index");if(r<t.post.args.length&&t.post.args[r].count>0)throw new Error("cwise: post() block may not reference array index")}else if("shape"===o){if(t.shapeArgs.push(r),r<t.pre.args.length&&t.pre.args[r].lvalue)throw new Error("cwise: pre() block may not write to array shape");if(r<t.body.args.length&&t.body.args[r].lvalue)throw new Error("cwise: body() block may not write to array shape");if(r<t.post.args.length&&t.post.args[r].lvalue)throw new Error("cwise: post() block may not write to array shape")}else{if("object"!==typeof o||!o.offset)throw new Error("cwise: Unknown argument type "+i[r]);t.argTypes[r]="offset",t.offsetArgs.push({array:o.array,offset:o.offset}),t.offsetArgIndex.push(r)}}if(t.arrayArgs.length<=0)throw new Error("cwise: No array arguments specified");if(t.pre.args.length>i.length)throw new Error("cwise: Too many arguments in pre() block");if(t.body.args.length>i.length)throw new Error("cwise: Too many arguments in body() block");if(t.post.args.length>i.length)throw new Error("cwise: Too many arguments in post() block");return t.debug=!!e.printCode||!!e.debug,t.funcName=e.funcName||"cwise",t.blockSize=e.blockSize||64,a(t)}var a=i(1489);e.exports=r},1489:function(e,t,i){"use strict";function n(e){var t=["'use strict'","var CACHED={}"],i=[],n=e.funcName+"_cwise_thunk";t.push(["return function ",n,"(",e.shimArgs.join(","),"){"].join(""));for(var a=[],o=[],s=[["array",e.arrayArgs[0],".shape.slice(",Math.max(0,e.arrayBlockIndices[0]),e.arrayBlockIndices[0]<0?","+e.arrayBlockIndices[0]+")":")"].join("")],l=[],c=[],u=0;u<e.arrayArgs.length;++u){var h=e.arrayArgs[u];i.push(["t",h,"=array",h,".dtype,","r",h,"=array",h,".order"].join("")),a.push("t"+h),a.push("r"+h),o.push("t"+h),o.push("r"+h+".join()"),s.push("array"+h+".data"),s.push("array"+h+".stride"),s.push("array"+h+".offset|0"),u>0&&(l.push("array"+e.arrayArgs[0]+".shape.length===array"+h+".shape.length+"+(Math.abs(e.arrayBlockIndices[0])-Math.abs(e.arrayBlockIndices[u]))),c.push("array"+e.arrayArgs[0]+".shape[shapeIndex+"+Math.max(0,e.arrayBlockIndices[0])+"]===array"+h+".shape[shapeIndex+"+Math.max(0,e.arrayBlockIndices[u])+"]"))}e.arrayArgs.length>1&&(t.push("if (!("+l.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same dimensionality!')"),t.push("for(var shapeIndex=array"+e.arrayArgs[0]+".shape.length-"+Math.abs(e.arrayBlockIndices[0])+"; shapeIndex--\x3e0;) {"),t.push("if (!("+c.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same shape!')"),t.push("}"));for(var u=0;u<e.scalarArgs.length;++u)s.push("scalar"+e.scalarArgs[u]);return i.push(["type=[",o.join(","),"].join()"].join("")),i.push("proc=CACHED[type]"),t.push("var "+i.join(",")),t.push(["if(!proc){","CACHED[type]=proc=compile([",a.join(","),"])}","return proc(",s.join(","),")}"].join("")),e.debug&&console.log("-----Generated thunk:\n"+t.join("\n")+"\n----------"),new Function("compile",t.join("\n"))(r.bind(void 0,e))}var r=i(1490);e.exports=n},1490:function(e,t,i){"use strict";function n(e,t,i){var n,r,a=e.length,o=t.arrayArgs.length,s=t.indexArgs.length>0,l=[],c=[],u=0,h=0;for(n=0;n<a;++n)c.push(["i",n,"=0"].join(""));for(r=0;r<o;++r)for(n=0;n<a;++n)h=u,u=e[n],0===n?c.push(["d",r,"s",n,"=t",r,"p",u].join("")):c.push(["d",r,"s",n,"=(t",r,"p",u,"-s",h,"*t",r,"p",h,")"].join(""));for(c.length>0&&l.push("var "+c.join(",")),n=a-1;n>=0;--n)u=e[n],l.push(["for(i",n,"=0;i",n,"<s",u,";++i",n,"){"].join(""));for(l.push(i),n=0;n<a;++n){for(h=u,u=e[n],r=0;r<o;++r)l.push(["p",r,"+=d",r,"s",n].join(""));s&&(n>0&&l.push(["index[",h,"]-=s",h].join("")),l.push(["++index[",u,"]"].join(""))),l.push("}")}return l.join("\n")}function r(e,t,i,r){for(var a=t.length,o=i.arrayArgs.length,s=i.blockSize,l=i.indexArgs.length>0,c=[],u=0;u<o;++u)c.push(["var offset",u,"=p",u].join(""));for(var u=e;u<a;++u)c.push(["for(var j"+u+"=SS[",t[u],"]|0;j",u,">0;){"].join("")),c.push(["if(j",u,"<",s,"){"].join("")),c.push(["s",t[u],"=j",u].join("")),c.push(["j",u,"=0"].join("")),c.push(["}else{s",t[u],"=",s].join("")),c.push(["j",u,"-=",s,"}"].join("")),l&&c.push(["index[",t[u],"]=j",u].join(""));for(var u=0;u<o;++u){for(var h=["offset"+u],d=e;d<a;++d)h.push(["j",d,"*t",u,"p",t[d]].join(""));c.push(["p",u,"=(",h.join("+"),")"].join(""))}c.push(n(t,i,r));for(var u=e;u<a;++u)c.push("}");return c.join("\n")}function a(e){for(var t=0,i=e[0].length;t<i;){for(var n=1;n<e.length;++n)if(e[n][t]!==e[0][t])return t;++t}return t}function o(e,t,i){for(var n=e.body,r=[],a=[],o=0;o<e.args.length;++o){var s=e.args[o];if(!(s.count<=0)){var l=new RegExp(s.name,"g"),c="",u=t.arrayArgs.indexOf(o);switch(t.argTypes[o]){case"offset":var h=t.offsetArgIndex.indexOf(o);u=t.offsetArgs[h].array,c="+q"+h;case"array":c="p"+u+c;var d="l"+o,p="a"+u;if(0===t.arrayBlockIndices[u])1===s.count?"generic"===i[u]?s.lvalue?(r.push(["var ",d,"=",p,".get(",c,")"].join("")),n=n.replace(l,d),a.push([p,".set(",c,",",d,")"].join(""))):n=n.replace(l,[p,".get(",c,")"].join("")):n=n.replace(l,[p,"[",c,"]"].join("")):"generic"===i[u]?(r.push(["var ",d,"=",p,".get(",c,")"].join("")),n=n.replace(l,d),s.lvalue&&a.push([p,".set(",c,",",d,")"].join(""))):(r.push(["var ",d,"=",p,"[",c,"]"].join("")),n=n.replace(l,d),s.lvalue&&a.push([p,"[",c,"]=",d].join("")));else{for(var f=[s.name],m=[c],g=0;g<Math.abs(t.arrayBlockIndices[u]);g++)f.push("\\s*\\[([^\\]]+)\\]"),m.push("$"+(g+1)+"*t"+u+"b"+g);if(l=new RegExp(f.join(""),"g"),c=m.join("+"),"generic"===i[u])throw new Error("cwise: Generic arrays not supported in combination with blocks!");n=n.replace(l,[p,"[",c,"]"].join(""))}break;case"scalar":n=n.replace(l,"Y"+t.scalarArgs.indexOf(o));break;case"index":n=n.replace(l,"index");break;case"shape":n=n.replace(l,"shape")}}}return[r.join("\n"),n,a.join("\n")].join("\n").trim()}function s(e){for(var t=new Array(e.length),i=!0,n=0;n<e.length;++n){var r=e[n],a=r.match(/\d+/);a=a?a[0]:"",0===r.charAt(0)?t[n]="u"+r.charAt(1)+a:t[n]=r.charAt(0)+a,n>0&&(i=i&&t[n]===t[n-1])}return i?t[0]:t.join("")}function l(e,t){for(var i=t[1].length-Math.abs(e.arrayBlockIndices[0])|0,l=new Array(e.arrayArgs.length),u=new Array(e.arrayArgs.length),h=0;h<e.arrayArgs.length;++h)u[h]=t[2*h],l[h]=t[2*h+1];for(var d=[],p=[],f=[],m=[],g=[],h=0;h<e.arrayArgs.length;++h){e.arrayBlockIndices[h]<0?(f.push(0),m.push(i),d.push(i),p.push(i+e.arrayBlockIndices[h])):(f.push(e.arrayBlockIndices[h]),m.push(e.arrayBlockIndices[h]+i),d.push(0),p.push(e.arrayBlockIndices[h]));for(var v=[],y=0;y<l[h].length;y++)f[h]<=l[h][y]&&l[h][y]<m[h]&&v.push(l[h][y]-f[h]);g.push(v)}for(var b=["SS"],_=["'use strict'"],A=[],y=0;y<i;++y)A.push(["s",y,"=SS[",y,"]"].join(""));for(var h=0;h<e.arrayArgs.length;++h){b.push("a"+h),b.push("t"+h),b.push("p"+h);for(var y=0;y<i;++y)A.push(["t",h,"p",y,"=t",h,"[",f[h]+y,"]"].join(""));for(var y=0;y<Math.abs(e.arrayBlockIndices[h]);++y)A.push(["t",h,"b",y,"=t",h,"[",d[h]+y,"]"].join(""))}for(var h=0;h<e.scalarArgs.length;++h)b.push("Y"+h);if(e.shapeArgs.length>0&&A.push("shape=SS.slice(0)"),e.indexArgs.length>0){for(var E=new Array(i),h=0;h<i;++h)E[h]="0";A.push(["index=[",E.join(","),"]"].join(""))}for(var h=0;h<e.offsetArgs.length;++h){for(var w=e.offsetArgs[h],x=[],y=0;y<w.offset.length;++y)0!==w.offset[y]&&(1===w.offset[y]?x.push(["t",w.array,"p",y].join("")):x.push([w.offset[y],"*t",w.array,"p",y].join("")));0===x.length?A.push("q"+h+"=0"):A.push(["q",h,"=",x.join("+")].join(""))}var T=c([].concat(e.pre.thisVars).concat(e.body.thisVars).concat(e.post.thisVars));A=A.concat(T),A.length>0&&_.push("var "+A.join(","));for(var h=0;h<e.arrayArgs.length;++h)_.push("p"+h+"|=0");e.pre.body.length>3&&_.push(o(e.pre,e,u));var S=o(e.body,e,u),C=a(g);C<i?_.push(r(C,g[0],e,S)):_.push(n(g[0],e,S)),e.post.body.length>3&&_.push(o(e.post,e,u)),e.debug&&console.log("-----Generated cwise routine for ",t,":\n"+_.join("\n")+"\n----------");var k=[e.funcName||"unnamed","_cwise_loop_",l[0].join("s"),"m",C,s(u)].join("");return new Function(["function ",k,"(",b.join(","),"){",_.join("\n"),"} return ",k].join(""))()}var c=i(1491);e.exports=l},1491:function(e,t,i){"use strict";function n(e,t){for(var i=1,n=e.length,r=e[0],a=e[0],o=1;o<n;++o)if(a=r,r=e[o],t(r,a)){if(o===i){i++;continue}e[i++]=r}return e.length=i,e}function r(e){for(var t=1,i=e.length,n=e[0],r=e[0],a=1;a<i;++a,r=n)if(r=n,(n=e[a])!==r){if(a===t){t++;continue}e[t++]=n}return e.length=t,e}function a(e,t,i){return 0===e.length?e:t?(i||e.sort(t),n(e,t)):(i||e.sort(),r(e))}e.exports=a},1492:function(e,t,i){"use strict";(function(e){function n(e){if(e){var t=e.length||e.byteLength,i=b.log2(t);S[i].push(e)}}function r(e){n(e.buffer)}function a(e){var e=b.nextPow2(e),t=b.log2(e),i=S[t];return i.length>0?i.pop():new ArrayBuffer(e)}function o(e){return new Uint8Array(a(e),0,e)}function s(e){return new Uint16Array(a(2*e),0,e)}function l(e){return new Uint32Array(a(4*e),0,e)}function c(e){return new Int8Array(a(e),0,e)}function u(e){return new Int16Array(a(2*e),0,e)}function h(e){return new Int32Array(a(4*e),0,e)}function d(e){return new Float32Array(a(4*e),0,e)}function p(e){return new Float64Array(a(8*e),0,e)}function f(e){return E?new Uint8ClampedArray(a(e),0,e):o(e)}function m(e){return w?new BigUint64Array(a(8*e),0,e):null}function g(e){return x?new BigInt64Array(a(8*e),0,e):null}function v(e){return new DataView(a(e),0,e)}function y(e){e=b.nextPow2(e);var t=b.log2(e),i=C[t];return i.length>0?i.pop():new A(e)}var b=i(1493),_=i(1494),A=i(1420).Buffer;e.__TYPEDARRAY_POOL||(e.__TYPEDARRAY_POOL={UINT8:_([32,0]),UINT16:_([32,0]),UINT32:_([32,0]),BIGUINT64:_([32,0]),INT8:_([32,0]),INT16:_([32,0]),INT32:_([32,0]),BIGINT64:_([32,0]),FLOAT:_([32,0]),DOUBLE:_([32,0]),DATA:_([32,0]),UINT8C:_([32,0]),BUFFER:_([32,0])});var E="undefined"!==typeof Uint8ClampedArray,w="undefined"!==typeof BigUint64Array,x="undefined"!==typeof BigInt64Array,T=e.__TYPEDARRAY_POOL;T.UINT8C||(T.UINT8C=_([32,0])),T.BIGUINT64||(T.BIGUINT64=_([32,0])),T.BIGINT64||(T.BIGINT64=_([32,0])),T.BUFFER||(T.BUFFER=_([32,0]));var S=T.DATA,C=T.BUFFER;t.free=function(e){if(A.isBuffer(e))C[b.log2(e.length)].push(e);else{if("[object ArrayBuffer]"!==Object.prototype.toString.call(e)&&(e=e.buffer),!e)return;var t=e.length||e.byteLength,i=0|b.log2(t);S[i].push(e)}},t.freeUint8=t.freeUint16=t.freeUint32=t.freeBigUint64=t.freeInt8=t.freeInt16=t.freeInt32=t.freeBigInt64=t.freeFloat32=t.freeFloat=t.freeFloat64=t.freeDouble=t.freeUint8Clamped=t.freeDataView=r,t.freeArrayBuffer=n,t.freeBuffer=function(e){C[b.log2(e.length)].push(e)},t.malloc=function(e,t){if(void 0===t||"arraybuffer"===t)return a(e);switch(t){case"uint8":return o(e);case"uint16":return s(e);case"uint32":return l(e);case"int8":return c(e);case"int16":return u(e);case"int32":return h(e);case"float":case"float32":return d(e);case"double":case"float64":return p(e);case"uint8_clamped":return f(e);case"bigint64":return g(e);case"biguint64":return m(e);case"buffer":return y(e);case"data":case"dataview":return v(e);default:return null}return null},t.mallocArrayBuffer=a,t.mallocUint8=o,t.mallocUint16=s,t.mallocUint32=l,t.mallocInt8=c,t.mallocInt16=u,t.mallocInt32=h,t.mallocFloat32=t.mallocFloat=d,t.mallocFloat64=t.mallocDouble=p,t.mallocUint8Clamped=f,t.mallocBigUint64=m,t.mallocBigInt64=g,t.mallocDataView=v,t.mallocBuffer=y,t.clearCache=function(){for(var e=0;e<32;++e)T.UINT8[e].length=0,T.UINT16[e].length=0,T.UINT32[e].length=0,T.INT8[e].length=0,T.INT16[e].length=0,T.INT32[e].length=0,T.FLOAT[e].length=0,T.DOUBLE[e].length=0,T.BIGUINT64[e].length=0,T.BIGINT64[e].length=0,T.UINT8C[e].length=0,S[e].length=0,C[e].length=0}}).call(t,i(28))},1493:function(e,t,i){"use strict";"use restrict";function n(e){var t=32;return e&=-e,e&&t--,65535&e&&(t-=16),16711935&e&&(t-=8),252645135&e&&(t-=4),858993459&e&&(t-=2),1431655765&e&&(t-=1),t}t.INT_BITS=32,t.INT_MAX=2147483647,t.INT_MIN=-1<<31,t.sign=function(e){return(e>0)-(e<0)},t.abs=function(e){var t=e>>31;return(e^t)-t},t.min=function(e,t){return t^(e^t)&-(e<t)},t.max=function(e,t){return e^(e^t)&-(e<t)},t.isPow2=function(e){return!(e&e-1)&&!!e},t.log2=function(e){var t,i;return t=(e>65535)<<4,e>>>=t,i=(e>255)<<3,e>>>=i,t|=i,i=(e>15)<<2,e>>>=i,t|=i,i=(e>3)<<1,e>>>=i,(t|=i)|e>>1},t.log10=function(e){return e>=1e9?9:e>=1e8?8:e>=1e7?7:e>=1e6?6:e>=1e5?5:e>=1e4?4:e>=1e3?3:e>=100?2:e>=10?1:0},t.popCount=function(e){return e-=e>>>1&1431655765,16843009*((e=(858993459&e)+(e>>>2&858993459))+(e>>>4)&252645135)>>>24},t.countTrailingZeros=n,t.nextPow2=function(e){return e+=0===e,--e,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,(e|=e>>>16)+1},t.prevPow2=function(e){return e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,(e|=e>>>16)-(e>>>1)},t.parity=function(e){return e^=e>>>16,e^=e>>>8,e^=e>>>4,27030>>>(e&=15)&1};var r=new Array(256);!function(e){for(var t=0;t<256;++t){var i=t,n=t,r=7;for(i>>>=1;i;i>>>=1)n<<=1,n|=1&i,--r;e[t]=n<<r&255}}(r),t.reverse=function(e){return r[255&e]<<24|r[e>>>8&255]<<16|r[e>>>16&255]<<8|r[e>>>24&255]},t.interleave2=function(e,t){return e&=65535,e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t&=65535,t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e|t<<1},t.deinterleave2=function(e,t){return e=e>>>t&1431655765,e=858993459&(e|e>>>1),e=252645135&(e|e>>>2),e=16711935&(e|e>>>4),(e=65535&(e|e>>>16))<<16>>16},t.interleave3=function(e,t,i){return e&=1023,e=4278190335&(e|e<<16),e=251719695&(e|e<<8),e=3272356035&(e|e<<4),e=1227133513&(e|e<<2),t&=1023,t=4278190335&(t|t<<16),t=251719695&(t|t<<8),t=3272356035&(t|t<<4),t=1227133513&(t|t<<2),e|=t<<1,i&=1023,i=4278190335&(i|i<<16),i=251719695&(i|i<<8),i=3272356035&(i|i<<4),i=1227133513&(i|i<<2),e|i<<2},t.deinterleave3=function(e,t){return e=e>>>t&1227133513,e=3272356035&(e|e>>>2),e=251719695&(e|e>>>4),e=4278190335&(e|e>>>8),(e=1023&(e|e>>>16))<<22>>22},t.nextCombination=function(e){var t=e|e-1;return t+1|(~t&-~t)-1>>>n(e)+1}},1494:function(e,t,i){"use strict";function n(e,t,i){var r=0|e[i];if(r<=0)return[];var a,o=new Array(r);if(i===e.length-1)for(a=0;a<r;++a)o[a]=t;else for(a=0;a<r;++a)o[a]=n(e,t,i+1);return o}function r(e,t){var i,n;for(i=new Array(e),n=0;n<e;++n)i[n]=t;return i}function a(e,t){switch("undefined"===typeof t&&(t=0),typeof e){case"number":if(e>0)return r(0|e,t);break;case"object":if("number"===typeof e.length)return n(e,t,0)}return[]}e.exports=a},1495:function(e,t,i){"use strict";function n(e,t,i,n,l,c,u,h,d,p,f,m,g){if(0!==h&&0!==d&&!(h<1||d<1)&&!(t.width<=1||t.height<=1)){var v=void 0;try{v=e.getImageData(c||0,u||0,h||t.width,d||t.height)}catch(e){var y="\u6b64\u529f\u80fd";switch(i){case"chroma":y="\u62a0\u50cf";break;case"blur":y="\u81ea\u5b9a\u4e49\u6a21\u7cca";break;case"emboss":y="\u6d6e\u96d5"}return void r.u.warning({placement:"topRight",key:i,description:"\u8be5\u7d20\u6750\u9700\u5bfc\u5165\u5b8c\u6210\u624d\u53ef\u9884\u89c8"+y+"\u6548\u679c",bottom:50,duration:3})}var b=v.data,_=0,A=0,E=0;p&&(_=parseInt("0x"+p.substr(0,2)),A=parseInt("0x"+p.substr(2,2)),E=parseInt("0x"+p.substr(4,2)));var w="659f52",x=(parseInt("0x"+w.substr(0,2)),parseInt("0x"+w.substr(2,2)),parseInt("0x"+w.substr(4,2)),[]);[].map(function(e,t){var i=e,n=parseInt("0x"+i.substr(0,2)),r=parseInt("0x"+i.substr(2,2)),a=parseInt("0x"+i.substr(4,2));x.push([n,r,a])});switch(i){case"isGif":o.width=h,o.height=d,s.drawImage(g,0,g.height/2,g.width,g.height/2,0,0,h,d);for(var T=s.getImageData(0,0,h,d),S=T.data,C=0;C<=b.length-4;C+=4)b[C+3]=S[C+1];break;case"chroma":for(var k=0;k<=b.length-4;k+=4)!function(e){var t=b[e],i=b[e+1],n=b[e+2],r=t-_,a=i-A,o=n-E,s=Math.sqrt((r*r+a*a+o*o)/65025);b[e+3]=s>f/100?255:255*m/100,x.map(function(r,a){var o=Math.sqrt(((t-r[0])*(t-r[0])+(i-r[1])*(i-r[1])+(n-r[2])*(n-r[2]))/65025);b[e+3]=o>f/100?b[e+3]:255*m/100})}(k);break;case"blur":if(h&&d){var O=(c||0)-16>0?c-(c||0)-16:0,P=(u||0)-16>0?u-(u||0)-16:0,j=(h||t.width)+(c||0)+16,I=j>t.width?t.width-O:j-O,M=(d||t.height)+(u||0)+16,R=M>t.height?t.height-P:M-P;o.width=I,o.height=R,s.filter="blur(8px)",s.drawImage(t,O,P,I,R,0,0,I,R),v=s.getImageData((c||0)-O,(u||0)-P,h||t.width,d||t.height)}else Object(a.a)(b,h||t.width,d||t.height,e,n,l,1);break;case"monochrome":for(var D=0;D<=b.length-4;D+=4){var L=(b[D]+b[D+1]+b[D+2])/3;b[D]=L,b[D+1]=L,b[D+2]=L}break;case"negate":for(var N=0;N<=b.length-4;N+=4)b[N]=255-b[N],b[N+1]=255-b[N+1],b[N+2]=255-b[N+2];break;case"emboss":for(var B=0;B<b.length;B+=4){b[B]=b[B+16+4*t.width]-b[B]+128,b[B+1]=b[B+17+4*t.width]-b[B+1]+128,b[B+2]=b[B+18+4*t.width]-b[B+2]+128;var F=(b[B]+b[B+1]+b[B+2])/3;b[B]=F,b[B+1]=F,b[B+2]=F}break;case"vintage":for(var U=0;U<b.length;U+=4){var z=.393*b[U]+.769*b[U+1]+.189*b[U+2],H=.349*b[U]+.686*b[U+1]+.168*b[U+2],V=.272*b[U]+.534*b[U+1]+.131*b[U+2],G=.5*Math.random()+.5;b[U]=G*z+(1-G)*b[U],G=.5*Math.random()+.5,b[U+1]=G*H+(1-G)*b[U+1],G=.5*Math.random()+.5,b[U+2]=G*V+(1-G)*b[U+2]}}e.filter="",e.putImageData(v,c||0,u||0)}}t.a=n;var r=i(52),a=i(1496),o=document.createElement("canvas"),s=o.getContext("2d")},1496:function(e,t,i){"use strict";function n(e,t,i,n,a,o,s){isNaN(a)||isNaN(o)||a<1&&o<1||(a===o?r(e,n,0,0,t,i,a,0):(a&&r(e,n,0,0,t,i,a,1),o&&r(e,n,0,0,t,i,o,2)))}function r(e,t,i,n,r,l,c,u){if(!(isNaN(c)||c<1)){c|=0;var h,d,p,f,m,g,v,y,b,_,A,E,w,x,T,S,C,k,O,P,j,I,M,R,D=e,L=c+c+1,N=r-1,B=l-1,F=c+1,U=F*(F+1)/2,z=new a,H=z;for(p=1;p<L;p++)if(H=H.next=new a,p===F)var V=H;H.next=z;var G=null,q=null;v=g=0;var W=o[c],Y=s[c];if(1===u||0===u)for(d=0;d<l;d++){for(S=C=k=O=y=b=_=A=0,E=F*(P=D[g]),w=F*(j=D[g+1]),x=F*(I=D[g+2]),T=F*(M=D[g+3]),y+=U*P,b+=U*j,_+=U*I,A+=U*M,H=z,p=0;p<F;p++)H.r=P,H.g=j,H.b=I,H.a=M,H=H.next;for(p=1;p<F;p++)f=g+((N<p?N:p)<<2),y+=(H.r=P=D[f])*(R=F-p),b+=(H.g=j=D[f+1])*R,_+=(H.b=I=D[f+2])*R,A+=(H.a=M=D[f+3])*R,S+=P,C+=j,k+=I,O+=M,H=H.next;for(G=z,q=V,h=0;h<r;h++)D[g+3]=M=A*W>>Y,0!==M?(M=255/M,D[g]=(y*W>>Y)*M,D[g+1]=(b*W>>Y)*M,D[g+2]=(_*W>>Y)*M):D[g]=D[g+1]=D[g+2]=0,y-=E,b-=w,_-=x,A-=T,E-=G.r,w-=G.g,x-=G.b,T-=G.a,f=v+((f=h+c+1)<N?f:N)<<2,S+=G.r=D[f],C+=G.g=D[f+1],k+=G.b=D[f+2],O+=G.a=D[f+3],y+=S,b+=C,_+=k,A+=O,G=G.next,E+=P=q.r,w+=j=q.g,x+=I=q.b,T+=M=q.a,S-=P,C-=j,k-=I,O-=M,q=q.next,g+=4;v+=r}if(2===u||0===u)for(h=0;h<r;h++){for(C=k=O=S=b=_=A=y=0,g=h<<2,E=F*(P=D[g]),w=F*(j=D[g+1]),x=F*(I=D[g+2]),T=F*(M=D[g+3]),y+=U*P,b+=U*j,_+=U*I,A+=U*M,H=z,p=0;p<F;p++)H.r=P,H.g=j,H.b=I,H.a=M,H=H.next;for(m=r,p=1;p<=c;p++)g=m+h<<2,y+=(H.r=P=D[g])*(R=F-p),b+=(H.g=j=D[g+1])*R,_+=(H.b=I=D[g+2])*R,A+=(H.a=M=D[g+3])*R,S+=P,C+=j,k+=I,O+=M,H=H.next,p<B&&(m+=r);for(g=h,G=z,q=V,d=0;d<l;d++)f=g<<2,D[f+3]=M=A*W>>Y,M>0?(M=255/M,D[f]=(y*W>>Y)*M,D[f+1]=(b*W>>Y)*M,D[f+2]=(_*W>>Y)*M):D[f]=D[f+1]=D[f+2]=0,y-=E,b-=w,_-=x,A-=T,E-=G.r,w-=G.g,x-=G.b,T-=G.a,f=h+((f=d+F)<B?f:B)*r<<2,y+=S+=G.r=D[f],b+=C+=G.g=D[f+1],_+=k+=G.b=D[f+2],A+=O+=G.a=D[f+3],G=G.next,E+=P=q.r,w+=j=q.g,x+=I=q.b,T+=M=q.a,S-=P,C-=j,k-=I,O-=M,q=q.next,g+=r}}}function a(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}var o=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],s=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];t.a=n},1497:function(e,t,i){e.exports=i.p+"static/media/300x300.8193e478.png"},1498:function(e,t,i){e.exports=i.p+"static/media/stagerLogo.99406c58.png"},1499:function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=i(0),s=i.n(o),l=(i(163),i(52)),c=(i(84),i(160)),u=i(1424),h=i(541),d=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),p=function(e){function t(e){n(this,t);var i=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.state={fullScreen:!1,shortcut:""},i}return a(t,e),d(t,[{key:"componentDidMount",value:function(){var e=this;Object(u.b)(function(t){e.setState({fullScreen:t})})}},{key:"render",value:function(){var e=this,t=(this.props.userInfo,this.props.getConfigStatus());return s.a.createElement("div",{className:"top onlineTop"},s.a.createElement("div",{className:"p-a"},s.a.createElement(l.r,{title:Object(c.a)("main","back"),onClick:this.props.goBack},s.a.createElement("span",{className:"goBack"},s.a.createElement("span",{className:"ico iconfont icon-fanhui"}," "),"\u9000\u51fa")),s.a.createElement("span",{title:t.name,className:"projectName"},(this.props.is_template?"\u6a21\u677f\u540d\u79f0\uff1a":"\u9879\u76ee\u540d\u79f0\uff1a")+t.name,s.a.createElement(l.r,{title:"\u91cd\u547d\u540d",onClick:function(){e.props.show_rename(t.name)}},s.a.createElement("span",{className:"ico iconfont icon-bianji",style:{marginLeft:4}})))),s.a.createElement("ul",{className:"tab"},s.a.createElement("li",{className:"color-w"},s.a.createElement(l.r,{title:this.props.fullScreen?Object(c.a)("main","exitFullScreen"):Object(c.a)("main","fullScreen"),onClick:function(){Object(u.a)()}},s.a.createElement("span",null,s.a.createElement("span",{className:"ico iconfont icon-quanping ico-full"}," "),"\u5168\u5c4f"))),s.a.createElement("li",{className:"color-w"},s.a.createElement(l.r,{title:"\u5feb\u6377\u952e",onClick:function(){e.props.show_shortcut()}},s.a.createElement("span",null,s.a.createElement("span",{className:"ico iconfont icon-kuaijiejian ico-shortcut"}," "),"\u5feb\u6377\u952e"))),s.a.createElement("li",{className:t.save?"color-w":""},s.a.createElement(l.r,{title:Object(c.a)("main","save")+"\uff08Ctrl+S\uff09",onClick:this.props.saveConfig},s.a.createElement("span",null,s.a.createElement("span",{className:"ico iconfont icon-baocun ico-save "+(t.save?"use":"useless")}," "),"\u4fdd\u5b58"))),s.a.createElement("li",{className:t.issue?"issue can":"issue"},s.a.createElement(l.r,{onClick:function(){t.issue&&e.props.issueConfig()}},s.a.createElement("span",null,this.props.is_template?"":s.a.createElement("span",{className:"ico iconfont icon-fabu ico-save use"}," ")," ",this.props.is_template?"\u5408\u6210\u6a21\u677f":"\u5408\u6210"))),s.a.createElement("li",{className:"color-w"},s.a.createElement(h.a,{history:this.props.history}))))}}]),t}(s.a.Component);t.a=p},1500:function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=i(0),s=i.n(o),l=i(70),c=i.n(l),u=i(52),h=i(160),d=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),p=function(e){function t(e){n(this,t);var i=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.state={},i}return a(t,e),d(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,t=this.props.getConfigStatus(),i=c()(".pathway").find(".focused"),n=c()(".pathway").find(".ui-selected.mater-helper"),r=n.length,a=i.length,o="";return a&&(o=i.eq(0).attr("data-mediaType")),s.a.createElement("div",{className:"operation-bar"},s.a.createElement("div",null,s.a.createElement("div",{className:"group"},s.a.createElement(u.r,{title:Object(h.a)("main","lastStep")+"\uff08Ctrl+Z\uff09",onClick:function(){e.props.pre()}},s.a.createElement("span",{className:"ico iconfont icon-shangyibu ico-pre "+(t.pre?"use":"useless")}," ")),s.a.createElement(u.r,{title:Object(h.a)("main","nextStep")+"\uff08Ctrl+Shift+Z\uff09",onClick:function(){e.props.next()}},s.a.createElement("span",{className:"ico iconfont icon-xiayibu ico-next "+(t.next?"use":"useless")}," "))),"|",s.a.createElement("div",{className:"group"},s.a.createElement(u.r,{title:"\u526a\u5207\uff08S\uff09",onClick:function(){e.props.clip()}},s.a.createElement("span",{className:"ico iconfont icon-jiandao  clip"}," ")),s.a.createElement(u.r,{title:"\u590d\u5236",onClick:function(){e.props.clone()}},s.a.createElement("span",{className:"ico iconfont icon-copy   "+(a?"use":"useless")}," ")),s.a.createElement(u.r,{title:"\u5220\u9664\uff08delete/backspace\uff09",onClick:function(){e.props.deleteUnit()}},s.a.createElement("span",{className:"ico iconfont icon-shanchu  "+(a||r?"use":"useless")}," ")),s.a.createElement(u.r,{title:"\u88c1\u526a",onClick:function(){e.props.crop()}},s.a.createElement("span",{className:"ico iconfont icon-caijian1   "+(!a||"video"!==o&&"image"!==o?"useless":"use")}," "))),"|",s.a.createElement("div",{className:"group"},s.a.createElement(u.r,{title:"\u9ad8\u7ea7\u64cd\u4f5c",onClick:function(){e.props.enterUnitDetail()}},s.a.createElement("span",{className:"ico iconfont icon-gaojicaozuo  "+(a?"use":"useless")}," ")),s.a.createElement(u.r,{title:"\u8bed\u97f3\u8f6c\u6587\u5b57",onClick:function(){e.props.trans_audio_to_text()}},s.a.createElement("span",{className:"ico iconfont icon-yuyinzhuanwenzi   "+(a&&["audio","video"].includes(o)?"use":"useless")}," ")),s.a.createElement(u.r,{title:"\u6587\u5b57\u8f6c\u8bed\u97f3",onClick:function(){a&&["subtitle","text"].includes(o)&&e.props.setTransToAudio(!0)}},s.a.createElement("span",{className:"ico iconfont icon-wenzizhuanyuyin  "+(a&&["subtitle","text"].includes(o)?"use":"useless")}," ")),s.a.createElement(u.r,{title:"\u5b57\u5e55\u8f68\u9053\u4e0d\u652f\u6301\u64a4\u56de\u529f\u80fd\uff0c \u8bf7\u8c28\u614e\u64cd\u4f5c\u3002"},s.a.createElement("span",{className:"ico iconfont icon-bangzhu"})))),this.props.themeConfig&&this.props.themeConfig.theme_id?s.a.createElement("div",{className:"theme-name"},"\u5df2\u4f7f\u7528\u4e3b\u9898\uff1a",s.a.createElement("span",{className:"name"},this.props.themeConfig.name||""),s.a.createElement(u.r,{title:"\u4e0d\u4f7f\u7528\u4e3b\u9898"},s.a.createElement("span",{className:"close c-gray c-p",onClick:function(){e.props.set_theme("")}}," \u53d6\u6d88"))):"",s.a.createElement("div",null,s.a.createElement(u.r,{title:"\u81ea\u52a8\u7f29\u653e(Ctrl + A)",onClick:function(){e.props.initRuler()}},s.a.createElement("span",{className:"ico iconfont icon-gundong    "}," ")),s.a.createElement("div",{className:"zoom-cnt"},s.a.createElement(u.r,{title:Object(h.a)("main","zoomOut")+"(-)"},s.a.createElement("span",{className:"zoom-out ico iconfont icon-suoxiao"}," ")),s.a.createElement("div",{title:Object(h.a)("main","dragTheSlider"),className:"zoom-bar"}," "),s.a.createElement(u.r,{title:Object(h.a)("main","zoomIn")+"(+)",placement:"topRight"},s.a.createElement("span",{className:"zoom-in ico iconfont icon-fangda"}," ")))))}}]),t}(s.a.Component);t.a=p},1501:function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=i(0),s=i.n(o),l=i(160),c=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),u=function(e){function t(e){n(this,t);var i=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.state={step:0},i}return a(t,e),c(t,[{key:"render",value:function(){var e=this,t=this.props.setting,i=this.state.step?"ctrl":"cmd",n=this.state.step?"Home":"fn + \u2190",r=this.state.step?"End":"fn + \u2192";return s.a.createElement("div",{className:"dialog guide "+t.setting},s.a.createElement("div",{className:"shadow",onClick:t.close}," "),s.a.createElement("div",{className:"step shortcut-bg"},s.a.createElement("div",{className:"tab"},s.a.createElement("span",{onClick:function(){e.setState({step:0})},className:0===this.state.step?"current":""},s.a.createElement("span",{className:"ico ico-mac"}," "),"MAC"),s.a.createElement("span",{onClick:function(){e.setState({step:1})},className:1===this.state.step?"current":""},s.a.createElement("span",{className:"ico ico-windows"}," "),"Windows")),s.a.createElement("div",{className:"detail"},s.a.createElement("div",null,s.a.createElement("div",{className:"unit",title:Object(l.a)("main","clip")},s.a.createElement("div",null,Object(l.a)("main","clip")),s.a.createElement("div",null,"s")),s.a.createElement("div",{className:"unit",title:Object(l.a)("main","pause/play")},s.a.createElement("div",null,Object(l.a)("main","pause/play")),s.a.createElement("div",null,"space")),s.a.createElement("div",{className:"unit",title:Object(l.a)("main","copy")},s.a.createElement("div",null,Object(l.a)("main","copy")),s.a.createElement("div",null,"Alt + ",Object(l.a)("main","drag"))),s.a.createElement("div",{className:"unit",title:Object(l.a)("main","undo")},s.a.createElement("div",null,Object(l.a)("main","undo")),s.a.createElement("div",null,i," + z")),s.a.createElement("div",{className:"unit",title:Object(l.a)("main","redo")},s.a.createElement("div",null,Object(l.a)("main","redo")),s.a.createElement("div",null,i," + shift + z")),s.a.createElement("div",{className:"unit",title:Object(l.a)("main","delete")},s.a.createElement("div",null,Object(l.a)("main","delete")),s.a.createElement("div",null,"delete/backspace")),s.a.createElement("div",{className:"unit",title:"\u6dfb\u52a0\u5b57\u5e55"},s.a.createElement("div",null,"\u6dfb\u52a0\u5b57\u5e55"),s.a.createElement("div",null,i," + q")),s.a.createElement("div",{className:"unit",title:Object(l.a)("main","toEnd")},s.a.createElement("div",null,Object(l.a)("main","autoZoom")),s.a.createElement("div",null,i," + A"))),s.a.createElement("div",null,s.a.createElement("div",{className:"unit",title:Object(l.a)("main","forwardByFrame")},s.a.createElement("div",null,Object(l.a)("main","forwardByFrame")),s.a.createElement("div",null,"\u2193")),s.a.createElement("div",{className:"unit",title:Object(l.a)("main","rewindByFrame")},s.a.createElement("div",null,Object(l.a)("main","rewindByFrame")),s.a.createElement("div",null,"\u2191")),s.a.createElement("div",{className:"unit",title:Object(l.a)("main","forwardBySeconds")},s.a.createElement("div",null,Object(l.a)("main","forwardBySeconds")),s.a.createElement("div",null,"\u2192")),s.a.createElement("div",{className:"unit",title:Object(l.a)("main","rewindBySeconds")},s.a.createElement("div",null,Object(l.a)("main","rewindBySeconds")),s.a.createElement("div",null,"\u2190")),s.a.createElement("div",{className:"unit",title:Object(l.a)("main","zoomOut")},s.a.createElement("div",null,Object(l.a)("main","zoomOut")),s.a.createElement("div",null,"-\uff08\u2014\uff09")),s.a.createElement("div",{className:"unit",title:Object(l.a)("main","zoomIn")},s.a.createElement("div",null,Object(l.a)("main","zoomIn")),s.a.createElement("div",null,"=\uff08+\uff09")),s.a.createElement("div",{className:"unit",title:Object(l.a)("main","toStart")},s.a.createElement("div",null,Object(l.a)("main","toStart")),s.a.createElement("div",null,n)),s.a.createElement("div",{className:"unit",title:Object(l.a)("main","toEnd")},s.a.createElement("div",null,Object(l.a)("main","toEnd")),s.a.createElement("div",null,r))))))}}]),t}(s.a.Component);t.a=u},1502:function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=i(0),s=i.n(o),l=i(70),c=i.n(l),u=i(1372),h=(i.n(u),i(1378)),d=(i.n(h),i(52)),p=i(1392),f=(i.n(p),i(1379)),m=i(160),g=i(1373),v=i(1419),y=i(1503),b=i.n(y),_=i(1504),A=i.n(_),E=i(1505),w=i.n(E),x=i(1506),T=i.n(x),S=i(1507),C=i.n(S),k=i(1508),O=i.n(k),P=i(1509),j=i(1510),I=i(1511),M=i(1512),R=i(1513),D=i(1514),L=i(1515),N=i(1527),B=i(1603),F=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),U=[],z="",H={video:[{k:0,v:"\u53d8\u6362",ico:"icon-jibenbianhuan"},{k:1,v:Object(m.a)("main","speed"),ico:"icon-sudu"},{k:2,v:Object(m.a)("main","color"),ico:"icon-yanse"},{k:3,v:Object(m.a)("main","audio"),ico:"icon-yinpin"},{k:4,v:"\u6a21\u7cca",ico:"icon-mohu"},{k:6,v:Object(m.a)("main","filter"),ico:"icon-lvjing"}],audio:[{k:3,v:Object(m.a)("main","audio"),ico:"icon-yinpin"}],text:[{k:7,v:Object(m.a)("main","text"),ico:"icon-jibenbianhuan"},{k:0,v:Object(m.a)("main","basicTransfom"),ico:"icon-jibenbianhuan"}],animation:[{k:8,v:Object(m.a)("main","animation"),ico:"icon-donghua"},{k:0,v:"\u53d8\u6362",ico:"icon-jibenbianhuan"}],image:[{k:0,v:"\u53d8\u6362",ico:"icon-jibenbianhuan"},{k:2,v:Object(m.a)("main","color"),ico:"icon-yanse"},{k:4,v:Object(m.a)("main","effects"),ico:"icon-mohu"},{k:6,v:Object(m.a)("main","filter"),ico:"icon-lvjing"}]},V=[{img:b.a,k:"original",name:Object(m.a)("main","original")},{img:A.a,k:"monochrome",name:Object(m.a)("main","monochrome")},{img:w.a,k:"negate",name:Object(m.a)("main","negate")},{img:T.a,k:"emboss",name:Object(m.a)("main","emboss")},{img:C.a,k:"vintage",name:Object(m.a)("main","vintage")},{img:O.a,k:"blur",name:Object(m.a)("main","blur")}],G=!1,q=!1,W=!1,Y=!1,X=!1,Q="",K=!1,Z=!1,J=!1,$=!1,ee=0,te=0,ie=function(){},ne=function(){},re=function(e){function t(e){n(this,t);var i=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.state={tab:H.video,name:Object(m.a)("main","basicTransfom"),media:"",change:!0,media_info:{},delgo:{},update:"",obj:{},index:0},i}return a(t,e),F(t,[{key:"componentWillMount",value:function(){var e=Object(f.b)(),t=p.import("formats/font");e.map(function(e,t){U.push(e.code)}),t.whitelist=U,p.register(t,!0)}},{key:"handleChange",value:function(e){this.state.obj.special.text=e,this.refreshParam()}},{key:"componentWillUnmount",value:function(){var e={tab:H.video,delgo:{},media_info:{},media:"",name:Object(m.a)("main","basicTransfom"),change:!0,update:"",obj:{},index:0};for(var t in e)this.state[t]=e[t];c()(window).unbind("mousemove",ie),c()(window).unbind("mouseup",ne)}},{key:"_execute",value:function(e,t){var i="";if("undefined"===typeof e&&(i=!0),"number"===typeof e){var n=this.state.obj,r=parseFloat(1*e);switch(t){case"zoomStart":n.transform.start_scale=1*(r>5?5:r<.01?.01:r).toFixed(2),i=0===r?"":n.transform.start_scale;break;case"zoomEnd":n.transform.end_scale=1*(r>5?5:r<.01?.01:r).toFixed(2),i=0===r?"":n.transform.end_scale}this.refreshParam()}if(!isNaN(e)&&""!==e){var a=this.state.obj,o=parseFloat(1*e);switch(t){case"flip":a.transform.flip=o;break;case"rotation":a.transform.rotation=parseInt(((o-180)%360+360)%360-180);break;case"operationStartX":a.transform.start_position_x=parseInt(o);break;case"operationStartY":a.transform.start_position_y=parseInt(o);break;case"operationEndX":a.transform.end_position_x=parseInt(o);break;case"operationEndY":a.transform.end_position_y=parseInt(o);break;case"speedV":this.setSpeed(o);break;case"zoomStart-t":a.special.font_size=parseInt(o>400?400:o<10?10:o);break;case"operationW-t":a.special.position_w=parseInt(o>4e3?4e3:o<0?0:o);break;case"operationH-t":a.special.position_h=parseInt(o>2200?2200:o<0?0:o);break;case"lineHeight-t":a.special.line_height=parseInt(o>300?300:o<90?90:o);break;case"spacing-t":a.special.spacing=1*(o>5?5:o<-1?-1:o).toFixed(2);break;case"fadeStart":a.video_fade[0].visibility=parseInt(o>100?100:o<0?0:o);break;case"fadeEnd":a.video_fade[1].visibility=parseInt(o>100?100:o<0?0:o);break;case"voiceFadeStart":this._setAudioFade(1*(o>5?5:o<0?0:o).toFixed(1),"s");break;case"voiceFadeEnd":this._setAudioFade(1*(o>5?5:o<0?0:o).toFixed(1),"e");break;case"brightness":a.color.brightness=parseInt(o>100?100:o<-100?-100:o);break;case"contrast":a.color.contrast=parseInt(o>100?100:o<-100?-100:o);break;case"saturation":a.color.saturation=parseInt(o>100?100:o<-100?-100:o);break;case"hue":a.color.hue=parseInt(o>180?180:o<-180?-180:o);break;case"volumeStart":a.volume.value=parseInt(o>100?100:o<0?0:o);break;case"vague-x":a.specialeffect.vague_x=parseInt(o>100?100:o<0?0:o);break;case"vague-y":a.specialeffect.vague_y=parseInt(o>100?100:o<0?0:o);break;case"chroma-s":a.colorkeying.sensitivity=parseInt(o>100?100:o<1?1:o);break;case"chroma-t":a.colorkeying.transparency=parseInt(o>100?100:o<0?0:o)}this.refreshParam()}return i}},{key:"setSpeed",value:function(e){var t=e,i=parseInt(t),n=this.state.obj;n.speed.value=i;var r=Math.round(25*(n.start_time+(this.state.obj.special.end_range-this.state.obj.special.start_range)*(i>0?1/i:-i)))/25,a=r-n.end_time;n.end_time=r,Object(g.C)(n.start_time,n.end_time);var o=this.props.unit_detail;if(o.layer||0===o.layer){var s=Object(g.l)(),l=s.video_list.length,c=o.layer<l?s.video_list[o.layer]:s.audio_list[o.layer-l],u=c.obj_list[o.position+1],h=u.end_time;if(c.obj_list.length>o.position+2){var d=c.obj_list[o.position+2],p=u.end_time-d.start_time;p=Math.max(p,a);for(var f=o.position+2;f<c.obj_list.length;f++)c.obj_list[f].start_time=1*c.obj_list[f].start_time+p,h=c.obj_list[f].end_time=1*c.obj_list[f].end_time+p}s.duration=h>s.duration?h:s.duration,Object(g.y)()}}},{key:"openDelogo",value:function(){this.state.obj.special&&this.setState({delgo:{show:!0}})}},{key:"closeDelogo",value:function(){this.setState({delgo:{}})}},{key:"setDeLogo",value:function(e){var t=this.state.media_info.width,i=this.state.media_info.height;e.length&&e&&e.map(function(e,n){e.logo_x=1*(e.logo_x/t).toFixed(4),e.logo_width=1*(e.logo_width/t).toFixed(4),e.logo_y=1*(e.logo_y/i).toFixed(4),e.logo_height=1*(e.logo_height/i).toFixed(4)}),this.state.obj.delogo=e||[],this.refreshParam()}},{key:"save",value:function(){var e=this.props.unit_detail;if(e.layer||0===e.layer){var t=Object(g.l)(),i=t.video_list.length,n=e.layer<i?t.video_list[e.layer]:t.audio_list[e.layer-i],r=n.obj_list[e.position+1],a=r.end_time;if(n.obj_list.length>e.position+2)for(var o=n.obj_list[e.position+2],s=r.end_time-o.start_time,l=e.position+2;l<n.obj_list.length;l++)n.obj_list[l].start_time=1*n.obj_list[l].start_time+s,a=n.obj_list[l].end_time=1*n.obj_list[l].end_time+s;t.duration=a>t.duration?a:t.duration,Object(g.y)()}}},{key:"toStart",value:function(){J=!0,$=!1;var e=this.state.obj;this.props.set_time_now(e.start_time),this.refreshParam()}},{key:"toEnd",value:function(){$=!0,J=!1;var e=this.state.obj;this.props.set_time_now(e.end_time),this.refreshParam()}},{key:"_setAudioFade",value:function(e,t){var i=this.state.obj.audio_fade,n=(this.state.obj.special.end_range-this.state.obj.special.start_range)/2;e=e>n?n:e;var r=[{time_point:this.state.obj.special.start_range,visibility:100,fade_type:0}],a=[{time_point:this.state.obj.special.end_range,visibility:100,fade_type:0}];"s"===t?(e&&(r=[{time_point:this.state.obj.special.start_range,visibility:0,fade_type:0},{time_point:1*(this.state.obj.special.start_range+e).toFixed(2),visibility:100,fade_type:0}]),i.length>=3&&i[i.length-2].visibility!==i[i.length-1].visibility&&(a=[i[i.length-2],i[i.length-1]]),q||(a=[{time_point:1*(this.state.obj.special.end_range-e).toFixed(2),visibility:100,fade_type:0},{time_point:this.state.obj.special.end_range,visibility:0,fade_type:0}])):(i.length>2&&i[0].visibility!==i[1].visibility&&(r=[i[0],i[1]]),e&&(a=[{time_point:1*(this.state.obj.special.end_range-e).toFixed(2),visibility:100,fade_type:0},{time_point:this.state.obj.special.end_range,visibility:0,fade_type:0}])),this.state.obj.audio_fade=r.concat(a),this.refreshParam()}},{key:"componentDidMount",value:function(){var e=this,t=this;setTimeout(function(){c()(".ql-editor")}),c()("#sec4-canvas").bind("click",function(e){var i=document.getElementById("sec4-canvas");if(c()(i).hasClass("choose")){var n=i.width,r=i.height,a=void 0,o=void 0;e.layerX||0===e.layerX?(a=e.layerX,o=e.layerY):(e.offsetX||0===e.offsetX)&&(a=e.offsetX,o=e.offsetY),a=a/parseInt(c()(i).css("width"))*n,o=o/parseInt(c()(i).css("height"))*r;var s=i.getContext("2d");try{s.getImageData(a,o,1,1)}catch(e){return void d.t.warning("\u8be5\u754c\u9762\u4e2d\u5305\u542b\u672a\u5bfc\u5165\u5b8c\u6210\u7d20\u6750\uff0c\u8bf7\u624b\u52a8\u8f93\u5165\u516d\u4f4d\u6570\u8272\u503c")}var l=s.getImageData(a,o,1,1),u="";l.data.map(function(e,t){u+=e<16?"0"+e.toString(16):e.toString(16)}),t.state.obj.colorkeying.select_color=u.substr(0,6),t.refreshParam()}}),c()(".reveal").delegate("#sec4-canvas-show","mousedown",function(t){Z=!1,Z=!0;var i=c()(t.target);0!==e.state.index&&7!==e.state.index&&8!==e.state.index||(Q=i.hasClass("r-b")?"0":i.hasClass("l-b")?"1":i.hasClass("l-t")?"2":i.hasClass("r-t")?"3":"")}),ie=function(t){if(Z){var i=e.state.obj,n=c()("#sec4-canvas"),r=parseInt(n.css("width")),a=parseInt(n.css("height")),o=t.originalEvent.movementX*(r>a?1920:1080)/r,s=t.originalEvent.movementY*(r>a?1080:1920)/a;if(0===e.state.index||7===e.state.index||8===e.state.index){var l=i.transform;if(Q){var u=1920,h=1080,d=e.state.media,p=c()("#sec4-canvas"),f=parseInt(p.css("width")),m=parseInt(p.css("height")),g=0,v=0;d&&("video"===i.obj_type?(u=d.videoWidth,h=d.videoHeight):"image"===i.obj_type&&(u=d.width,h=d.height),u/h>(f>m?16/9:9/16)?(v=((f>m?1080:1920)-h*(f>m?1920:1080)/u)/2,g=0):(g=((f>m?1920:1080)-u*(f>m?1080:1920)/h)/2,v=0));var y=Math.atan(h/u)/Math.PI*180+(l.rotation||0)+90*Q,b=f-2*g,_=m-2*v,A=(f>m?1920:1080)/f/1.5,E=Math.sqrt(b*b+_*_)/2;if(7===e.state.index){var w=E*l.start_scale,x=Math.cos(y/180*Math.PI)*w+o/A,T=Math.sin(y/180*Math.PI)*w+s/A,S=Math.sqrt(x*x+T*T)/E,C=Math.max(S/l.start_scale,0);i.special.position_w=Math.round(C*i.special.position_w),i.special.position_h=Math.round(C*i.special.position_h)}else if(G)if($){e.props.set_time_now(i.end_time);var k=E*l.end_scale,O=Math.cos(y/180*Math.PI)*k+o/A,P=Math.sin(y/180*Math.PI)*k+s/A,j=Math.sqrt(O*O+P*P)/E;l.end_scale=1*(j>5?5:j).toFixed(2)}else{J=!0,e.props.set_time_now(i.start_time);var I=E*l.start_scale,M=Math.cos(y/180*Math.PI)*I+o/A,R=Math.sin(y/180*Math.PI)*I+s/A,D=Math.sqrt(M*M+R*R)/E;l.start_scale=1*(D>5?5:D).toFixed(2)}else{var L=E*l.start_scale,N=Math.cos(y/180*Math.PI)*L+o/A,B=Math.sin(y/180*Math.PI)*L+s/A,F=Math.sqrt(N*N+B*B)/E;l.start_scale=1*(F>5?5:F).toFixed(2),l.end_scale=l.start_scale}}else W?$?(e.props.set_time_now(i.end_time),l.end_position_x=l.end_position_x+t.originalEvent.movementX*(r>a?1920:1080)/r,l.end_position_y=l.end_position_y+t.originalEvent.movementY*(r>a?1080:1920)/a):(J=!0,e.props.set_time_now(i.start_time),l.start_position_x=l.start_position_x+t.originalEvent.movementX*(r>a?1920:1080)/r,l.start_position_y=l.start_position_y+t.originalEvent.movementY*(r>a?1080:1920)/a):(l.end_position_x=l.start_position_x=l.start_position_x+t.originalEvent.movementX*(r>a?1920:1080)/r,l.end_position_y=l.start_position_y=l.start_position_y+t.originalEvent.movementY*(r>a?1080:1920)/a)}e.refreshParam()}},ne=function(t){if(Z){if(Z=!1,0===e.state.index||7===e.state.index||8===e.state.index){var i=e.state.obj.transform;i.start_position_x=Math.round(i.start_position_x),i.end_position_x=Math.round(i.end_position_x),i.start_position_y=Math.round(i.start_position_y),i.end_position_y=Math.round(i.end_position_y),e.refreshParam()}e.refreshParam()}},c()(window).bind("mousemove",ie),c()(window).bind("mouseup",ne)}},{key:"shouldComponentUpdate",value:function(e,t){var i=this.props.unit_detail.show,n=e.unit_detail.show;if(n&&!i){var r=e.unit_detail;if(r.layer||0===r.layer){var a=Object(g.l)(),o=a.video_list.length,s=r.layer<o?a.video_list[r.layer]:a.audio_list[r.layer-o],l=r.position+1,u=s.obj_list[l];if(this.state.obj=u,this.tab=H["animation"===u.special.sub_type?"animation":u.obj_type],!this.tab)return void this.props.close();if("animation"===u.special.sub_type?e.set_time_now(u.start_time+2):Object(g.C)(u.start_time,u.end_time),this.state.name=this.tab[0].v,this.state.index=this.tab[0].k,"video"===u.obj_type||"image"===u.obj_type||"animation"===u.special.sub_type){var h=1920,d=1080,p=this.state.media=Object(g.q)()[u.obj_id+"_"+r.layer];if(p){var f=c()("#sec4-canvas"),m=parseInt(f.css("width")),v=parseInt(f.css("height"));"video"===u.obj_type?(h=p.videoWidth,d=p.videoHeight):"image"===u.obj_type&&(h=p.width,d=p.height),h/d>(m>v?16/9:9/16)?(te=((m>v?1080:1920)-d*(m>v?1920:1080)/h)/2,ee=0):(ee=((m>v?1920:1080)-h*(m>v?1080:1920)/d)/2,te=0)}var y=1920,b=1080,_=te,A=ee;"video"===u.obj_type?(y=p.videoWidth,b=p.videoHeight):"image"===u.obj_type&&(y=p.width,b=p.height),y/b>16/9?(_=(1080-1920*b/y)/2,A=0):(A=(1920-1080*y/b)/2,_=0),this.state.media_info={halfHeight:_,halfWidth:A,width:1920-2*A,height:1080-2*_,type:u.obj_type,mediaUrl:u.special.preview_mp4||u.special.media_url}}}else Object(g.C)(0,Object(g.l)().duration);this.state.obj.transform&&(G=this.state.obj.transform.end_scale!==this.state.obj.transform.start_scale,W=this.state.obj.transform.end_position_x!==this.state.obj.transform.start_position_x||this.state.obj.transform.end_position_y!==this.state.obj.transform.start_position_y),"text"===this.state.obj.obj_type&&(Y=this.state.obj.special.end_font_size!==this.state.obj.special.start_font_size,X=this.state.obj.special.end_position_x!==this.state.obj.special.start_position_x||this.state.obj.special.end_position_y!==this.state.obj.special.start_position_y),this.state.obj.video_fade&&(K=this.state.obj.video_fade&&this.state.obj.video_fade.length>1);var E=this.state.obj.audio_fade;E&&(q=3===E.length||4===E.length&&E[1].time_point-E[0].time_point!==E[3].time_point-E[2].time_point),this.props.playVideo("area",this.state.obj.obj_id+"_"+r.layer,4===this.state.index?"delogo":"trans");var w=this.state.obj;if("video"===w.obj_type||"image"===w.obj_type){var x=1920,T=1080,S=Object(g.q)()[w.obj_id+"_"+r.layer];if(S){var C=c()("#sec4-canvas"),k=parseInt(C.css("width")),O=parseInt(C.css("height"));"video"===w.obj_type?(x=S.videoWidth,T=S.videoHeight):"image"===w.obj_type&&(x=S.width,T=S.height),x/T>(k>O?16/9:9/16)?(te=((k>O?1080:1920)-T*(k>O?1920:1080)/x)/2,ee=0):(ee=((k>O?1920:1080)-x*(k>O?1080:1920)/T)/2,te=0)}}}return i&&!n&&(this.state.index=-1,Object(g.C)(0,Object(g.l)().duration)),!0}},{key:"refreshParam",value:function(e){var t=this;this.state.obj.transform&&(G||(this.state.obj.transform.end_scale=this.state.obj.transform.start_scale),W||(this.state.obj.transform.end_position_x=this.state.obj.transform.start_position_x,this.state.obj.transform.end_position_y=this.state.obj.transform.start_position_y),G||W||($=!1,J=!1)),"text"===this.state.obj.obj_type&&Object(v.b)(this.state.obj.special),this.state.obj.video_fade&&(K||(this.state.obj.video_fade.length=1)),c()("#sec4-canvas").removeClass("choose"),this.setState({change:!0}),clearTimeout(z),e?z=setTimeout(function(){t.props.playVideo("area",t.state.obj.obj_id+"_"+t.props.unit_detail.layer,4===t.state.index?"delogo":"trans")},300):this.props.playVideo("area",this.state.obj.obj_id+"_"+this.props.unit_detail.layer,4===this.state.index?"delogo":"trans")}},{key:"render",value:function(){var e=this,t=[],i=this.state.obj;if(this.tab)for(var n=0;n<this.tab.length;n++)!function(i){var n=e.tab[i];t.push(s.a.createElement("li",{className:n.k===e.state.index?"current":"",onClick:function(t){if(4!==n.k&&5!==n.k||e.state.media&&e.state.media.crossOrigin){e.state.index=n.k,e.state.name=n.v;var i=c()(".sec-box");0!==e.state.index&&7!==e.state.index&&8!==e.state.index||!i.length?i.hide():i.show(),e.refreshParam()}else d.t.warning("\u8be5\u7d20\u6750\u672a\u5bfc\u5165\u5b8c\u6210\uff0c\u4e0d\u652f\u6301"+n.v+"\u8bbe\u7f6e")},key:"detailTab"+i,name:n.k},s.a.createElement("span",{className:"ico iconfont "+n.ico}," "),s.a.createElement("p",null,n.v)))}(n);for(var r=[],n=0;n<V.length;n++)!function(t){r.push(s.a.createElement("li",{key:"effect"+t,onClick:function(){"emboss"!==V[t].k||e.state.media&&e.state.media.crossOrigin?(e.state.obj.effects=V[t].k,e.setState({obj:e.state.obj}),e.props.playVideo()):d.t.warning("\u8be5\u7d20\u6750\u672a\u5bfc\u5165\u5b8c\u6210\uff0c\u4e0d\u652f\u6301\u6d6e\u96d5\u6ee4\u955c")}},s.a.createElement("div",{className:"pic"},s.a.createElement("img",{src:V[t].img,alt:""}),e.state.obj.effects===V[t].k?s.a.createElement("span",{className:"current-tip"},s.a.createElement("span",{className:"ico iconfont icon-duigou"}," ")):""),s.a.createElement("p",null,s.a.createElement("span",null,V[t].name))))}(n);return s.a.createElement("div",{className:"unit-detail-only "+(this.props.unit_detail.show?"":"unit-detail-only hidden")},s.a.createElement("div",{className:"unit-content"},s.a.createElement("div",{className:"unit-top"},s.a.createElement("ul",null,t)),s.a.createElement("div",{className:"editBox"},s.a.createElement("div",{className:"unit-body"},0===this.state.index&&this.state.obj.transform&&this.state.obj.video_fade?s.a.createElement(P.a,{execute:this._execute.bind(this),transform:this.state.obj.transform,start_scale:this.state.obj.transform.start_scale,end_scale:this.state.obj.transform.end_scale,video_fade:this.state.obj.video_fade,lockZoom:G,type:this.state.obj.obj_type,lockPosition:W,lockFade:K,selected_start:J,selected_end:$,to_start:this.toStart.bind(this),to_end:this.toEnd.bind(this),set_blurred:function(t){return e.state.obj.transform.blurred=t||!1,e.refreshParam(),t},zoom_animate:function(){G?(e.state.obj.transform.end_scale=e.state.obj.transform.start_scale,G=!1):G=!0,e.refreshParam()},zoom_reset:function(){var t=e.state.obj;t.transform.start_scale=1,t.transform.end_scale=1,G=!1,e.refreshParam()},position_animate:function(){W?(e.state.obj.transform.end_position_x=e.state.obj.transform.start_position_x,e.state.obj.transform.end_position_y=e.state.obj.transform.start_position_y,W=!1):W=!0,e.refreshParam()},position_reset:function(){var t=e.state.obj;t.transform.start_position_x=0,t.transform.start_position_y=0,t.transform.end_position_x=0,t.transform.end_position_y=0,W=!1,e.refreshParam()},fade_animate:function(){e.state.obj.video_fade.length<2?(e.state.obj.video_fade[0].time_point=e.state.obj.start_time,e.state.obj.video_fade.push({time_point:e.state.obj.end_time,visibility:e.state.obj.video_fade[0].visibility,fade_type:0}),K=!0):(e.state.obj.video_fade.length=1,K=!1),e.refreshParam()},fade_reset:function(){var t=e.state.obj;t.video_fade[0].visibility=100,K=!1,t.video_fade[t.video_fade.length-1].visibility=100,e.refreshParam()}}):"",1===this.state.index&&this.state.obj.speed?s.a.createElement(j.a,{execute:this._execute.bind(this),speed:this.state.obj.speed,speed_reset:function(){e.setSpeed(1)}}):"",2===this.state.index&&this.state.obj.color?s.a.createElement(I.a,{execute:this._execute.bind(this),color:this.state.obj.color}):"",3===this.state.index&&this.state.obj.volume&&this.state.obj.audio_fade?s.a.createElement(M.a,{execute:this._execute.bind(this),volume:this.state.obj.volume,audio_fade:this.state.obj.audio_fade,lockVoiceFade:q,fade_animate:function(){var t=e.state.obj,n=e.state.obj.audio_fade;if(!n||n.length<3||n[0].visibility===n[1].visibility)e.state.obj.audio_fade=[{time_point:e.state.obj.special.start_range,visibility:100,fade_type:0},{time_point:e.state.obj.special.end_range,visibility:100,fade_type:0}];else{var r=t.special.end_range-i.special.start_range,a=n[1].time_point-n[0].time_point;n[2].time_point=(r-a>r/2?r-a:r/2)+n[0].time_point;var o={time_point:e.state.obj.special.end_range,visibility:0,fade_type:0};3===n.length?n.push(o):n[3]=o}q=!q,e.refreshParam()},fade_reset:function(){e.state.obj.audio_fade=[{time_point:e.state.obj.special.start_range,visibility:100,fade_type:0},{time_point:e.state.obj.special.end_range,visibility:100,fade_type:0}],q=!1,e.refreshParam()}}):"",4===this.state.index&&this.state.obj.specialeffect?s.a.createElement(R.a,{execute:this._execute.bind(this),specialeffect:this.state.obj.specialeffect,lockVoiceFade:q,openDelogo:this.openDelogo.bind(this),setDeLogo:this.setDeLogo.bind(this)}):"",5===this.state.index&&this.state.obj.colorkeying?s.a.createElement(D.a,{execute:this._execute.bind(this),set_color:function(t){e.state.obj.colorkeying.select_color=t,e.refreshParam()},colorkeying:this.state.obj.colorkeying,select_color:this.state.obj.colorkeying.select_color}):"",6===this.state.index?s.a.createElement("ul",{className:"filter show"},r):"",7===this.state.index&&this.state.obj.special?s.a.createElement(L.a,{execute:this._execute.bind(this),handleChange:this.handleChange.bind(this),special:this.state.obj.special}):"",8===this.state.index&&this.state.media?s.a.createElement(N.a,{media:this.state.media,execute:this._execute.bind(this),set_layers:function(t,i,n){var r=e.state.obj.layers;r.length-1<n&&(r.length=n+1,e.state.obj.layers[n].ty=5,e.state.obj.layers[n].s={}),"sc"===i?(e.state.obj.layers[n].ty=1,e.state.obj.layers[n].sc=t):e.state.obj.layers[n].s[i]=t,e.refreshParam("change")},layers:this.state.obj.layers}):""),s.a.createElement("div",{className:"close-unit-detail"},8===this.state.index?"":s.a.createElement(d.a,{className:"unit-reset",type:"primary",onClick:function(){var t=e.state.obj;switch(e.state.index){case 0:t.transform.rotation=0,t.transform.flip=0,t.video_fade.length=1,t.video_fade[0].visibility=100,t.transform.start_position_x=0,t.transform.start_position_y=0,t.transform.end_position_x=0,t.transform.end_position_y=0,t.transform.start_scale=1,t.transform.end_scale=1,t.transform.blurred=!1,K=!1,W=!1,G=!1;break;case 1:e.setSpeed(1);break;case 2:t.color.brightness=0,t.color.contrast=0,t.color.saturation=0,t.color.hue=0;break;case 3:t.volume.value=100,e.state.obj.audio_fade=[{time_point:e.state.obj.special.start_range,visibility:100,fade_type:0},{time_point:e.state.obj.special.end_range,visibility:100,fade_type:0}],q=!1;break;case 4:t.specialeffect.vague_x=0,t.specialeffect.vague_y=0,t.specialeffect.logo_x=0,t.specialeffect.logo_y=0,t.specialeffect.logo_width=0,t.specialeffect.logo_height=0,e.setDeLogo([]);break;case 5:t.colorkeying.select_color="",t.colorkeying.sensitivity=1,t.colorkeying.transparency=0;break;case 6:e.state.obj.effects="original";break;case 7:t.special.font_size=100,t.special.line_height=120,t.special.spacing=0,t.special.position_x=0,t.special.position_y=0,t.special.position_w=1920,t.special.position_h=1080,t.special.text="",c()(".ql-editor").html("<p></p>")}e.refreshParam()}},Object(m.a)("main","allCancel")),s.a.createElement(d.a,{type:"primary",onClick:function(){e.props.close()}},"\u786e\u5b9a")))),s.a.createElement(B.a,{media:this.state.media,special:this.state.obj.special||{},list:i.delogo||[],setDeLogo:function(t){e.setDeLogo(t)},media_info:this.state.media_info,close:function(){e.closeDelogo()},setting:this.state.delgo}))}}]),t}(s.a.Component);t.a=re},1503:function(e,t,i){e.exports=i.p+"static/media/filter0.4ff2b5be.png"},1504:function(e,t,i){e.exports=i.p+"static/media/filter1.407360b1.png"},1505:function(e,t,i){e.exports=i.p+"static/media/filter2.4596112c.png"},1506:function(e,t,i){e.exports=i.p+"static/media/filter3.e3b831bc.png"},1507:function(e,t,i){e.exports=i.p+"static/media/filter4.fc9f8ff2.png"},1508:function(e,t,i){e.exports=i.p+"static/media/filter5.67ba6de5.png"},1509:function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=i(0),s=i.n(o),l=i(52),c=i(160),u=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),h=l.a.Group,d=function(e){function t(){var e,i,a,o;n(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return i=a=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.state={start_scale:1,end_scale:1},o=i,r(a,o)}return a(t,e),u(t,[{key:"componentWillMount",value:function(){this.state.start_scale=this.props.transform.start_scale,this.state.end_scale=this.props.transform.end_scale}},{key:"shouldComponentUpdate",value:function(e,t){return e.start_scale!==this.props.start_scale&&(this.state.start_scale=e.start_scale),e.end_scale!==this.props.end_scale&&(this.state.end_scale=e.end_scale),!0}},{key:"render",value:function(){var e=this,t=this.props.transform,i=this.props.video_fade,n=this.props.execute,r=this.props.lockZoom,a=this.props.lockPosition,o=this.props.lockFade,u=this.props.selected_start,d=this.props.selected_end,p=this.props.to_start,f=this.props.to_end;this.props.zoom_animate,this.props.position_animate,this.props.fade_animate,this.props.set_blurred,this.props.type;return s.a.createElement("ul",{className:"show"},s.a.createElement("li",null,s.a.createElement("div",{className:"name"},Object(c.a)("main","rotation")),s.a.createElement("div",{className:"operation"},s.a.createElement("div",null,s.a.createElement(h,null,s.a.createElement(l.r,{title:Object(c.a)("main","counterclockwise"),onClick:function(){n(t.rotation-45,"rotation")}},s.a.createElement(l.a,null,s.a.createElement("span",{className:"ico iconfont icon-zuoxuanzhuan"}," "))),s.a.createElement(l.r,{title:Object(c.a)("main","clockwise"),onClick:function(){n(t.rotation+45,"rotation")}},s.a.createElement(l.a,null,s.a.createElement("span",{className:"ico iconfont icon-youxuanzhuan"}," ")))),s.a.createElement(l.h,{min:-360,max:360,step:1,size:"small",value:t.rotation,onChange:function(e){n(e,"rotation")}}))),s.a.createElement("div",{className:"back"},s.a.createElement(l.r,{title:Object(c.a)("main","reset")}))),s.a.createElement("li",null,s.a.createElement("div",{className:"name"},Object(c.a)("main","rollovers")),s.a.createElement("div",{className:"operation"},s.a.createElement("div",null,s.a.createElement(h,null,s.a.createElement(l.r,{title:Object(c.a)("main","horizontal"),onClick:function(){var e=0;switch(t.flip){case 0:e=2;break;case 1:e=3;break;case 2:e=0;break;case 3:e=1}n(e,"flip")}},s.a.createElement(l.a,{style:{color:0===t.flip||1===t.flip?"#BFBFBF":"#666666"}},s.a.createElement("span",{className:"ico iconfont icon-zuoyoujingxiang"}," "))),s.a.createElement(l.r,{title:Object(c.a)("main","vertical"),onClick:function(){var e=0;switch(t.flip){case 0:e=1;break;case 1:e=0;break;case 2:e=3;break;case 3:e=2}n(e,"flip")}},s.a.createElement(l.a,{style:{color:0===t.flip||2===t.flip?"#BFBFBF":"#666666"}},s.a.createElement("span",{className:"ico iconfont icon-shangxiajingxiang"}," ")))))),s.a.createElement("div",{className:"back"},s.a.createElement(l.r,{title:Object(c.a)("main","reset")}))),s.a.createElement("li",{className:"ani"},s.a.createElement("div",{className:"name"},Object(c.a)("main","zoom")),s.a.createElement("div",{className:"operation"},s.a.createElement("div",null,s.a.createElement("span",{className:"start",style:{display:r?"inline-block":"none"}},Object(c.a)("main","start")),s.a.createElement(l.p,{min:.01,max:5,style:{width:150},step:.01,onChange:function(i){n(i,"zoomStart"),e.setState({start_scale:t.start_scale})},value:t.start_scale}),s.a.createElement(l.h,{min:.01,max:5,step:.01,size:"small",value:this.state.start_scale,onChange:function(i){var r=n(i,"zoomStart");e.setState({start_scale:""===r?i:t.start_scale})}}),r?s.a.createElement(l.r,{title:Object(c.a)("main","toStart")},s.a.createElement("span",{className:"ico-opera ico iconfont icon-shubiaobianji",style:{opacity:u?.6:1},onClick:p}," ")):""),s.a.createElement("div",{style:{display:r?"flex":"none"}},s.a.createElement("span",{className:"start"},Object(c.a)("main","end")),s.a.createElement(l.p,{min:.01,max:5,style:{width:150},step:.01,onChange:function(i){n(i,"zoomEnd"),e.setState({end_scale:t.end_scale})},value:t.end_scale}),s.a.createElement(l.h,{min:.01,max:5,step:.01,size:"small",value:this.state.end_scale,onChange:function(i){var r=n(i,"zoomEnd");e.setState({end_scale:""===r?i:t.end_scale})}}),r?s.a.createElement(l.r,{title:Object(c.a)("main","toEnd")},s.a.createElement("span",{className:"ico-opera ico iconfont icon-shubiaobianji",style:{opacity:d?.6:1},onClick:f}," ")):""))),s.a.createElement("li",{className:"ani"},s.a.createElement("div",{className:"name"},Object(c.a)("main","position")),s.a.createElement("div",{className:"operation"},s.a.createElement("div",null,s.a.createElement("span",{className:"start",style:{display:a?"inline-block":"none"}},Object(c.a)("main","start")),s.a.createElement("span",null,"X"),s.a.createElement(l.h,{size:"small",value:t.start_position_x,onChange:function(e){n(e,"operationStartX")}}),s.a.createElement("span",null,"Y"),s.a.createElement(l.h,{size:"small",value:t.start_position_y,onChange:function(e){n(e,"operationStartY")}}),a?s.a.createElement(l.r,{title:Object(c.a)("main","toStart")},s.a.createElement("span",{className:"ico-opera ico iconfont icon-shubiaobianji",style:{opacity:u?.6:1},onClick:p}," ")):""),s.a.createElement("div",{style:{display:a?"flex":"none"}},s.a.createElement("span",{className:"start"},Object(c.a)("main","end")),s.a.createElement("span",null,"X"),s.a.createElement(l.h,{size:"small",value:t.end_position_x,onChange:function(e){n(e,"operationEndX")}}),s.a.createElement("span",null,"Y"),s.a.createElement(l.h,{size:"small",value:t.end_position_y,onChange:function(e){n(e,"operationEndY")}}),a?s.a.createElement(l.r,{title:Object(c.a)("main","toEnd")},s.a.createElement("span",{className:"ico-opera ico iconfont icon-shubiaobianji",style:{opacity:d?.6:1},onClick:f}," ")):""))),s.a.createElement("li",{className:"ani"},s.a.createElement("div",{className:"name"},Object(c.a)("main","opacity")),s.a.createElement("div",{className:"operation"},s.a.createElement("div",null,s.a.createElement("span",{className:"start",style:{display:o?"inline-block":"none"}},Object(c.a)("main","start")),s.a.createElement(l.p,{min:0,max:100,style:{width:150},onChange:function(e){n(e,"fadeStart")},value:i[0].visibility}),s.a.createElement(l.h,{size:"small",min:0,max:100,value:i[0].visibility,onChange:function(e){n(e,"fadeStart")}})),s.a.createElement("div",{style:{display:o?"flex":"none"}},s.a.createElement("span",{className:"start"},Object(c.a)("main","end")),s.a.createElement(l.p,{min:0,max:100,style:{width:150},onChange:function(e){n(e,"fadeEnd")},value:i[i.length-1].visibility}),s.a.createElement(l.h,{size:"small",min:0,max:100,value:i[i.length-1].visibility,onChange:function(e){n(e,"fadeEnd")}})))))}}]),t}(s.a.Component);t.a=d},1510:function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=i(0),s=i.n(o),l=i(52),c=i(160),u=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),h=l.o.Option,d=function(e){function t(){return n(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){var e=this.props.speed,t=this.props.execute;this.props.speed_reset;return s.a.createElement("ul",{className:"show"},s.a.createElement("li",null,s.a.createElement("div",{className:"name"},Object(c.a)("main","speed")),s.a.createElement("div",{className:"operation"},s.a.createElement("div",null,s.a.createElement(l.o,{value:e.value,style:{width:60},onChange:function(e){t(e,"speedV")}},s.a.createElement(h,{value:"2"},"2"),s.a.createElement(h,{value:"1"},"1"),s.a.createElement(h,{value:"-2"},"-2")))),s.a.createElement("div",{className:"back"})))}}]),t}(s.a.Component);t.a=d},1511:function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=i(0),s=i.n(o),l=i(52),c=i(160),u=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),h=function(e){function t(){return n(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){var e=this.props.color,t=this.props.execute;this.props.speed_reset;return s.a.createElement("ul",{className:"show"},s.a.createElement("li",null,s.a.createElement("div",{className:"name"},Object(c.a)("main","brightness")),s.a.createElement("div",{className:"operation"},s.a.createElement("div",null,s.a.createElement(l.p,{min:-100,max:100,style:{width:150},onChange:function(e){t(e,"brightness")},value:e.brightness}),s.a.createElement(l.h,{size:"small",min:-100,max:100,value:e.brightness,onChange:function(e){t(e,"brightness")}}))),s.a.createElement("div",{className:"back"},s.a.createElement(l.r,{title:Object(c.a)("main","reset")}))),s.a.createElement("li",null,s.a.createElement("div",{className:"name"},Object(c.a)("main","contrast")),s.a.createElement("div",{className:"operation"},s.a.createElement("div",null,s.a.createElement(l.p,{min:-100,max:100,style:{width:150},onChange:function(e){t(e,"contrast")},value:e.contrast}),s.a.createElement(l.h,{size:"small",min:-100,max:100,value:e.contrast,onChange:function(e){t(e,"contrast")}}))),s.a.createElement("div",{className:"back"},s.a.createElement(l.r,{title:Object(c.a)("main","reset")}))),s.a.createElement("li",null,s.a.createElement("div",{className:"name"},Object(c.a)("main","saturation")),s.a.createElement("div",{className:"operation"},s.a.createElement("div",null,s.a.createElement(l.p,{min:-100,max:100,style:{width:150},onChange:function(e){t(e,"saturation")},value:e.saturation}),s.a.createElement(l.h,{size:"small",min:-100,max:100,value:e.saturation,onChange:function(e){t(e,"saturation")}}))),s.a.createElement("div",{className:"back"},s.a.createElement(l.r,{title:Object(c.a)("main","reset")}))),s.a.createElement("li",null,s.a.createElement("div",{className:"name"},Object(c.a)("main","hue")),s.a.createElement("div",{className:"operation"},s.a.createElement("div",null,s.a.createElement(l.p,{min:-180,max:180,style:{width:150},onChange:function(e){t(e,"hue")},value:e.hue}),s.a.createElement(l.h,{size:"small",min:-180,max:180,value:e.hue,onChange:function(e){t(e,"hue")}}))),s.a.createElement("div",{className:"back"},s.a.createElement(l.r,{title:Object(c.a)("main","reset")}))))}}]),t}(s.a.Component);t.a=h},1512:function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=i(0),s=i.n(o),l=i(52),c=i(160),u=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),h=function(e){function t(){return n(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){var e=this.props.volume,t=this.props.audio_fade,i=this.props.lockVoiceFade,n=this.props.execute,r=(this.props.fade_animate,0),a=0;return t.length>2&&(t[1].visibility!==t[0].visibility&&(r=1*(t[1].time_point-t[0].time_point).toFixed(2)),t[t.length-1].visibility!==t[t.length-2].visibility&&(a=1*(t[t.length-1].time_point-t[t.length-2].time_point).toFixed(2))),s.a.createElement("ul",{className:"show"},s.a.createElement("li",null,s.a.createElement("div",{className:"name"},Object(c.a)("main","volume")),s.a.createElement("div",{className:"operation"},s.a.createElement("div",null,s.a.createElement(l.p,{min:0,max:100,style:{width:150},onChange:function(e){n(e,"volumeStart")},value:e.value}),s.a.createElement(l.h,{size:"small",min:0,max:100,value:e.value,onChange:function(e){n(e,"volumeStart")}}))),s.a.createElement("div",{className:"back"},s.a.createElement(l.r,{title:Object(c.a)("main","reset")}))),s.a.createElement("li",{className:"ani"},s.a.createElement("div",{className:"name"},Object(c.a)("main","fade")),s.a.createElement("div",{className:"operation"},s.a.createElement("div",null,s.a.createElement("span",{className:"start"},Object(c.a)("main",i?"fadeIn":"time")),s.a.createElement(l.p,{min:0,max:5,step:.5,style:{width:150},onChange:function(e){n(e,"voiceFadeStart")},value:r}),s.a.createElement(l.h,{size:"small",min:0,max:5,step:.5,value:r,onChange:function(e){n(e,"voiceFadeStart")}})),s.a.createElement("div",{style:{display:i?"flex":"none"}},s.a.createElement("span",{className:"start"},Object(c.a)("main","fadeOut")),s.a.createElement(l.p,{min:0,max:5,step:.5,style:{width:150},onChange:function(e){n(e,"voiceFadeEnd")},value:a}),s.a.createElement(l.h,{size:"small",min:0,max:5,step:.5,value:a,onChange:function(e){n(e,"voiceFadeEnd")}})))))}}]),t}(s.a.Component);t.a=h},1513:function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=i(0),s=i.n(o),l=i(52),c=i(160),u=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),h=function(e){function t(){return n(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){var e=this.props.specialeffect,t=this.props.execute,i=this.props.openDelogo;this.props.setDeLogo;return s.a.createElement("ul",{className:"show"},s.a.createElement("li",null,s.a.createElement("div",{className:"name"},Object(c.a)("main","blurryVideo")),s.a.createElement("div",{className:"operation"},s.a.createElement("div",null,s.a.createElement("span",{className:"start"},Object(c.a)("main","XAxis")),s.a.createElement(l.p,{min:0,max:100,style:{width:150},onChange:function(e){t(e,"vague-x")},value:e.vague_x}),s.a.createElement(l.h,{size:"small",min:-100,max:100,value:e.vague_x,onChange:function(e){t(e,"vague-x")}})),s.a.createElement("div",null,s.a.createElement("span",{className:"start"},Object(c.a)("main","YAxis")),s.a.createElement(l.p,{min:0,max:100,style:{width:150},onChange:function(e){t(e,"vague-y")},value:e.vague_y}),s.a.createElement(l.h,{size:"small",min:-100,max:100,value:e.vague_y,onChange:function(e){t(e,"vague-y")}}))),s.a.createElement("div",{className:"back"},s.a.createElement(l.r,{title:Object(c.a)("main","reset")}))),s.a.createElement("li",null,s.a.createElement("div",{className:"name"},Object(c.a)("main","deLogo")," "),s.a.createElement("div",{className:"operation",style:{width:"300px",justifyContent:"left",alignItems:"start"}},s.a.createElement(l.a,{onClick:function(){i()}},"\u4fee\u6539")),s.a.createElement("div",{className:"back"},s.a.createElement(l.r,{title:Object(c.a)("main","reset")}))))}}]),t}(s.a.Component);t.a=h},1514:function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=i(0),s=i.n(o),l=i(70),c=i.n(l),u=i(52),h=i(160),d=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),p=function(e){function t(){var e,i,a,o;n(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return i=a=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.state={select_color:"000000"},o=i,r(a,o)}return a(t,e),d(t,[{key:"componentWillMount",value:function(){this.state.select_color=this.props.colorkeying.select_color}},{key:"shouldComponentUpdate",value:function(e,t){return e.select_color!==this.props.select_color&&(this.state.select_color=e.select_color),!0}},{key:"render",value:function(){var e=this,t=this.props.colorkeying,i=this.props.execute,n=this.props.set_color;return s.a.createElement("ul",{className:"show"},s.a.createElement("li",null,s.a.createElement("div",{className:"name"},Object(h.a)("main","chooseColor")),s.a.createElement("div",{className:"operation choose-color"},s.a.createElement("div",null,"#",s.a.createElement("input",{value:this.state.select_color,id:"chroma-c",onChange:function(t){var i=t.target.value;e.setState({select_color:i})},onBlur:function(i){var r=new RegExp("^[0-9a-fA-F]{6}$"),a=i.target.value;null!==a.match(r)&&n(a),e.setState({select_color:t.select_color})},onKeyDown:function(i){if(13===i.keyCode){var r=new RegExp("^[0-9a-fA-F]{6}$"),a=i.target.value;null!==a.match(r)&&n(a),e.setState({select_color:t.select_color})}},className:"color-val",type:"text"}),s.a.createElement("span",{style:{backgroundColor:"#"+t.select_color},className:"ico-opera show-color"}," "),s.a.createElement(u.r,{title:"\u53bb\u5c4f\u5e55\u5438\u53d6\u989c\u8272"},s.a.createElement("span",{onClick:function(){c()("#sec4-canvas").addClass("choose")},className:"ico-opera ico iconfont icon-xiquyanse"}," ")))),s.a.createElement("div",{className:"back"},s.a.createElement(u.r,{title:Object(h.a)("main","reset")}))),s.a.createElement("li",null,s.a.createElement("div",{className:"name"},Object(h.a)("main","similarColor")),s.a.createElement("div",{className:"operation"},s.a.createElement("div",null,s.a.createElement(u.p,{min:1,max:100,style:{width:150},onChange:function(e){i(e,"chroma-s")},value:t.sensitivity}),s.a.createElement(u.h,{size:"small",min:1,max:100,value:t.sensitivity,onChange:function(e){i(e,"chroma-s")}}))),s.a.createElement("div",{className:"back"},s.a.createElement(u.r,{title:Object(h.a)("main","reset")}))),s.a.createElement("li",null,s.a.createElement("div",{className:"name"},Object(h.a)("main","diaphaneity")),s.a.createElement("div",{className:"operation"},s.a.createElement("div",null,s.a.createElement(u.p,{min:0,max:100,style:{width:150},onChange:function(e){i(e,"chroma-t")},value:t.transparency}),s.a.createElement(u.h,{size:"small",min:0,max:100,value:t.transparency,onChange:function(e){i(e,"chroma-t")}}))),s.a.createElement("div",{className:"back"},s.a.createElement(u.r,{title:Object(h.a)("main","reset")}))))}}]),t}(s.a.Component);t.a=p},1515:function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e){var t="";return 0===e.length?"":(t=e.replace(/&amp;/g,"&"),t=t.replace(/&lt;/g,"<"),t=t.replace(/&gt;/g,">"),t=t.replace(/&nbsp;/g," "),t=t.replace(/&#39;/g,"'"),t=t.replace(/&quot;/g,'"'))}var s=i(0),l=i.n(s),c=i(70),u=i.n(c),h=i(52),d=i(1516),p=i.n(d),f=i(1379),m=i(160),g=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),v=function(e){function t(){return n(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),g(t,[{key:"componentDidMount",value:function(){u()(".ql-editor")[0].innerHTML=o(this.props.special.text)}},{key:"render",value:function(){var e=this.props.special,t=this.props.execute,i=this.props.handleChange;return l.a.createElement("ul",{className:"show"},l.a.createElement("li",{className:"textEdit"},l.a.createElement("div",{className:"quill-bg"}),l.a.createElement(p.a,{modules:{toolbar:[[{font:Object(f.b)("text")}],["bold","italic","underline"],[{color:[]},{background:[]}],[{align:[]}]]},onChange:function(e){i(e)}})),l.a.createElement("li",null,l.a.createElement("div",{className:"name"},Object(m.a)("main","textArea")),l.a.createElement("div",{className:"operation"},l.a.createElement("div",null,l.a.createElement("span",null,"W"),l.a.createElement(h.h,{size:"small",min:0,max:4e3,value:e.position_w,onChange:function(e){t(e,"operationW-t")}}),l.a.createElement("span",null,"H"),l.a.createElement(h.h,{size:"small",min:0,max:2200,value:e.position_h,onChange:function(e){t(e,"operationH-t")}}))),l.a.createElement("div",{className:"back"},l.a.createElement(h.r,{title:Object(m.a)("main","reset")}))),l.a.createElement("li",null,l.a.createElement("div",{className:"name"},Object(m.a)("main","fontSize")),l.a.createElement("div",{className:"operation"},l.a.createElement("div",null,l.a.createElement(h.p,{min:10,max:400,style:{width:150},onChange:function(e){t(e,"zoomStart-t")},value:e.font_size}),l.a.createElement(h.h,{size:"small",min:10,max:400,value:e.font_size,onChange:function(e){t(e,"zoomStart-t")}}))),l.a.createElement("div",{className:"back"},l.a.createElement(h.r,{title:Object(m.a)("main","reset")}))),l.a.createElement("li",null,l.a.createElement("div",{className:"name"},Object(m.a)("main","lineSpace")),l.a.createElement("div",{className:"operation"},l.a.createElement("div",null,l.a.createElement(h.p,{min:90,max:300,style:{width:150},onChange:function(e){t(e,"lineHeight-t")},value:e.line_height}),l.a.createElement(h.h,{size:"small",min:90,max:300,value:e.line_height,onChange:function(e){t(e,"lineHeight-t")}}))),l.a.createElement("div",{className:"back"},l.a.createElement(h.r,{title:Object(m.a)("main","reset")}))),l.a.createElement("li",null,l.a.createElement("div",{className:"name"},Object(m.a)("main","wordSpace")),l.a.createElement("div",{className:"operation"},l.a.createElement("div",null,l.a.createElement(h.p,{min:0,max:5,style:{width:150},onChange:function(e){t(e,"spacing-t")},value:e.spacing}),l.a.createElement(h.h,{size:"small",min:0,max:5,value:e.spacing,onChange:function(e){t(e,"spacing-t")}}))),l.a.createElement("div",{className:"back"},l.a.createElement(h.r,{title:Object(m.a)("main","reset")}))))}}]),t}(l.a.Component);t.a=v},1516:function(e,t,i){var n=i(1392),r=i(1517);e.exports=r,e.exports.default=r,e.exports.Quill=n,e.exports.Mixin=i(1425),e.exports.Toolbar=i(1522)},1517:function(e,t,i){"use strict";var n=i(0),r=i(6),a=i(513),o=i(1425),s=(i(1426),i(1519)),l=i(1428),c=i(1),u=i(1429),h=a({displayName:"Quill",mixins:[o],propTypes:{id:c.string,className:c.string,theme:c.string,style:c.object,readOnly:c.bool,value:c.oneOfType([c.string,c.shape({ops:c.array})]),defaultValue:c.oneOfType([c.string,c.shape({ops:c.array})]),placeholder:c.string,tabIndex:c.number,bounds:c.oneOfType([c.string,c.element]),onChange:c.func,onChangeSelection:c.func,onFocus:c.func,onBlur:c.func,onKeyPress:c.func,onKeyDown:c.func,onKeyUp:c.func,preserveWhitespace:c.bool,modules:function(e){var t=c.object.apply(this,arguments);return t||(e.modules&&e.modules.toolbar&&e.modules.toolbar[0]&&e.modules.toolbar[0].type?new Error("Since v1.0.0, React Quill will not create a custom toolbar for you anymore. Create a toolbar explictly, or let Quill create one. See: https://github.com/zenoamaro/react-quill#upgrading-to-react-quill-v100"):void 0)},toolbar:function(e){if("toolbar"in e)return new Error("The `toolbar` prop has been deprecated. Use `modules.toolbar` instead. See: https://github.com/zenoamaro/react-quill#upgrading-to-react-quill-v100")},formats:function(e){if(c.arrayOf(c.string).apply(this,arguments))return new Error("You cannot specify custom `formats` anymore. Use Parchment instead.  See: https://github.com/zenoamaro/react-quill#upgrading-to-react-quill-v100.")},styles:function(e){if("styles"in e)return new Error("The `styles` prop has been deprecated. Use custom stylesheets instead. See: https://github.com/zenoamaro/react-quill#upgrading-to-react-quill-v100.")},pollInterval:function(e){if("pollInterval"in e)return new Error("The `pollInterval` property does not have any effect anymore. You can safely remove it from your props.See: https://github.com/zenoamaro/react-quill#upgrading-to-react-quill-v100.")},children:function(e){if(c.element.apply(this,arguments))return new Error("The Quill editing area can only be composed of a single React element.");if(n.Children.count(e.children)){if("textarea"===n.Children.only(e.children).type)return new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}}},dirtyProps:["modules","formats","bounds","theme","children"],cleanProps:["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],getDefaultProps:function(){return{theme:"snow",modules:{}}},isControlled:function(){return"value"in this.props},getInitialState:function(){return{generation:0,value:this.isControlled()?this.props.value:this.props.defaultValue}},componentWillReceiveProps:function(e,t){var i=this.editor;if(i){if("value"in e){var n=this.getEditorContents(),r=e.value;if(r===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas");this.isEqualValue(r,n)||this.setEditorContents(i,r)}return"readOnly"in e&&e.readOnly!==this.props.readOnly&&this.setEditorReadOnly(i,e.readOnly),this.shouldComponentRegenerate(e,t)?this.regenerate():void 0}},componentDidMount:function(){return this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig()),this.quillDelta?(this.editor.setContents(this.quillDelta),this.editor.setSelection(this.quillSelection),this.editor.focus(),void(this.quillDelta=this.quillSelection=null)):this.state.value?void this.setEditorContents(this.editor,this.state.value):void 0},componentWillUnmount:function(){var e;(e=this.getEditor())&&(this.unhookEditor(e),this.editor=null)},shouldComponentUpdate:function(e,t){var i=this;return this.state.generation!==t.generation||s(this.cleanProps,function(t){return!l(e[t],i.props[t])})},shouldComponentRegenerate:function(e,t){var i=this;return s(this.dirtyProps,function(t){return!l(e[t],i.props[t])})},componentWillUpdate:function(e,t){this.state.generation!==t.generation&&this.componentWillUnmount()},componentDidUpdate:function(e,t){this.state.generation!==t.generation&&this.componentDidMount()},getEditorConfig:function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},getEditor:function(){return this.editor},getEditingArea:function(){return r.findDOMNode(this.editingArea)},getEditorContents:function(){return this.state.value},getEditorSelection:function(){return this.state.selection},isDelta:function(e){return e&&e.ops},isEqualValue:function(e,t){return this.isDelta(e)&&this.isDelta(t)?l(e.ops,t.ops):l(e,t)},regenerate:function(){this.quillDelta=this.editor.getContents(),this.quillSelection=this.editor.getSelection(),this.setState({generation:this.state.generation+1})},renderEditingArea:function(){var e=this,t=this.props.children,i=this.props.preserveWhitespace,r={key:this.state.generation,tabIndex:this.props.tabIndex,ref:function(t){e.editingArea=t}},a=n.Children.count(t)?n.Children.only(t):null,o=i?u.pre:u.div;return a?n.cloneElement(a,r):o(r)},render:function(){return u.div({id:this.props.id,style:this.props.style,key:this.state.generation,className:["quill"].concat(this.props.className).join(" "),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},onEditorChangeText:function(e,t,i,n){var r=this.getEditorContents(),a=this.isDelta(r)?n.getContents():n.getHTML();this.isEqualValue(a,r)||(this.lastDeltaChangeSet=t,this.setState({value:a}),this.props.onChange&&this.props.onChange(e,t,i,n))},onEditorChangeSelection:function(e,t,i){var n=this.getEditorSelection(),r=!n&&e,a=n&&!e;l(e,n)||(this.setState({selection:e}),this.props.onChangeSelection&&this.props.onChangeSelection(e,t,i),r&&this.props.onFocus?this.props.onFocus(e,t,i):a&&this.props.onBlur&&this.props.onBlur(n,t,i))},focus:function(){this.editor.focus()},blur:function(){this.setEditorSelection(this.editor,null)}});e.exports=h},1518:function(e,t,i){function n(e){return function(t,i,n){var s=Object(t);if(!a(t)){var l=r(i,3);t=o(t),i=function(e){return l(s[e],e,s)}}var c=e(t,i,n);return c>-1?s[l?t[c]:c]:void 0}}var r=i(272),a=i(102),o=i(162);e.exports=n},1519:function(e,t,i){function n(e,t,i){var n=s(e)?r:o;return i&&l(e,t,i)&&(t=void 0),n(e,a(t,3))}var r=i(534),a=i(272),o=i(1520),s=i(45),l=i(532);e.exports=n},1520:function(e,t,i){function n(e,t){var i;return r(e,function(e,n,r){return!(i=t(e,n,r))}),!!i}var r=i(1413);e.exports=n},1521:function(e,t,i){function n(e,t){return function(i,n){if(null==i)return i;if(!r(i))return e(i,n);for(var a=i.length,o=t?a:-1,s=Object(i);(t?o--:++o<a)&&!1!==n(s[o],o,s););return i}}var r=i(102);e.exports=n},1522:function(e,t,i){"use strict";var n=(i(0),i(1523)),r=i(513),a=i(1426),o=i(1428),s=i(1),l=i(1429),c=["rgb(  0,   0,   0)","rgb(230,   0,   0)","rgb(255, 153,   0)","rgb(255, 255,   0)","rgb(  0, 138,   0)","rgb(  0, 102, 204)","rgb(153,  51, 255)","rgb(255, 255, 255)","rgb(250, 204, 204)","rgb(255, 235, 204)","rgb(255, 255, 204)","rgb(204, 232, 204)","rgb(204, 224, 245)","rgb(235, 214, 255)","rgb(187, 187, 187)","rgb(240, 102, 102)","rgb(255, 194, 102)","rgb(255, 255, 102)","rgb(102, 185, 102)","rgb(102, 163, 224)","rgb(194, 133, 255)","rgb(136, 136, 136)","rgb(161,   0,   0)","rgb(178, 107,   0)","rgb(178, 178,   0)","rgb(  0,  97,   0)","rgb(  0,  71, 178)","rgb(107,  36, 178)","rgb( 68,  68,  68)","rgb( 92,   0,   0)","rgb(102,  61,   0)","rgb(102, 102,   0)","rgb(  0,  55,   0)","rgb(  0,  41, 102)","rgb( 61,  20,  10)"].map(function(e){return{value:e}}),u=[{label:"Formats",type:"group",items:[{label:"Font",type:"font",items:[{label:"Sans Serif",value:"sans-serif",selected:!0},{label:"Serif",value:"serif"},{label:"Monospace",value:"monospace"}]},{label:"Size",type:"size",items:[{label:"Small",value:"10px"},{label:"Normal",value:"13px",selected:!0},{label:"Large",value:"18px"},{label:"Huge",value:"32px"}]},{label:"Alignment",type:"align",items:[{label:"",value:"",selected:!0},{label:"",value:"center"},{label:"",value:"right"},{label:"",value:"justify"}]}]},{label:"Text",type:"group",items:[{type:"bold",label:"Bold"},{type:"italic",label:"Italic"},{type:"strike",label:"Strike"},{type:"underline",label:"Underline"},{type:"color",label:"Color",items:c},{type:"background",label:"Background color",items:c},{type:"link",label:"Link"}]},{label:"Blocks",type:"group",items:[{type:"list",value:"bullet"},{type:"list",value:"ordered"}]},{label:"Blocks",type:"group",items:[{type:"image",label:"Image"}]}],h=r({displayName:"Quill Toolbar",propTypes:{id:s.string,className:s.string,style:s.object,items:s.array},getDefaultProps:function(){return{items:u}},componentDidMount:function(){console.warn("QuillToolbar is deprecated. Consider switching to the official Quill toolbar format, or providing your own toolbar instead. See: https://github.com/zenoamaro/react-quill#upgrading-to-react-quill-v1-0-0")},shouldComponentUpdate:function(e,t){return!o(e,this.props)},renderGroup:function(e,t){return l.span({key:e.label||t,className:"ql-formats"},e.items.map(this.renderItem))},renderChoiceItem:function(e,t){return l.option({key:e.label||e.value||t,value:e.value},e.label)},renderChoices:function(e,t){var i=e.items.map(this.renderChoiceItem),n=a(e.items,function(e){return e.selected}),r={key:e.label||t,title:e.label,className:"ql-"+e.type,value:n.value};return l.select(r,i)},renderButton:function(e,t){return l.button({type:"button",key:e.label||e.value||t,value:e.value,className:"ql-"+e.type,title:e.label},e.children)},renderAction:function(e,t){return l.button({key:e.label||e.value||t,className:"ql-"+e.type,title:e.label},e.children)},renderItem:function(e,t){switch(e.type){case"group":return this.renderGroup(e,t);case"font":case"header":case"align":case"size":case"color":case"background":return this.renderChoices(e,t);case"bold":case"italic":case"underline":case"strike":case"link":case"list":case"bullet":case"ordered":case"indent":case"image":case"video":return this.renderButton(e,t);default:return this.renderAction(e,t)}},getClassName:function(){return"quill-toolbar "+(this.props.className||"")},render:function(){var e=this.props.items.map(this.renderItem),t=e.map(n.renderToStaticMarkup).join("");return l.div({id:this.props.id,className:this.getClassName(),style:this.props.style,dangerouslySetInnerHTML:{__html:t}})}});e.exports=h,h.defaultItems=u,h.defaultColors=c},1523:function(e,t,i){"use strict";e.exports=i(1524)},1524:function(e,t,i){"use strict";var n=i(519),r=i(1525),a=i(524);n.inject();var o={renderToString:r.renderToString,renderToStaticMarkup:r.renderToStaticMarkup,version:a};e.exports=o},1525:function(e,t,i){"use strict";function n(e,t){var i;try{return f.injection.injectBatchingStrategy(d),i=p.getPooled(t),v++,i.perform(function(){var n=g(e,!0),r=h.mountComponent(n,i,null,l(),m,0);return t||(r=u.addChecksumToMarkup(r)),r},null)}finally{v--,p.release(i),v||f.injection.injectBatchingStrategy(c)}}function r(e){return s.isValidElement(e)||o("46"),n(e,!1)}function a(e){return s.isValidElement(e)||o("47"),n(e,!0)}var o=i(18),s=i(85),l=i(522),c=i(521),u=(i(40),i(523)),h=i(86),d=i(1526),p=i(520),f=i(46),m=i(126),g=i(274),v=(i(9),0);e.exports={renderToString:r,renderToStaticMarkup:a}},1526:function(e,t,i){"use strict";var n={isBatchingUpdates:!1,batchedUpdates:function(e){}};e.exports=n},1527:function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=i(0),s=i.n(o),l=i(52),c=i(1430),u=(i.n(c),i(1390)),h=i.n(u),d=i(1379),p=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),f=l.o.Option,m=Object(d.b)(),g=[];m.map(function(e,t){g.push({origin:0,fPath:"",fClass:"",fFamily:e.code,fWeight:"",fStyle:"Regular",fName:e.code,ascent:1})});var v=function(e){function t(){return n(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),p(t,[{key:"refresh",value:function(){var e=this.props.media,t=e.lottie,i=t.animationData;t.destroy();var n={wrapper:t.wrapper,renderer:"svg",loop:!0,prerender:!0,autoplay:!0,animationData:i};e.lottie=h.a.loadAnimation(n)}},{key:"list_dom",value:function(e){var t=this,i=[],n=this.props.layers,r=this.props.set_layers;return e.layers.map(function(a,o){if(5===a.ty){var u=a.t.d.k[0].s;if(n[o]){var h=n[o].s||{};for(var p in u)h[p]&&h[p]!==u[p]&&(u[p]=h[p])}else n[o]={ty:5,s:u};var g=[];m.map(function(e,t){g.push(s.a.createElement(f,{key:t,value:e.code},e.name))});for(var v=[],y=20;y<81;y++)v.push(s.a.createElement(f,{key:y,value:y},y));u.tr=0;var b="RGBA(";u.fc.map(function(e,t){b+=255*e+","}),b+="1)",i.push(s.a.createElement("li",{key:o,className:"flex-start"},s.a.createElement("div",{className:"operation animation-edit"},s.a.createElement("div",null,s.a.createElement("span",null,s.a.createElement("span",null,"\u989c\u8272"),s.a.createElement(l.l,{trigger:"click",content:s.a.createElement(c.SketchPicker,{color:b,disableAlpha:!0,onChangeComplete:function(e){var i=e.rgb,n=[];i&&(n.push(1*(i.r/255).toFixed(2)),n.push(1*(i.g/255).toFixed(2)),n.push(1*(i.b/255).toFixed(2)),n!==u.fc&&(u.fc=n,t.refresh(),r(n,"fc",o)))}})},s.a.createElement("div",{className:"color-picker",style:{width:"60px",height:"22px"}},s.a.createElement("div",{style:{background:b,height:"16px"}}," ")," "))),s.a.createElement("span",null,s.a.createElement("span",null,"\u5b57\u4f53"),s.a.createElement(l.o,{defaultValue:u.f,size:"small",onChange:function(e){e!==u.f&&(u.f=e,t.refresh(),r(e,"f",o),setTimeout(function(){Object(d.a)(e)}))}},g)),s.a.createElement("span",null,s.a.createElement("span",null,"\u5927\u5c0f"),s.a.createElement(l.o,{defaultValue:u.s,style:{width:60},size:"small",onChange:function(e){e!==u.s&&(u.s=e,t.refresh(),r(e,"s",o))}},v))),s.a.createElement("div",null,s.a.createElement(l.g,{value:u.t,onChange:function(e){var i=e.target.value;i!==u.t&&(u.t=i,t.refresh(),r(i,"t",o))}})))))}else if(1===a.ty);else if(0===a.ty){var _=a;e&&e.assets&&e.assets.length&&n&&e.assets.map(function(e,n){e.id&&e.id===_.refId&&(i=t.list_dom(e))})}}),i}},{key:"render",value:function(){var e=this.props.media,t=this.props.layers,i=e.lottie,n=i.animationData,r=[];return n&&n.layers&&n.layers.length&&t&&(r=this.list_dom(n)),s.a.createElement("ul",{className:"show"},r)}}]),t}(s.a.Component);t.a=v},1528:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.AlphaPicker=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},a=i(0),o=n(a),s=i(1363),l=n(s),c=i(1365),u=i(1566),h=n(u),d=t.AlphaPicker=function(e){var t=e.rgb,i=e.hsl,n=e.width,a=e.height,s=e.onChange,u=e.direction,h=e.style,d=e.renderers,p=e.pointer,f=e.className,m=void 0===f?"":f,g=(0,l.default)({default:{picker:{position:"relative",width:n,height:a},alpha:{radius:"2px",style:h}}});return o.default.createElement("div",{style:g.picker,className:"alpha-picker "+m},o.default.createElement(c.Alpha,r({},g.alpha,{rgb:t,hsl:i,pointer:p,renderers:d,onChange:s,direction:u})))};d.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:h.default},t.default=(0,c.ColorWrap)(d)},1529:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.flattenNames=void 0;var r=i(533),a=n(r),o=i(1414),s=n(o),l=i(531),c=n(l),u=i(1374),h=n(u),d=t.flattenNames=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=[];return(0,h.default)(t,function(t){Array.isArray(t)?e(t).map(function(e){return i.push(e)}):(0,c.default)(t)?(0,s.default)(t,function(e,t){!0===e&&i.push(t),i.push(t+"-"+e)}):(0,a.default)(t)&&i.push(t)}),i};t.default=d},1530:function(e,t,i){function n(e,t){var i=-1,n=a(e)?Array(e.length):[];return r(e,function(e,r,a){n[++i]=t(e,r,a)}),n}var r=i(1413),a=i(102);e.exports=n},1531:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.mergeClasses=void 0;var r=i(1414),a=n(r),o=i(1532),s=n(o),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},c=t.mergeClasses=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=e.default&&(0,s.default)(e.default)||{};return t.map(function(t){var n=e[t];return n&&(0,a.default)(n,function(e,t){i[t]||(i[t]={}),i[t]=l({},i[t],n[t])}),t}),i};t.default=c},1532:function(e,t,i){function n(e){return r(e,a|o)}var r=i(1533),a=1,o=4;e.exports=n},1533:function(e,t,i){function n(e,t,i,M,R,D){var L,N=t&T,B=t&S,F=t&C;if(i&&(L=R?i(e,M,R,D):i(e)),void 0!==L)return L;if(!E(e))return e;var U=b(e);if(U){if(L=g(e),!N)return u(e,L)}else{var z=m(e),H=z==O||z==P;if(_(e))return c(e,N);if(z==j||z==k||H&&!R){if(L=B||H?{}:y(e),!N)return B?d(e,l(L,e)):h(e,s(L,e))}else{if(!I[z])return R?e:{};L=v(e,z,N)}}D||(D=new r);var V=D.get(e);if(V)return V;D.set(e,L),w(e)?e.forEach(function(r){L.add(n(r,t,i,r,e,D))}):A(e)&&e.forEach(function(r,a){L.set(a,n(r,t,i,a,e,D))});var G=F?B?f:p:B?keysIn:x,q=U?void 0:G(e);return a(q||e,function(r,a){q&&(a=r,r=e[a]),o(L,a,n(r,t,i,a,e,D))}),L}var r=i(164),a=i(1432),o=i(276),s=i(1534),l=i(1535),c=i(528),u=i(277),h=i(1536),d=i(1537),p=i(535),f=i(1538),m=i(271),g=i(1539),v=i(1540),y=i(530),b=i(45),_=i(165),A=i(1544),E=i(39),w=i(1546),x=i(162),T=1,S=2,C=4,k="[object Arguments]",O="[object Function]",P="[object GeneratorFunction]",j="[object Object]",I={};I[k]=I["[object Array]"]=I["[object ArrayBuffer]"]=I["[object DataView]"]=I["[object Boolean]"]=I["[object Date]"]=I["[object Float32Array]"]=I["[object Float64Array]"]=I["[object Int8Array]"]=I["[object Int16Array]"]=I["[object Int32Array]"]=I["[object Map]"]=I["[object Number]"]=I[j]=I["[object RegExp]"]=I["[object Set]"]=I["[object String]"]=I["[object Symbol]"]=I["[object Uint8Array]"]=I["[object Uint8ClampedArray]"]=I["[object Uint16Array]"]=I["[object Uint32Array]"]=!0,I["[object Error]"]=I[O]=I["[object WeakMap]"]=!1,e.exports=n},1534:function(e,t,i){function n(e,t){return e&&r(t,a(t),e)}var r=i(512),a=i(162);e.exports=n},1535:function(e,t,i){function n(e,t){return e&&r(t,a(t),e)}var r=i(512),a=i(273);e.exports=n},1536:function(e,t,i){function n(e,t){return r(e,a(e),t)}var r=i(512),a=i(517);e.exports=n},1537:function(e,t,i){function n(e,t){return r(e,a(e),t)}var r=i(512),a=i(1433);e.exports=n},1538:function(e,t,i){function n(e){return r(e,o,a)}var r=i(536),a=i(1433),o=i(273);e.exports=n},1539:function(e,t){function i(e){var t=e.length,i=new e.constructor(t);return t&&"string"==typeof e[0]&&r.call(e,"index")&&(i.index=e.index,i.input=e.input),i}var n=Object.prototype,r=n.hasOwnProperty;e.exports=i},1540:function(e,t,i){function n(e,t,i){var n=e.constructor;switch(t){case v:return r(e);case c:case u:return new n(+e);case y:return a(e,i);case b:case _:case A:case E:case w:case x:case T:case S:case C:return l(e,i);case h:return new n;case d:case m:return new n(e);case p:return o(e);case f:return new n;case g:return s(e)}}var r=i(514),a=i(1541),o=i(1542),s=i(1543),l=i(529),c="[object Boolean]",u="[object Date]",h="[object Map]",d="[object Number]",p="[object RegExp]",f="[object Set]",m="[object String]",g="[object Symbol]",v="[object ArrayBuffer]",y="[object DataView]",b="[object Float32Array]",_="[object Float64Array]",A="[object Int8Array]",E="[object Int16Array]",w="[object Int32Array]",x="[object Uint8Array]",T="[object Uint8ClampedArray]",S="[object Uint16Array]",C="[object Uint32Array]";e.exports=n},1541:function(e,t,i){function n(e,t){var i=t?r(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.byteLength)}var r=i(514);e.exports=n},1542:function(e,t){function i(e){var t=new e.constructor(e.source,n.exec(e));return t.lastIndex=e.lastIndex,t}var n=/\w*$/;e.exports=i},1543:function(e,t,i){function n(e){return o?Object(o.call(e)):{}}var r=i(104),a=r?r.prototype:void 0,o=a?a.valueOf:void 0;e.exports=n},1544:function(e,t,i){var n=i(1545),r=i(515),a=i(516),o=a&&a.isMap,s=o?r(o):n;e.exports=s},1545:function(e,t,i){function n(e){return a(e)&&r(e)==o}var r=i(271),a=i(60),o="[object Map]";e.exports=n},1546:function(e,t,i){var n=i(1547),r=i(515),a=i(516),o=a&&a.isSet,s=o?r(o):n;e.exports=s},1547:function(e,t,i){function n(e){return a(e)&&r(e)==o}var r=i(271),a=i(60),o="[object Set]";e.exports=n},1548:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.autoprefix=void 0;var n=i(1414),r=function(e){return e&&e.__esModule?e:{default:e}}(n),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},o={borderRadius:function(e){return{msBorderRadius:e,MozBorderRadius:e,OBorderRadius:e,WebkitBorderRadius:e,borderRadius:e}},boxShadow:function(e){return{msBoxShadow:e,MozBoxShadow:e,OBoxShadow:e,WebkitBoxShadow:e,boxShadow:e}},userSelect:function(e){return{WebkitTouchCallout:e,KhtmlUserSelect:e,MozUserSelect:e,msUserSelect:e,WebkitUserSelect:e,userSelect:e}},flex:function(e){return{WebkitBoxFlex:e,MozBoxFlex:e,WebkitFlex:e,msFlex:e,flex:e}},flexBasis:function(e){return{WebkitFlexBasis:e,flexBasis:e}},justifyContent:function(e){return{WebkitJustifyContent:e,justifyContent:e}},transition:function(e){return{msTransition:e,MozTransition:e,OTransition:e,WebkitTransition:e,transition:e}},transform:function(e){return{msTransform:e,MozTransform:e,OTransform:e,WebkitTransform:e,transform:e}},absolute:function(e){var t=e&&e.split(" ");return{position:"absolute",top:t&&t[0],right:t&&t[1],bottom:t&&t[2],left:t&&t[3]}},extend:function(e,t){var i=t[e];return i||{extend:e}}},s=t.autoprefix=function(e){var t={};return(0,r.default)(e,function(e,i){var n={};(0,r.default)(e,function(e,t){var i=o[t];i?n=a({},n,i(e)):n[t]=e}),t[i]=n}),t};t.default=s},1549:function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.hover=void 0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},s=i(0),l=function(e){return e&&e.__esModule?e:{default:e}}(s),c=t.hover=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(i){function s(){var i,a,c,u;n(this,s);for(var h=arguments.length,d=Array(h),p=0;p<h;p++)d[p]=arguments[p];return a=c=r(this,(i=s.__proto__||Object.getPrototypeOf(s)).call.apply(i,[this].concat(d))),c.state={hover:!1},c.handleMouseOver=function(){return c.setState({hover:!0})},c.handleMouseOut=function(){return c.setState({hover:!1})},c.render=function(){return l.default.createElement(t,{onMouseOver:c.handleMouseOver,onMouseOut:c.handleMouseOut},l.default.createElement(e,o({},c.props,c.state)))},u=a,r(c,u)}return a(s,i),s}(l.default.Component)};t.default=c},1550:function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.active=void 0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},s=i(0),l=function(e){return e&&e.__esModule?e:{default:e}}(s),c=t.active=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(i){function s(){var i,a,c,u;n(this,s);for(var h=arguments.length,d=Array(h),p=0;p<h;p++)d[p]=arguments[p];return a=c=r(this,(i=s.__proto__||Object.getPrototypeOf(s)).call.apply(i,[this].concat(d))),c.state={active:!1},c.handleMouseDown=function(){return c.setState({active:!0})},c.handleMouseUp=function(){return c.setState({active:!1})},c.render=function(){return l.default.createElement(t,{onMouseDown:c.handleMouseDown,onMouseUp:c.handleMouseUp},l.default.createElement(e,o({},c.props,c.state)))},u=a,r(c,u)}return a(s,i),s}(l.default.Component)};t.default=c},1551:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t){var i={},n=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];i[e]=t};return 0===e&&n("first-child"),e===t-1&&n("last-child"),(0===e||e%2===0)&&n("even"),1===Math.abs(e%2)&&n("odd"),n("nth-child",e),i};t.default=n},1552:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Alpha=void 0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},l=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),c=i(0),u=n(c),h=i(1363),d=n(h),p=i(1553),f=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}(p),m=i(1415),g=n(m),v=t.Alpha=function(e){function t(){var e,i,n,o;r(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return i=n=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.handleChange=function(e){var t=f.calculateChange(e,n.props.hsl,n.props.direction,n.props.a,n.container);t&&"function"===typeof n.props.onChange&&n.props.onChange(t,e)},n.handleMouseDown=function(e){n.handleChange(e),window.addEventListener("mousemove",n.handleChange),window.addEventListener("mouseup",n.handleMouseUp)},n.handleMouseUp=function(){n.unbindEventListeners()},n.unbindEventListeners=function(){window.removeEventListener("mousemove",n.handleChange),window.removeEventListener("mouseup",n.handleMouseUp)},o=i,a(n,o)}return o(t,e),l(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var e=this,t=this.props.rgb,i=(0,d.default)({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+t.r+","+t.g+","+t.b+", 0) 0%,\n           rgba("+t.r+","+t.g+","+t.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:100*t.a+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+t.r+","+t.g+","+t.b+", 0) 0%,\n           rgba("+t.r+","+t.g+","+t.b+", 1) 100%)"},pointer:{left:0,top:100*t.a+"%"}},overwrite:s({},this.props.style)},{vertical:"vertical"===this.props.direction,overwrite:!0});return u.default.createElement("div",{style:i.alpha},u.default.createElement("div",{style:i.checkboard},u.default.createElement(g.default,{renderers:this.props.renderers})),u.default.createElement("div",{style:i.gradient}),u.default.createElement("div",{style:i.container,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},u.default.createElement("div",{style:i.pointer},this.props.pointer?u.default.createElement(this.props.pointer,this.props):u.default.createElement("div",{style:i.slider}))))}}]),t}(c.PureComponent||c.Component);t.default=v},1553:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.calculateChange=function(e,t,i,n,r){var a=r.clientWidth,o=r.clientHeight,s="number"===typeof e.pageX?e.pageX:e.touches[0].pageX,l="number"===typeof e.pageY?e.pageY:e.touches[0].pageY,c=s-(r.getBoundingClientRect().left+window.pageXOffset),u=l-(r.getBoundingClientRect().top+window.pageYOffset);if("vertical"===i){var h=void 0;if(h=u<0?0:u>o?1:Math.round(100*u/o)/100,t.a!==h)return{h:t.h,s:t.s,l:t.l,a:h,source:"rgb"}}else{var d=void 0;if(d=c<0?0:c>a?1:Math.round(100*c/a)/100,n!==d)return{h:t.h,s:t.s,l:t.l,a:d,source:"rgb"}}return null}},1554:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={},r=t.render=function(e,t,i,n){if("undefined"===typeof document&&!n)return null;var r=n?new n:document.createElement("canvas");r.width=2*i,r.height=2*i;var a=r.getContext("2d");return a?(a.fillStyle=e,a.fillRect(0,0,r.width,r.height),a.fillStyle=t,a.fillRect(0,0,i,i),a.translate(i,i),a.fillRect(0,0,i,i),r.toDataURL()):null};t.get=function(e,t,i,a){var o=e+"-"+t+"-"+i+(a?"-server":"");if(n[o])return n[o];var s=r(e,t,i,a);return n[o]=s,s}},1555:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function s(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.EditableInput=void 0;var l=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),c=i(0),u=n(c),h=i(1363),d=n(h),p=38,f=[p,40],m=function(e){return f.indexOf(e)>-1},g=function(e){return Number(String(e).replace(/%/g,""))},v=t.EditableInput=function(e){function t(e){a(this,t);var i=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return i.handleBlur=function(){i.state.blurValue&&i.setState({value:i.state.blurValue,blurValue:null})},i.handleChange=function(e){i.setUpdatedValue(e.target.value,e)},i.handleKeyDown=function(e){var t=g(e.target.value);if(!isNaN(t)&&m(e.keyCode)){var n=i.getArrowOffset(),r=e.keyCode===p?t+n:t-n;i.setUpdatedValue(r,e)}},i.handleDrag=function(e){if(i.props.dragLabel){var t=Math.round(i.props.value+e.movementX);t>=0&&t<=i.props.dragMax&&i.props.onChange&&i.props.onChange(i.getValueObjectWithLabel(t),e)}},i.handleMouseDown=function(e){i.props.dragLabel&&(e.preventDefault(),i.handleDrag(e),window.addEventListener("mousemove",i.handleDrag),window.addEventListener("mouseup",i.handleMouseUp))},i.handleMouseUp=function(){i.unbindEventListeners()},i.unbindEventListeners=function(){window.removeEventListener("mousemove",i.handleDrag),window.removeEventListener("mouseup",i.handleMouseUp)},i.state={value:String(e.value).toUpperCase(),blurValue:String(e.value).toUpperCase()},i}return s(t,e),l(t,[{key:"componentDidUpdate",value:function(e,t){this.props.value===this.state.value||e.value===this.props.value&&t.value===this.state.value||(this.input===document.activeElement?this.setState({blurValue:String(this.props.value).toUpperCase()}):this.setState({value:String(this.props.value).toUpperCase(),blurValue:!this.state.blurValue&&String(this.props.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(e){return r({},this.props.label,e)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||1}},{key:"setUpdatedValue",value:function(e,t){var i=this.props.label?this.getValueObjectWithLabel(e):e;this.props.onChange&&this.props.onChange(i,t),this.setState({value:e})}},{key:"render",value:function(){var e=this,t=(0,d.default)({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return u.default.createElement("div",{style:t.wrap},u.default.createElement("input",{style:t.input,ref:function(t){return e.input=t},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?u.default.createElement("span",{style:t.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),t}(c.PureComponent||c.Component);t.default=v},1556:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Hue=void 0;var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=i(0),c=n(l),u=i(1363),h=n(u),d=i(1557),p=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}(d),f=t.Hue=function(e){function t(){var e,i,n,o;r(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return i=n=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.handleChange=function(e){var t=p.calculateChange(e,n.props.direction,n.props.hsl,n.container);t&&"function"===typeof n.props.onChange&&n.props.onChange(t,e)},n.handleMouseDown=function(e){n.handleChange(e),window.addEventListener("mousemove",n.handleChange),window.addEventListener("mouseup",n.handleMouseUp)},n.handleMouseUp=function(){n.unbindEventListeners()},o=i,a(n,o)}return o(t,e),s(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var e=this,t=this.props.direction,i=void 0===t?"horizontal":t,n=(0,h.default)({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:100*this.props.hsl.h/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-100*this.props.hsl.h/360+100+"%"}}},{vertical:"vertical"===i});return c.default.createElement("div",{style:n.hue},c.default.createElement("div",{className:"hue-"+i,style:n.container,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},c.default.createElement("style",null,"\n            .hue-horizontal {\n              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0\n                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n              background: -webkit-linear-gradient(to right, #f00 0%, #ff0\n                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n            }\n\n            .hue-vertical {\n              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,\n                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,\n                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n            }\n          "),c.default.createElement("div",{style:n.pointer},this.props.pointer?c.default.createElement(this.props.pointer,this.props):c.default.createElement("div",{style:n.slider}))))}}]),t}(l.PureComponent||l.Component);t.default=f},1557:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.calculateChange=function(e,t,i,n){var r=n.clientWidth,a=n.clientHeight,o="number"===typeof e.pageX?e.pageX:e.touches[0].pageX,s="number"===typeof e.pageY?e.pageY:e.touches[0].pageY,l=o-(n.getBoundingClientRect().left+window.pageXOffset),c=s-(n.getBoundingClientRect().top+window.pageYOffset);if("vertical"===t){var u=void 0;if(c<0)u=359;else if(c>a)u=0;else{var h=-100*c/a+100;u=360*h/100}if(i.h!==u)return{h:u,s:i.s,l:i.l,a:i.a,source:"hsl"}}else{var d=void 0;if(l<0)d=0;else if(l>r)d=359;else{var p=100*l/r;d=360*p/100}if(i.h!==d)return{h:d,s:i.s,l:i.l,a:i.a,source:"hsl"}}return null}},1558:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Raised=void 0;var r=i(0),a=n(r),o=i(1),s=n(o),l=i(1363),c=n(l),u=i(510),h=n(u),d=t.Raised=function(e){var t=e.zDepth,i=e.radius,n=e.background,r=e.children,o=e.styles,s=void 0===o?{}:o,l=(0,c.default)((0,h.default)({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+t+"px "+4*t+"px rgba(0,0,0,.24)",borderRadius:i,background:n}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},s),{"zDepth-1":1===t});return a.default.createElement("div",{style:l.wrap},a.default.createElement("div",{style:l.bg}),a.default.createElement("div",{style:l.content},r))};d.propTypes={background:s.default.string,zDepth:s.default.oneOf([0,1,2,3,4,5]),radius:s.default.number,styles:s.default.object},d.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}},t.default=d},1559:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Saturation=void 0;var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=i(0),c=n(l),u=i(1363),h=n(u),d=i(1560),p=n(d),f=i(1561),m=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}(f),g=t.Saturation=function(e){function t(e){r(this,t);var i=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.handleChange=function(e){"function"===typeof i.props.onChange&&i.throttle(i.props.onChange,m.calculateChange(e,i.props.hsl,i.container),e)},i.handleMouseDown=function(e){i.handleChange(e),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},i.throttle=(0,p.default)(function(e,t,i){e(t,i)},50),i}return o(t,e),s(t,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var e=this,t=this.props.style||{},i=t.color,n=t.white,r=t.black,a=t.pointer,o=t.circle,s=(0,h.default)({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-100*this.props.hsv.v+100+"%",left:100*this.props.hsv.s+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:"0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),\n            0 0 1px 2px rgba(0,0,0,.4)",borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:i,white:n,black:r,pointer:a,circle:o}},{custom:!!this.props.style});return c.default.createElement("div",{style:s.color,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},c.default.createElement("style",null,"\n          .saturation-white {\n            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));\n            background: linear-gradient(to right, #fff, rgba(255,255,255,0));\n          }\n          .saturation-black {\n            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));\n            background: linear-gradient(to top, #000, rgba(0,0,0,0));\n          }\n        "),c.default.createElement("div",{style:s.white,className:"saturation-white"},c.default.createElement("div",{style:s.black,className:"saturation-black"}),c.default.createElement("div",{style:s.pointer},this.props.pointer?c.default.createElement(this.props.pointer,this.props):c.default.createElement("div",{style:s.circle}))))}}]),t}(l.PureComponent||l.Component);t.default=g},1560:function(e,t,i){function n(e,t,i){var n=!0,s=!0;if("function"!=typeof e)throw new TypeError(o);return a(i)&&(n="leading"in i?!!i.leading:n,s="trailing"in i?!!i.trailing:s),r(e,t,{leading:n,maxWait:t,trailing:s})}var r=i(103),a=i(39),o="Expected a function";e.exports=n},1561:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.calculateChange=function(e,t,i){var n=i.getBoundingClientRect(),r=n.width,a=n.height,o="number"===typeof e.pageX?e.pageX:e.touches[0].pageX,s="number"===typeof e.pageY?e.pageY:e.touches[0].pageY,l=o-(i.getBoundingClientRect().left+window.pageXOffset),c=s-(i.getBoundingClientRect().top+window.pageYOffset);l<0?l=0:l>r&&(l=r),c<0?c=0:c>a&&(c=a);var u=l/r,h=1-c/a;return{h:t.h,s:u,v:h,a:t.a,source:"hsv"}}},1562:function(e,t,i){e.exports=i(1563)},1563:function(e,t,i){function n(e,t){return(s(e)?r:a)(e,o(t))}var r=i(1432),a=i(1413),o=i(1431),s=i(45);e.exports=n},1564:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Swatch=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},a=i(0),o=n(a),s=i(1363),l=n(s),c=i(1565),u=i(1415),h=n(u),d=t.Swatch=function(e){var t=e.color,i=e.style,n=e.onClick,a=void 0===n?function(){}:n,s=e.onHover,c=e.title,u=void 0===c?t:c,d=e.children,p=e.focus,f=e.focusStyle,m=void 0===f?{}:f,g="transparent"===t,v=(0,l.default)({default:{swatch:r({background:t,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},i,p?m:{})}}),y=function(e){return a(t,e)},b=function(e){return 13===e.keyCode&&a(t,e)},_=function(e){return s(t,e)},A={};return s&&(A.onMouseOver=_),o.default.createElement("div",r({style:v.swatch,onClick:y,title:u,tabIndex:0,onKeyDown:b},A),d,g&&o.default.createElement(h.default,{borderRadius:v.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))};t.default=(0,c.handleFocus)(d)},1565:function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.handleFocus=void 0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=i(0),c=function(e){return e&&e.__esModule?e:{default:e}}(l);t.handleFocus=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(i){function l(){var e,t,i,a;n(this,l);for(var o=arguments.length,s=Array(o),c=0;c<o;c++)s[c]=arguments[c];return t=i=r(this,(e=l.__proto__||Object.getPrototypeOf(l)).call.apply(e,[this].concat(s))),i.state={focus:!1},i.handleFocus=function(){return i.setState({focus:!0})},i.handleBlur=function(){return i.setState({focus:!1})},a=t,r(i,a)}return a(l,i),s(l,[{key:"render",value:function(){return c.default.createElement(t,{onFocus:this.handleFocus,onBlur:this.handleBlur},c.default.createElement(e,o({},this.props,this.state)))}}]),l}(c.default.Component)}},1566:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.AlphaPointer=void 0;var r=i(0),a=n(r),o=i(1363),s=n(o),l=t.AlphaPointer=function(e){var t=e.direction,i=(0,s.default)({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:"vertical"===t});return a.default.createElement("div",{style:i.picker})};t.default=l},1567:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Block=void 0;var r=i(0),a=n(r),o=i(1),s=n(o),l=i(1363),c=n(l),u=i(510),h=n(u),d=i(1370),p=n(d),f=i(1365),m=i(1568),g=n(m),v=t.Block=function(e){var t=e.onChange,i=e.onSwatchHover,n=e.hex,r=e.colors,o=e.width,s=e.triangle,l=e.styles,u=void 0===l?{}:l,d=e.className,m=void 0===d?"":d,v="transparent"===n,y=function(e,i){p.default.isValidHex(e)&&t({hex:e,source:"hex"},i)},b=(0,c.default)((0,h.default)({default:{card:{width:o,background:"#fff",boxShadow:"0 1px rgba(0,0,0,.1)",borderRadius:"6px",position:"relative"},head:{height:"110px",background:n,borderRadius:"6px 6px 0 0",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},body:{padding:"10px"},label:{fontSize:"18px",color:p.default.getContrastingColor(n),position:"relative"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 10px 10px 10px",borderColor:"transparent transparent "+n+" transparent",position:"absolute",top:"-10px",left:"50%",marginLeft:"-10px"},input:{width:"100%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}},"hide-triangle":{triangle:{display:"none"}}},u),{"hide-triangle":"hide"===s});return a.default.createElement("div",{style:b.card,className:"block-picker "+m},a.default.createElement("div",{style:b.triangle}),a.default.createElement("div",{style:b.head},v&&a.default.createElement(f.Checkboard,{borderRadius:"6px 6px 0 0"}),a.default.createElement("div",{style:b.label},n)),a.default.createElement("div",{style:b.body},a.default.createElement(g.default,{colors:r,onClick:y,onSwatchHover:i}),a.default.createElement(f.EditableInput,{style:{input:b.input},value:n,onChange:y})))};v.propTypes={width:s.default.oneOfType([s.default.string,s.default.number]),colors:s.default.arrayOf(s.default.string),triangle:s.default.oneOf(["top","hide"]),styles:s.default.object},v.defaultProps={width:170,colors:["#D9E3F0","#F47373","#697689","#37D67A","#2CCCE4","#555555","#dce775","#ff8a65","#ba68c8"],triangle:"top",styles:{}},t.default=(0,f.ColorWrap)(v)},1568:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.BlockSwatches=void 0;var r=i(0),a=n(r),o=i(1363),s=n(o),l=i(1374),c=n(l),u=i(1365),h=t.BlockSwatches=function(e){var t=e.colors,i=e.onClick,n=e.onSwatchHover,r=(0,s.default)({default:{swatches:{marginRight:"-10px"},swatch:{width:"22px",height:"22px",float:"left",marginRight:"10px",marginBottom:"10px",borderRadius:"4px"},clear:{clear:"both"}}});return a.default.createElement("div",{style:r.swatches},(0,c.default)(t,function(e){return a.default.createElement(u.Swatch,{key:e,color:e,style:r.swatch,onClick:i,onHover:n,focusStyle:{boxShadow:"0 0 4px "+e}})}),a.default.createElement("div",{style:r.clear}))};t.default=h},1569:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Circle=void 0;var r=i(0),a=n(r),o=i(1),s=n(o),l=i(1363),c=n(l),u=i(1374),h=n(u),d=i(510),p=n(d),f=i(1435),m=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}(f),g=i(1365),v=i(1570),y=n(v),b=t.Circle=function(e){var t=e.width,i=e.onChange,n=e.onSwatchHover,r=e.colors,o=e.hex,s=e.circleSize,l=e.styles,u=void 0===l?{}:l,d=e.circleSpacing,f=e.className,m=void 0===f?"":f,g=(0,c.default)((0,p.default)({default:{card:{width:t,display:"flex",flexWrap:"wrap",marginRight:-d,marginBottom:-d}}},u)),v=function(e,t){return i({hex:e,source:"hex"},t)};return a.default.createElement("div",{style:g.card,className:"circle-picker "+m},(0,h.default)(r,function(e){return a.default.createElement(y.default,{key:e,color:e,onClick:v,onSwatchHover:n,active:o===e.toLowerCase(),circleSize:s,circleSpacing:d})}))};b.propTypes={width:s.default.oneOfType([s.default.string,s.default.number]),circleSize:s.default.number,circleSpacing:s.default.number,styles:s.default.object},b.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[m.red[500],m.pink[500],m.purple[500],m.deepPurple[500],m.indigo[500],m.blue[500],m.lightBlue[500],m.cyan[500],m.teal[500],m.green[500],m.lightGreen[500],m.lime[500],m.yellow[500],m.amber[500],m.orange[500],m.deepOrange[500],m.brown[500],m.blueGrey[500]],styles:{}},t.default=(0,g.ColorWrap)(b)},1570:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.CircleSwatch=void 0;var r=i(0),a=n(r),o=i(1363),s=n(o),l=i(1365),c=t.CircleSwatch=function(e){var t=e.color,i=e.onClick,n=e.onSwatchHover,r=e.hover,o=e.active,c=e.circleSize,u=e.circleSpacing,h=(0,s.default)({default:{swatch:{width:c,height:c,marginRight:u,marginBottom:u,transform:"scale(1)",transition:"100ms transform ease"},Swatch:{borderRadius:"50%",background:"transparent",boxShadow:"inset 0 0 0 "+(c/2+1)+"px "+t,transition:"100ms box-shadow ease"}},hover:{swatch:{transform:"scale(1.2)"}},active:{Swatch:{boxShadow:"inset 0 0 0 3px "+t}}},{hover:r,active:o});return a.default.createElement("div",{style:h.swatch},a.default.createElement(l.Swatch,{style:h.Swatch,color:t,onClick:i,onHover:n,focusStyle:{boxShadow:h.Swatch.boxShadow+", 0 0 5px "+t}}))};c.defaultProps={circleSize:28,circleSpacing:14},t.default=(0,o.handleHover)(c)},1571:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Chrome=void 0;var r=i(0),a=n(r),o=i(1),s=n(o),l=i(1363),c=n(l),u=i(510),h=n(u),d=i(1365),p=i(1572),f=n(p),m=i(1575),g=n(m),v=i(1576),y=n(v),b=t.Chrome=function(e){var t=e.width,i=e.onChange,n=e.disableAlpha,r=e.rgb,o=e.hsl,s=e.hsv,l=e.hex,u=e.renderers,p=e.styles,m=void 0===p?{}:p,v=e.className,b=void 0===v?"":v,_=e.defaultView,A=(0,c.default)((0,h.default)({default:{picker:{width:t,background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+r.r+", "+r.g+", "+r.b+", "+r.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},m),{disableAlpha:n});return a.default.createElement("div",{style:A.picker,className:"chrome-picker "+b},a.default.createElement("div",{style:A.saturation},a.default.createElement(d.Saturation,{style:A.Saturation,hsl:o,hsv:s,pointer:y.default,onChange:i})),a.default.createElement("div",{style:A.body},a.default.createElement("div",{style:A.controls,className:"flexbox-fix"},a.default.createElement("div",{style:A.color},a.default.createElement("div",{style:A.swatch},a.default.createElement("div",{style:A.active}),a.default.createElement(d.Checkboard,{renderers:u}))),a.default.createElement("div",{style:A.toggles},a.default.createElement("div",{style:A.hue},a.default.createElement(d.Hue,{style:A.Hue,hsl:o,pointer:g.default,onChange:i})),a.default.createElement("div",{style:A.alpha},a.default.createElement(d.Alpha,{style:A.Alpha,rgb:r,hsl:o,pointer:g.default,renderers:u,onChange:i})))),a.default.createElement(f.default,{rgb:r,hsl:o,hex:l,view:_,onChange:i,disableAlpha:n})))};b.propTypes={width:s.default.oneOfType([s.default.string,s.default.number]),disableAlpha:s.default.bool,styles:s.default.object,defaultView:s.default.oneOf(["hex","rgb","hsl"])},b.defaultProps={width:225,disableAlpha:!1,styles:{}},t.default=(0,d.ColorWrap)(b)},1572:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ChromeFields=void 0;var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=i(0),c=n(l),u=i(1363),h=n(u),d=i(1370),p=n(d),f=i(1573),m=n(f),g=i(1365),v=i(1574),y=n(v),b=t.ChromeFields=function(e){function t(e){r(this,t);var i=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return i.toggleViews=function(){"hex"===i.state.view?i.setState({view:"rgb"}):"rgb"===i.state.view?i.setState({view:"hsl"}):"hsl"===i.state.view&&(1===i.props.hsl.a?i.setState({view:"hex"}):i.setState({view:"rgb"}))},i.handleChange=function(e,t){e.hex?p.default.isValidHex(e.hex)&&i.props.onChange({hex:e.hex,source:"hex"},t):e.r||e.g||e.b?i.props.onChange({r:e.r||i.props.rgb.r,g:e.g||i.props.rgb.g,b:e.b||i.props.rgb.b,source:"rgb"},t):e.a?(e.a<0?e.a=0:e.a>1&&(e.a=1),i.props.onChange({h:i.props.hsl.h,s:i.props.hsl.s,l:i.props.hsl.l,a:Math.round(100*e.a)/100,source:"rgb"},t)):(e.h||e.s||e.l)&&("string"===typeof e.s&&e.s.includes("%")&&(e.s=e.s.replace("%","")),"string"===typeof e.l&&e.l.includes("%")&&(e.l=e.l.replace("%","")),1==e.s?e.s=.01:1==e.l&&(e.l=.01),i.props.onChange({h:e.h||i.props.hsl.h,s:Number((0,m.default)(e.s)?i.props.hsl.s:e.s),l:Number((0,m.default)(e.l)?i.props.hsl.l:e.l),source:"hsl"},t))},i.showHighlight=function(e){e.currentTarget.style.background="#eee"},i.hideHighlight=function(e){e.currentTarget.style.background="transparent"},1!==e.hsl.a&&"hex"===e.view?i.state={view:"rgb"}:i.state={view:e.view},i}return o(t,e),s(t,[{key:"render",value:function(){var e=this,t=(0,h.default)({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{fill:"#333",width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),i=void 0;return"hex"===this.state.view?i=c.default.createElement("div",{style:t.fields,className:"flexbox-fix"},c.default.createElement("div",{style:t.field},c.default.createElement(g.EditableInput,{style:{input:t.input,label:t.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):"rgb"===this.state.view?i=c.default.createElement("div",{style:t.fields,className:"flexbox-fix"},c.default.createElement("div",{style:t.field},c.default.createElement(g.EditableInput,{style:{input:t.input,label:t.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),c.default.createElement("div",{style:t.field},c.default.createElement(g.EditableInput,{style:{input:t.input,label:t.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),c.default.createElement("div",{style:t.field},c.default.createElement(g.EditableInput,{style:{input:t.input,label:t.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),c.default.createElement("div",{style:t.alpha},c.default.createElement(g.EditableInput,{style:{input:t.input,label:t.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):"hsl"===this.state.view&&(i=c.default.createElement("div",{style:t.fields,className:"flexbox-fix"},c.default.createElement("div",{style:t.field},c.default.createElement(g.EditableInput,{style:{input:t.input,label:t.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),c.default.createElement("div",{style:t.field},c.default.createElement(g.EditableInput,{style:{input:t.input,label:t.label},label:"s",value:Math.round(100*this.props.hsl.s)+"%",onChange:this.handleChange})),c.default.createElement("div",{style:t.field},c.default.createElement(g.EditableInput,{style:{input:t.input,label:t.label},label:"l",value:Math.round(100*this.props.hsl.l)+"%",onChange:this.handleChange})),c.default.createElement("div",{style:t.alpha},c.default.createElement(g.EditableInput,{style:{input:t.input,label:t.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),c.default.createElement("div",{style:t.wrap,className:"flexbox-fix"},i,c.default.createElement("div",{style:t.toggle},c.default.createElement("div",{style:t.icon,onClick:this.toggleViews,ref:function(t){return e.icon=t}},c.default.createElement(y.default,{style:t.svg,onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight}))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return 1!==e.hsl.a&&"hex"===t.view?{view:"rgb"}:null}}]),t}(c.default.Component);b.defaultProps={view:"hex"},t.default=b},1573:function(e,t){function i(e){return void 0===e}e.exports=i},1574:function(e,t,i){"use strict";function n(e,t){var i={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(i[n]=e[n]);return i}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},a=i(0),o=function(e){return e&&e.__esModule?e:{default:e}}(a);t.default=function(e){var t=e.fill,i=void 0===t?"currentColor":t,a=e.width,s=void 0===a?24:a,l=e.height,c=void 0===l?24:l,u=e.style,h=void 0===u?{}:u,d=n(e,["fill","width","height","style"]);return o.default.createElement("svg",r({viewBox:"0 0 24 24",style:r({fill:i,width:s,height:c},h)},d),o.default.createElement("path",{d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}))}},1575:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ChromePointer=void 0;var r=i(0),a=n(r),o=i(1363),s=n(o),l=t.ChromePointer=function(){var e=(0,s.default)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return a.default.createElement("div",{style:e.picker})};t.default=l},1576:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ChromePointerCircle=void 0;var r=i(0),a=n(r),o=i(1363),s=n(o),l=t.ChromePointerCircle=function(){var e=(0,s.default)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return a.default.createElement("div",{style:e.picker})};t.default=l},1577:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Compact=void 0;var r=i(0),a=n(r),o=i(1),s=n(o),l=i(1363),c=n(l),u=i(1374),h=n(u),d=i(510),p=n(d),f=i(1370),m=n(f),g=i(1365),v=i(1578),y=n(v),b=i(1579),_=n(b),A=t.Compact=function(e){var t=e.onChange,i=e.onSwatchHover,n=e.colors,r=e.hex,o=e.rgb,s=e.styles,l=void 0===s?{}:s,u=e.className,d=void 0===u?"":u,f=(0,c.default)((0,p.default)({default:{Compact:{background:"#f6f6f6",radius:"4px"},compact:{paddingTop:"5px",paddingLeft:"5px",boxSizing:"initial",width:"240px"},clear:{clear:"both"}}},l)),v=function(e,i){e.hex?m.default.isValidHex(e.hex)&&t({hex:e.hex,source:"hex"},i):t(e,i)};return a.default.createElement(g.Raised,{style:f.Compact,styles:l},a.default.createElement("div",{style:f.compact,className:"compact-picker "+d},a.default.createElement("div",null,(0,h.default)(n,function(e){return a.default.createElement(y.default,{key:e,color:e,active:e.toLowerCase()===r,onClick:v,onSwatchHover:i})}),a.default.createElement("div",{style:f.clear})),a.default.createElement(_.default,{hex:r,rgb:o,onChange:v})))};A.propTypes={colors:s.default.arrayOf(s.default.string),styles:s.default.object},A.defaultProps={colors:["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"],styles:{}},t.default=(0,g.ColorWrap)(A)},1578:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.CompactColor=void 0;var r=i(0),a=n(r),o=i(1363),s=n(o),l=i(1370),c=n(l),u=i(1365),h=t.CompactColor=function(e){var t=e.color,i=e.onClick,n=void 0===i?function(){}:i,r=e.onSwatchHover,o=e.active,l=(0,s.default)({default:{color:{background:t,width:"15px",height:"15px",float:"left",marginRight:"5px",marginBottom:"5px",position:"relative",cursor:"pointer"},dot:{absolute:"5px 5px 5px 5px",background:c.default.getContrastingColor(t),borderRadius:"50%",opacity:"0"}},active:{dot:{opacity:"1"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},dot:{background:"#000"}},transparent:{dot:{background:"#000"}}},{active:o,"color-#FFFFFF":"#FFFFFF"===t,transparent:"transparent"===t});return a.default.createElement(u.Swatch,{style:l.color,color:t,onClick:n,onHover:r,focusStyle:{boxShadow:"0 0 4px "+t}},a.default.createElement("div",{style:l.dot}))};t.default=h},1579:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.CompactFields=void 0;var r=i(0),a=n(r),o=i(1363),s=n(o),l=i(1365),c=t.CompactFields=function(e){var t=e.hex,i=e.rgb,n=e.onChange,r=(0,s.default)({default:{fields:{display:"flex",paddingBottom:"6px",paddingRight:"5px",position:"relative"},active:{position:"absolute",top:"6px",left:"5px",height:"9px",width:"9px",background:t},HEXwrap:{flex:"6",position:"relative"},HEXinput:{width:"80%",padding:"0px",paddingLeft:"20%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},HEXlabel:{display:"none"},RGBwrap:{flex:"3",position:"relative"},RGBinput:{width:"70%",padding:"0px",paddingLeft:"30%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},RGBlabel:{position:"absolute",top:"3px",left:"0px",lineHeight:"16px",textTransform:"uppercase",fontSize:"12px",color:"#999"}}}),o=function(e,t){e.r||e.g||e.b?n({r:e.r||i.r,g:e.g||i.g,b:e.b||i.b,source:"rgb"},t):n({hex:e.hex,source:"hex"},t)};return a.default.createElement("div",{style:r.fields,className:"flexbox-fix"},a.default.createElement("div",{style:r.active}),a.default.createElement(l.EditableInput,{style:{wrap:r.HEXwrap,input:r.HEXinput,label:r.HEXlabel},label:"hex",value:t,onChange:o}),a.default.createElement(l.EditableInput,{style:{wrap:r.RGBwrap,input:r.RGBinput,label:r.RGBlabel},label:"r",value:i.r,onChange:o}),a.default.createElement(l.EditableInput,{style:{wrap:r.RGBwrap,input:r.RGBinput,label:r.RGBlabel},label:"g",value:i.g,onChange:o}),a.default.createElement(l.EditableInput,{style:{wrap:r.RGBwrap,input:r.RGBinput,label:r.RGBlabel},label:"b",value:i.b,onChange:o}))};t.default=c},1580:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Github=void 0;var r=i(0),a=n(r),o=i(1),s=n(o),l=i(1363),c=n(l),u=i(1374),h=n(u),d=i(510),p=n(d),f=i(1365),m=i(1581),g=n(m),v=t.Github=function(e){var t=e.width,i=e.colors,n=e.onChange,r=e.onSwatchHover,o=e.triangle,s=e.styles,l=void 0===s?{}:s,u=e.className,d=void 0===u?"":u,f=(0,c.default)((0,p.default)({default:{card:{width:t,background:"#fff",border:"1px solid rgba(0,0,0,0.2)",boxShadow:"0 3px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",padding:"5px",display:"flex",flexWrap:"wrap"},triangle:{position:"absolute",border:"7px solid transparent",borderBottomColor:"#fff"},triangleShadow:{position:"absolute",border:"8px solid transparent",borderBottomColor:"rgba(0,0,0,0.15)"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-14px",left:"10px"},triangleShadow:{top:"-16px",left:"9px"}},"top-right-triangle":{triangle:{top:"-14px",right:"10px"},triangleShadow:{top:"-16px",right:"9px"}},"bottom-left-triangle":{triangle:{top:"35px",left:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",left:"9px",transform:"rotate(180deg)"}},"bottom-right-triangle":{triangle:{top:"35px",right:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",right:"9px",transform:"rotate(180deg)"}}},l),{"hide-triangle":"hide"===o,"top-left-triangle":"top-left"===o,"top-right-triangle":"top-right"===o,"bottom-left-triangle":"bottom-left"===o,"bottom-right-triangle":"bottom-right"===o}),m=function(e,t){return n({hex:e,source:"hex"},t)};return a.default.createElement("div",{style:f.card,className:"github-picker "+d},a.default.createElement("div",{style:f.triangleShadow}),a.default.createElement("div",{style:f.triangle}),(0,h.default)(i,function(e){return a.default.createElement(g.default,{color:e,key:e,onClick:m,onSwatchHover:r})}))};v.propTypes={width:s.default.oneOfType([s.default.string,s.default.number]),colors:s.default.arrayOf(s.default.string),triangle:s.default.oneOf(["hide","top-left","top-right","bottom-left","bottom-right"]),styles:s.default.object},v.defaultProps={width:200,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],triangle:"top-left",styles:{}},t.default=(0,f.ColorWrap)(v)},1581:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.GithubSwatch=void 0;var r=i(0),a=n(r),o=i(1363),s=n(o),l=i(1365),c=t.GithubSwatch=function(e){var t=e.hover,i=e.color,n=e.onClick,r=e.onSwatchHover,o={position:"relative",zIndex:"2",outline:"2px solid #fff",boxShadow:"0 0 5px 2px rgba(0,0,0,0.25)"},c=(0,s.default)({default:{swatch:{width:"25px",height:"25px",fontSize:"0"}},hover:{swatch:o}},{hover:t});return a.default.createElement("div",{style:c.swatch},a.default.createElement(l.Swatch,{color:i,onClick:n,onHover:r,focusStyle:o}))};t.default=(0,o.handleHover)(c)},1582:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.HuePicker=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},a=i(0),o=n(a),s=i(1),l=n(s),c=i(1363),u=n(c),h=i(510),d=n(h),p=i(1365),f=i(1583),m=n(f),g=t.HuePicker=function(e){var t=e.width,i=e.height,n=e.onChange,a=e.hsl,s=e.direction,l=e.pointer,c=e.styles,h=void 0===c?{}:c,f=e.className,m=void 0===f?"":f,g=(0,u.default)((0,d.default)({default:{picker:{position:"relative",width:t,height:i},hue:{radius:"2px"}}},h)),v=function(e){return n({a:1,h:e.h,l:.5,s:1})};return o.default.createElement("div",{style:g.picker,className:"hue-picker "+m},o.default.createElement(p.Hue,r({},g.hue,{hsl:a,pointer:l,onChange:v,direction:s})))};g.propTypes={styles:l.default.object},g.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:m.default,styles:{}},t.default=(0,p.ColorWrap)(g)},1583:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SliderPointer=void 0;var r=i(0),a=n(r),o=i(1363),s=n(o),l=t.SliderPointer=function(e){var t=e.direction,i=(0,s.default)({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:"vertical"===t});return a.default.createElement("div",{style:i.picker})};t.default=l},1584:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Material=void 0;var r=i(0),a=n(r),o=i(1363),s=n(o),l=i(510),c=n(l),u=i(1370),h=n(u),d=i(1365),p=t.Material=function(e){var t=e.onChange,i=e.hex,n=e.rgb,r=e.styles,o=void 0===r?{}:r,l=e.className,u=void 0===l?"":l,p=(0,s.default)((0,c.default)({default:{material:{width:"98px",height:"98px",padding:"16px",fontFamily:"Roboto"},HEXwrap:{position:"relative"},HEXinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"2px solid "+i,outline:"none",height:"30px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},Hex:{style:{}},RGBwrap:{position:"relative"},RGBinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"1px solid #eee",outline:"none",height:"30px"},RGBlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},split:{display:"flex",marginRight:"-10px",paddingTop:"11px"},third:{flex:"1",paddingRight:"10px"}}},o)),f=function(e,i){e.hex?h.default.isValidHex(e.hex)&&t({hex:e.hex,source:"hex"},i):(e.r||e.g||e.b)&&t({r:e.r||n.r,g:e.g||n.g,b:e.b||n.b,source:"rgb"},i)};return a.default.createElement(d.Raised,{styles:o},a.default.createElement("div",{style:p.material,className:"material-picker "+u},a.default.createElement(d.EditableInput,{style:{wrap:p.HEXwrap,input:p.HEXinput,label:p.HEXlabel},label:"hex",value:i,onChange:f}),a.default.createElement("div",{style:p.split,className:"flexbox-fix"},a.default.createElement("div",{style:p.third},a.default.createElement(d.EditableInput,{style:{wrap:p.RGBwrap,input:p.RGBinput,label:p.RGBlabel},label:"r",value:n.r,onChange:f})),a.default.createElement("div",{style:p.third},a.default.createElement(d.EditableInput,{style:{wrap:p.RGBwrap,input:p.RGBinput,label:p.RGBlabel},label:"g",value:n.g,onChange:f})),a.default.createElement("div",{style:p.third},a.default.createElement(d.EditableInput,{style:{wrap:p.RGBwrap,input:p.RGBinput,label:p.RGBlabel},label:"b",value:n.b,onChange:f})))))};t.default=(0,d.ColorWrap)(p)},1585:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Photoshop=void 0;var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=i(0),c=n(l),u=i(1),h=n(u),d=i(1363),p=n(d),f=i(510),m=n(f),g=i(1365),v=i(1586),y=n(v),b=i(1587),_=n(b),A=i(1588),E=n(A),w=i(1589),x=n(w),T=i(1590),S=n(T),C=t.Photoshop=function(e){function t(e){r(this,t);var i=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return i.state={currentColor:e.hex},i}return o(t,e),s(t,[{key:"render",value:function(){var e=this.props,t=e.styles,i=void 0===t?{}:t,n=e.className,r=void 0===n?"":n,a=(0,p.default)((0,m.default)({default:{picker:{background:"#DCDCDC",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",boxSizing:"initial",width:"513px"},head:{backgroundImage:"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",borderBottom:"1px solid #B1B1B1",boxShadow:"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",height:"23px",lineHeight:"24px",borderRadius:"4px 4px 0 0",fontSize:"13px",color:"#4D4D4D",textAlign:"center"},body:{padding:"15px 15px 0",display:"flex"},saturation:{width:"256px",height:"256px",position:"relative",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0",overflow:"hidden"},hue:{position:"relative",height:"256px",width:"19px",marginLeft:"10px",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0"},controls:{width:"180px",marginLeft:"10px"},top:{display:"flex"},previews:{width:"60px"},actions:{flex:"1",marginLeft:"20px"}}},i));return c.default.createElement("div",{style:a.picker,className:"photoshop-picker "+r},c.default.createElement("div",{style:a.head},this.props.header),c.default.createElement("div",{style:a.body,className:"flexbox-fix"},c.default.createElement("div",{style:a.saturation},c.default.createElement(g.Saturation,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:_.default,onChange:this.props.onChange})),c.default.createElement("div",{style:a.hue},c.default.createElement(g.Hue,{direction:"vertical",hsl:this.props.hsl,pointer:E.default,onChange:this.props.onChange})),c.default.createElement("div",{style:a.controls},c.default.createElement("div",{style:a.top,className:"flexbox-fix"},c.default.createElement("div",{style:a.previews},c.default.createElement(S.default,{rgb:this.props.rgb,currentColor:this.state.currentColor})),c.default.createElement("div",{style:a.actions},c.default.createElement(x.default,{label:"OK",onClick:this.props.onAccept,active:!0}),c.default.createElement(x.default,{label:"Cancel",onClick:this.props.onCancel}),c.default.createElement(y.default,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),t}(c.default.Component);C.propTypes={header:h.default.string,styles:h.default.object},C.defaultProps={header:"Color Picker",styles:{}},t.default=(0,g.ColorWrap)(C)},1586:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.PhotoshopPicker=void 0;var r=i(0),a=n(r),o=i(1363),s=n(o),l=i(1370),c=n(l),u=i(1365),h=t.PhotoshopPicker=function(e){var t=e.onChange,i=e.rgb,n=e.hsv,r=e.hex,o=(0,s.default)({default:{fields:{paddingTop:"5px",paddingBottom:"9px",width:"80px",position:"relative"},divider:{height:"5px"},RGBwrap:{position:"relative"},RGBinput:{marginLeft:"40%",width:"40%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"5px",fontSize:"13px",paddingLeft:"3px",marginRight:"10px"},RGBlabel:{left:"0px",width:"34px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px",position:"absolute"},HEXwrap:{position:"relative"},HEXinput:{marginLeft:"20%",width:"80%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"6px",fontSize:"13px",paddingLeft:"3px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",width:"14px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px"},fieldSymbols:{position:"absolute",top:"5px",right:"-7px",fontSize:"13px"},symbol:{height:"20px",lineHeight:"22px",paddingBottom:"7px"}}}),l=function(e,r){e["#"]?c.default.isValidHex(e["#"])&&t({hex:e["#"],source:"hex"},r):e.r||e.g||e.b?t({r:e.r||i.r,g:e.g||i.g,b:e.b||i.b,source:"rgb"},r):(e.h||e.s||e.v)&&t({h:e.h||n.h,s:e.s||n.s,v:e.v||n.v,source:"hsv"},r)};return a.default.createElement("div",{style:o.fields},a.default.createElement(u.EditableInput,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"h",value:Math.round(n.h),onChange:l}),a.default.createElement(u.EditableInput,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"s",value:Math.round(100*n.s),onChange:l}),a.default.createElement(u.EditableInput,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"v",value:Math.round(100*n.v),onChange:l}),a.default.createElement("div",{style:o.divider}),a.default.createElement(u.EditableInput,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"r",value:i.r,onChange:l}),a.default.createElement(u.EditableInput,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"g",value:i.g,onChange:l}),a.default.createElement(u.EditableInput,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"b",value:i.b,onChange:l}),a.default.createElement("div",{style:o.divider}),a.default.createElement(u.EditableInput,{style:{wrap:o.HEXwrap,input:o.HEXinput,label:o.HEXlabel},label:"#",value:r.replace("#",""),onChange:l}),a.default.createElement("div",{style:o.fieldSymbols},a.default.createElement("div",{style:o.symbol},"\xb0"),a.default.createElement("div",{style:o.symbol},"%"),a.default.createElement("div",{style:o.symbol},"%")))};t.default=h},1587:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.PhotoshopPointerCircle=void 0;var r=i(0),a=n(r),o=i(1363),s=n(o),l=t.PhotoshopPointerCircle=function(e){var t=e.hsl,i=(0,s.default)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}},"black-outline":{picker:{boxShadow:"inset 0 0 0 1px #000"}}},{"black-outline":t.l>.5});return a.default.createElement("div",{style:i.picker})};t.default=l},1588:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.PhotoshopPointerCircle=void 0;var r=i(0),a=n(r),o=i(1363),s=n(o),l=t.PhotoshopPointerCircle=function(){var e=(0,s.default)({default:{triangle:{width:0,height:0,borderStyle:"solid",borderWidth:"4px 0 4px 6px",borderColor:"transparent transparent transparent #fff",position:"absolute",top:"1px",left:"1px"},triangleBorder:{width:0,height:0,borderStyle:"solid",borderWidth:"5px 0 5px 8px",borderColor:"transparent transparent transparent #555"},left:{Extend:"triangleBorder",transform:"translate(-13px, -4px)"},leftInside:{Extend:"triangle",transform:"translate(-8px, -5px)"},right:{Extend:"triangleBorder",transform:"translate(20px, -14px) rotate(180deg)"},rightInside:{Extend:"triangle",transform:"translate(-8px, -5px)"}}});return a.default.createElement("div",{style:e.pointer},a.default.createElement("div",{style:e.left},a.default.createElement("div",{style:e.leftInside})),a.default.createElement("div",{style:e.right},a.default.createElement("div",{style:e.rightInside})))};t.default=l},1589:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.PhotoshopButton=void 0;var r=i(0),a=n(r),o=i(1363),s=n(o),l=t.PhotoshopButton=function(e){var t=e.onClick,i=e.label,n=e.children,r=e.active,o=(0,s.default)({default:{button:{backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",border:"1px solid #878787",borderRadius:"2px",height:"20px",boxShadow:"0 1px 0 0 #EAEAEA",fontSize:"14px",color:"#000",lineHeight:"20px",textAlign:"center",marginBottom:"10px",cursor:"pointer"}},active:{button:{boxShadow:"0 0 0 1px #878787"}}},{active:r});return a.default.createElement("div",{style:o.button,onClick:t},i||n)};t.default=l},1590:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.PhotoshopPreviews=void 0;var r=i(0),a=n(r),o=i(1363),s=n(o),l=t.PhotoshopPreviews=function(e){var t=e.rgb,i=e.currentColor,n=(0,s.default)({default:{swatches:{border:"1px solid #B3B3B3",borderBottom:"1px solid #F0F0F0",marginBottom:"2px",marginTop:"1px"},new:{height:"34px",background:"rgb("+t.r+","+t.g+", "+t.b+")",boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"},current:{height:"34px",background:i,boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"},label:{fontSize:"14px",color:"#000",textAlign:"center"}}});return a.default.createElement("div",null,a.default.createElement("div",{style:n.label},"new"),a.default.createElement("div",{style:n.swatches},a.default.createElement("div",{style:n.new}),a.default.createElement("div",{style:n.current})),a.default.createElement("div",{style:n.label},"current"))};t.default=l},1591:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Sketch=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},a=i(0),o=n(a),s=i(1),l=n(s),c=i(1363),u=n(c),h=i(510),d=n(h),p=i(1365),f=i(1592),m=n(f),g=i(1593),v=n(g),y=t.Sketch=function(e){var t=e.width,i=e.rgb,n=e.hex,a=e.hsv,s=e.hsl,l=e.onChange,c=e.onSwatchHover,h=e.disableAlpha,f=e.presetColors,g=e.renderers,y=e.styles,b=void 0===y?{}:y,_=e.className,A=void 0===_?"":_,E=(0,u.default)((0,d.default)({default:r({picker:{width:t,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+i.r+","+i.g+","+i.b+","+i.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},b),disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},b),{disableAlpha:h});return o.default.createElement("div",{style:E.picker,className:"sketch-picker "+A},o.default.createElement("div",{style:E.saturation},o.default.createElement(p.Saturation,{style:E.Saturation,hsl:s,hsv:a,onChange:l})),o.default.createElement("div",{style:E.controls,className:"flexbox-fix"},o.default.createElement("div",{style:E.sliders},o.default.createElement("div",{style:E.hue},o.default.createElement(p.Hue,{style:E.Hue,hsl:s,onChange:l})),o.default.createElement("div",{style:E.alpha},o.default.createElement(p.Alpha,{style:E.Alpha,rgb:i,hsl:s,renderers:g,onChange:l}))),o.default.createElement("div",{style:E.color},o.default.createElement(p.Checkboard,null),o.default.createElement("div",{style:E.activeColor}))),o.default.createElement(m.default,{rgb:i,hsl:s,hex:n,onChange:l,disableAlpha:h}),o.default.createElement(v.default,{colors:f,onClick:l,onSwatchHover:c}))};y.propTypes={disableAlpha:l.default.bool,width:l.default.oneOfType([l.default.string,l.default.number]),styles:l.default.object},y.defaultProps={disableAlpha:!1,width:200,styles:{},presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]},t.default=(0,p.ColorWrap)(y)},1592:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SketchFields=void 0;var r=i(0),a=n(r),o=i(1363),s=n(o),l=i(1370),c=n(l),u=i(1365),h=t.SketchFields=function(e){var t=e.onChange,i=e.rgb,n=e.hsl,r=e.hex,o=e.disableAlpha,l=(0,s.default)({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:o}),h=function(e,r){e.hex?c.default.isValidHex(e.hex)&&t({hex:e.hex,source:"hex"},r):e.r||e.g||e.b?t({r:e.r||i.r,g:e.g||i.g,b:e.b||i.b,a:i.a,source:"rgb"},r):e.a&&(e.a<0?e.a=0:e.a>100&&(e.a=100),e.a/=100,t({h:n.h,s:n.s,l:n.l,a:e.a,source:"rgb"},r))};return a.default.createElement("div",{style:l.fields,className:"flexbox-fix"},a.default.createElement("div",{style:l.double},a.default.createElement(u.EditableInput,{style:{input:l.input,label:l.label},label:"hex",value:r.replace("#",""),onChange:h})),a.default.createElement("div",{style:l.single},a.default.createElement(u.EditableInput,{style:{input:l.input,label:l.label},label:"r",value:i.r,onChange:h,dragLabel:"true",dragMax:"255"})),a.default.createElement("div",{style:l.single},a.default.createElement(u.EditableInput,{style:{input:l.input,label:l.label},label:"g",value:i.g,onChange:h,dragLabel:"true",dragMax:"255"})),a.default.createElement("div",{style:l.single},a.default.createElement(u.EditableInput,{style:{input:l.input,label:l.label},label:"b",value:i.b,onChange:h,dragLabel:"true",dragMax:"255"})),a.default.createElement("div",{style:l.alpha},a.default.createElement(u.EditableInput,{style:{input:l.input,label:l.label},label:"a",value:Math.round(100*i.a),onChange:h,dragLabel:"true",dragMax:"100"})))};t.default=h},1593:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SketchPresetColors=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},a=i(0),o=n(a),s=i(1),l=n(s),c=i(1363),u=n(c),h=i(1365),d=t.SketchPresetColors=function(e){var t=e.colors,i=e.onClick,n=void 0===i?function(){}:i,a=e.onSwatchHover,s=(0,u.default)({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!t||!t.length}),l=function(e,t){n({hex:e,source:"hex"},t)};return o.default.createElement("div",{style:s.colors,className:"flexbox-fix"},t.map(function(e){var t="string"===typeof e?{color:e}:e,i=""+t.color+(t.title||"");return o.default.createElement("div",{key:i,style:s.swatchWrap},o.default.createElement(h.Swatch,r({},t,{style:s.swatch,onClick:l,onHover:a,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+t.color}})))}))};d.propTypes={colors:l.default.arrayOf(l.default.oneOfType([l.default.string,l.default.shape({color:l.default.string,title:l.default.string})])).isRequired},t.default=d},1594:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Slider=void 0;var r=i(0),a=n(r),o=i(1),s=n(o),l=i(1363),c=n(l),u=i(510),h=n(u),d=i(1365),p=i(1595),f=n(p),m=i(1597),g=n(m),v=t.Slider=function(e){var t=e.hsl,i=e.onChange,n=e.pointer,r=e.styles,o=void 0===r?{}:r,s=e.className,l=void 0===s?"":s,u=(0,c.default)((0,h.default)({default:{hue:{height:"12px",position:"relative"},Hue:{radius:"2px"}}},o));return a.default.createElement("div",{style:u.wrap||{},className:"slider-picker "+l},a.default.createElement("div",{style:u.hue},a.default.createElement(d.Hue,{style:u.Hue,hsl:t,pointer:n,onChange:i})),a.default.createElement("div",{style:u.swatches},a.default.createElement(f.default,{hsl:t,onClick:i})))};v.propTypes={styles:s.default.object},v.defaultProps={pointer:g.default,styles:{}},t.default=(0,d.ColorWrap)(v)},1595:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SliderSwatches=void 0;var r=i(0),a=n(r),o=i(1363),s=n(o),l=i(1596),c=n(l),u=t.SliderSwatches=function(e){var t=e.onClick,i=e.hsl,n=(0,s.default)({default:{swatches:{marginTop:"20px"},swatch:{boxSizing:"border-box",width:"20%",paddingRight:"1px",float:"left"},clear:{clear:"both"}}});return a.default.createElement("div",{style:n.swatches},a.default.createElement("div",{style:n.swatch},a.default.createElement(c.default,{hsl:i,offset:".80",active:Math.abs(i.l-.8)<.1&&Math.abs(i.s-.5)<.1,onClick:t,first:!0})),a.default.createElement("div",{style:n.swatch},a.default.createElement(c.default,{hsl:i,offset:".65",active:Math.abs(i.l-.65)<.1&&Math.abs(i.s-.5)<.1,onClick:t})),a.default.createElement("div",{style:n.swatch},a.default.createElement(c.default,{hsl:i,offset:".50",active:Math.abs(i.l-.5)<.1&&Math.abs(i.s-.5)<.1,onClick:t})),a.default.createElement("div",{style:n.swatch},a.default.createElement(c.default,{hsl:i,offset:".35",active:Math.abs(i.l-.35)<.1&&Math.abs(i.s-.5)<.1,onClick:t})),a.default.createElement("div",{style:n.swatch},a.default.createElement(c.default,{hsl:i,offset:".20",active:Math.abs(i.l-.2)<.1&&Math.abs(i.s-.5)<.1,onClick:t,last:!0})),a.default.createElement("div",{style:n.clear}))};t.default=u},1596:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SliderSwatch=void 0;var r=i(0),a=n(r),o=i(1363),s=n(o),l=t.SliderSwatch=function(e){var t=e.hsl,i=e.offset,n=e.onClick,r=void 0===n?function(){}:n,o=e.active,l=e.first,c=e.last,u=(0,s.default)({default:{swatch:{height:"12px",background:"hsl("+t.h+", 50%, "+100*i+"%)",cursor:"pointer"}},first:{swatch:{borderRadius:"2px 0 0 2px"}},last:{swatch:{borderRadius:"0 2px 2px 0"}},active:{swatch:{transform:"scaleY(1.8)",borderRadius:"3.6px/2px"}}},{active:o,first:l,last:c}),h=function(e){return r({h:t.h,s:.5,l:i,source:"hsl"},e)};return a.default.createElement("div",{style:u.swatch,onClick:h})};t.default=l},1597:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SliderPointer=void 0;var r=i(0),a=n(r),o=i(1363),s=n(o),l=t.SliderPointer=function(){var e=(0,s.default)({default:{picker:{width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return a.default.createElement("div",{style:e.picker})};t.default=l},1598:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Swatches=void 0;var r=i(0),a=n(r),o=i(1),s=n(o),l=i(1363),c=n(l),u=i(1374),h=n(u),d=i(510),p=n(d),f=i(1435),m=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}(f),g=i(1365),v=i(1599),y=n(v),b=t.Swatches=function(e){var t=e.width,i=e.height,n=e.onChange,r=e.onSwatchHover,o=e.colors,s=e.hex,l=e.styles,u=void 0===l?{}:l,d=e.className,f=void 0===d?"":d,m=(0,c.default)((0,p.default)({default:{picker:{width:t,height:i},overflow:{height:i,overflowY:"scroll"},body:{padding:"16px 0 6px 16px"},clear:{clear:"both"}}},u)),v=function(e,t){return n({hex:e,source:"hex"},t)};return a.default.createElement("div",{style:m.picker,className:"swatches-picker "+f},a.default.createElement(g.Raised,null,a.default.createElement("div",{style:m.overflow},a.default.createElement("div",{style:m.body},(0,h.default)(o,function(e){return a.default.createElement(y.default,{key:e.toString(),group:e,active:s,onClick:v,onSwatchHover:r})}),a.default.createElement("div",{style:m.clear})))))};b.propTypes={width:s.default.oneOfType([s.default.string,s.default.number]),height:s.default.oneOfType([s.default.string,s.default.number]),colors:s.default.arrayOf(s.default.arrayOf(s.default.string)),styles:s.default.object},b.defaultProps={width:320,height:240,colors:[[m.red[900],m.red[700],m.red[500],m.red[300],m.red[100]],[m.pink[900],m.pink[700],m.pink[500],m.pink[300],m.pink[100]],[m.purple[900],m.purple[700],m.purple[500],m.purple[300],m.purple[100]],[m.deepPurple[900],m.deepPurple[700],m.deepPurple[500],m.deepPurple[300],m.deepPurple[100]],[m.indigo[900],m.indigo[700],m.indigo[500],m.indigo[300],m.indigo[100]],[m.blue[900],m.blue[700],m.blue[500],m.blue[300],m.blue[100]],[m.lightBlue[900],m.lightBlue[700],m.lightBlue[500],m.lightBlue[300],m.lightBlue[100]],[m.cyan[900],m.cyan[700],m.cyan[500],m.cyan[300],m.cyan[100]],[m.teal[900],m.teal[700],m.teal[500],m.teal[300],m.teal[100]],["#194D33",m.green[700],m.green[500],m.green[300],m.green[100]],[m.lightGreen[900],m.lightGreen[700],m.lightGreen[500],m.lightGreen[300],m.lightGreen[100]],[m.lime[900],m.lime[700],m.lime[500],m.lime[300],m.lime[100]],[m.yellow[900],m.yellow[700],m.yellow[500],m.yellow[300],m.yellow[100]],[m.amber[900],m.amber[700],m.amber[500],m.amber[300],m.amber[100]],[m.orange[900],m.orange[700],m.orange[500],m.orange[300],m.orange[100]],[m.deepOrange[900],m.deepOrange[700],m.deepOrange[500],m.deepOrange[300],m.deepOrange[100]],[m.brown[900],m.brown[700],m.brown[500],m.brown[300],m.brown[100]],[m.blueGrey[900],m.blueGrey[700],m.blueGrey[500],m.blueGrey[300],m.blueGrey[100]],["#000000","#525252","#969696","#D9D9D9","#FFFFFF"]],styles:{}},t.default=(0,g.ColorWrap)(b)},1599:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SwatchesGroup=void 0;var r=i(0),a=n(r),o=i(1363),s=n(o),l=i(1374),c=n(l),u=i(1600),h=n(u),d=t.SwatchesGroup=function(e){var t=e.onClick,i=e.onSwatchHover,n=e.group,r=e.active,o=(0,s.default)({default:{group:{paddingBottom:"10px",width:"40px",float:"left",marginRight:"10px"}}});return a.default.createElement("div",{style:o.group},(0,c.default)(n,function(e,o){return a.default.createElement(h.default,{key:e,color:e,active:e.toLowerCase()===r,first:0===o,last:o===n.length-1,onClick:t,onSwatchHover:i})}))};t.default=d},1600:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SwatchesColor=void 0;var r=i(0),a=n(r),o=i(1363),s=n(o),l=i(1370),c=n(l),u=i(1365),h=i(1601),d=n(h),p=t.SwatchesColor=function(e){var t=e.color,i=e.onClick,n=void 0===i?function(){}:i,r=e.onSwatchHover,o=e.first,l=e.last,h=e.active,p=(0,s.default)({default:{color:{width:"40px",height:"24px",cursor:"pointer",background:t,marginBottom:"1px"},check:{color:c.default.getContrastingColor(t),marginLeft:"8px",display:"none"}},first:{color:{overflow:"hidden",borderRadius:"2px 2px 0 0"}},last:{color:{overflow:"hidden",borderRadius:"0 0 2px 2px"}},active:{check:{display:"block"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},check:{color:"#333"}},transparent:{check:{color:"#333"}}},{first:o,last:l,active:h,"color-#FFFFFF":"#FFFFFF"===t,transparent:"transparent"===t});return a.default.createElement(u.Swatch,{color:t,style:p.color,onClick:n,onHover:r,focusStyle:{boxShadow:"0 0 4px "+t}},a.default.createElement("div",{style:p.check},a.default.createElement(d.default,null)))};t.default=p},1601:function(e,t,i){"use strict";function n(e,t){var i={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(i[n]=e[n]);return i}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},a=i(0),o=function(e){return e&&e.__esModule?e:{default:e}}(a);t.default=function(e){var t=e.fill,i=void 0===t?"currentColor":t,a=e.width,s=void 0===a?24:a,l=e.height,c=void 0===l?24:l,u=e.style,h=void 0===u?{}:u,d=n(e,["fill","width","height","style"]);return o.default.createElement("svg",r({viewBox:"0 0 24 24",style:r({fill:i,width:s,height:c},h)},d),o.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))}},1602:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Twitter=void 0;var r=i(0),a=n(r),o=i(1),s=n(o),l=i(1363),c=n(l),u=i(1374),h=n(u),d=i(510),p=n(d),f=i(1370),m=n(f),g=i(1365),v=t.Twitter=function(e){var t=e.onChange,i=e.onSwatchHover,n=e.hex,r=e.colors,o=e.width,s=e.triangle,l=e.styles,u=void 0===l?{}:l,d=e.className,f=void 0===d?"":d,v=(0,c.default)((0,p.default)({default:{card:{width:o,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px"},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},u),{"hide-triangle":"hide"===s,"top-left-triangle":"top-left"===s,"top-right-triangle":"top-right"===s}),y=function(e,i){m.default.isValidHex(e)&&t({hex:e,source:"hex"},i)};return a.default.createElement("div",{style:v.card,className:"twitter-picker "+f},a.default.createElement("div",{style:v.triangleShadow}),a.default.createElement("div",{style:v.triangle}),a.default.createElement("div",{style:v.body},(0,h.default)(r,function(e,t){return a.default.createElement(g.Swatch,{key:t,color:e,hex:e,style:v.swatch,onClick:y,onHover:i,focusStyle:{boxShadow:"0 0 4px "+e}})}),a.default.createElement("div",{style:v.hash},"#"),a.default.createElement(g.EditableInput,{label:null,style:{input:v.input},value:n.replace("#",""),onChange:y}),a.default.createElement("div",{style:v.clear})))};v.propTypes={width:s.default.oneOfType([s.default.string,s.default.number]),triangle:s.default.oneOf(["hide","top-left","top-right"]),colors:s.default.arrayOf(s.default.string),styles:s.default.object},v.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left",styles:{}},t.default=(0,g.ColorWrap)(v)},1603:function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=i(0),s=i.n(o),l=i(70),c=i.n(l),u=i(1366),h=(i.n(u),i(1380)),d=(i.n(h),i(160)),p=i(161),f=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),m=!1,g=-1,v=!1,y=function(){},b=function(){},_=function(e){function t(e){n(this,t);var i=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.state={currentTime:0,list:[],media:"",paused:!0,power:1},i}return a(t,e),f(t,[{key:"shouldComponentUpdate",value:function(e,t){var i=this.props.setting.show,n=e.setting.show;if(n&&!i){this.state.media=e.media,this.state.list=Object(p.b)(e.list),this.state.list.length&&this.state.list&&this.state.list.map(function(t,i){t.logo_x=Math.round(t.logo_x*e.media_info.width),t.logo_y=Math.round(t.logo_y*e.media_info.height),t.logo_width=Math.round(t.logo_width*e.media_info.width),t.logo_height=Math.round(t.logo_height*e.media_info.height)}),(this.state.media.volume||0===this.state.media.volume)&&(this.state.media.volume=1),(this.state.media.currentTime||0===this.state.media.currentTime)&&(this.state.media.currentTime=this.props.special.start_range||0);var r=c()(".video-box .video")[0];r.width=1920,r.height=1080,this.draw()}return i&&!n&&(clearInterval(v),this.state.media&&(this.setState({currentTime:this.state.media.currentTime}),this.state.media.pause&&this.state.media.pause())),!0}},{key:"play",value:function(){var e=this,t=this,i=this.props.media_info;if("video"===i.type&&this.state.media.paused){var n=c()(".video-box .video")[0],r=n.getContext("2d"),a=t.props.special.start_range,o=t.props.special.end_range;this.state.media.currentTime===o&&(this.state.media.currentTime=a),v=setInterval(function(){var n=t.state.media.currentTime;n<a&&(t.state.media.currentTime=a),n>=o&&(t.state.media.currentTime=o,clearInterval(v),e.state.media.pause()),r.drawImage(e.state.media,i.halfWidth,i.halfHeight,1920-2*i.halfWidth,1080-2*i.halfHeight),t.setState({currentTime:e.state.media.currentTime})},1e3/60),this.state.media.play()}else clearInterval(v),t.setState({currentTime:this.state.media.currentTime}),this.state.media.pause()}},{key:"draw",value:function(){var e=this,t=this.props.media_info,i=c()(".video-box .video")[0],n=i.getContext("2d");"video"===t.type?(this.state.media.readyState>=3?n.drawImage(this.state.media,t.halfWidth,t.halfHeight,1920-2*t.halfWidth,1080-2*t.halfHeight):this.state.media.oncanplay=function(){n.drawImage(e.state.media,t.halfWidth,t.halfHeight,1920-2*t.halfWidth,1080-2*t.halfHeight)},this.setState({currentTime:this.state.media.currentTime})):(this.state.media.complete?n.drawImage(this.state.media,t.halfWidth,t.halfHeight,1920-2*t.halfWidth,1080-2*t.halfHeight):this.state.media.onload=function(){n.drawImage(e.state.media,t.halfWidth,t.halfHeight,1920-2*t.halfWidth,1080-2*t.halfHeight)},this.setState({currentTime:this.state.media.currentTime||0}))}},{key:"componentWillUnmount",value:function(){var e={};for(var t in e)this.state[t]=e[t];c()(window).unbind("mousemove",y),c()(window).unbind("mouseup",b),c()(".de-logo").appendTo(".unit-detail ")}},{key:"del",value:function(){-1!==g&&(this.state.list.splice(g,1),0===g&&0!==this.state.list.length||g--,this.setState({currentTime:this.state.media.currentTime||0}))}},{key:"close",value:function(){g=-1,m=!1,this.state.paused=!0,this.state.media.pause&&this.state.media.pause(),this.props.close()}},{key:"componentDidMount",value:function(){var e=this,t=this;c()(".de-logo").appendTo("body");var i=c()(".video-box .video")[0];i.width=1920,i.height=1080,c()(".de-logo .video-box").bind("mousedown",function(t){console.info(e.props.media_info);var i=c()(t.target);i.hasClass("video")?(m="create",e.state.list.length<5&&(g=e.state.list.length,e.state.list.push({logo_x:(2*t.offsetX-e.props.media_info.halfWidth)*e.state.power,logo_y:(2*t.offsetY-e.props.media_info.halfHeight)*e.state.power,logo_width:0,logo_height:0}))):i.hasClass("cell")?(m="move",g=1*i.attr("name")):i.hasClass("l-t")?(m="l-t",g=1*i.parent().attr("name")):i.hasClass("l-b")?(m="l-b",g=1*i.parent().attr("name")):i.hasClass("r-t")?(m="r-t",g=1*i.parent().attr("name")):i.hasClass("r-b")&&(m="r-b",g=1*i.parent().attr("name"))}),y=function(t){if(-1!==g&&e.props.setting.show){var i=e.state.list[g],n=2*t.originalEvent.movementX*e.state.power,r=2*t.originalEvent.movementY*e.state.power,a=Object(p.b)(i),o=e.props.media_info.halfWidth,s=e.props.media_info.halfHeight;switch(m){case"create":a.logo_width=a.logo_width+n,a.logo_height=a.logo_height+r;break;case"move":a.logo_x=a.logo_x+n,a.logo_y=a.logo_y+r;break;case"l-t":a.logo_x=a.logo_x+n,a.logo_width=a.logo_width-n,a.logo_y=a.logo_y+r,a.logo_height=a.logo_height-r;break;case"l-b":a.logo_x=a.logo_x+n,a.logo_width=a.logo_width-n,a.logo_height=a.logo_height+r;break;case"r-t":a.logo_width=a.logo_width+n,a.logo_y=a.logo_y+r,a.logo_height=a.logo_height-r;break;case"r-b":a.logo_width=a.logo_width+n,a.logo_height=a.logo_height+r}a&&a.logo_x>=0&&(a.logo_x+a.logo_width)/e.state.power<=1920-2*o&&a.logo_width>=0&&(e.state.list[g]={logo_x:a.logo_x,logo_y:i.logo_y,logo_width:a.logo_width,logo_height:i.logo_height}),a&&a.logo_y>=0&&(a.logo_y+a.logo_height)/e.state.power<=1080-2*s&&a.logo_height>=0&&(e.state.list[g]={logo_x:e.state.list[g].logo_x,logo_y:a.logo_y,logo_width:e.state.list[g].logo_width,logo_height:a.logo_height}),e.setState({currentTime:e.state.media.currentTime||0})}},b=function(t){if(m=!1,-1!==g&&e.props.setting.show){var i=e.state.list[g];i&&(i.logo_height<=0||i.logo_width<=0)?e.del():e.state.list[g]={logo_x:Math.round(i.logo_x),logo_y:Math.round(i.logo_y),logo_width:Math.round(i.logo_width),logo_height:Math.round(i.logo_height)}}},c()(window).bind("mousemove",y),c()(window).bind("mouseup",b),c()(".de-logo .drop").draggable({axis:"x",snapTolerance:30,drag:function(e,i){t.state.media.currentTime=i.position.left/278*(t.props.special.end_range-t.props.special.start_range)+(t.props.special.start_range||0),t.draw()},containment:"parent"})}},{key:"render",value:function(){var e=this,t=!1;"video"===this.props.media_info.type&&(t=this.state.media);var i=[],n=this.props.media_info?this.props.media_info.halfWidth:0,r=this.props.media_info?this.props.media_info.halfHeight:0;return this.state.list.map(function(t,a){i.push(s.a.createElement("div",{key:a,className:a===g?"cell current":"cell",name:a,style:{left:(t.logo_x/e.state.power+n)/2+"px",top:(t.logo_y/e.state.power+r)/2+"px",width:t.logo_width/2/e.state.power+"px",height:t.logo_height/2/e.state.power+"px"}},s.a.createElement("div",{className:"l-t"}," "),s.a.createElement("div",{className:"l-b"}," "),s.a.createElement("div",{className:"r-t"}," "),s.a.createElement("div",{className:"r-b"}," ")))}),s.a.createElement("div",{className:this.props.setting.show?"de-logo":"de-logo none"},s.a.createElement("div",{className:"shadow",onClick:function(){e.close()}}),s.a.createElement("div",{className:"box"},s.a.createElement("div",{className:"title"},s.a.createElement("span",null,Object(d.a)("main","deLogo")),s.a.createElement("span",{className:"close",onClick:function(){e.close()}}," ")),s.a.createElement("div",{className:"video-box"},s.a.createElement("canvas",{className:"video"}),i),"image"===this.props.media_info.type?s.a.createElement("div",{className:"ctrl"}):s.a.createElement("div",{className:"ctrl"},s.a.createElement("div",null,Object(p.g)(t.currentTime-this.props.special.start_range||0)+"/"+Object(p.g)(this.props.special.end_range-this.props.special.start_range||1)),s.a.createElement("div",null,s.a.createElement("span",{className:this.state.media.paused?"ico iconfont icon-bofang":"ico iconfont icon-zanting",onClick:function(){e.play()}}," ")),s.a.createElement("div",null,s.a.createElement("div",{className:"drop-box"},s.a.createElement("span",{className:"drop",style:{left:(t.currentTime-this.props.special.start_range||0)/(this.props.special.end_range-this.props.special.start_range||1)*278}})))),s.a.createElement("div",{className:"list"},s.a.createElement("span",null,"\u8bf7\u5728\u89c6\u9891\u4e2d\u9009\u62e9\u8981\u6a21\u7cca\u5904\u7406\u7684\u533a\u57df\u3002"),s.a.createElement("span",{onClick:function(){e.props.setDeLogo(e.state.list),e.close()},className:"btn"},Object(d.a)("main","confirm")),s.a.createElement("span",{onClick:function(){e.close()},className:"btn"},Object(d.a)("main","cancel")),s.a.createElement("span",{onClick:function(){e.del()},className:this.state.list.length?"btn":"btn gray"},Object(d.a)("main","delete")))))}}]),t}(s.a.Component);t.a=_},1604:function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=i(0),s=i.n(o),l=i(1372),c=(i.n(l),i(1378)),u=(i.n(c),i(52)),h=i(84),d=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),p=function(e){function t(e){n(this,t);var i=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.state={colophon:{},items:[],version_id:""},i}return a(t,e),d(t,[{key:"componentWillMount",value:function(){}},{key:"handleChange",value:function(e){}},{key:"componentWillUnmount",value:function(){var e={colophon:{},items:[],version_id:""};for(var t in e)this.state[t]=e[t]}},{key:"componentDidMount",value:function(){}},{key:"shouldComponentUpdate",value:function(e,t){var i=this,n=this.props.colophon.show,r=e.colophon.show;return r&&!n&&Object(h.a)("get_project_version_list",{project_id:this.props.project_id},function(e){i.setState({items:e})},function(){var e=[];i.setState({items:e})},"info"),n&&!r&&(this.state={colophon:{},items:[],version_id:""}),!0}},{key:"enterTrack",value:function(){var e=this;this.state.version_id?u.k.confirm({title:"\u63d0\u793a",content:"\u662f\u5426\u4fdd\u5b58\u5f53\u524d\u9879\u76ee\u914d\u7f6e\u4e3a\u5386\u53f2\u7248\u672c\uff1f",style:{top:200},maskClosable:!0,okText:"\u4fdd\u5b58",cancelText:"\u4e0d\u4fdd\u5b58",onOk:function(){Object(h.a)("save_project_version",{project_id:e.props.project_id,description:"\u6307\u5b9a\u5386\u53f2\u7248\u672c\u5e76\u4f7f\u7528\u540e\u7559\u4e0b\u7684\u7248\u672c"},function(){Object(h.a)("use_project_version",{version_id:e.state.version_id},function(){e.props.history.push("/load"),e.props.history.push("/online#"+e.props.project_id)},"","info")},function(){e.props.history.push("/load"),e.props.history.push("/online#"+e.props.project_id)},"info")},onCancel:function(){Object(h.a)("use_project_version",{version_id:e.state.version_id},function(){e.props.history.push("/load"),e.props.history.push("/online#"+e.props.project_id)},"","info")}}):u.t.info("\u672a\u9009\u62e9\u5386\u53f2\u7248\u672c")}},{key:"render",value:function(){var e=this,t=[];return this.state.items.map(function(i,n){var r=s.a.createElement("div",{className:e.state.version_id===i.version_id?"cell current":"cell",onClick:function(){e.setState({version_id:i.version_id})}},s.a.createElement("div",{className:"checked"},s.a.createElement("div",{className:"angle"}," "),s.a.createElement("span",{className:"ico iconfont icon-quanxuan"}," ")),s.a.createElement("div",{className:"portrait"},s.a.createElement("img",{src:i.photograph,alt:"portrait"})),s.a.createElement("div",{className:"detail"},s.a.createElement("div",null,s.a.createElement("div",{className:"name"},"\u521b\u5efa\u4eba\uff1a"),s.a.createElement("div",{className:"content"},i.username)),s.a.createElement("div",null,s.a.createElement("div",{className:"name"},"\u521b\u5efa\u65f6\u95f4\uff1a"),s.a.createElement("div",{className:"content"},i.add_time))));t.push(r)}),s.a.createElement("div",{className:"unit-detail colophon "+(this.props.colophon.show?"":"hidden")},s.a.createElement("div",{className:"close-unit-detail",onClick:function(){e.props.close()}},"\u6536\u8d77",s.a.createElement("span",{className:"ico iconfont icon-latiao"}," ")),s.a.createElement("div",{className:"unit-content"},s.a.createElement("div",{className:"colophon colophon-box"},s.a.createElement("div",{className:"colophon-title"},s.a.createElement("span",{className:"ico iconfont icon-lishijilu"}," "),s.a.createElement("span",null,"\u5386\u53f2\u7248\u672c")),s.a.createElement("div",{className:"colophon-list"},t),s.a.createElement("div",{className:"colophon-feet"},s.a.createElement(u.a,{style:{width:"100px"},className:"btn-black",onClick:this.enterTrack.bind(this),type:"primary"},"\u8fdb\u5165\u8f68\u9053"),s.a.createElement(u.a,{style:{width:"100px"},className:"btn-black",onClick:function(){e.props.close()},type:""},"\u53d6\u6d88")))))}}]),t}(s.a.Component);t.a=p},1605:function(e,t,i){"use strict";function n(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=i(0),l=i.n(s),c=i(70),u=i.n(c),h=i(1372),d=(i.n(h),i(1378)),p=(i.n(d),i(52)),f=i(84),m=i(160),g=i(1407),v=i(161),y=i(1408),b=i.n(y),_=i(1369),A=i.n(_),E=i(1388),w=i(1367),x=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),T=p.g.TextArea,S=void 0,C="",k="",O=localStorage.pure?{AUDIO:{k:"AUDIO",v:Object(m.a)("main","audioSolo"),paid:!0},"360P":{k:"360P",v:Object(m.a)("main","LC"),paid:!0},"480P":{k:"480P",v:Object(m.a)("main","SD"),paid:!0,selected:!0},"720P":{k:"720P",v:Object(m.a)("main","HD"),paid:!0},"1080P":{k:"1080P",v:Object(m.a)("main","hi-vision"),paid:!0}}:{AUDIO:{k:"AUDIO",v:Object(m.a)("main","audioSolo"),paid:!0},"360P":{k:"360P",v:Object(m.a)("main","LC"),paid:!0},"480P":{k:"480P",v:Object(m.a)("main","SD"),paid:!0,selected:!0},"720P":{k:"720P",v:Object(m.a)("main","HD"),paid:!0,pay:!localStorage.qiniu},"1080P":{k:"1080P",v:Object(m.a)("main","hi-vision"),paid:!0,pay:!0}},P=!0,j=0,I={OnVideo:"",bilibili:"",dayuhao:"",miaopai:"",iqiyi:"",baijiahao:"",qq:"",toutiao:"",youku:"",youbube:"",stager:""},M=[],R=g.a,D=localStorage.stager?{title:/[^\w\u4E00-\u9FA5\u0800-\u4e00\u3008\u3009\u300a\u300b\u3002 \uff0c\u3001\uff1a\uff1b\uff1f\uff01\u2018\u2019\u201c\u201d\u2032.,\ufe51:;?!'"+\-*=<_#$&%^\xb7-\u2014\u2026\/@\uffe5\xa5-\u2026\u221a\u2160\u2161\u2162\u2163\u2164\u2165\u2166\u2167\u2168\u2169\xd7\xf7\xb1\uff0f\u2248\u2261\u2260\uff1c\uff1e\u2264\u2265\u220f\xba\uff05\u2030\u2105\xb0\u2103\u2109\u2033\u33a1\u33a5\u0101\xe1\u01ce\xe0\u014c\xd3\u01d1\xd2\u016b\xfa\u01d4\xf9\u012b\xed\u01d0\xec\u0113\xe9\u011b\xe8\xea\u01d6\u01d8\u01da\u01dc\xfc]/g,title_start:/^[^\w\u4E00-\u9FA5\u0800-\u4e00\u300a\u201c]/,label:/[^\w\u4E00-\u9FA5\u0800-\u4e00\u3008\u3009\u300a\u300b\u3002\uff0c\u3001\uff1a\uff1b\uff1f\uff01\u2018\u2019\u201c\u201d\u2032 .,\ufe51:;?!'"+\-*=<_#$&%^\xb7-\u2014\u2026\/@\uffe5\xa5-\u2026\u221a\u2160\u2161\u2162\u2163\u2164\u2165\u2166\u2167\u2168\u2169\xd7\xf7\xb1\uff0f\u2248\u2261\u2260\uff1c\uff1e\u2264\u2265\u220f\xba\uff05\u2030\u2105\xb0\u2103\u2109\u2033\u33a1\u33a5\u0101\xe1\u01ce\xe0\u014c\xd3\u01d1\xd2\u016b\xfa\u01d4\xf9\u012b\xed\u01d0\xec\u0113\xe9\u011b\xe8\xea\u01d6\u01d8\u01da\u01dc\xfc]/g}:{title:/[^\w\u4E00-\u9FA5\u3008\u3009\u300a\u300b\u3002 \uff0c\u3001\uff1a\uff1b\uff1f\uff01\u2018\u2019\u201c\u201d\u2032.,\ufe51:;?!'"+\-*=<_#$&%^\xb7-\u2014\u2026\/@\uffe5\xa5-\u2026\u221a\u2160\u2161\u2162\u2163\u2164\u2165\u2166\u2167\u2168\u2169\xd7\xf7\xb1\uff0f\u2248\u2261\u2260\uff1c\uff1e\u2264\u2265\u220f\xba\uff05\u2030\u2105\xb0\u2103\u2109\u2033\u33a1\u33a5\u0101\xe1\u01ce\xe0\u014c\xd3\u01d1\xd2\u016b\xfa\u01d4\xf9\u012b\xed\u01d0\xec\u0113\xe9\u011b\xe8\xea\u01d6\u01d8\u01da\u01dc\xfc]/g,title_start:/^[^\w\u4E00-\u9FA5\u300a\u201c]/,label:/[^\w\u4E00-\u9FA5\u3008\u3009\u300a\u300b\u3002\uff0c\u3001\uff1a\uff1b\uff1f\uff01\u2018\u2019\u201c\u201d\u2032 .,\ufe51:;?!'"+\-*=<_#$&%^\xb7-\u2014\u2026\/@\uffe5\xa5-\u2026\u221a\u2160\u2161\u2162\u2163\u2164\u2165\u2166\u2167\u2168\u2169\xd7\xf7\xb1\uff0f\u2248\u2261\u2260\uff1c\uff1e\u2264\u2265\u220f\xba\uff05\u2030\u2105\xb0\u2103\u2109\u2033\u33a1\u33a5\u0101\xe1\u01ce\xe0\u014c\xd3\u01d1\xd2\u016b\xfa\u01d4\xf9\u012b\xed\u01d0\xec\u0113\xe9\u011b\xe8\xea\u01d6\u01d8\u01da\u01dc\xfc]/g},L=function(e){function t(e){r(this,t);var i=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.state={name:Object(m.a)("main","basicTransfom"),change:!0,snapShort:[],thumbnail:"",update:"",film:!1,loading:!1,form:{label:[]},alertInfo:"",theLogo:!1,theLogoUrl:"",obj:{},original:{name:"",label:[],project_id:"",description:"",language:{empty:!0},out_type:["480P"],thumbnail:"",directory_id:0,plat_user_list:[]},index:0,plat_list:[]},i}return o(t,e),x(t,[{key:"componentWillUnmount",value:function(){var e={name:Object(m.a)("main","basicTransfom"),change:!0,snapShort:[],thumbnail:"",update:"",theLogo:!1,theLogoUrl:"",alertInfo:"",obj:{},original:{name:"",label:[],project_id:"",description:"",out_type:["480P"],thumbnail:"",directory_id:0,plat_user_list:[]},index:0,plat_list:[]};for(var t in e)this.state[t]=e[t];I={OnVideo:"",bilibili:"",dayuhao:"",miaopai:"",iqiyi:"",baijiahao:"",qq:"",toutiao:""}}},{key:"renderPlatList",value:function(){}},{key:"componentWillMount",value:function(){var e=this;localStorage.stager?Object(f.a)("stager_user_info",{m:"Onvideo",a:"showtags"},function(t){var i={};for(var n in t)!function(e){i[e]={},t[e].map(function(t,n){i[e][t.tag_id]=t.content})}(n);R.stager=i,e.renderPlatList()},function(){R.stager={},e.renderPlatList()}):this.renderPlatList()}},{key:"getSnapshot",value:function(){var e=this;this.props.getSnapshot(function(t){e.setState({snapShort:t})},6)}},{key:"shouldComponentUpdate",value:function(e,t){var i=this.props.issue.show,n=e.issue.show;return n&&!i&&(this.state.original.project_id=e.issue.project_id,this.state.original.name=e.issue.name||"",this.state.original.label=e.issue.label&&e.issue.label.join("")?e.issue.label:[],console.info(e.issue.label),this.state.original.description=e.issue.description||"",this.getSnapshot()),i&&!n&&(this.state.original.name="",this.state.original.label=[],this.state.original.description=""),!0}},{key:"refreshParam",value:function(){u()(".category-list").removeClass("show"),this.setState({change:!0})}},{key:"upload",value:function(e){var t=u()("#snapFile");if(""===u.a.trim(t.val()))return!1;var i=document.getElementById("snapFile").files;C=new Blob([i[0]]),C.name=i[0].name,this.state.snapShort[0]=URL.createObjectURL(C),this.setState({change:!0})}},{key:"uploadLogo",value:function(e){var t=u()("#logoFile");if(""===u.a.trim(t.val()))return!1;var i=document.getElementById("logoFile").files;k=new Blob([i[0]]),k.name=i[0].name,this.state.theLogoUrl=URL.createObjectURL(k),this.setState({change:!0})}},{key:"generateMovie",value:function(){var e=this;this.state.original.out_type=[];for(var t in O)O[t].selected&&this.state.original.out_type.unshift(t);if(!this.state.original.name)return p.t.warning(Object(m.a)("verify","say5")+Object(m.a)("main","title")),void u()("#issue-title").focus();if(!this.state.original.description)return p.t.warning(Object(m.a)("verify","say5")+Object(m.a)("main","intro")),void u()("#issue-desc").focus();if(!this.state.original.out_type.length)return void p.t.warning("\u8bf7\u9009\u62e9\u89c4\u683c");this.state.original.plat_user_list=[];for(var i=0;i<this.state.plat_list.length;i++){var n=this.state.plat_list[i];if(n.selected){if(!n.out_type)return p.t.warning("\u8bf7\u9009\u62e9\u89c4\u683c"),void u()("#plat-"+n.pu_id).click();if(!n.title)return p.t.warning(Object(m.a)("verify","say5")+Object(m.a)("main","title")),u()("#plat-"+n.pu_id).click(),void u()("#form-title").focus();if("baijiahao"===n.k||"toutiao"===n.k||"qq"===n.k){var r=n.title.replace(/[\u0391-\uFFE5]/g,"aa").length,a=!0;switch(n.k){case"baijiahao":r<15&&(a=!1);break;case"toutiao":r<9&&(a=!1);break;case"qq":r<11&&(a=!1)}if(!a)return p.t.warning("\u6807\u9898\u957f\u5ea6\u8fc7\u77ed"),u()("#plat-"+n.pu_id).click(),void u()("#form-title").focus()}if(!n.categoryOB)return u()("#plat-"+n.pu_id).click(),void p.t.warning(Object(m.a)("main","chooseClassPlease"));if(n.category=n.categoryOB.k,"stager"!==n.k&&"toutiao"!==n.k&&"youku"!==n.k&&!n.label.length)return p.t.warning("\u8bf7\u8f93\u5165\u6807\u7b7e"),u()("#plat-"+n.pu_id).click(),void u()("#form-label").focus();if("qq"===n.k&&n.label.length<2)return p.t.warning("\u4f01\u9e45\u53f7\u6700\u5c11\u9700\u8981\u4e24\u4e2a\u6807\u7b7e"),u()("#plat-"+n.pu_id).click(),void u()("#form-label").focus();if("bilibili"===n.k&&!n.description)return p.t.warning("\u8bf7\u8f93\u5165\u7b80\u4ecb"),u()("#plat-"+n.pu_id).click(),void u()("#form-desc").focus();this.state.original.plat_user_list.push(n)}}P&&(P=!1,this.setState({loading:!0}),S=Object(v.d)(this.state.snapShort[j])||C||"",Object(v.n)(S,{k:"project_id",v:this.state.original.project_id},function(t){e.state.original.thumbnail=t||"",e.state.original.enable_headtail=e.state.film;var i=Object(v.b)(e.state.original);i.language=[];for(var n in e.state.original.language)!0===e.state.original.language[n]&&i.language.push("empty"===n?"":n);e.state.theLogo&&e.state.theLogoUrl?Object(v.n)(k,{k:"project_id",v:e.state.original.project_id},function(t){i.watermarkUrl=t,e._publish_video(i)},function(){P=!0},"info"):(i.watermarkUrl="",e._publish_video(i))},function(){P=!0,e.setState({loading:!1})},"info"))}},{key:"_publish_video",value:function(e){var t=this;e.title=e.name,e.label=e.label.join(","),e.outType=e.out_type.join(","),e.projectId=e.project_id,e.aspect=this.props.screen_scale,e.watermarkLocation="right_top",Object(f.a)("publish_video",JSON.stringify(e),function(e){P=!0,t.setState({loading:!1}),t.props.history.push(t.props.is_template?"/template/mine":"/hub/movie")},function(e){P=!0,t.setState({loading:!1}),t.props.history.push(t.props.is_template?"/template/mine":"/hub/movie")},"info")}},{key:"copyForm",value:function(e){!this.state.plat_list[e].title&&(this.state.plat_list[e].title=this.state.original.name),this.state.original.label.length&&!this.state.plat_list[e].label.length&&(this.state.plat_list[e].label=this.state.original.label.join("|").split("|")),!this.state.plat_list[e].description&&(this.state.plat_list[e].description=this.state.original.description),"baijiahao"!==this.state.plat_list[e].k&&"qq"!==this.state.plat_list[e]||(this.state.plat_list[e].description=this.state.plat_list[e].description.substr(0,100))}},{key:"selectPlat",value:function(e){var t=this.state.plat_list[e];if("stager"!==t.k)if(t.selected){if(t.selected=!1,!this.state.form.selected)for(var i=0;i<this.state.plat_list.length;i++)if(this.state.plat_list[i].selected){this.state.form=this.state.plat_list[i];break}this.refreshParam()}else;else this.copyForm(e),this.refreshParam()}},{key:"onceBing",value:function(e){var t=this;"oauth2"===e.auth_type?(Object(w.a)("\u8bf7\u5728\u65b0\u9875\u7b7e\u4e2d\u91cd\u65b0\u7ed1\u5b9a\u8d26\u53f7","","",function(){}),window.open(f.c+"publish/auth/"+e.plat+"/?token="+localStorage.signature,"_blank")):"password"===e.auth_type&&this.setState({alertInfo:{setting:"show",title:"\u7ed1\u5b9a\u8d26\u53f7",width:400,height:250,top:30,close:function(){t.setState({alertInfo:""})},form:l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement("span",null,"\u7528\u6237\u540d\uff1a"),l.a.createElement("input",{id:"platAcc",type:"text"})),l.a.createElement("li",null,l.a.createElement("span",null,"\u5bc6\u7801\uff1a"),l.a.createElement("input",{id:"platPass",type:"password"})),l.a.createElement("li",{className:"msg"}," "),l.a.createElement("li",null,l.a.createElement("span",{className:"btn",onClick:function(){Object(f.a)("bind_account",{username:u()("#platAcc").val(),password:Object(v.f)(u()("#platPass").val()),plat:e.plat},function(e){Object(w.a)("\u7ed1\u5b9a\u6210\u529f\uff01","","",function(){})},function(e){Object(w.a)(e.result||"\u7ed1\u5b9a\u5931\u8d25\uff01","","",function(){})})}},"\u786e\u8ba4"),l.a.createElement("span",{className:"btn",onClick:function(){t.setState({alertInfo:""})}},"\u53d6\u6d88")))}})}},{key:"render",value:function(){for(var e=this,t=[],i=0;i<6;i++)!function(i){t.push(l.a.createElement("div",{key:"snapShort"+i,className:j===i?"current":"",style:{flexBasis:u()(".reveal").hasClass("vertical")?"15%":"27%"},onClick:function(){j=i,e.refreshParam()}},l.a.createElement("img",{src:e.state.snapShort[i]||(localStorage.pure?A.a:b.a),alt:""}),j===i?l.a.createElement("span",{className:"current-tip"},l.a.createElement("span",{className:"ico iconfont icon-duigou"})):""))}(i);for(var r=[],a=[],i=0;i<this.state.plat_list.length;i++)!function(t){var i=e.state.plat_list[t];r.push(l.a.createElement("div",{key:"plat-ico"+t,title:i.username,onClick:function(){e.selectPlat(t)}}," ",i.selected?l.a.createElement("svg",{className:"icon svg-icon","aria-hidden":"true"},l.a.createElement("use",{xlinkHref:"#icon-"+i.k+"-nh"}," ")):l.a.createElement("svg",{className:"icon svg-icon","aria-hidden":"true"},l.a.createElement("use",{xlinkHref:"#icon-"+i.k+"-n"}," ")),0===i.index||i.index?"":i.plat_cn)),i.selected&&(e.state.form.selected||(e.state.form=e.state.plat_list[t]),a.push(l.a.createElement("div",{key:"plat-form"+t,id:"plat-"+i.pu_id,className:e.state.plat_list[t].pu_id===e.state.form.pu_id?"current":"",onClick:function(){e.state.form=e.state.plat_list[t],e.refreshParam()}},l.a.createElement("svg",{className:"icon svg-icon","aria-hidden":"true"},l.a.createElement("use",{xlinkHref:"#icon-"+i.k}," ")),l.a.createElement("span",{className:"t-a-c"}," ",Object(m.a)("main","account"),"\uff1a",l.a.createElement("span",null,i.username," "))," ")))}(i);var o=[],s=[];for(var i in O)!function(t){var i=O[t];o.push(l.a.createElement("div",{key:"out_type"+t,className:i.selected?"current":"",onClick:function(){i.selected=!i.selected,e.refreshParam()}},l.a.createElement("p",null,i.k),l.a.createElement("p",null,i.v),i.pay?l.a.createElement("span",null,l.a.createElement("span",null,Object(m.a)("main","pay"))):"")),i.selected&&(e.state.form.out_type&&O[e.state.form.out_type].selected||(e.state.form.out_type=t),s.push(l.a.createElement("span",{key:"form_type"+t,className:e.state.form.out_type===i.k?"current":"",onClick:function(t){e.state.form.out_type=i.k,e.refreshParam()}},l.a.createElement("span",{className:"radio"}," "),i.k)))}(i);var c=[];this.state.form.label&&this.state.form.label.map(function(t,i){var n=l.a.createElement("span",{key:i},t," ",l.a.createElement("span",{className:"ico iconfont icon-guanbi",onClick:function(){e.state.form.label.splice(i,1),e.refreshParam()}}," "));c.push(n)});var h=200,d=3,f=30;switch(this.state.form.k){case"stager":f=20;break;case"baijiahao":h=100;break;case"toutiao":h=400,d=5;break;case"qq":h=100,d=5;break;case"youku":h=2e3,f=80;break;case"bilibili":h=250,d=5,f=80}var g=(l.a.createElement("div",{className:"form"},localStorage.stager?"":l.a.createElement("div",null,l.a.createElement("span",null,Object(m.a)("main","theType")),l.a.createElement("div",null," ",s)),l.a.createElement("div",null,l.a.createElement("span",null,Object(m.a)("statement","say7")),l.a.createElement(p.g,{value:this.state.form.title,onChange:function(t){t.target.value=t.target.value.replace(D.title,""),t.target.value=t.target.value.replace(D.title_start,""),e.state.form.title=t.target.value,e.refreshParam()},id:"form-title",type:"text",placeholder:Object(m.a)("verify","say4")+f+"\u5b57",maxLength:f})),l.a.createElement("div",null,l.a.createElement("span",null,Object(m.a)("main","class")),l.a.createElement("span",{className:"category-selected",onClick:function(){u()(".category-list").addClass("show")}},this.state.form.categoryOB&&this.state.form.categoryOB.v),l.a.createElement("div",{className:"category-list"},I[this.state.form.k])),localStorage.stager?l.a.createElement("div",null," "):l.a.createElement("div",null,l.a.createElement("span",null,Object(m.a)("main","label")),l.a.createElement(p.o,{mode:"tags",placeholder:Object(m.a)("verify","say2"),notFoundContent:"",value:this.state.form.label,style:{width:"500px",maxWidth:"100%"},onChange:function(t){var i=[];t.map(function(e){var t=e.replace(/\s+/g,"").replace(D.label,"").substr(0,8);t&&i.length<d&&-1===i.indexOf(t)&&i.push(t)}),e.state.form.label=i,e.refreshParam()},tokenSeparators:[","]})),localStorage.stager?l.a.createElement("div",null," "):l.a.createElement("div",null,l.a.createElement("span",{style:{marginLeft:"-10px"}},l.a.createElement("span",{style:{display:"inline-block",width:10,color:"red"}},"*"),Object(m.a)("main","intro")),l.a.createElement(T,{rows:4,id:"form-desc",placeholder:"\u4e0d\u8d85\u8fc7"+h+"\u5b57",value:this.state.form.description,onChange:function(t){e.state.form.description=t.target.value,e.refreshParam()},maxLength:h}))),[l.a.createElement("span",n({key:"empty",style:{display:"inline-block",margin:"0 3px"}},"key",99),l.a.createElement(p.b,{checked:this.state.original.language.empty,onChange:function(t){e.state.original.language.empty=!e.state.original.language.empty,e.setState({film:e.state.film})}},"\u65e0\u5b57\u5e55"))]);return M.map(function(t,i){g.push(l.a.createElement("span",{key:i,style:{display:"inline-block",margin:"0 3px"}},l.a.createElement(p.b,{checked:e.state.original.language[t.language],onChange:function(i){e.state.original.language[t.language]=!e.state.original.language[t.language],e.setState({film:e.state.film})}},t.desc)))}),l.a.createElement("div",{className:"issue-project "+(this.props.issue.show?"":"hidden")},l.a.createElement("div",{style:{position:"absolute",zIndex:"-1",marginLeft:"-88px",paddingLeft:"30px",width:"300px",opacity:0}},l.a.createElement("input",{id:"snapFile",accept:"image/png, image/jpeg",onChange:function(){e.upload()},type:"file"}),l.a.createElement("input",{id:"logoFile",accept:"image/png, image/jpeg",onChange:function(){e.uploadLogo()},type:"file"})),l.a.createElement("div",{className:"main"},l.a.createElement("div",{className:"crosswise"},l.a.createElement("div",{className:"column column-left"},l.a.createElement("div",{className:"base-info"},l.a.createElement("p",{className:"title"},l.a.createElement("span",null," "),l.a.createElement("span",null,Object(m.a)("main","basicInfo"))),l.a.createElement("div",{className:"base-info-content"},l.a.createElement("div",null,l.a.createElement("span",{className:"m-0-5"},Object(m.a)("main","title")),l.a.createElement(p.g,{id:"issue-title",value:this.state.original.name,onChange:function(t){t.target.value=t.target.value.replace(D.title,""),t.target.value=t.target.value.replace(D.title_start,""),e.state.original.name=t.target.value,e.refreshParam()},type:"text",placeholder:"\u8bf7\u8f93\u5165\u6807\u98981-20\u5b57",maxLength:20})),l.a.createElement("div",null,l.a.createElement("span",{className:"m-0-5"},Object(m.a)("main","label")),l.a.createElement(p.o,{mode:"tags",placeholder:Object(m.a)("verify","say2"),notFoundContent:"",value:this.state.original.label,style:{width:"500px",maxWidth:"100%"},maxLength:8,onChange:function(t){var i=[];t.map(function(e){var t=e.replace(/\s+/g,"").replace(D.label,"").substr(0,8);t&&i.length<3&&-1===i.indexOf(t)&&i.push(t)}),e.state.original.label=i,e.refreshParam()}})),l.a.createElement("div",null,l.a.createElement("span",{className:"m-0-5",style:{marginLeft:"-10px"}},l.a.createElement("span",{style:{display:"inline-block",width:10,color:"red"}},"*"),Object(m.a)("main","intro")),l.a.createElement(T,{id:"issue-desc",value:this.state.original.description,rows:4,onChange:function(t){e.state.original.description=t.target.value,e.setState({original:e.state.original})},placeholder:Object(m.a)("verify","say3"),maxLength:200})))),l.a.createElement("div",{className:"output"},l.a.createElement("p",{className:"title"},l.a.createElement("span",null," "),l.a.createElement("span",null,"\u8f93\u51fa\u8bbe\u7f6e")),l.a.createElement("p",{className:"sub"},Object(m.a)("statement","say1")),l.a.createElement("div",null,o)),l.a.createElement("div",{className:"output"},l.a.createElement("p",{className:"title"},l.a.createElement("span",null," "),l.a.createElement("span",null,"\u6dfb\u52a0\u6c34\u5370"),l.a.createElement("span",null," "),l.a.createElement(p.q,{size:"small",checked:this.state.theLogo||!1,onChange:function(t){e.setState({theLogo:t})}})),l.a.createElement("p",{className:"sub"}," "),l.a.createElement("div",null,l.a.createElement("div",{className:"only",onClick:function(){if(!e.state.theLogo)return void p.t.error("\u8bf7\u5f00\u542f\u6dfb\u52a0\u6c34\u5370\u6309\u94ae");u()("#logoFile").click()}},l.a.createElement("p",{className:""},l.a.createElement("span",{className:"ico iconfont icon-tianjiaguidao"}," "))),this.state.theLogoUrl?l.a.createElement("div",{className:"only"},l.a.createElement("img",{style:{opacity:0},src:A.a,alt:"",className:"stance"}),l.a.createElement("div",null,l.a.createElement("img",{onLoad:function(){e.props.playVideo()},id:"theLogoUrl",src:this.state.theLogoUrl,alt:""}))):""))),l.a.createElement("div",{className:"column column-right"},l.a.createElement("div",{className:"vision"}," "),l.a.createElement("div",{className:"screen-shot"},l.a.createElement("span",{className:"title"},l.a.createElement("span",null,Object(m.a)("main","thumbnail")),l.a.createElement("span",{className:"ico iconfont icon-shangchuan c-p",onClick:function(){u()("#snapFile").click()}}," "),l.a.createElement("span",{className:"ico iconfont icon-shuaxin c-p",onClick:function(){e.getSnapshot()}}," ")),l.a.createElement("div",{className:"crosswise column-right-crosswise"},t)))),l.a.createElement(E.a,{setting:this.state.alertInfo})),l.a.createElement("div",{className:"issue-btn-area"},l.a.createElement(p.a,{loading:this.state.loading,style:{opacity:this.props.issue.issue?1:.6},onClick:function(){e.props.issue.issue&&e.generateMovie()},type:"primary"},this.props.is_template?"\u5408\u6210":"\u786e\u8ba4\u5408\u6210"),l.a.createElement(p.a,{onClick:function(){e.props.close(),e.props.playVideo()},type:"primary"},"\u53d6\u6d88")))}}]),t}(l.a.Component);t.a=L},1606:function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=i(0),s=i.n(o),l=i(70),c=i.n(l),u=i(1372),h=(i.n(u),i(1378)),d=(i.n(h),i(52)),p=i(84),f=i(160),m=i(161),g=i(1607),v=i(1381),y=i(511),b=i(1373),_=i(1412),A=i(1608),E=i(1609),w=i(1612),x=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),T=d.g.Search,S=d.o.Option,C=0,k="get_media_list",O="all",P=Object(f.a)("main","all"),j="",I="",M="",R=[{code:1,name:Object(f.a)("main","material"),ico:"icon-sucai-weixuanzhong",icoSel:"icon-sucai-xuanzhong",children:[{code:11,name:"\u9879\u76ee\u7d20\u6750"},{code:12,name:"\u6211\u7684\u7d20\u6750"},{code:13,name:"\u5a92\u8d44\u7d20\u6750"}]},{code:2,name:Object(f.a)("main","text"),ico:"icon-wenzi-weidianji",icoSel:"icon-wenzi-dianji"},{code:3,name:Object(f.a)("main","trans"),ico:"icon-guoduweidianji",icoSel:"icon-guodu-dianji"},{code:4,name:Object(f.a)("main","music"),ico:"icon-yinxiao-weidianji",icoSel:"icon-yinxiao-dianji"},{code:5,name:Object(f.a)("main","graphics"),ico:"icon-tietu-weidianji",icoSel:"icon-tietu-dianji"},{code:6,name:Object(f.a)("main","subtitles"),ico:"icon-zimu-weidianji",icoSel:"icon-zimu-dianji"}],D=function(e){function t(e){n(this,t);var i=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.state={show_cloud:!1,show_cloudSvg:!1,data_list:[],mater_top_current:1,refresh:!0,importList:{},delete:{},uploadBuffer:[],value:0,showSearch:!1,showSubtitlesStyle:!1,text_info:{},accountnName:""},i}return a(t,e),x(t,[{key:"openRecord",value:function(){this.props.record(C)}},{key:"componentWillMount",value:function(){var e=this;Object(p.a)("get_userInfo","",function(t){e.setState({accountnName:t.name||""})},"","info")}},{key:"componentDidMount",value:function(){var e=this;this.refresh_mater_top(R[0]),setTimeout(function(){"get_project_material"===k&&e.refresh_mater_top(R[0])},3e3),this.state.sub_language="zh",y.a.refresh(function(t){e.refreshUpload(t)})}},{key:"componentWillUnmount",value:function(){clearTimeout(M),j.stop&&j.stop(),y.a.refresh()}},{key:"getVideoList",value:function(e){e?this.setState({show_cloudSvg:!0}):this.setState({show_cloud:!0})}},{key:"refreshUpload",value:function(e){if(console.info(e),"/online"===this.props.location.pathname)if(e){for(var t=[],i=0;i<e.length;i++)e[i].done||e[i].cancel_upload||!("get_media_list"===k&&!e[i].project_id||"get_project_material"===k&&e[i].project_id)||t.push(e[i]);var n=[];t.forEach(function(e,t){n.push(Object(A.a)(e))}),this.setState({uploadBuffer:n}),this.setDrag()}else this.refreshing()}},{key:"refreshing",value:function(){var e=this;if("/online"===this.props.location.pathname){var t="get_medias",i={m_type:k,dir_id:C||0,size:50};switch(k){case"get_project_material":t=k,i={project_id:this.props.project_id,media_type:O,name:I,m_type:0,dir_id:C||0};break;case"get_media_list":t=k,i={media_type:O,name:I,m_type:0,dir_id:C||0};break;case"get_system_material":t="get_media_source_list",i={size:50};break;case"subtitles":t="";break;case"graphics":i={media_type:"all",m_type:1,dir_id:C||0}}""===t||("_solo"===i.dir_id&&(t+="_solo",i.dir_id=0),new g.a(t,i,function(t){clearTimeout(M);for(var i=0;i<t.length;i++)if((0===t[i].status||4===t[i].status||6===t[i].status)&&t[i].add_time&&new Date-new Date(t[i].add_time)<18e6){M=setTimeout(function(){e.refreshing()},5e3);break}e.state.data_list=t,e.renderData(t)}))}}},{key:"renderData",value:function(e){var t=this,i=e||this.state.data_list;if("get_project_material"===k||e){var n=[],r="",a="";switch(k){case"text":r="text",a=8;break;case"transition":r="transition",a=1}if("get_media_list"===k||"get_project_material"===k){for(var o=y.a.getFiles(),l=[],c=0;c<o.length;c++)if(("get_media_list"===k&&!o[c].project_id||"get_project_material"===k&&o[c].project_id)&&!o[c].done&&!o[c].cancel_upload){var u=o[c];l.push(Object(A.a)(u)),console.info("refreshdata"),console.info(o[c])}this.state.uploadBuffer=l}else this.state.uploadBuffer=[];i.forEach(function(e,i){e.media_id=(e.media_id||e.id).toString();for(var o in e)e[o.replace(/([A-Z])/g,"_$1").toLowerCase()]=e[o];if(3!==e.status){var l={};e.media_type=e.media_type||r,e.duration=e.duration||a;var c="can";switch(e.media_type){case"video":c=e.media_url&&e.media_url.toLocaleLowerCase().indexOf(".hls")>0||e.preview_mp4||e.preview_hls?"can":"cannot";break;case"image":c=e.media_url&&(e.media_url.toLocaleLowerCase().indexOf("jpg")>0||e.media_url.toLocaleLowerCase().indexOf(".png")>0||e.media_url.toLocaleLowerCase().indexOf(".bmp")>0||e.media_url.toLocaleLowerCase().indexOf(".jpeg")>0)||1===e.status?"can":"cannot";break;case"audio":c=e.preview_mp3||e.audioPreviewMp3?"can":"cannot";break;case"text":"animation"===e.sub_type&&(e.preview_mp4=e.mp4_url||"",e.media_url=e.json_url)}if("animation"===e.sub_type&&(l={preload:"auto",bigPlayButton:!1,autoplay:!0,controls:!1,aspectRatio:"16:9",width:"100%",muted:!0,playbackRates:[2],loop:!0,sources:[{src:e.mp4_url,type:"video/mp4"}]}),"graphics"!==k||"audio"!==e.media_type){var u=s.a.createElement("div",{key:e.media_id||"","data-duration":e.duration?parseInt(25*e.duration)/25:"","data-mediaId":e.media_id,"data-mediaType":e.media_type,"data-mediaUrl":e.media_url,"data-thumbnail":e.thumbnail,title:e.name?e.name:"","data-name":e.name?e.name:"","data-previewHls":e.preview_hls?e.preview_hls:"","data-previewMp4":e.preview_mp4?e.preview_mp4:"","data-previewMp3":e.preview_mp3?e.preview_mp3:"","data-videoPreviewImg":e.video_preview_img,"data-audioPreviewImg":e.audio_preview_img,"data-uploading":c,"data-transType":e.trans_type?e.trans_type:"","data-subType":e.sub_type?e.sub_type:"","data-transName":e.name?e.name:"","data-startTime":0,"data-endTime":e.duration?parseInt(25*e.duration)/25:5,"data-startRange":0,"data-endRange":e.duration?parseInt(25*e.duration)/25:5,className:("get_media_list"===k?"can-del ":" ")+("get_project_material"!==k||t.props.used_list[e.media_id]?" ":"can-del project-mater ")+("transition"===e.media_type?"mater tran":"mater")},s.a.createElement("div",{className:"pic"},"audio"===e.media_type?s.a.createElement("span",{className:"icoImg ico iconfont icon-audio"}):s.a.createElement("img",{src:e.thumbnail?e.thumbnail:"",alt:""}),"animation"===e.sub_type?s.a.createElement("div",{className:"gif-preview"},s.a.createElement(v.a,Object.assign({id:"video"+i},l))):"",s.a.createElement("span",{className:"out_type status status-"+e.status},e.status_cn),e.duration&&"video"===e.media_type?s.a.createElement("p",{className:"duration"},s.a.createElement("span",{className:"ico iconfont  icon-yingpiangui"}," "),Object(m.g)(e.duration)," "):"","image"===e.media_type?s.a.createElement("p",{className:"duration"},s.a.createElement("span",{className:"ico iconfont icon-tupianicon"}," ")," "):"",e.duration&&"audio"===e.media_type?s.a.createElement("p",{className:"duration"},Object(m.g)(e.duration)," "):"",e.media_id&&-1!==e.media_id.indexOf("VCG")?s.a.createElement("p",{className:"copyright_ico"},s.a.createElement("span",{className:"ico iconfont icon-banquan"}," ")," "):"",t.props.used_list[e.media_id]&&"get_project_material"===k?s.a.createElement("p",{className:"used"}," "):"",!t.props.used_list[e.media_id]&&"get_project_material"===k||"get_media_list"===k?s.a.createElement("p",{className:"c-p online-material-del",onClick:function(){t.props.deleteMedia(e.media_id,k)}},s.a.createElement("span",{className:"ico iconfont icon-shanchu"}," ")," "):""),s.a.createElement("p",{className:"name"},e.name));"get_system_material"===k&&(u=s.a.createElement(d.l,{key:e.media_id||"",overlayClassName:"title-tips",color:"gray",placement:"right",content:s.a.createElement("div",{className:""},s.a.createElement("p",null,"\u5206\u8fa8\u7387:",e.width+" * "+e.height),s.a.createElement("p",null,"\u5927\u5c0f:",Object(m.i)(e.content_length)),s.a.createElement("p",null,"\u4e0a\u4f20\u4eba:",t.state.accountnName),s.a.createElement("p",null,"\u4e0a\u4f20\u65f6\u95f4:",e.add_time)),trigger:"hover"},u)),n.push(u)}}}),this.setState({items:n}),this.setDrag()}}},{key:"setDrag",value:function(){var e=this;setTimeout(function(){var t=c()(".control .pathway-box");c()(".material-main-list > div.mater ").each(function(i,n){"cannot"!==c()(n).attr("data-uploading")&&c()(n).draggable({cancel:"a.ui-icon",cursorAt:{top:20,left:20},helper:function(e,t){var i=c()(document.createElement("div"));i.css({margin:"6px 13px"});var n=c()(document.createElement("div"));return c()(".focused").removeClass("focused"),n.addClass("drag-layer"),n.append(c()(e.currentTarget).clone().removeClass("mater").addClass("focused").addClass("mater-helper").html('<div class="clip-item-thumbs"> </div><div class="trim trimL"></div><div class="trim trimR"></div>')),i.append(n),i},snapMode:"inner",snap:".mater-helper,.pathway",scope:"maters",scroll:!1,addClasses:!1,appendTo:".flex-column",delay:100,snapTolerance:e.props.auto_indent?10:0,start:function(t,i){var n=i.helper.find(".mater-helper");Object(_.a)(n,e.props.unit_length,e.props.unit_time),Object(b.k)(),setTimeout(function(){var t=n.attr("data-mediaid"),i=n.attr("data-mediaurl")||"";t.indexOf("VCG")>=0&&0===i.indexOf("[")&&Object(p.a)("import_plat_media",{plat:"VCG",project_id:e.props.project_id||"",data:i},function(){})})},drag:function(i,n){if(n.helper.hasClass("license")){var r=n.helper.find(".mater-helper"),a=r.offset(),o=t.offset().top,s=(t.find(".pathway").eq(0).offset().top,a.top),l=t.offset().left,c=(t.find(".pathway").eq(0).offset().left,a.left),u=r.attr("data-duration"),h=a.top-t.offset().top,d=c-l;setTimeout(function(){d>=0&&e.props.set_time_line_now(d);var t=d-e.props.time_line_start,i=t/e.props.unit_length*e.props.unit_time;Object(b.G)(r,i,i+1*u,Math.round(h/36.5),e.props.auto_indent?e.props.unit_time/e.props.unit_length:0,"replace")}),s-o>=5&&c-l>=0&&t.find(".pathway").each(function(e,t){})}},cursor:"move"})})})}},{key:"getMediaType",value:function(e){switch(O=e){case"all":P=Object(f.a)("main","all");break;case"video":P=Object(f.a)("main","video");break;case"audio":P=Object(f.a)("main","audio");break;case"image":P=Object(f.a)("main","image")}this.refreshing()}},{key:"getMaterial",value:function(e,t,i){switch(c()(".material-main-left").find("p").removeClass("current"),e&&(c()(e.target).children("p").length?c()(e.target).children("p").addClass("current"):c()(e.target).addClass("current")),I="",O="all",this.state.showSearch=!1,P=Object(f.a)("main","all"),i){case 11:k="get_project_material";break;case 12:k="get_media_list";break;case 13:k="get_system_material";break;case 2:k="text";break;case 3:k="transition";break;case 4:k="audio";break;case 5:k="graphics";break;case 6:k="subtitles";break;case 7:k="get_theme_list"}C=t,this.refreshing()}},{key:"refresh_mater_top",value:function(e){var t=this;switch(e.code){case 1:return k="get_project_material",void this.render_mater_second_top([{id:11,name:"\u9879\u76ee\u7d20\u6750"},{id:12,name:"\u6211\u7684\u7d20\u6750"},{id:13,name:"\u5a92\u8d44\u7d20\u6750"}],e.code);case 6:return k="subtitles",void this.setState({files:[]});default:k="get_medias"}Object(p.a)("get_directory_list",{dir_type:e.code},function(i){t.render_mater_second_top(i,e.code)},function(){t.render_mater_second_top([])})}},{key:"render_mater_second_top",value:function(e,t){var i=this,n=[];(e||[]).forEach(function(e,r){n.push(s.a.createElement("li",{key:e.id,id:e.id,onClick:function(n){i.getMaterial(n,e.id,1===t?e.id:t)}},s.a.createElement("p",null,e.name)))}),this.setState({files:n}),setTimeout(function(){c()(".material-main-left li").eq(0).click()},200)}},{key:"render",value:function(){var e=this,t=s.a.createElement(d.r,{className:"hover-box",onClick:function(){e.openRecord()}},s.a.createElement("span",{className:"dis-hover ico iconfont icon-luyin c-p"}," "),s.a.createElement("span",{className:"on-hover"},"\u5f55\u97f3")),i=(s.a.createElement(d.r,{className:"hover-box",onClick:function(){e.getVideoList("stager")}},s.a.createElement("span",{className:"dis-hover ico iconfont icon-sucaiku c-p"}," "),s.a.createElement("span",{className:"on-hover"}," \u7248\u6743\u7d20\u6750 ")),s.a.createElement(d.r,{className:"hover-box",onClick:function(){e.getVideoList()}},s.a.createElement("span",{className:"dis-hover ico iconfont icon-wangluosucai c-p"}," "),s.a.createElement("span",{className:"on-hover"},"\u7f51\u7edc\u7d20\u6750")),s.a.createElement(d.r,{className:"hover-box",onClick:function(){y.a.project_id="get_project_material"===k?e.props.project_id:"",c()("#file").click()}},s.a.createElement("span",{className:"dis-hover ico iconfont icon-shangchuan c-p"}," "),s.a.createElement("span",{className:"on-hover"},"\u4e0a\u4f20"))),n=this.state.showSearch?s.a.createElement(T,{size:"small",style:{width:180},placeholder:Object(f.a)("main","search"),onSearch:function(t){t||(e.state.showSearch=!1),I=t,e.refreshing()}}):s.a.createElement("span",{className:"searchBtn c-p",onClick:function(){e.setState({showSearch:!0})}},s.a.createElement("span",{className:"ico iconfont icon-sousuo"}," "),s.a.createElement("span",null,"\u641c\u7d22")),r=s.a.createElement(d.o,{value:O,style:{width:62},size:"small",onChange:function(t){e.getMediaType(t)}},s.a.createElement(S,{value:"all"},Object(f.a)("main","all")),s.a.createElement(S,{value:"video"},Object(f.a)("main","video")),s.a.createElement(S,{value:"audio"},Object(f.a)("main","audio")),s.a.createElement(S,{value:"image"},Object(f.a)("main","image"))),a=[];R.map(function(t,i){var n=e.state.mater_top_current;a.push(s.a.createElement("li",{key:i,type:t.code,className:n===t.code?"current":"",onClick:function(){e.state.mater_top_current=t.code,6===t.code?(k="subtitles",e.setState({files:[]})):e.refresh_mater_top(t)}},n===t.code?s.a.createElement("span",{className:"ico iconfont "+t.icoSel}," "):s.a.createElement("span",{className:"ico iconfont "+t.ico}," "),t.name))});var o=100,l=!1,u=this.state.uploadBuffer.concat(this.state.items);switch(this.state.mater_top_current){case 0:l=!0;break;case 1:l="get_system_material"!==k;break;case 7:o=0}return s.a.createElement("div",{className:"material source-list"},s.a.createElement("div",{className:"material-top"},s.a.createElement("ul",{className:"material-top-first"},a)),s.a.createElement(E.a,{playVideo:this.props.playVideo,setTransToAudio:this.props.setTransToAudio,transToAudio:this.props.transToAudio,visible:6===this.state.mater_top_current,project_id:this.props.project_id,subtitles_config:this.props.subtitles_config,subtitles_change:this.props.subtitles_change,refreshData:this.refreshing.bind(this),setShowStyle:function(){var t=Object(b.l)();e.state.text_info=t.text_info,e.props.setShowSubtitlesStyle(!0),e.setState({showSubtitlesStyle:!0})}}),6===this.state.mater_top_current?"":s.a.createElement("div",{className:"material-main"},s.a.createElement("div",{className:o?"material-main-left show-l":"material-main-left"},s.a.createElement("ul",{style:{marginLeft:0}},this.state.files)),s.a.createElement("div",{className:"material-main-right"},l?s.a.createElement("div",{className:"material-main-select select"},s.a.createElement("div",null,s.a.createElement("div",{style:{position:"absolute",zIndex:"-1",marginLeft:"-88px",paddingLeft:"30px",width:"300px",opacity:0}},s.a.createElement("input",{onChange:function(){y.a.upload()},type:"file",id:"file",multiple:!0})),t,i),s.a.createElement("div",null,n,s.a.createElement("span",{className:"sort-box"},r))):"",s.a.createElement("div",{className:"material-main-box"},s.a.createElement("div",{className:"material-main-list"},l?u:this.state.items)))),s.a.createElement(w.a,{show:this.state.showSubtitlesStyle,playVideo:this.props.playVideo,text_info:this.state.text_info,close:function(){e.props.setShowSubtitlesStyle(!1),e.setState({showSubtitlesStyle:!1})}}))}}]),t}(s.a.Component);t.a=D},1607:function(e,t,i){"use strict";function n(e,t,i,n){var r=this,s=t,l=this;s.page=1,s.limit=200;var c=[];this.refresh=function(e){s=e,s.page=1,l._loadMore()},o=function(){n&&n()&&r._loadMore()},this._loadMore=function(){Object(a.a)(e,s,function(e){e&&e.list&&(c=c.concat(e.list),s.page++,i(c))})},this._loadMore()}t.a=n;var r=i(70),a=(i.n(r),i(84)),o=function(){}},1608:function(e,t,i){"use strict";function n(e){return a.a.createElement("div",{key:(e.media_id||"")+Math.ceil(1e5*Math.random()),"data-duration":e.duration?parseInt(25*e.duration)/25:"","data-mediaId":e.media_id||"","data-mediaType":e.media_type||"","data-mediaUrl":e.media_url||"","data-thumbnail":e.thumbnail||"","data-uploading":e.thumbnail&&e.media_id?"can":"cannot","data-buffer":e.buffer,title:e.name?e.name:"","data-name":e.name?e.name:"","data-previewHls":e.preview_hls?e.preview_hls:"","data-previewMp4":e.preview_mp4?e.preview_mp4:"","data-previewMp3":e.preview_mp3?e.preview_mp3:"","data-videoPreviewImg":e.video_preview_img||"","data-audioPreviewImg":e.audio_preview_img||"","data-transType":e.trans_type?e.trans_type:"","data-subType":e.sub_type?e.sub_type:"","data-transName":e.name?e.name:"","data-startTime":0,"data-endTime":e.duration?parseInt(25*e.duration)/25:5,"data-startRange":0,"data-endRange":e.duration?parseInt(25*e.duration)/25:5,className:"can-del "+("transition"===e.media_type?"mater tran":"mater")+(e.thumbnail&&e.media_id?"":" uploading")},a.a.createElement("div",{className:"pic"},"audio"===e.media_type?a.a.createElement("span",{className:"icoImg ico iconfont icon-audio"}):a.a.createElement("img",{src:e.thumbnail?e.thumbnail:"",alt:""}),a.a.createElement("span",{className:"out_type status status-3",style:{width:(e.percent||0)+"%"}},"  "),e.duration&&"video"===e.media_type?a.a.createElement("p",{className:"duration"},a.a.createElement("span",{className:"ico iconfont  icon-yingpiangui"}," "),Object(s.g)(e.duration)," "):"","image"===e.media_type?a.a.createElement("p",{className:"duration"},a.a.createElement("span",{className:"ico iconfont icon-tupianicon"}," ")," "):"",e.duration&&"audio"===e.media_type?a.a.createElement("p",{className:"duration"},Object(s.g)(e.duration)," "):"",e.used?a.a.createElement("p",{className:"used"}," "):""),a.a.createElement("p",{className:"name"},e.name))}t.a=n;var r=i(0),a=i.n(r),o=i(70),s=(i.n(o),i(84),i(1373),i(161));i(1412)},1609:function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=i(0),s=i.n(o),l=i(70),c=i.n(l),u=i(52),h=i(84),d=i(1379),p=i(1417),f=i(1393),m=i(511),g=i(1373),v=i(161),y=i(1610),b=(i.n(y),function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}()),_=u.o.Option,A=u.k.error,E={"-1":"\u6162",0:"\u6b63\u5e38",1:"\u5feb"},w={name:"file",accept:".srt,.ass",action:"//jsonplaceholder.typicode.com/posts/",headers:{authorization:"authorization-text"},onChange:function(e){"uploading"!==e.file.status&&console.log(e.file,e.fileList),"done"===e.file.status?u.t.success(e.file.name+" file uploaded successfully"):"error"===e.file.status&&u.t.error(e.file.name+" file upload failed.")}},x=document.createElement("audio");x.autoplay=!0,x.onload=function(){x.play()};var T=!0,S=function(e){function t(){var e,i,a,o;n(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return i=a=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.state={modalVisible:!1,transAudioVisible:!1,sub_language:"zh",loading:!1,speed:0,person:0,language:"zh",font_list:[],translate:["zh","en"]},o=i,r(a,o)}return a(t,e),b(t,[{key:"componentWillUnmount",value:function(){Object(p.a)()}},{key:"componentWillMount",value:function(){this.setState({font_list:Object(d.b)()}),Object(f.c)(this.props.project_id),Object(p.c)(this.props.refreshData)}},{key:"toVoice",value:function(){var e=this.props.subtitles_config.list||[],t=c()(".pathway").find(".focused"),i=t.eq(0).attr("data-mediaId")||"",n=-1,r="";if(-1!==i.indexOf("text")){var a=Object(g.l)(),o=[];a.video_list&&a.video_list.map(function(e){return o=o.concat(e.obj_list||[])});var s=o&&o.filter(function(e){return e.obj_id===i});s=s&&s[0],s&&(r=this.getText(s.special.text),n=s.start_time)}var l=[],d="zh";if(i&&(e=e.filter(function(e){return e.text_id===i})),e.map(function(e,t){e.text&&(-1===n&&(n=e.start_time),l.push(e.text_id),d=e.language||d)}),!l.length&&!r)return void u.t.info("\u5f53\u524d\u6ca1\u6709\u6587\u5b57\u5185\u5bb9\uff01");for(var f in p.d)if("audio"===p.d[f].type)return void u.u.warning({duration:5,message:"\u8bf7\u7a0d\u540e",description:"\u5df2\u7ecf\u6709\u6587\u5b57\u8f6c\u8bed\u97f3\u4efb\u52a1\u5728\u6267\u884c"});u.t.info("\u5df2\u4e0b\u53d1\u6587\u5b57\u8f6c\u8bed\u97f3\u4efb\u52a1\uff0c\u8bf7\u7a0d\u540e"),this.props.setTransToAudio(!1),-1!==i.indexOf("text")?Object(h.a)("trans_str_to_audio",JSON.stringify({projectId:this.props.project_id,str:r,speed:this.state.speed,person:this.state.person}),function(e){p.d[e.taskId]={taskId:e.taskId,type:"audio",start:n}},"","all"):Object(h.a)("trans_text_to_audio",JSON.stringify({projectId:this.props.project_id,textId:l.join("|"),language:d,speed:this.state.speed,person:this.state.person,volume:5,pitch:4}),function(e){p.d[e.taskId]={taskId:e.taskId,type:"audio",start:n}},"","all")}},{key:"htmlDecodeByRegExp",value:function(e){var t="";return 0===e.length?"":(t=e.replace(/&amp;/g,"&"),t=t.replace(/&lt;/g,"<"),t=t.replace(/&gt;/g,">"),t=t.replace(/&nbsp;/g," "),t=t.replace(/&#39;/g,"'"),t=t.replace(/&quot;/g,'"'))}},{key:"getText",value:function(e){function t(e){for(var i=0;i<e.length;i++){var r=e[i];3===r.nodeType?n+=r.textContent:1===r.nodeType&&t(r.childNodes)}}var i=document.createElement("div"),n="";return i.innerHTML=this.htmlDecodeByRegExp(e),t(i.childNodes),n}},{key:"render",value:function(){var e=this,t=[];[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1].length=18;var i=this.props.subtitles_config.list,n=this.props.subtitles_config.current,r=[],a=[];f.d.map(function(e,t){e.selected&&a.push(s.a.createElement(_,{key:t,value:e.language},e.desc)),r.push(s.a.createElement(_,{key:t,value:e.language},e.desc))});var o=[],l={};f.d.map(function(t,i){e.state.translate[0]!==t.language&&o.push(s.a.createElement(_,{key:i,value:t.language},t.desc)),l[t.language]=t.selected}),i.length&&i.map(function(e,i){t.push(s.a.createElement("div",{key:i,className:i===n?"current":"",onMouseDown:function(){Object(f.f)(i)}},s.a.createElement("div",{className:"left"},Object(v.j)(1*e.start_time||0)+"~"+Object(v.j)(e.end_time||5)),s.a.createElement("div",{className:"right"},e.chinese_id?s.a.createElement("textarea",{className:"chinese",name:e.chinese_id,value:e.chinese,onFocus:function(){Object(f.f)(i)},onChange:function(t){Object(f.g)(t.target.value,e.chinese_id)},onBlur:function(t){Object(f.j)(e,"","chinese")},type:"text"}):"",s.a.createElement("textarea",{className:e.chinese_id?"chinese otherLanguages":"",name:e.text_id,value:e.text,onFocus:function(){Object(f.f)(i)},onChange:function(t){Object(f.g)(t.target.value,e.text_id)},onBlur:function(t){Object(f.j)(e)},type:"text"}),s.a.createElement("span",{onClick:function(){Object(f.k)([e.text_id])},type:"close-circle",className:"ico "},"X "))," "))});var d=[];this.state.font_list.map(function(e,t){d.push(s.a.createElement(_,{key:t,value:e.code},e.name))});var p=(s.a.createElement(u.r,{className:"hover-box",type:"upload",onClick:function(){c()("#file").click()}},s.a.createElement("span",{className:"dis-hover ico iconfont icon-shangchuan c-p"}," "),s.a.createElement("span",{className:"on-hover"},"\u4e0a\u4f20\u5b57\u5e55")),s.a.createElement(u.s,w,s.a.createElement(u.r,{className:"hover-box",onClick:function(){}},s.a.createElement("span",{className:"dis-hover ico iconfont icon-shangchuan c-p"}," "),s.a.createElement("span",{className:"on-hover"},"\u4e0a\u4f20\u5b57\u5e55"))),s.a.createElement(u.r,{className:"hover-box",onClick:function(){if(!e.props.subtitles_config.list.length)return void A({title:"\u5f53\u524d\u8fd8\u6ca1\u6709\u5b57\u5e55",style:{top:200}});e.props.setTransToAudio(!0)}},s.a.createElement("span",{className:"dis-hover ico iconfont icon-wenzizhuanyuyin c-p"}," "),s.a.createElement("span",{className:"on-hover"},"\u6587\u5b57\u8f6c\u8bed\u97f3"))),g=(s.a.createElement(u.r,{className:"hover-box",onClick:function(){if(!e.props.subtitles_config.list.length)return void A({title:"\u5f53\u524d\u8fd8\u6ca1\u6709\u5b57\u5e55",style:{top:200}});e.setState({modalVisible:!0})}},s.a.createElement("span",{className:"dis-hover ico iconfont icon-fanyi c-p"}," "),s.a.createElement("span",{className:"on-hover"},"\u7ffb\u8bd1\u4e0e\u5bf9\u7167")),s.a.createElement(u.r,{className:"hover-box",onClick:function(){T&&(T=!1,e.props.subtitles_change(),setTimeout(function(){T=!0},400))}},s.a.createElement("span",{className:"dis-hover ico iconfont icon-tianjiazimu c-p"}," "),s.a.createElement("span",{className:"on-hover"},"\u6dfb\u52a0\u5b57\u5e55")));return s.a.createElement("div",{className:"material-main subtitles-column",style:this.props.visible?{visibility:"visible"}:{visibility:"hidden",width:0,maxWidth:0,overflow:"hidden"}},s.a.createElement("div",{className:"material-main-right"},s.a.createElement("div",{className:"material-main-select select"},s.a.createElement("div",{className:"c-p"},s.a.createElement("div",{style:{position:"absolute",zIndex:"-1",marginLeft:"-888px",paddingLeft:"30px",width:"300px",opacity:0}},s.a.createElement("input",{onChange:function(){m.a.upload(0,e.props.project_id,e.props.group_id)},type:"file",id:"file",multiple:!0})),p,g),s.a.createElement("div",null,s.a.createElement("span",{className:"subtitlesStyle c-p",onClick:function(){if(!e.props.subtitles_config.list.length)return void A({title:"\u5f53\u524d\u8fd8\u6ca1\u6709\u5b57\u5e55",style:{top:200}});e.props.setShowStyle()}},s.a.createElement("span",{className:"ico iconfont icon-yangshi"}," "),s.a.createElement("span",null,"\u6837\u5f0f")))),s.a.createElement("div",{className:"material-main-box"},s.a.createElement("div",{className:"subtitles-content-box"},s.a.createElement("div",{className:"material-main-list subtitles-content subtitles"},t,i.length?"":s.a.createElement("span",{className:"hasnone subtitles-kong c-p",onClick:function(){T&&(T=!1,e.props.subtitles_change(),setTimeout(function(){T=!0},400))}},s.a.createElement("svg",{className:"logo icon","aria-hidden":"true"},s.a.createElement("use",{xlinkHref:"#icon-zimukong_"}," ")),s.a.createElement("p",null,s.a.createElement("span",null,"\u60a8\u8fd8\u6ca1\u6709\u5b57\u5e55\u8bf7\u70b9\u51fb\u6dfb\u52a0\u5b57\u5e55")))),this.props.subtitles_config.list.length?s.a.createElement("div",{className:"subtitles-add subtitles-add-only",onClick:function(){T&&(T=!1,e.props.subtitles_change(),setTimeout(function(){T=!0},400))}},s.a.createElement("div",{className:"right"},"\u5355\u51fb\u8fd9\u91cc\u7c98\u8d34\u6216\u8f93\u5165\u5b57\u5e55")):""))),s.a.createElement(u.k,{title:"",className:"subtitles-modal btn-black",visible:this.state.modalVisible,style:{height:336,width:711},footer:[s.a.createElement(u.a,{key:"submit",type:"primary",loading:this.state.loading,onClick:function(){Object(h.a)("translate",{src_language:e.state.translate[0],dst_language:e.state.translate[1],project_id:e.props.project_id},function(t){Object(f.b)(e.state.translate[1],e.state.translate[0]),e.setState({sub_language:e.state.translate[1]}),e.setState({modalVisible:!1}),f.d.map(function(t){t.language!==e.state.translate[0]&&t.language!==e.state.translate[1]||(t.selected=!0)})},"","all")}},"\u7ffb\u8bd1"),s.a.createElement(u.a,{style:{opacity:l[this.state.translate[0]]&&l[this.state.translate[1]]?1:.6},key:"back",type:"primary",onClick:function(){l[e.state.translate[0]]&&l[e.state.translate[1]]&&(Object(f.b)(e.state.translate[1],e.state.translate[0]),e.setState({sub_language:e.state.translate[1]}),e.setState({modalVisible:!1}))}},"\u5bf9\u7167")],onCancel:function(){e.setState({modalVisible:!1})}},s.a.createElement("div",{className:"flex-around m-10-0"},s.a.createElement("div",null,"\u6e90\u8bed\u8a00\uff1a",s.a.createElement(u.o,{defaultValue:f.d[0].language,style:{width:184},onChange:function(t){e.state.translate[0]=t,e.setState({translate:e.state.translate})}},r)),s.a.createElement("div",null,"\u76ee\u6807\u8bed\u8a00\uff1a",s.a.createElement(u.o,{defaultValue:f.d[1].language,style:{width:220},onChange:function(t){e.state.translate[1]=t,e.setState({translate:e.state.translate})}},o)))),s.a.createElement(u.k,{title:"",className:"trans-audio-modal btn-black",visible:!!this.props.transToAudio,style:{height:432,width:711},footer:[s.a.createElement(u.a,{key:"submit",type:"primary",loading:this.state.loading,onClick:function(){e.toVoice()}},"\u4fdd\u5b58"),s.a.createElement(u.a,{style:{opacity:l[this.state.translate[0]]&&l[this.state.translate[1]]?1:.6},key:"back",onClick:function(){e.props.setTransToAudio(!1)}},"\u53d6\u6d88")],onCancel:function(){e.props.setTransToAudio(!1)}},s.a.createElement("div",{className:"flex-around m-10-0"},s.a.createElement("div",{className:"title"},s.a.createElement("span",null,"\u6587\u5b57\u8f6c\u8bed\u97f3"),s.a.createElement("span",{className:"border"}," ")),s.a.createElement("div",{className:"box"},s.a.createElement("div",{className:"name"},"\u914d\u97f3\u6a21\u677f"),s.a.createElement("div",{className:"list"},s.a.createElement("div",{className:0===this.state.person?"current":" ",onMouseEnter:function(){},onClick:function(){e.setState({person:0})}},s.a.createElement("svg",{"aria-hidden":"true"},s.a.createElement("use",{xlinkHref:"#icon-putongnansheng-weixuanzhong"}," ")),s.a.createElement("svg",{className:"use","aria-hidden":"true"},s.a.createElement("use",{xlinkHref:"#icon-putongnansheng-xuanzhong"}," ")),s.a.createElement("span",null,"\u5973\u58f0")),s.a.createElement("div",{className:1===this.state.person?"current":" ",onMouseEnter:function(){},onClick:function(){e.setState({person:1})}},s.a.createElement("svg",{"aria-hidden":"true"},s.a.createElement("use",{xlinkHref:"#icon-putongnvsheng-weixuanzhong"}," ")),s.a.createElement("svg",{className:"use","aria-hidden":"true"},s.a.createElement("use",{xlinkHref:"#icon-putongnvsheng-xuanzhong"}," ")),s.a.createElement("span",null,"\u7537\u58f0"))),s.a.createElement("div",{className:"tail"},s.a.createElement("div",{className:"name"},"\u6717\u8bfb\u901f\u5ea6"),s.a.createElement("div",{className:"bar"},s.a.createElement(u.p,{min:-1,max:1,marks:E,step:1,value:this.state.speed,onChange:function(t){e.setState({speed:t})}})))))))}}]),t}(s.a.Component);t.a=S},1610:function(e,t,i){var n=i(1611);"string"===typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0};r.transform=void 0;i(71)(n,r);n.locals&&(e.exports=n.locals)},1611:function(e,t,i){t=e.exports=i(59)(!1),t.push([e.i,".subtitles-content-box {\n  height: 100%;\n  background-color: #eee; }\n  .subtitles-content-box .subtitles-content-tab {\n    height: 30px;\n    display: flex;\n    position: absolute;\n    width: 100%;\n    z-index: 1;\n    background-color: white;\n    justify-content: space-between;\n    align-items: center; }\n    .subtitles-content-box .subtitles-content-tab .left {\n      width: 200px;\n      display: flex;\n      align-items: center;\n      justify-content: center; }\n    .subtitles-content-box .subtitles-content-tab .right {\n      width: 200px;\n      display: flex;\n      align-items: center;\n      justify-content: center; }\n    .subtitles-content-box .subtitles-content-tab .translate {\n      font-size: 13px; }\n  .subtitles-content-box .subtitles-add {\n    position: absolute;\n    background-color: white;\n    bottom: 0;\n    width: 100%;\n    display: flex;\n    height: 40px;\n    line-height: 40px;\n    border-top: 1px solid #ebebeb; }\n    .subtitles-content-box .subtitles-add:hover {\n      opacity: 0.8;\n      cursor: pointer; }\n    .subtitles-content-box .subtitles-add.subtitles-add-only {\n      height: 55px;\n      line-height: 55px; }\n    .subtitles-content-box .subtitles-add .right {\n      flex: 1;\n      color: #C7C7C7;\n      cursor: pointer;\n      text-align: center; }\n  .subtitles-content-box .subtitles-kong {\n    top: 18vh; }\n    .subtitles-content-box .subtitles-kong:hover {\n      opacity: 0.8;\n      cursor: pointer; }\n    .subtitles-content-box .subtitles-kong.hasnone {\n      min-height: auto; }\n      .subtitles-content-box .subtitles-kong.hasnone > svg {\n        width: 126px; }\n",""])},1612:function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=i(0),s=i.n(o),l=i(70),c=i.n(l),u=i(52),h=i(1430),d=(i.n(h),i(1379)),p=i(161),f=i(1373),m=i(1613),g=i(1614),v=i.n(g),y=i(1615),b=i.n(y),_=i(1616),A=i.n(_),E=i(1617),w=i.n(E),x=i(1618),T=i.n(x),S=i(1619),C=i.n(S),k=i(1620),O=i.n(k),P=i(1621),j=i.n(P),I=i(1622),M=i.n(I),R=i(1623),D=i.n(R),L=i(1624),N=i.n(L),B=i(1625),F=i.n(B),U=i(1626),z=i.n(U),H=i(1627),V=(i.n(H),function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}()),G=[{name:"\u5b57\u4f53",ico:"icon-ziti",index:0},{name:"\u80cc\u666f",ico:"icon-beijing",index:2},{name:"\u9884\u8bbe\u6837\u5f0f",ico:"icon-yangshi",index:3}],q=[{name:"\u65e0",src:v.a,index:0,attr:{position_x:"middle",position_y:50,background_color:"000000",font_color:"ffffff",font_size:50,alpha:0,status:!0,font_name:"FZShuSong-Z01S"}},{name:"\u5b57\u5e55",src:b.a,index:1,attr:{position_x:"middle",position_y:50,background_color:"000000",font_color:"ffffff",font_size:70,alpha:0,status:!0}},{name:"\u5c0f\u5b57\u5e55",src:A.a,index:2,attr:{position_x:"middle",position_y:50,background_color:"000000",font_color:"ffffff",font_size:30,alpha:0,status:!0}},{name:"\u900f\u660e\u80cc\u666f\u5b57\u5e55",src:w.a,index:3,attr:{position_x:"middle",position_y:50,background_color:"000000",font_color:"ffffff",font_size:70,alpha:.5,status:!0}},{name:"\u900f\u660e\u80cc\u666f\u5c0f\u5b57\u5e55",src:T.a,index:4,attr:{position_x:"middle",position_y:50,background_color:"000000",font_color:"ffffff",font_size:60,alpha:.5}},{name:"\u900f\u660e\u80cc\u666f\u5927\u5b57\u5e55",src:C.a,index:5,attr:{position_x:"middle",position_y:50,background_color:"000000",font_color:"ffffff",font_size:80,alpha:.5}},{name:"\u9ed1\u5e95\u5b57\u5e55",src:O.a,index:6,attr:{position_x:"middle",position_y:50,background_color:"000000",font_color:"ffffff",font_size:70,alpha:1}},{name:"\u9ed1\u5e95\u5c0f\u5b57\u5e55",src:j.a,index:7,attr:{position_x:"middle",position_y:50,background_color:"000000",font_color:"ffffff",font_size:60,alpha:1}},{name:"\u9ed1\u5e95\u5927\u5b57\u5e55",src:M.a,index:8,attr:{position_x:"middle",position_y:50,background_color:"000000",font_color:"ffffff",font_size:80,alpha:1}},{name:"\u5927\u5b57\u5e55",src:D.a,index:9,attr:{position_x:"middle",position_y:50,background_color:"000000",font_color:"ffffff",font_size:90,alpha:0}},{name:"\u767d\u5e95\u5b57\u5e55",src:N.a,index:10,attr:{position_x:"middle",position_y:50,background_color:"ffffff",font_color:"000000",font_size:70,alpha:1}},{name:"\u767d\u5e95\u5c0f\u5b57\u5e55",src:F.a,index:11,attr:{position_x:"middle",position_y:50,background_color:"ffffff",font_color:"000000",font_size:60,alpha:1}},{name:"\u767d\u5e95\u5927\u5b57\u5e55",src:z.a,index:12,attr:{position_x:"middle",position_y:50,background_color:"ffffff",font_color:"000000",font_size:80,alpha:1}}],W=u.o.Option,Y=u.n.Group,X={},Q=function(e){function t(e){n(this,t);var i=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.onChange=function(e){i.setState({value:e.target.value});Object(f.l)();i.props.playVideo()},i.mouseUp=function(e){var t=c()("#sec4-canvas"),n=parseInt(t.css("height")),r=c()("#subtitles-show").offset()&&1*c()("#subtitles-show").offset().top,a=1*e.clientY,o=1*X.position_y,s=(o-(a-r)/n*1080).toFixed(2);s=s>1080?1080:s,s=s<0?0:s,Object(f.l)().text_info.position_y=s,i.props.playVideo()},i.state={styleTab:0,font_list:[],value:2,styleListValue:0},i}return a(t,e),V(t,[{key:"componentWillMount",value:function(){this.setState({font_list:Object(d.b)()});var e=Object(f.l)();q[0].attr=e.text_info}},{key:"componentWillUnmount",value:function(){}},{key:"componentDidMount",value:function(){c()(".sec-box").mouseup(this.mouseUp)}},{key:"render",value:function(){var e=this;X=Object(f.l)().text_info||{font_size:50,status:!0,font_color:"ffffff",font_name:"FZShuSong-Z01S",background_color:"000000",alpha:0,position_x:"middle",position_y:50},JSON.stringify(this.props.text_info);var t=[];return this.state.font_list.map(function(e,i){t.push(s.a.createElement(W,{key:i,value:e.code},e.name))}),s.a.createElement("div",{className:"subtitlesStyle-container "+(this.props.show?"":"hidden")},s.a.createElement("div",{className:"subtitlesStyle-left"},s.a.createElement("ul",{style:{marginLeft:0}},G.map(function(t,i){return s.a.createElement("li",{key:i,className:e.state.styleTab===t.index?"current":"",onClick:function(){e.setState({styleTab:t.index})}},s.a.createElement("span",{className:"ico iconfont "+t.ico}," "),s.a.createElement("p",null,t.name))}))),s.a.createElement("div",{className:"subtitlesStyle-right"},0===this.state.styleTab?s.a.createElement("div",{className:"subtitlesStyle-typeFace"},s.a.createElement("div",null,s.a.createElement("div",{className:"name"},"\u5b57\u7b26"),s.a.createElement("div",null,s.a.createElement(u.o,{defaultValue:X.font_name,style:{width:146},size:"small",onChange:function(t){var i=Object(f.l)();X.font_name=t,i.text_info=X,e.props.playVideo()}},t))),s.a.createElement("div",null,s.a.createElement("div",{className:"name"},"\u5bf9\u9f50"),s.a.createElement("div",null,s.a.createElement(m.a,{data:["left","middle","right"],width:160,current:X.position_x||"left",setCurrent:function(t){var i=Object(f.l)();X.position_x=t,i.text_info=X,e.props.playVideo()}}))),s.a.createElement("div",null,s.a.createElement("div",{className:"name"},"\u989c\u8272"),s.a.createElement("div",null,s.a.createElement(u.l,{trigger:"click",content:s.a.createElement(h.SketchPicker,{color:Object(p.c)("#"+X.font_color,1),disableAlpha:!0,onChangeComplete:function(t){if(t.rgb){var i=Object(f.l)();X.font_color=t.hex.substr(1),i.text_info=X,e.props.playVideo()}}})},s.a.createElement("div",{className:"color-picker"},s.a.createElement("div",{style:{background:Object(p.c)("#"+X.font_color,1)}}," ")," ")))),s.a.createElement("div",null,s.a.createElement("div",{className:"name"},"\u5927\u5c0f"),s.a.createElement("div",null,s.a.createElement(u.p,{min:0,max:200,style:{width:150},onChange:function(t){Object(f.l)().text_info.font_size=t,e.props.playVideo()},value:X.font_size}),s.a.createElement(u.h,{min:0,max:200,size:"small",style:{marginLeft:10,width:60},value:X.font_size,onChange:function(t){var i=1*t;if(!isNaN(i)){Object(f.l)().text_info.font_size=i>200?200:i<0?0:i}e.props.playVideo()}})))):"",1===this.state.styleTab?s.a.createElement("div",{className:"subtitlesStyle-show"},s.a.createElement("div",null,s.a.createElement("div",null,s.a.createElement(Y,{onChange:this.onChange,value:this.state.value},s.a.createElement(u.n,{value:1},"\u5355\u8bed\u8a00"),s.a.createElement(u.n,{value:2},"\u53cc\u8bed\u8a00"))))):"",2===this.state.styleTab?s.a.createElement("div",{className:"subtitlesStyle-background"},s.a.createElement("div",null,s.a.createElement("div",{className:"name"},"\u80cc\u666f\u989c\u8272"),s.a.createElement("div",null,s.a.createElement(u.l,{trigger:"click",content:s.a.createElement(h.SketchPicker,{color:Object(p.c)("#"+X.background_color,X.alpha),onChangeComplete:function(t){var i=t.rgb;if(i){var n=Object(f.l)();X.alpha=i.a||0,X.background_color=t.hex.substr(1),n.text_info=X,e.props.playVideo()}}})},s.a.createElement("div",{className:"color-picker"},s.a.createElement("div",{style:{background:Object(p.c)("#"+X.background_color,X.alpha)}}," ")," ")))),s.a.createElement("div",null,s.a.createElement("div",{className:"name"},"\u5e95\u90e8\u8ddd\u79bb"),s.a.createElement("div",null,s.a.createElement(u.p,{min:0,max:1080,style:{width:150},onChange:function(t){Object(f.l)().text_info.position_y=t,e.props.playVideo()},value:X.position_y})))):"",3===this.state.styleTab?s.a.createElement("div",{className:"subtitlesStyle-style"},s.a.createElement("ul",null,q.map(function(t,i){return s.a.createElement("li",{key:i,onClick:function(){if(e.setState({styleListValue:t.index}),t.attr){var i=Object(f.l)();i.text_info=c.a.extend(i.text_info,t.attr),e.props.playVideo()}}},s.a.createElement("div",{className:"pic"},s.a.createElement("img",{src:t.src,alt:""}),e.state.styleListValue===t.index?s.a.createElement("span",{className:"current-tip"},s.a.createElement("span",{className:"ico iconfont icon-duigou"}," ")):""),s.a.createElement("p",{className:"name"},t.name))}))):"",s.a.createElement("span",{className:"subtitlesStyle-button"},s.a.createElement(u.a,{type:"primary",onClick:function(){e.props.close()}},"\u8fd4\u56de"))))}}]),t}(s.a.Component);t.a=Q},1613:function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=i(0),s=i.n(o),l=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),c=function(e){function t(e){n(this,t);var i=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.state={batch:!1},i}return a(t,e),l(t,[{key:"cancelSelect",value:function(e){this.props.items.map(function(t,i){t.selected=e||!1}),this.props.setItems(this.props.items)}},{key:"render",value:function(){var e=this,t=[];return this.props.data.map(function(i,n){var r="zuoduiqi";switch(i){case"left":r="zuoduiqi";break;case"middle":r="juzhongduiqi";break;case"right":r="youduiqi"}t.push(s.a.createElement("div",{key:n,className:i===e.props.current?"current c-p":"c-p",onClick:function(){e.props.setCurrent(i)}},s.a.createElement("span",{className:"ico iconfont icon-"+r}," ")))}),s.a.createElement("div",{className:"little-tip",style:{width:this.props.width?this.props.width+"px":"100%"}},t)}}]),t}(s.a.Component);t.a=c},1614:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAABaCAYAAAA/xl1SAAAAAXNSR0IArs4c6QAABxpJREFUeAHtnYtS2zgUhhWSEEICJEBpw2W77/8y+wq7yyUtLSRAwj2w+tVxe3ziXJSo64n1nxnGdiRLZ359I1vHkij1B8N3Q6MCOSmwllO9rJYKOAUIIEHIVQECmKv8rJwAkoFcFSCAucrPygkgGchVAQKYq/ysnACSgVwVIIC5ys/KCSAZyFUBApir/KycAJKBXBUggLnKz8oJIBnIVQECmKv8rJwAkoFcFSCAucrPygkgGchVAQKYq/ysnACSgVwVIIC5ys/KCSAZyFUBApir/Ky8QgnmU+D9/d083A/N89OTeXl5MaPXV/Nq/2CVSsWU7V+1WjXrtZqpbzZMqVSar+DIcxHAKQC8vb2Z4d2dGQ7uzP1waHA9j62trZnNRsM0mlumsbVlcE3LVqDEnRGyhbm96Zvrb99+9nLZuWb/it5x98MHs73Tmp05whwEUDX6/XBgvl9euketSlrqEo/m/YMD2zM2lyqnaDcTQNGivavv5sr2epNso153j9baRt29962VywZvesk74cvLs31cD8zjw8OkIsye7Q3be/sT02NLIIC2xTHA+Nq9MIPb27H2xyN0Z3fXPULLFrh5bDR6tWXdGQCdDFTkfc3tbfOxc8iBihUlegAB38Xpv3aEey8ZcXDg3a3V3l0YFAxabnrXFsSrsQFMfXPTHJ78sXDZKWdX+CJ6AC+7XYMBhzSEUzrHJy6kIn9f9Pzl+dl0z8/G3isxMDnodBYtthD3RR0f6F9fj8GHVsU7HeJ9oay6vm6OP/85NgAB+PAhZosWwKfHRzva/Tqx7b9cnGe+E068YUYCYoGHJyduECOzwgf4EqtFC6CGD72UDhiHhhCQfTo8MqhLmvZFphX9PEoAEevTgw6AgUFBJoT2a0goQ+imc3ScGnzAF/gUo0UJIALN0hCXq21sGMT5MiG0A4hBQAgRlN5pt6ULLvid+iGSi+gARJBYDjDQ47VsnC+x/wvC9u5eqreFT9MC2Il/RTtGByAmF0jbbrWMDjADQoRhxh7HtifEl44QhtkzOzbGKE37JtOKeh4dgAM7s0XaTiv9KEzSECj+3RA2t7eS6txR+5ZKLOhFVAAiIIy/xBBw1iPSJA3HBEI5tw9fTr64njANsrxv3vNabcN9U07ya/+S34t8jArAJxVcxsTRWZb1yewHhOdunuCs+2elbzbTs2O0j7PuX/X0qADELGZpGPnOY5N7wvOlwye6B9Y+zuPfKueJCkA9M0UPPqY1JGY4451QP467Z2dLQVgppyelax+n+VSEtKgA1L0LRqI+BggPA0OofdA++vi3inmjAlA3EN7lfK3uesL0lwyUg57wwa4b8TXZo/reW4T8UQEYqrfBtPrO8TiEF2enbvGSDxi6x9M++pS1inmjAhCzm6W92pnLi9okCLueEI5Go5QL2sdUYgEvogJQ9y4yJrhI24aAUE/F0j4u4tcq3RMVgDU7CUDafYDPaoDw09FRxuj4dGzGjaw7Ocdid2naR5lWxPOoAETMTcbdEPJ4elp+MigWoH9SU6x+DEymQ+i+fNjZ14lp/5Lfi3yMCkA0ZNPCIg2r10JYw37RAITSsCgJ74R67mGS56bfS07dUfuWSizoRXQAYqsMaVi1pkeiMt3nfBqEeqoVBh+3/fRiKO2bT92rmjc6ADHVSn6CQy/Vu74K1n5NC3hWT4ilnxJCLEaSe80kE2KDObIiBUUHINoFuxNIu+n1UpNUZdoi57MgxMgXi9alaZ9kWpHPowQQI1dMMEjMDRjsFKs3FZNL0hc5OgjtOhNp6PHQE2KxkzT4Ap9itCgBREPvH3xMtTdGpBqMVIYFLrAFBxY7SQOEOv6ofZH5i34eLYB459INjz0AL05PU+9mywKQBaEsEz7Id1KZFsN5tACicbEYSe/bh+WRZ//8PdZLLQMDVsFh9rU21C0XROn0GK6j3xsG739ZmxNhQVJ7b88tHNKLk+YFA2X3bZgHG13iXFrWTGuZHst59ACioQHHtO3ZsG4YC4jKavLoJEhcjM/u+3JjQy1ZE0y5Pdsv5QjgLy1caGTWBpUINler6z83JUe/htGz+6z3+OC+ekz68oGquEGlENyeEsC0Hm56PbfoVaL8xksCOEFcblI+QZjAPxPAKYIiZsd/0zBFoABJBHBOETFQ4T+qmVMsj2wE0EMsZg2vQNSB6PByskRfBQigr2LMH1QBAhhUThbmqwAB9FWM+YMqQACDysnCfBUggL6KMX9QBQhgUDlZmK8CBNBXMeYPqgABDConC/NVgAD6Ksb8QRUggEHlZGG+ChBAX8WYP6gCBDConCzMVwEC6KsY8wdVgAAGlZOF+SpAAH0VY/6gChDAoHKyMF8FCKCvYswfVAECGFROFuarAAH0VYz5gypAAIPKycJ8FSCAvooxf1AFKqZk/gpaIgujAh4K/AeZNtNCx8l5kwAAAABJRU5ErkJggg=="},1615:function(e,t,i){e.exports=i.p+"static/media/model001.db888c2c.png"},1616:function(e,t,i){e.exports=i.p+"static/media/model002.caa413b9.png"},1617:function(e,t,i){e.exports=i.p+"static/media/model003.acef3574.png"},1618:function(e,t,i){e.exports=i.p+"static/media/model004.63498ce0.png"},1619:function(e,t,i){e.exports=i.p+"static/media/model005.b7a9017d.png"},1620:function(e,t,i){e.exports=i.p+"static/media/model006.a765ca20.png"},1621:function(e,t,i){e.exports=i.p+"static/media/model007.0ff0862a.png"},1622:function(e,t,i){e.exports=i.p+"static/media/model008.1a41c9fa.png"},1623:function(e,t,i){e.exports=i.p+"static/media/model009.9e4da422.png"},1624:function(e,t,i){e.exports=i.p+"static/media/model010.a06bc812.png"},1625:function(e,t,i){e.exports=i.p+"static/media/model011.e9a5856b.png"},1626:function(e,t,i){e.exports=i.p+"static/media/model012.9fe4ebd7.png"},1627:function(e,t,i){var n=i(1628);"string"===typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0};r.transform=void 0;i(71)(n,r);n.locals&&(e.exports=n.locals)},1628:function(e,t,i){t=e.exports=i(59)(!1),t.push([e.i,'.subtitlesStyle-container {\n  position: absolute;\n  background-color: #ffffff;\n  width: 100%;\n  height: 100%;\n  z-index: 180;\n  display: flex; }\n  .subtitlesStyle-container.hidden {\n    display: none; }\n  .subtitlesStyle-container .subtitlesStyle-left {\n    height: 100%;\n    width: 120px;\n    background-color: #F7F7F7; }\n    .subtitlesStyle-container .subtitlesStyle-left li {\n      border-left: 2px solid transparent;\n      height: 70px;\n      font-size: 12px;\n      color: #c1c1c1;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      flex-direction: column;\n      border-bottom: 1px solid #EBEBEB; }\n      .subtitlesStyle-container .subtitlesStyle-left li .iconfont {\n        font-size: 18px; }\n      .subtitlesStyle-container .subtitlesStyle-left li.current {\n        border-left: 2px solid #00A0DE;\n        background: #FFFFFF;\n        color: #000000; }\n  .subtitlesStyle-container .subtitlesStyle-right {\n    flex: 1;\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    align-items: flex-end; }\n    .subtitlesStyle-container .subtitlesStyle-right > div {\n      width: 100%;\n      margin-top: 32px;\n      overflow-y: auto; }\n      .subtitlesStyle-container .subtitlesStyle-right > div > div {\n        display: flex;\n        align-items: center;\n        height: 50px;\n        width: 90%;\n        margin: 0 auto;\n        background: #F9F9F9;\n        border-radius: 10px;\n        margin-bottom: 26px;\n        padding-left: 30px; }\n        .subtitlesStyle-container .subtitlesStyle-right > div > div > div {\n          display: flex;\n          align-items: center; }\n    .subtitlesStyle-container .subtitlesStyle-right .name {\n      min-width: 40px;\n      margin-right: 30px;\n      font-size: 12px;\n      color: #999999; }\n    .subtitlesStyle-container .subtitlesStyle-right .color-picker {\n      width: 46px;\n      cursor: pointer;\n      overflow: hidden;\n      border: 3px solid #E1E1E1;\n      background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAMUlEQVQ4T2NkYGAQYcAP3uCTZhw1gGGYhAGBZIA/nYDCgBDAm9BGDWAAJyRCgLaBCAAgXwixzAS0pgAAAABJRU5ErkJggg==");\n      border-radius: 5px;\n      height: 22px; }\n      .subtitlesStyle-container .subtitlesStyle-right .color-picker > div {\n        width: 100%;\n        height: 100%; }\n    .subtitlesStyle-container .subtitlesStyle-right .subtitlesStyle-style > ul {\n      display: flex;\n      flex-wrap: wrap; }\n      .subtitlesStyle-container .subtitlesStyle-right .subtitlesStyle-style > ul > li {\n        height: 110px;\n        width: 160px;\n        margin: 10px; }\n        .subtitlesStyle-container .subtitlesStyle-right .subtitlesStyle-style > ul > li img {\n          width: 100%;\n          height: 100%; }\n        .subtitlesStyle-container .subtitlesStyle-right .subtitlesStyle-style > ul > li .pic {\n          position: relative;\n          overflow: hidden;\n          height: 90px; }\n    .subtitlesStyle-container .subtitlesStyle-right .subtitlesStyle-button {\n      display: inline-block;\n      height: 40px;\n      width: 100%;\n      text-align: right;\n      line-height: 40px; }\n      .subtitlesStyle-container .subtitlesStyle-right .subtitlesStyle-button button {\n        background: #292728;\n        border: 0;\n        width: 94px;\n        margin-bottom: 10px;\n        margin-right: 20px; }\n        .subtitlesStyle-container .subtitlesStyle-right .subtitlesStyle-button button:hover {\n          border: 0; }\n',""])},1629:function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=i(0),s=i.n(o),l=i(70),c=i.n(l),u=i(1372),h=(i.n(u),i(1378)),d=(i.n(h),i(52)),p=i(25),f=i.n(p),m=i(511),g=i(161),v=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),y="",b=void 0,_=0,A=0,E="",w=[],x=document.createElement("audio"),T=function(e){function t(){var e,i,a,o;n(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return i=a=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.state={status:!1,preview:!0,paused:!0,mute:!1,progress:0,confirmLoading:!1},o=i,r(a,o)}return a(t,e),v(t,[{key:"componentWillUnmount",value:function(){y.stop&&y.stop(),this.state={status:!1,preview:!1,paused:!0,mute:!1}}},{key:"shouldComponentUpdate",value:function(e,t){var i=this.props.visible,n=e.visible;return n&&!i&&(E="",this.props.playVideo()),!n&&i&&x.pause(),!0}},{key:"openRecord",value:function(){var e=this;y.stop&&y.stop(),this.props.setSilence(!0);var t=navigator.mediaDevices.getUserMedia({audio:!0});w=[],_=new Date,t.then(function(t){b=new MediaRecorder(t),b.ondataavailable=function(e){w.push(e.data)},b.start(),x.pause(),e.state.paused=!0,e.setState({status:new Date}),e.props.pause(),e.props.setSilence(e.state.mute),e.props.set_time_now(e.props.record.time||0),e.state.preview&&c()("#playBtn").click(),e.plus(),y=t.getTracks()[0],b.onstop=function(t){var i=this;y.stop&&y.stop(),e.props.pause(),E=new Blob(w,{type:"audio/mp3; codecs=opus"}),E.name=f()(new Date).format("YYYY-MM-DD_HH:mm:ss")+".mp3";var n=URL.createObjectURL(E);c()(".record").find(".opera-slider.opera-volume").slider({value:100}),x.volume=1,x.currentTime=999999,x.onloadeddata=function(){x.currentTime=0,URL.revokeObjectURL(i.src),e.setState({status:e.state.status})},x.onended=function(){e.props.pause(),e.setState({paused:!0})},x.src=n,A=Object(g.g)((+new Date-+e.state.status)/1e3),e.setState({status:!1}),w=[],e.props.visible||(E="")}}),t.catch(function(e){console.log(e.name)})}},{key:"done",value:function(){var e=this,t=this.state,i=t.status,n=t.confirmLoading;i?this.closeRecord():(E?n||(this.setState({confirmLoading:!0}),m.a.project_id=this.props.project_id,m.a.uploadFile(E,this.props.record.dir_id||0,function(t,i,n){e.props.close(t,i,n,e.props.record.time||0,x.volume),e.setState({confirmLoading:!1})},function(){e.setState({confirmLoading:!1})})):(this.props.close(),this.setState({confirmLoading:!1})),this.setState({paused:!0}),this.props.pause(),this.props.setSilence(!1),this.props.set_time_now(this.props.record.time||0))}},{key:"plus",value:function(e){var t=this,i=this.state.status;i&&(this.setState({status:i}),setTimeout(function(){t.plus()},1e3))}},{key:"play_progress",value:function(e){var t=this;x.paused||(this.setState({progress:x.currentTime}),setTimeout(function(){t.play_progress()},300))}},{key:"closeRecord",value:function(){b.stop()}},{key:"cancel",value:function(){this.state.status&&this.closeRecord(),E="",this.props.close(),this.setState({confirmLoading:!1,paused:!0}),this.props.pause(),this.props.setSilence(!1),this.props.set_time_now(this.props.record.time||0)}},{key:"render",value:function(){var e=this,t=this.state,i=t.status,n=t.paused,r=t.confirmLoading,a=t.preview,o=t.mute;return s.a.createElement(d.k,{visible:this.props.visible,title:"\u5f55\u97f3",style:{top:"10vh"},confirmLoading:r,width:670,onOk:function(){e.done()},onCancel:function(){e.cancel()}},s.a.createElement("div",{className:"detailMaterial"},s.a.createElement("div",{className:"media"},s.a.createElement("canvas",{id:"sec5-canvas"})),s.a.createElement("div",{className:"record-ctrl"},s.a.createElement("div",{className:"t-a-r"},s.a.createElement(d.b,{className:" m-0-10",disabled:i,checked:a,onChange:function(t){e.setState({preview:t.target.checked})}},"\u540c\u65f6\u9884\u89c8"),s.a.createElement(d.b,{className:" m-0-10",disabled:i,checked:o,onChange:function(t){e.setState({mute:t.target.checked})}},"\u9884\u89c8\u9759\u97f3")),s.a.createElement("div",{className:"attention"},i?s.a.createElement("span",{className:"ico iconfont icon-zanting_",onClick:function(){e.closeRecord()}}):s.a.createElement("span",{className:"ico iconfont icon-luyin",onClick:function(){e.openRecord()}})),s.a.createElement("div",{className:"preview"},i?s.a.createElement("p",null," ",s.a.createElement("span",null,Object(g.g)((+new Date-+i)/1e3))):E?s.a.createElement("div",null,s.a.createElement("p",null,s.a.createElement("span",{className:"name"},E.name||""),s.a.createElement("span",{onClick:function(){E="",x.pause(),e.props.pause(),e.setState({paused:!0,status:i})},className:"ico iconfont icon-shanchu"}," ")),s.a.createElement("p",null,s.a.createElement("span",{onClick:function(){i||(n?(e.setState({paused:!1}),e.props.pause(),e.props.setSilence(!1),setTimeout(function(){e.props.set_time_now(e.props.record.time||0),c()("#playBtn").click(),x.currentTime=0,e.play_progress(),x.play()})):(x.pause(),e.props.pause(),e.setState({paused:!0})))},className:n?"ico iconfont icon-bofang":"ico iconfont icon-zanting"}," "),s.a.createElement("span",{className:"progress"},s.a.createElement("span",{className:"handler",style:{width:(x.currentTime/x.duration*100||0)+"%"}})),s.a.createElement("span",null,A)),s.a.createElement("p",{className:"opera-slider opera-volume"})):""))))}}]),t}(s.a.Component);t.a=d.e.create({})(T)},1630:function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=i(0),s=i.n(o),l=i(70),c=i.n(l),u=i(1631),h=i.n(u),d=i(1633),p=(i.n(d),function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}()),f="",m="",g=function(e){function t(e){n(this,t);var i=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.state={imgData:"",cropObj:{},initCropSize:NaN,cropSize:NaN,isDiy:!1,canvasImgHeight:0,canvasImgWidth:0},i}return a(t,e),p(t,[{key:"componentWillMount",value:function(){this.state.imgData=this.props.imgData,this.state.cropSize=this.props.cropSize,this.state.initCropSize=this.props.cropSize}},{key:"componentDidMount",value:function(){var e=this,t="";f=setInterval(function(){(t=document.getElementsByClassName("cropper-crop-box")[0])&&(clearInterval(f),e.createBar(t))},100),m=setInterval(function(){var t=new Image;t.src=e.state.imgData,e.state.canvasImgHeight=t.height,e.state.canvasImgWidth=t.width,e.state.canvasImgWidth&&(e.setState({canvasImgWidth:e.state.canvasImgWidth}),clearInterval(m))},100)}},{key:"componentWillUnmount",value:function(){c()(".corpperBox-bar").remove()}},{key:"createBar",value:function(e){c()(".corpperBox-bar").remove(),c()(".corpperBox-number").remove();var t=document.createElement("div");t.className="corpperBox-number",t.innerText=parseInt(c()(e).width())+" \xd7 "+parseInt(c()(e).height()),e.appendChild(t);var i=document.createElement("div");i.className="corpperBox-bar",e.appendChild(i);var n=document.createElement("div"),r=document.createElement("div");i.appendChild(n),i.appendChild(r);var a=document.createElement("span"),o=document.createElement("span"),s=document.createElement("span"),l=document.createElement("span");a.className="spanIco ico iconfont icon-danxuan_xuanzhong m-0-5",o.className="spanDiy",s.className="spanCancel ico iconfont icon-guanbi",l.className="spanConfirm ico iconfont icon-duigou",o.innerText="  \u81ea\u5b9a\u4e49\u6bd4\u4f8b",n.appendChild(a),n.appendChild(o),r.appendChild(s),r.appendChild(l),n.onclick=this.diyCrop.bind(this),s.onclick=this.cancelCrop.bind(this),l.onclick=this.confirmCrop.bind(this)}},{key:"crop",value:function(e){var t=e.detail,i=document.getElementsByClassName("corpperBox-number")[0];i&&(i.innerText=parseInt(t.width)+" \xd7 "+parseInt(t.height),i.setAttribute("style","max-width:"+parseInt(t.width)));var n=document.getElementsByClassName("corpperBox-bar")[0];if(n){var r=window.getComputedStyle(document.getElementsByClassName("cropperContainer")[0]).height;r=parseInt(r.slice(0,r.length-2));var a=window.getComputedStyle(document.getElementsByClassName("cropperContainer")[0]).width;a=parseInt(a.slice(0,a.length-2)),t.width<214&&r-t.height-t.y<36?a-t.width-t.x<214?n.setAttribute("style","left: auto;right: 0;bottom: 0"):n.setAttribute("style","left: 0;right: auto;bottom: 0"):t.width<214&&r-t.height-t.y>36?a-t.width-t.x<214?n.setAttribute("style","left: auto;right: 0;bottom: auto"):n.setAttribute("style","left: 0;right: auto;bottom: auto"):t.width>214&&r-t.height-t.y<36?n.setAttribute("style","left: auto;right: 0;bottom: 0"):t.width>214&&r-t.height-t.y>36&&n.setAttribute("style","left: auto;right: 0;bottom: auto")}this.state.cropObj=t}},{key:"filterData",value:function(e){var t={},i=e.x,n=e.y,r=e.height,a=e.width,o=c()("#sec3-canvas")[0],s=o.width,l=o.height;return t.x=1*(i/s).toFixed(4),t.y=1*(n/l).toFixed(4),t.width=1*(a/s).toFixed(4),t.height=1*(r/l).toFixed(4),t}},{key:"diyCrop",value:function(){this.state.isDiy=!this.state.isDiy;var e=document.getElementsByClassName("spanIco")[0];this.state.isDiy?(this.setState({cropSize:NaN}),e.style.color="#FFD100"):(this.setState({cropSize:this.state.initCropSize}),e.style.color="#FFFFFF"),this.cropper.setAspectRatio(this.state.cropSize)}},{key:"confirmCrop",value:function(){var e=this.filterData(this.state.cropObj);this.props.crop(e),this.props.setShowCropper(!1)}},{key:"cancelCrop",value:function(){this.state.cropObj={},this.props.setShowCropper(!1)}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"cropperContainer"},this.state.canvasImgWidth?s.a.createElement(h.a,{className:"cropper",ref:function(t){e.cropper=t},src:this.state.imgData,viewMode:1,style:{height:this.state.canvasImgHeight,width:this.state.canvasImgWidth},aspectRatio:this.state.cropSize,guides:!0,crop:this.crop.bind(this),autoCropArea:.6}):"")}}]),t}(s.a.Component);t.a=g},1631:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},o.apply(this,arguments)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t,i){return t&&l(e.prototype,t),i&&l(e,i),e}function u(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?h(e):t}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var m=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,i):{};n.get||n.set?Object.defineProperty(t,i,n):t[i]=e[i]}return t.default=e,t}(i(0)),g=n(i(1)),v=n(i(1632)),y=["dragMode","aspectRatio","data","crop","viewMode","preview","responsive","restore","checkCrossOrigin","checkOrientation","modal","guides","center","highlight","background","autoCrop","autoCropArea","movable","rotatable","scalable","zoomable","zoomOnTouch","zoomOnWheel","wheelZoomRatio","cropBoxMovable","cropBoxResizable","toggleDragModeOnDblclick","minContainerWidth","minContainerHeight","minCanvasWidth","minCanvasHeight","minCropBoxWidth","minCropBoxHeight","ready","cropstart","cropmove","cropend","zoom"],b=y.slice(4),_=function(e){function t(){return s(this,t),u(this,d(t).apply(this,arguments))}return p(t,e),c(t,[{key:"componentDidMount",value:function(){var e=this,t=Object.keys(this.props).filter(function(e){return-1!==y.indexOf(e)}).reduce(function(t,i){return o({},t,a({},i,e.props[i]))},{});this.cropper=new v.default(this.img,t)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this;e.src!==this.props.src&&this.cropper.reset().clear().replace(e.src),e.aspectRatio!==this.props.aspectRatio&&this.setAspectRatio(e.aspectRatio),e.data!==this.props.data&&this.setData(e.data),e.dragMode!==this.props.dragMode&&this.setDragMode(e.dragMode),e.cropBoxData!==this.props.cropBoxData&&this.setCropBoxData(e.cropBoxData),e.canvasData!==this.props.canvasData&&this.setCanvasData(e.canvasData),e.moveTo!==this.props.moveTo&&(e.moveTo.length>1?this.moveTo(e.moveTo[0],e.moveTo[1]):this.moveTo(e.moveTo[0])),e.zoomTo!==this.props.zoomTo&&this.zoomTo(e.zoomTo),e.rotateTo!==this.props.rotateTo&&this.rotateTo(e.rotateTo),e.scaleX!==this.props.scaleX&&this.scaleX(e.scaleX),e.scaleY!==this.props.scaleY&&this.scaleY(e.scaleY),e.enable!==this.props.enable&&(e.enable?this.enable():this.disable()),Object.keys(e).forEach(function(i){var n=e[i]!==t.props[i],r=-1!==b.indexOf(i);if("function"===typeof e[i]&&"function"===typeof t.props[i]&&(n=e[i].toString()!==t.props[i].toString()),n&&r)throw new Error("prop: ".concat(i," can't be change after componentDidMount"))})}},{key:"componentWillUnmount",value:function(){this.img&&(this.cropper.destroy(),delete this.img,delete this.cropper)}},{key:"setDragMode",value:function(e){return this.cropper.setDragMode(e)}},{key:"setAspectRatio",value:function(e){return this.cropper.setAspectRatio(e)}},{key:"getCroppedCanvas",value:function(e){return this.cropper.getCroppedCanvas(e)}},{key:"setCropBoxData",value:function(e){return this.cropper.setCropBoxData(e)}},{key:"getCropBoxData",value:function(){return this.cropper.getCropBoxData()}},{key:"setCanvasData",value:function(e){return this.cropper.setCanvasData(e)}},{key:"getCanvasData",value:function(){return this.cropper.getCanvasData()}},{key:"getImageData",value:function(){return this.cropper.getImageData()}},{key:"getContainerData",value:function(){return this.cropper.getContainerData()}},{key:"setData",value:function(e){return this.cropper.setData(e)}},{key:"getData",value:function(e){return this.cropper.getData(e)}},{key:"crop",value:function(){return this.cropper.crop()}},{key:"move",value:function(e,t){return this.cropper.move(e,t)}},{key:"moveTo",value:function(e,t){return this.cropper.moveTo(e,t)}},{key:"zoom",value:function(e){return this.cropper.zoom(e)}},{key:"zoomTo",value:function(e){return this.cropper.zoomTo(e)}},{key:"rotate",value:function(e){return this.cropper.rotate(e)}},{key:"rotateTo",value:function(e){return this.cropper.rotateTo(e)}},{key:"enable",value:function(){return this.cropper.enable()}},{key:"disable",value:function(){return this.cropper.disable()}},{key:"reset",value:function(){return this.cropper.reset()}},{key:"clear",value:function(){return this.cropper.clear()}},{key:"replace",value:function(e,t){return this.cropper.replace(e,t)}},{key:"scale",value:function(e,t){return this.cropper.scale(e,t)}},{key:"scaleX",value:function(e){return this.cropper.scaleX(e)}},{key:"scaleY",value:function(e){return this.cropper.scaleY(e)}},{key:"render",value:function(){var e=this,t=this.props,i=t.src,n=t.alt,r=t.crossOrigin,a=t.style,o=t.className;return m.default.createElement("div",{style:a,className:o},m.default.createElement("img",{crossOrigin:r,ref:function(t){e.img=t},src:i,alt:void 0===n?"picture":n,style:{opacity:0}}))}}]),t}(m.Component);_.propTypes={style:g.default.object,className:g.default.string,crossOrigin:g.default.string,src:g.default.string,alt:g.default.string,aspectRatio:g.default.number,dragMode:g.default.oneOf(["crop","move","none"]),data:g.default.shape({x:g.default.number,y:g.default.number,width:g.default.number,height:g.default.number,rotate:g.default.number,scaleX:g.default.number,scaleY:g.default.number}),scaleX:g.default.number,scaleY:g.default.number,enable:g.default.bool,cropBoxData:g.default.shape({left:g.default.number,top:g.default.number,width:g.default.number,height:g.default.number}),canvasData:g.default.shape({left:g.default.number,top:g.default.number,width:g.default.number,height:g.default.number}),zoomTo:g.default.number,moveTo:g.default.arrayOf(g.default.number),rotateTo:g.default.number,viewMode:g.default.oneOf([0,1,2,3]),preview:g.default.string,responsive:g.default.bool,restore:g.default.bool,checkCrossOrigin:g.default.bool,checkOrientation:g.default.bool,modal:g.default.bool,guides:g.default.bool,center:g.default.bool,highlight:g.default.bool,background:g.default.bool,autoCrop:g.default.bool,autoCropArea:g.default.number,movable:g.default.bool,rotatable:g.default.bool,scalable:g.default.bool,zoomable:g.default.bool,zoomOnTouch:g.default.bool,zoomOnWheel:g.default.bool,wheelZoomRatio:g.default.number,cropBoxMovable:g.default.bool,cropBoxResizable:g.default.bool,toggleDragModeOnDblclick:g.default.bool,minContainerWidth:g.default.number,minContainerHeight:g.default.number,minCanvasWidth:g.default.number,minCanvasHeight:g.default.number,minCropBoxWidth:g.default.number,minCropBoxHeight:g.default.number,ready:g.default.func,cropstart:g.default.func,cropmove:g.default.func,cropend:g.default.func,crop:g.default.func,zoom:g.default.func},_.defaultProps={src:null,dragMode:"crop",data:null,scaleX:1,scaleY:1,enable:!0,zoomTo:1,rotateTo:0};var A=_;t.default=A},1632:function(e,t,i){!function(t,i){e.exports=i()}(0,function(){"use strict";function e(t){"@babel/helpers - typeof";return(e="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function n(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function r(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function a(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function o(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?a(Object(i),!0).forEach(function(t){r(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}function s(e){return l(e)||c(e)||u(e)||d()}function l(e){if(Array.isArray(e))return h(e)}function c(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function u(e,t){if(e){if("string"===typeof e)return h(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?h(e,t):void 0}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function d(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function p(e){return"number"===typeof e&&!ye(e)}function f(e){return"undefined"===typeof e}function m(t){return"object"===e(t)&&null!==t}function g(e){if(!m(e))return!1;try{var t=e.constructor,i=t.prototype;return t&&i&&_e.call(i,"isPrototypeOf")}catch(e){return!1}}function v(e){return"function"===typeof e}function y(e){return Array.from?Array.from(e):Ae.call(e)}function b(e,t){return e&&v(t)&&(Array.isArray(e)||p(e.length)?y(e).forEach(function(i,n){t.call(e,i,n,e)}):m(e)&&Object.keys(e).forEach(function(i){t.call(e,e[i],i,e)})),e}function _(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e11;return we.test(e)?Math.round(e*t)/t:e}function A(e,t){var i=e.style;b(t,function(e,t){xe.test(t)&&p(e)&&(e="".concat(e,"px")),i[t]=e})}function E(e,t){return e.classList?e.classList.contains(t):e.className.indexOf(t)>-1}function w(e,t){if(t){if(p(e.length))return void b(e,function(e){w(e,t)});if(e.classList)return void e.classList.add(t);var i=e.className.trim();i?i.indexOf(t)<0&&(e.className="".concat(i," ").concat(t)):e.className=t}}function x(e,t){if(t)return p(e.length)?void b(e,function(e){x(e,t)}):e.classList?void e.classList.remove(t):void(e.className.indexOf(t)>=0&&(e.className=e.className.replace(t,"")))}function T(e,t,i){if(t)return p(e.length)?void b(e,function(e){T(e,t,i)}):void(i?w(e,t):x(e,t))}function S(e){return e.replace(Te,"$1-$2").toLowerCase()}function C(e,t){return m(e[t])?e[t]:e.dataset?e.dataset[t]:e.getAttribute("data-".concat(S(t)))}function k(e,t,i){m(i)?e[t]=i:e.dataset?e.dataset[t]=i:e.setAttribute("data-".concat(S(t)),i)}function O(e,t){if(m(e[t]))try{delete e[t]}catch(i){e[t]=void 0}else if(e.dataset)try{delete e.dataset[t]}catch(i){e.dataset[t]=void 0}else e.removeAttribute("data-".concat(S(t)))}function P(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=i;t.trim().split(Se).forEach(function(t){if(!Ce){var a=e.listeners;a&&a[t]&&a[t][i]&&(r=a[t][i],delete a[t][i],0===Object.keys(a[t]).length&&delete a[t],0===Object.keys(a).length&&delete e.listeners)}e.removeEventListener(t,r,n)})}function j(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=i;t.trim().split(Se).forEach(function(t){if(n.once&&!Ce){var a=e.listeners,o=void 0===a?{}:a;r=function(){delete o[t][i],e.removeEventListener(t,r,n);for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];i.apply(e,s)},o[t]||(o[t]={}),o[t][i]&&e.removeEventListener(t,o[t][i],n),o[t][i]=r,e.listeners=o}e.addEventListener(t,r,n)})}function I(e,t,i){var n;return v(Event)&&v(CustomEvent)?n=new CustomEvent(t,{detail:i,bubbles:!0,cancelable:!0}):(n=document.createEvent("CustomEvent"),n.initCustomEvent(t,!0,!0,i)),e.dispatchEvent(n)}function M(e){var t=e.getBoundingClientRect();return{left:t.left+(window.pageXOffset-document.documentElement.clientLeft),top:t.top+(window.pageYOffset-document.documentElement.clientTop)}}function R(e){var t=e.match(Oe);return null!==t&&(t[1]!==ke.protocol||t[2]!==ke.hostname||t[3]!==ke.port)}function D(e){var t="timestamp=".concat((new Date).getTime());return e+(-1===e.indexOf("?")?"?":"&")+t}function L(e){var t=e.rotate,i=e.scaleX,n=e.scaleY,r=e.translateX,a=e.translateY,o=[];p(r)&&0!==r&&o.push("translateX(".concat(r,"px)")),p(a)&&0!==a&&o.push("translateY(".concat(a,"px)")),p(t)&&0!==t&&o.push("rotate(".concat(t,"deg)")),p(i)&&1!==i&&o.push("scaleX(".concat(i,")")),p(n)&&1!==n&&o.push("scaleY(".concat(n,")"));var s=o.length?o.join(" "):"none";return{WebkitTransform:s,msTransform:s,transform:s}}function N(e){var t=o({},e),i=[];return b(e,function(e,n){delete t[n],b(t,function(t){var n=Math.abs(e.startX-t.startX),r=Math.abs(e.startY-t.startY),a=Math.abs(e.endX-t.endX),o=Math.abs(e.endY-t.endY),s=Math.sqrt(n*n+r*r),l=Math.sqrt(a*a+o*o),c=(l-s)/s;i.push(c)})}),i.sort(function(e,t){return Math.abs(e)<Math.abs(t)}),i[0]}function B(e,t){var i=e.pageX,n=e.pageY,r={endX:i,endY:n};return t?r:o({startX:i,startY:n},r)}function F(e){var t=0,i=0,n=0;return b(e,function(e){var r=e.startX,a=e.startY;t+=r,i+=a,n+=1}),t/=n,i/=n,{pageX:t,pageY:i}}function U(e){var t=e.aspectRatio,i=e.height,n=e.width,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"contain",a=be(n),o=be(i);if(a&&o){var s=i*t;"contain"===r&&s>n||"cover"===r&&s<n?i=n/t:n=i*t}else a?i=n/t:o&&(n=i*t);return{width:n,height:i}}function z(e){var t=e.width,i=e.height,n=e.degree;if(90===(n=Math.abs(n)%180))return{width:i,height:t};var r=n%90*Math.PI/180,a=Math.sin(r),o=Math.cos(r),s=t*o+i*a,l=t*a+i*o;return n>90?{width:l,height:s}:{width:s,height:l}}function H(e,t,i,n){var r=t.aspectRatio,a=t.naturalWidth,o=t.naturalHeight,l=t.rotate,c=void 0===l?0:l,u=t.scaleX,h=void 0===u?1:u,d=t.scaleY,p=void 0===d?1:d,f=i.aspectRatio,m=i.naturalWidth,g=i.naturalHeight,v=n.fillColor,y=void 0===v?"transparent":v,b=n.imageSmoothingEnabled,A=void 0===b||b,E=n.imageSmoothingQuality,w=void 0===E?"low":E,x=n.maxWidth,T=void 0===x?1/0:x,S=n.maxHeight,C=void 0===S?1/0:S,k=n.minWidth,O=void 0===k?0:k,P=n.minHeight,j=void 0===P?0:P,I=document.createElement("canvas"),M=I.getContext("2d"),R=U({aspectRatio:f,width:T,height:C}),D=U({aspectRatio:f,width:O,height:j},"cover"),L=Math.min(R.width,Math.max(D.width,m)),N=Math.min(R.height,Math.max(D.height,g)),B=U({aspectRatio:r,width:T,height:C}),F=U({aspectRatio:r,width:O,height:j},"cover"),z=Math.min(B.width,Math.max(F.width,a)),H=Math.min(B.height,Math.max(F.height,o)),V=[-z/2,-H/2,z,H];return I.width=_(L),I.height=_(N),M.fillStyle=y,M.fillRect(0,0,L,N),M.save(),M.translate(L/2,N/2),M.rotate(c*Math.PI/180),M.scale(h,p),M.imageSmoothingEnabled=A,M.imageSmoothingQuality=w,M.drawImage.apply(M,[e].concat(s(V.map(function(e){return Math.floor(_(e))})))),M.restore(),I}function V(e,t,i){var n="";i+=t;for(var r=t;r<i;r+=1)n+=Pe(e.getUint8(r));return n}function G(e){var t=e.replace(je,""),i=atob(t),n=new ArrayBuffer(i.length),r=new Uint8Array(n);return b(r,function(e,t){r[t]=i.charCodeAt(t)}),n}function q(e,t){for(var i=[],n=new Uint8Array(e);n.length>0;)i.push(Pe.apply(null,y(n.subarray(0,8192)))),n=n.subarray(8192);return"data:".concat(t,";base64,").concat(btoa(i.join("")))}function W(e){var t,i=new DataView(e);try{var n,r,a;if(255===i.getUint8(0)&&216===i.getUint8(1))for(var o=i.byteLength,s=2;s+1<o;){if(255===i.getUint8(s)&&225===i.getUint8(s+1)){r=s;break}s+=1}if(r){var l=r+4,c=r+10;if("Exif"===V(i,l,4)){var u=i.getUint16(c);if(((n=18761===u)||19789===u)&&42===i.getUint16(c+2,n)){var h=i.getUint32(c+4,n);h>=8&&(a=c+h)}}}if(a){var d,p,f=i.getUint16(a,n);for(p=0;p<f;p+=1)if(d=a+12*p+2,274===i.getUint16(d,n)){d+=8,t=i.getUint16(d,n),i.setUint16(d,1,n);break}}}catch(e){t=1}return t}function Y(e){var t=0,i=1,n=1;switch(e){case 2:i=-1;break;case 3:t=-180;break;case 4:n=-1;break;case 5:t=90,n=-1;break;case 6:t=90;break;case 7:t=90,i=-1;break;case 8:t=-90}return{rotate:t,scaleX:i,scaleY:n}}var X="undefined"!==typeof window&&"undefined"!==typeof window.document,Q=X?window:{},K=!(!X||!Q.document.documentElement)&&"ontouchstart"in Q.document.documentElement,Z=!!X&&"PointerEvent"in Q,J="".concat("cropper","-crop"),$="".concat("cropper","-disabled"),ee="".concat("cropper","-hidden"),te="".concat("cropper","-hide"),ie="".concat("cropper","-invisible"),ne="".concat("cropper","-modal"),re="".concat("cropper","-move"),ae="".concat("cropper","Action"),oe="".concat("cropper","Preview"),se=K?"touchstart":"mousedown",le=K?"touchmove":"mousemove",ce=K?"touchend touchcancel":"mouseup",ue=Z?"pointerdown":se,he=Z?"pointermove":le,de=Z?"pointerup pointercancel":ce,pe=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,fe=/^data:/,me=/^data:image\/jpeg;base64,/,ge=/^img|canvas$/i,ve={viewMode:0,dragMode:"crop",initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:200,minContainerHeight:100,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},ye=Number.isNaN||Q.isNaN,be=function(e){return e>0&&e<1/0},_e=Object.prototype.hasOwnProperty,Ae=Array.prototype.slice,Ee=Object.assign||function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return m(e)&&i.length>0&&i.forEach(function(t){m(t)&&Object.keys(t).forEach(function(i){e[i]=t[i]})}),e},we=/\.\d*(?:0|9){12}\d*$/,xe=/^width|height|left|top|marginLeft|marginTop$/,Te=/([a-z\d])([A-Z])/g,Se=/\s\s*/,Ce=function(){var e=!1;if(X){var t=!1,i=function(){},n=Object.defineProperty({},"once",{get:function(){return e=!0,t},set:function(e){t=e}});Q.addEventListener("test",i,n),Q.removeEventListener("test",i,n)}return e}(),ke=Q.location,Oe=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i,Pe=String.fromCharCode,je=/^data:.*,/,Ie={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var e=this.element,t=this.options,i=this.container,n=this.cropper;w(n,ee),x(e,ee);var r={width:Math.max(i.offsetWidth,Number(t.minContainerWidth)||200),height:Math.max(i.offsetHeight,Number(t.minContainerHeight)||100)};this.containerData=r,A(n,{width:r.width,height:r.height}),w(e,ee),x(n,ee)},initCanvas:function(){var e=this.containerData,t=this.imageData,i=this.options.viewMode,n=Math.abs(t.rotate)%180===90,r=n?t.naturalHeight:t.naturalWidth,a=n?t.naturalWidth:t.naturalHeight,o=r/a,s=e.width,l=e.height;e.height*o>e.width?3===i?s=e.height*o:l=e.width/o:3===i?l=e.width/o:s=e.height*o;var c={aspectRatio:o,naturalWidth:r,naturalHeight:a,width:s,height:l};c.left=(e.width-s)/2,c.top=(e.height-l)/2,c.oldLeft=c.left,c.oldTop=c.top,this.canvasData=c,this.limited=1===i||2===i,this.limitCanvas(!0,!0),this.initialImageData=Ee({},t),this.initialCanvasData=Ee({},c)},limitCanvas:function(e,t){var i=this.options,n=this.containerData,r=this.canvasData,a=this.cropBoxData,o=i.viewMode,s=r.aspectRatio,l=this.cropped&&a;if(e){var c=Number(i.minCanvasWidth)||0,u=Number(i.minCanvasHeight)||0;o>1?(c=Math.max(c,n.width),u=Math.max(u,n.height),3===o&&(u*s>c?c=u*s:u=c/s)):o>0&&(c?c=Math.max(c,l?a.width:0):u?u=Math.max(u,l?a.height:0):l&&(c=a.width,u=a.height,u*s>c?c=u*s:u=c/s));var h=U({aspectRatio:s,width:c,height:u});c=h.width,u=h.height,r.minWidth=c,r.minHeight=u,r.maxWidth=1/0,r.maxHeight=1/0}if(t)if(o>(l?0:1)){var d=n.width-r.width,p=n.height-r.height;r.minLeft=Math.min(0,d),r.minTop=Math.min(0,p),r.maxLeft=Math.max(0,d),r.maxTop=Math.max(0,p),l&&this.limited&&(r.minLeft=Math.min(a.left,a.left+(a.width-r.width)),r.minTop=Math.min(a.top,a.top+(a.height-r.height)),r.maxLeft=a.left,r.maxTop=a.top,2===o&&(r.width>=n.width&&(r.minLeft=Math.min(0,d),r.maxLeft=Math.max(0,d)),r.height>=n.height&&(r.minTop=Math.min(0,p),r.maxTop=Math.max(0,p))))}else r.minLeft=-r.width,r.minTop=-r.height,r.maxLeft=n.width,r.maxTop=n.height},renderCanvas:function(e,t){var i=this.canvasData,n=this.imageData;if(t){var r=z({width:n.naturalWidth*Math.abs(n.scaleX||1),height:n.naturalHeight*Math.abs(n.scaleY||1),degree:n.rotate||0}),a=r.width,o=r.height,s=i.width*(a/i.naturalWidth),l=i.height*(o/i.naturalHeight);i.left-=(s-i.width)/2,i.top-=(l-i.height)/2,i.width=s,i.height=l,i.aspectRatio=a/o,i.naturalWidth=a,i.naturalHeight=o,this.limitCanvas(!0,!1)}(i.width>i.maxWidth||i.width<i.minWidth)&&(i.left=i.oldLeft),(i.height>i.maxHeight||i.height<i.minHeight)&&(i.top=i.oldTop),i.width=Math.min(Math.max(i.width,i.minWidth),i.maxWidth),i.height=Math.min(Math.max(i.height,i.minHeight),i.maxHeight),this.limitCanvas(!1,!0),i.left=Math.min(Math.max(i.left,i.minLeft),i.maxLeft),i.top=Math.min(Math.max(i.top,i.minTop),i.maxTop),i.oldLeft=i.left,i.oldTop=i.top,A(this.canvas,Ee({width:i.width,height:i.height},L({translateX:i.left,translateY:i.top}))),this.renderImage(e),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(e){var t=this.canvasData,i=this.imageData,n=i.naturalWidth*(t.width/t.naturalWidth),r=i.naturalHeight*(t.height/t.naturalHeight);Ee(i,{width:n,height:r,left:(t.width-n)/2,top:(t.height-r)/2}),A(this.image,Ee({width:i.width,height:i.height},L(Ee({translateX:i.left,translateY:i.top},i)))),e&&this.output()},initCropBox:function(){var e=this.options,t=this.canvasData,i=e.aspectRatio||e.initialAspectRatio,n=Number(e.autoCropArea)||.8,r={width:t.width,height:t.height};i&&(t.height*i>t.width?r.height=r.width/i:r.width=r.height*i),this.cropBoxData=r,this.limitCropBox(!0,!0),r.width=Math.min(Math.max(r.width,r.minWidth),r.maxWidth),r.height=Math.min(Math.max(r.height,r.minHeight),r.maxHeight),r.width=Math.max(r.minWidth,r.width*n),r.height=Math.max(r.minHeight,r.height*n),r.left=t.left+(t.width-r.width)/2,r.top=t.top+(t.height-r.height)/2,r.oldLeft=r.left,r.oldTop=r.top,this.initialCropBoxData=Ee({},r)},limitCropBox:function(e,t){var i=this.options,n=this.containerData,r=this.canvasData,a=this.cropBoxData,o=this.limited,s=i.aspectRatio;if(e){var l=Number(i.minCropBoxWidth)||0,c=Number(i.minCropBoxHeight)||0,u=o?Math.min(n.width,r.width,r.width+r.left,n.width-r.left):n.width,h=o?Math.min(n.height,r.height,r.height+r.top,n.height-r.top):n.height;l=Math.min(l,n.width),c=Math.min(c,n.height),s&&(l&&c?c*s>l?c=l/s:l=c*s:l?c=l/s:c&&(l=c*s),h*s>u?h=u/s:u=h*s),a.minWidth=Math.min(l,u),a.minHeight=Math.min(c,h),a.maxWidth=u,a.maxHeight=h}t&&(o?(a.minLeft=Math.max(0,r.left),a.minTop=Math.max(0,r.top),a.maxLeft=Math.min(n.width,r.left+r.width)-a.width,a.maxTop=Math.min(n.height,r.top+r.height)-a.height):(a.minLeft=0,a.minTop=0,a.maxLeft=n.width-a.width,a.maxTop=n.height-a.height))},renderCropBox:function(){var e=this.options,t=this.containerData,i=this.cropBoxData;(i.width>i.maxWidth||i.width<i.minWidth)&&(i.left=i.oldLeft),(i.height>i.maxHeight||i.height<i.minHeight)&&(i.top=i.oldTop),i.width=Math.min(Math.max(i.width,i.minWidth),i.maxWidth),i.height=Math.min(Math.max(i.height,i.minHeight),i.maxHeight),this.limitCropBox(!1,!0),i.left=Math.min(Math.max(i.left,i.minLeft),i.maxLeft),i.top=Math.min(Math.max(i.top,i.minTop),i.maxTop),i.oldLeft=i.left,i.oldTop=i.top,e.movable&&e.cropBoxMovable&&k(this.face,ae,i.width>=t.width&&i.height>=t.height?"move":"all"),A(this.cropBox,Ee({width:i.width,height:i.height},L({translateX:i.left,translateY:i.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),I(this.element,"crop",this.getData())}},Me={initPreview:function(){var e=this.element,t=this.crossOrigin,i=this.options.preview,n=t?this.crossOriginUrl:this.url,r=e.alt||"The image to preview",a=document.createElement("img");if(t&&(a.crossOrigin=t),a.src=n,a.alt=r,this.viewBox.appendChild(a),this.viewBoxImage=a,i){var o=i;"string"===typeof i?o=e.ownerDocument.querySelectorAll(i):i.querySelector&&(o=[i]),this.previews=o,b(o,function(e){var i=document.createElement("img");k(e,oe,{width:e.offsetWidth,height:e.offsetHeight,html:e.innerHTML}),t&&(i.crossOrigin=t),i.src=n,i.alt=r,i.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',e.innerHTML="",e.appendChild(i)})}},resetPreview:function(){b(this.previews,function(e){var t=C(e,oe);A(e,{width:t.width,height:t.height}),e.innerHTML=t.html,O(e,oe)})},preview:function(){var e=this.imageData,t=this.canvasData,i=this.cropBoxData,n=i.width,r=i.height,a=e.width,o=e.height,s=i.left-t.left-e.left,l=i.top-t.top-e.top;this.cropped&&!this.disabled&&(A(this.viewBoxImage,Ee({width:a,height:o},L(Ee({translateX:-s,translateY:-l},e)))),b(this.previews,function(t){var i=C(t,oe),c=i.width,u=i.height,h=c,d=u,p=1;n&&(p=c/n,d=r*p),r&&d>u&&(p=u/r,h=n*p,d=u),A(t,{width:h,height:d}),A(t.getElementsByTagName("img")[0],Ee({width:a*p,height:o*p},L(Ee({translateX:-s*p,translateY:-l*p},e))))}))}},Re={bind:function(){var e=this.element,t=this.options,i=this.cropper;v(t.cropstart)&&j(e,"cropstart",t.cropstart),v(t.cropmove)&&j(e,"cropmove",t.cropmove),v(t.cropend)&&j(e,"cropend",t.cropend),v(t.crop)&&j(e,"crop",t.crop),v(t.zoom)&&j(e,"zoom",t.zoom),j(i,ue,this.onCropStart=this.cropStart.bind(this)),t.zoomable&&t.zoomOnWheel&&j(i,"wheel",this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),t.toggleDragModeOnDblclick&&j(i,"dblclick",this.onDblclick=this.dblclick.bind(this)),j(e.ownerDocument,he,this.onCropMove=this.cropMove.bind(this)),j(e.ownerDocument,de,this.onCropEnd=this.cropEnd.bind(this)),t.responsive&&j(window,"resize",this.onResize=this.resize.bind(this))},unbind:function(){var e=this.element,t=this.options,i=this.cropper;v(t.cropstart)&&P(e,"cropstart",t.cropstart),v(t.cropmove)&&P(e,"cropmove",t.cropmove),v(t.cropend)&&P(e,"cropend",t.cropend),v(t.crop)&&P(e,"crop",t.crop),v(t.zoom)&&P(e,"zoom",t.zoom),P(i,ue,this.onCropStart),t.zoomable&&t.zoomOnWheel&&P(i,"wheel",this.onWheel,{passive:!1,capture:!0}),t.toggleDragModeOnDblclick&&P(i,"dblclick",this.onDblclick),P(e.ownerDocument,he,this.onCropMove),P(e.ownerDocument,de,this.onCropEnd),t.responsive&&P(window,"resize",this.onResize)}},De={resize:function(){if(!this.disabled){var e=this.options,t=this.container,i=this.containerData,n=t.offsetWidth/i.width;if(1!==n||t.offsetHeight!==i.height){var r,a;e.restore&&(r=this.getCanvasData(),a=this.getCropBoxData()),this.render(),e.restore&&(this.setCanvasData(b(r,function(e,t){r[t]=e*n})),this.setCropBoxData(b(a,function(e,t){a[t]=e*n})))}}},dblclick:function(){this.disabled||"none"===this.options.dragMode||this.setDragMode(E(this.dragBox,J)?"move":"crop")},wheel:function(e){var t=this,i=Number(this.options.wheelZoomRatio)||.1,n=1;this.disabled||(e.preventDefault(),this.wheeling||(this.wheeling=!0,setTimeout(function(){t.wheeling=!1},50),e.deltaY?n=e.deltaY>0?1:-1:e.wheelDelta?n=-e.wheelDelta/120:e.detail&&(n=e.detail>0?1:-1),this.zoom(-n*i,e)))},cropStart:function(e){var t=e.buttons,i=e.button;if(!(this.disabled||("mousedown"===e.type||"pointerdown"===e.type&&"mouse"===e.pointerType)&&(p(t)&&1!==t||p(i)&&0!==i||e.ctrlKey))){var n,r=this.options,a=this.pointers;e.changedTouches?b(e.changedTouches,function(e){a[e.identifier]=B(e)}):a[e.pointerId||0]=B(e),n=Object.keys(a).length>1&&r.zoomable&&r.zoomOnTouch?"zoom":C(e.target,ae),pe.test(n)&&!1!==I(this.element,"cropstart",{originalEvent:e,action:n})&&(e.preventDefault(),this.action=n,this.cropping=!1,"crop"===n&&(this.cropping=!0,w(this.dragBox,ne)))}},cropMove:function(e){var t=this.action;if(!this.disabled&&t){var i=this.pointers;e.preventDefault(),!1!==I(this.element,"cropmove",{originalEvent:e,action:t})&&(e.changedTouches?b(e.changedTouches,function(e){Ee(i[e.identifier]||{},B(e,!0))}):Ee(i[e.pointerId||0]||{},B(e,!0)),this.change(e))}},cropEnd:function(e){if(!this.disabled){var t=this.action,i=this.pointers;e.changedTouches?b(e.changedTouches,function(e){delete i[e.identifier]}):delete i[e.pointerId||0],t&&(e.preventDefault(),Object.keys(i).length||(this.action=""),this.cropping&&(this.cropping=!1,T(this.dragBox,ne,this.cropped&&this.options.modal)),I(this.element,"cropend",{originalEvent:e,action:t}))}}},Le={change:function(e){var t,i=this.options,n=this.canvasData,r=this.containerData,a=this.cropBoxData,o=this.pointers,s=this.action,l=i.aspectRatio,c=a.left,u=a.top,h=a.width,d=a.height,p=c+h,f=u+d,m=0,g=0,v=r.width,y=r.height,_=!0;!l&&e.shiftKey&&(l=h&&d?h/d:1),this.limited&&(m=a.minLeft,g=a.minTop,v=m+Math.min(r.width,n.width,n.left+n.width),y=g+Math.min(r.height,n.height,n.top+n.height));var A=o[Object.keys(o)[0]],E={x:A.endX-A.startX,y:A.endY-A.startY},w=function(e){switch(e){case"e":p+E.x>v&&(E.x=v-p);break;case"w":c+E.x<m&&(E.x=m-c);break;case"n":u+E.y<g&&(E.y=g-u);break;case"s":f+E.y>y&&(E.y=y-f)}};switch(s){case"all":c+=E.x,u+=E.y;break;case"e":if(E.x>=0&&(p>=v||l&&(u<=g||f>=y))){_=!1;break}w("e"),h+=E.x,h<0&&(s="w",h=-h,c-=h),l&&(d=h/l,u+=(a.height-d)/2);break;case"n":if(E.y<=0&&(u<=g||l&&(c<=m||p>=v))){_=!1;break}w("n"),d-=E.y,u+=E.y,d<0&&(s="s",d=-d,u-=d),l&&(h=d*l,c+=(a.width-h)/2);break;case"w":if(E.x<=0&&(c<=m||l&&(u<=g||f>=y))){_=!1;break}w("w"),h-=E.x,c+=E.x,h<0&&(s="e",h=-h,c-=h),l&&(d=h/l,u+=(a.height-d)/2);break;case"s":if(E.y>=0&&(f>=y||l&&(c<=m||p>=v))){_=!1;break}w("s"),d+=E.y,d<0&&(s="n",d=-d,u-=d),l&&(h=d*l,c+=(a.width-h)/2);break;case"ne":if(l){if(E.y<=0&&(u<=g||p>=v)){_=!1;break}w("n"),d-=E.y,u+=E.y,h=d*l}else w("n"),w("e"),E.x>=0?p<v?h+=E.x:E.y<=0&&u<=g&&(_=!1):h+=E.x,E.y<=0?u>g&&(d-=E.y,u+=E.y):(d-=E.y,u+=E.y);h<0&&d<0?(s="sw",d=-d,h=-h,u-=d,c-=h):h<0?(s="nw",h=-h,c-=h):d<0&&(s="se",d=-d,u-=d);break;case"nw":if(l){if(E.y<=0&&(u<=g||c<=m)){_=!1;break}w("n"),d-=E.y,u+=E.y,h=d*l,c+=a.width-h}else w("n"),w("w"),E.x<=0?c>m?(h-=E.x,c+=E.x):E.y<=0&&u<=g&&(_=!1):(h-=E.x,c+=E.x),E.y<=0?u>g&&(d-=E.y,u+=E.y):(d-=E.y,u+=E.y);h<0&&d<0?(s="se",d=-d,h=-h,u-=d,c-=h):h<0?(s="ne",h=-h,c-=h):d<0&&(s="sw",d=-d,u-=d);break;case"sw":if(l){if(E.x<=0&&(c<=m||f>=y)){_=!1;break}w("w"),h-=E.x,c+=E.x,d=h/l}else w("s"),w("w"),E.x<=0?c>m?(h-=E.x,c+=E.x):E.y>=0&&f>=y&&(_=!1):(h-=E.x,c+=E.x),E.y>=0?f<y&&(d+=E.y):d+=E.y;h<0&&d<0?(s="ne",d=-d,h=-h,u-=d,c-=h):h<0?(s="se",h=-h,c-=h):d<0&&(s="nw",d=-d,u-=d);break;case"se":if(l){if(E.x>=0&&(p>=v||f>=y)){_=!1;break}w("e"),h+=E.x,d=h/l}else w("s"),w("e"),E.x>=0?p<v?h+=E.x:E.y>=0&&f>=y&&(_=!1):h+=E.x,E.y>=0?f<y&&(d+=E.y):d+=E.y;h<0&&d<0?(s="nw",d=-d,h=-h,u-=d,c-=h):h<0?(s="sw",h=-h,c-=h):d<0&&(s="ne",d=-d,u-=d);break;case"move":this.move(E.x,E.y),_=!1;break;case"zoom":this.zoom(N(o),e),_=!1;break;case"crop":if(!E.x||!E.y){_=!1;break}t=M(this.cropper),c=A.startX-t.left,u=A.startY-t.top,h=a.minWidth,d=a.minHeight,E.x>0?s=E.y>0?"se":"ne":E.x<0&&(c-=h,s=E.y>0?"sw":"nw"),E.y<0&&(u-=d),this.cropped||(x(this.cropBox,ee),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0))}_&&(a.width=h,a.height=d,a.left=c,a.top=u,this.action=s,this.renderCropBox()),b(o,function(e){e.startX=e.endX,e.startY=e.endY})}},Ne={crop:function(){return!this.ready||this.cropped||this.disabled||(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&w(this.dragBox,ne),x(this.cropBox,ee),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=Ee({},this.initialImageData),this.canvasData=Ee({},this.initialCanvasData),this.cropBoxData=Ee({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(Ee(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),x(this.dragBox,ne),w(this.cropBox,ee)),this},replace:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!this.disabled&&e&&(this.isImg&&(this.element.src=e),t?(this.url=e,this.image.src=e,this.ready&&(this.viewBoxImage.src=e,b(this.previews,function(t){t.getElementsByTagName("img")[0].src=e}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(e))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,x(this.cropper,$)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,w(this.cropper,$)),this},destroy:function(){var e=this.element;return e.cropper?(e.cropper=void 0,this.isImg&&this.replaced&&(e.src=this.originalUrl),this.uncreate(),this):this},move:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,i=this.canvasData,n=i.left,r=i.top;return this.moveTo(f(e)?e:n+Number(e),f(t)?t:r+Number(t))},moveTo:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,i=this.canvasData,n=!1;return e=Number(e),t=Number(t),this.ready&&!this.disabled&&this.options.movable&&(p(e)&&(i.left=e,n=!0),p(t)&&(i.top=t,n=!0),n&&this.renderCanvas(!0)),this},zoom:function(e,t){var i=this.canvasData;return e=Number(e),e=e<0?1/(1-e):1+e,this.zoomTo(i.width*e/i.naturalWidth,null,t)},zoomTo:function(e,t,i){var n=this.options,r=this.canvasData,a=r.width,o=r.height,s=r.naturalWidth,l=r.naturalHeight;if((e=Number(e))>=0&&this.ready&&!this.disabled&&n.zoomable){var c=s*e,u=l*e;if(!1===I(this.element,"zoom",{ratio:e,oldRatio:a/s,originalEvent:i}))return this;if(i){var h=this.pointers,d=M(this.cropper),f=h&&Object.keys(h).length?F(h):{pageX:i.pageX,pageY:i.pageY};r.left-=(c-a)*((f.pageX-d.left-r.left)/a),r.top-=(u-o)*((f.pageY-d.top-r.top)/o)}else g(t)&&p(t.x)&&p(t.y)?(r.left-=(c-a)*((t.x-r.left)/a),r.top-=(u-o)*((t.y-r.top)/o)):(r.left-=(c-a)/2,r.top-=(u-o)/2);r.width=c,r.height=u,this.renderCanvas(!0)}return this},rotate:function(e){return this.rotateTo((this.imageData.rotate||0)+Number(e))},rotateTo:function(e){return e=Number(e),p(e)&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=e%360,this.renderCanvas(!0,!0)),this},scaleX:function(e){var t=this.imageData.scaleY;return this.scale(e,p(t)?t:1)},scaleY:function(e){var t=this.imageData.scaleX;return this.scale(p(t)?t:1,e)},scale:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,i=this.imageData,n=!1;return e=Number(e),t=Number(t),this.ready&&!this.disabled&&this.options.scalable&&(p(e)&&(i.scaleX=e,n=!0),p(t)&&(i.scaleY=t,n=!0),n&&this.renderCanvas(!0,!0)),this},getData:function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=this.options,n=this.imageData,r=this.canvasData,a=this.cropBoxData;if(this.ready&&this.cropped){e={x:a.left-r.left,y:a.top-r.top,width:a.width,height:a.height};var o=n.width/n.naturalWidth;if(b(e,function(t,i){e[i]=t/o}),t){var s=Math.round(e.y+e.height),l=Math.round(e.x+e.width);e.x=Math.round(e.x),e.y=Math.round(e.y),e.width=l-e.x,e.height=s-e.y}}else e={x:0,y:0,width:0,height:0};return i.rotatable&&(e.rotate=n.rotate||0),i.scalable&&(e.scaleX=n.scaleX||1,e.scaleY=n.scaleY||1),e},setData:function(e){var t=this.options,i=this.imageData,n=this.canvasData,r={};if(this.ready&&!this.disabled&&g(e)){var a=!1;t.rotatable&&p(e.rotate)&&e.rotate!==i.rotate&&(i.rotate=e.rotate,a=!0),t.scalable&&(p(e.scaleX)&&e.scaleX!==i.scaleX&&(i.scaleX=e.scaleX,a=!0),p(e.scaleY)&&e.scaleY!==i.scaleY&&(i.scaleY=e.scaleY,a=!0)),a&&this.renderCanvas(!0,!0);var o=i.width/i.naturalWidth;p(e.x)&&(r.left=e.x*o+n.left),p(e.y)&&(r.top=e.y*o+n.top),p(e.width)&&(r.width=e.width*o),p(e.height)&&(r.height=e.height*o),this.setCropBoxData(r)}return this},getContainerData:function(){return this.ready?Ee({},this.containerData):{}},getImageData:function(){return this.sized?Ee({},this.imageData):{}},getCanvasData:function(){var e=this.canvasData,t={};return this.ready&&b(["left","top","width","height","naturalWidth","naturalHeight"],function(i){t[i]=e[i]}),t},setCanvasData:function(e){var t=this.canvasData,i=t.aspectRatio;return this.ready&&!this.disabled&&g(e)&&(p(e.left)&&(t.left=e.left),p(e.top)&&(t.top=e.top),p(e.width)?(t.width=e.width,t.height=e.width/i):p(e.height)&&(t.height=e.height,t.width=e.height*i),this.renderCanvas(!0)),this},getCropBoxData:function(){var e,t=this.cropBoxData;return this.ready&&this.cropped&&(e={left:t.left,top:t.top,width:t.width,height:t.height}),e||{}},setCropBoxData:function(e){var t,i,n=this.cropBoxData,r=this.options.aspectRatio;return this.ready&&this.cropped&&!this.disabled&&g(e)&&(p(e.left)&&(n.left=e.left),p(e.top)&&(n.top=e.top),p(e.width)&&e.width!==n.width&&(t=!0,n.width=e.width),p(e.height)&&e.height!==n.height&&(i=!0,n.height=e.height),r&&(t?n.height=n.width/r:i&&(n.width=n.height*r)),this.renderCropBox()),this},getCroppedCanvas:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var t=this.canvasData,i=H(this.image,this.imageData,t,e);if(!this.cropped)return i;var n=this.getData(),r=n.x,a=n.y,o=n.width,l=n.height,c=i.width/Math.floor(t.naturalWidth);1!==c&&(r*=c,a*=c,o*=c,l*=c);var u=o/l,h=U({aspectRatio:u,width:e.maxWidth||1/0,height:e.maxHeight||1/0}),d=U({aspectRatio:u,width:e.minWidth||0,height:e.minHeight||0},"cover"),p=U({aspectRatio:u,width:e.width||(1!==c?i.width:o),height:e.height||(1!==c?i.height:l)}),f=p.width,m=p.height;f=Math.min(h.width,Math.max(d.width,f)),m=Math.min(h.height,Math.max(d.height,m));var g=document.createElement("canvas"),v=g.getContext("2d");g.width=_(f),g.height=_(m),v.fillStyle=e.fillColor||"transparent",v.fillRect(0,0,f,m);var y=e.imageSmoothingEnabled,b=void 0===y||y,A=e.imageSmoothingQuality;v.imageSmoothingEnabled=b,A&&(v.imageSmoothingQuality=A);var E,w,x,T,S,C,k=i.width,O=i.height,P=r,j=a;P<=-o||P>k?(P=0,E=0,x=0,S=0):P<=0?(x=-P,P=0,E=Math.min(k,o+P),S=E):P<=k&&(x=0,E=Math.min(o,k-P),S=E),E<=0||j<=-l||j>O?(j=0,w=0,T=0,C=0):j<=0?(T=-j,j=0,w=Math.min(O,l+j),C=w):j<=O&&(T=0,w=Math.min(l,O-j),C=w);var I=[P,j,E,w];if(S>0&&C>0){var M=f/o;I.push(x*M,T*M,S*M,C*M)}return v.drawImage.apply(v,[i].concat(s(I.map(function(e){return Math.floor(_(e))})))),g},setAspectRatio:function(e){var t=this.options;return this.disabled||f(e)||(t.aspectRatio=Math.max(0,e)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(e){var t=this.options,i=this.dragBox,n=this.face;if(this.ready&&!this.disabled){var r="crop"===e,a=t.movable&&"move"===e;e=r||a?e:"none",t.dragMode=e,k(i,ae,e),T(i,J,r),T(i,re,a),t.cropBoxMovable||(k(n,ae,e),T(n,J,r),T(n,re,a))}return this}},Be=Q.Cropper,Fe=function(){function e(i){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t(this,e),!i||!ge.test(i.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=i,this.options=Ee({},ve,g(n)&&n),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return n(e,[{key:"init",value:function(){var e,t=this.element,i=t.tagName.toLowerCase();if(!t.cropper){if(t.cropper=this,"img"===i){if(this.isImg=!0,e=t.getAttribute("src")||"",this.originalUrl=e,!e)return;e=t.src}else"canvas"===i&&window.HTMLCanvasElement&&(e=t.toDataURL());this.load(e)}}},{key:"load",value:function(e){var t=this;if(e){this.url=e,this.imageData={};var i=this.element,n=this.options;if(n.rotatable||n.scalable||(n.checkOrientation=!1),!n.checkOrientation||!window.ArrayBuffer)return void this.clone();if(fe.test(e))return void(me.test(e)?this.read(G(e)):this.clone());var r=new XMLHttpRequest,a=this.clone.bind(this);this.reloading=!0,this.xhr=r,r.onabort=a,r.onerror=a,r.ontimeout=a,r.onprogress=function(){"image/jpeg"!==r.getResponseHeader("content-type")&&r.abort()},r.onload=function(){t.read(r.response)},r.onloadend=function(){t.reloading=!1,t.xhr=null},n.checkCrossOrigin&&R(e)&&i.crossOrigin&&(e=D(e)),r.open("GET",e),r.responseType="arraybuffer",r.withCredentials="use-credentials"===i.crossOrigin,r.send()}}},{key:"read",value:function(e){var t=this.options,i=this.imageData,n=W(e),r=0,a=1,o=1;if(n>1){this.url=q(e,"image/jpeg");var s=Y(n);r=s.rotate,a=s.scaleX,o=s.scaleY}t.rotatable&&(i.rotate=r),t.scalable&&(i.scaleX=a,i.scaleY=o),this.clone()}},{key:"clone",value:function(){var e=this.element,t=this.url,i=e.crossOrigin,n=t;this.options.checkCrossOrigin&&R(t)&&(i||(i="anonymous"),n=D(t)),this.crossOrigin=i,this.crossOriginUrl=n;var r=document.createElement("img");i&&(r.crossOrigin=i),r.src=n||t,r.alt=e.alt||"The image to crop",this.image=r,r.onload=this.start.bind(this),r.onerror=this.stop.bind(this),w(r,te),e.parentNode.insertBefore(r,e.nextSibling)}},{key:"start",value:function(){var e=this,t=this.image;t.onload=null,t.onerror=null,this.sizing=!0;var i=Q.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(Q.navigator.userAgent),n=function(t,i){Ee(e.imageData,{naturalWidth:t,naturalHeight:i,aspectRatio:t/i}),e.sizing=!1,e.sized=!0,e.build()};if(t.naturalWidth&&!i)return void n(t.naturalWidth,t.naturalHeight);var r=document.createElement("img"),a=document.body||document.documentElement;this.sizingImage=r,r.onload=function(){n(r.width,r.height),i||a.removeChild(r)},r.src=t.src,i||(r.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",a.appendChild(r))}},{key:"stop",value:function(){var e=this.image;e.onload=null,e.onerror=null,e.parentNode.removeChild(e),this.image=null}},{key:"build",value:function(){if(this.sized&&!this.ready){var e=this.element,t=this.options,i=this.image,n=e.parentNode,r=document.createElement("div");r.innerHTML='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>';var a=r.querySelector(".".concat("cropper","-container")),o=a.querySelector(".".concat("cropper","-canvas")),s=a.querySelector(".".concat("cropper","-drag-box")),l=a.querySelector(".".concat("cropper","-crop-box")),c=l.querySelector(".".concat("cropper","-face"));this.container=n,this.cropper=a,this.canvas=o,this.dragBox=s,this.cropBox=l,this.viewBox=a.querySelector(".".concat("cropper","-view-box")),this.face=c,o.appendChild(i),w(e,ee),n.insertBefore(a,e.nextSibling),this.isImg||x(i,te),this.initPreview(),this.bind(),t.initialAspectRatio=Math.max(0,t.initialAspectRatio)||NaN,t.aspectRatio=Math.max(0,t.aspectRatio)||NaN,t.viewMode=Math.max(0,Math.min(3,Math.round(t.viewMode)))||0,w(l,ee),t.guides||w(l.getElementsByClassName("".concat("cropper","-dashed")),ee),t.center||w(l.getElementsByClassName("".concat("cropper","-center")),ee),t.background&&w(a,"".concat("cropper","-bg")),t.highlight||w(c,ie),t.cropBoxMovable&&(w(c,re),k(c,ae,"all")),t.cropBoxResizable||(w(l.getElementsByClassName("".concat("cropper","-line")),ee),w(l.getElementsByClassName("".concat("cropper","-point")),ee)),this.render(),this.ready=!0,this.setDragMode(t.dragMode),t.autoCrop&&this.crop(),this.setData(t.data),v(t.ready)&&j(e,"ready",t.ready,{once:!0}),I(e,"ready")}}},{key:"unbuild",value:function(){this.ready&&(this.ready=!1,this.unbind(),this.resetPreview(),this.cropper.parentNode.removeChild(this.cropper),x(this.element,ee))}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=Be,e}},{key:"setDefaults",value:function(e){Ee(ve,g(e)&&e)}}]),e}();return Ee(Fe.prototype,Ie,Me,Re,De,Le,Ne),Fe})},1633:function(e,t,i){var n=i(1634);"string"===typeof n&&(n=[[e.i,n,""]]);var r={hmr:!1};r.transform=void 0;i(71)(n,r);n.locals&&(e.exports=n.locals)},1634:function(e,t,i){t=e.exports=i(1356)(!0),t.push([e.i,'/*!\n * Cropper.js v1.5.7\n * https://fengyuanchen.github.io/cropperjs\n *\n * Copyright 2015-present Chen Fengyuan\n * Released under the MIT license\n *\n * Date: 2020-05-23T05:22:57.283Z\n */.cropper-container{direction:ltr;font-size:0;line-height:0;position:relative;-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.cropper-container img{display:block;height:100%;image-orientation:0deg;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;width:100%}.cropper-canvas,.cropper-crop-box,.cropper-drag-box,.cropper-modal,.cropper-wrap-box{bottom:0;left:0;position:absolute;right:0;top:0}.cropper-canvas,.cropper-wrap-box{overflow:hidden}.cropper-drag-box{background-color:#fff;opacity:0}.cropper-modal{background-color:#000;opacity:.5}.cropper-view-box{display:block;height:100%;outline:1px solid #39f;outline-color:rgba(51,153,255,.75);overflow:hidden;width:100%}.cropper-dashed{border:0 dashed #eee;display:block;opacity:.5;position:absolute}.cropper-dashed.dashed-h{border-bottom-width:1px;border-top-width:1px;height:33.33333%;left:0;top:33.33333%;width:100%}.cropper-dashed.dashed-v{border-left-width:1px;border-right-width:1px;height:100%;left:33.33333%;top:0;width:33.33333%}.cropper-center{display:block;height:0;left:50%;opacity:.75;position:absolute;top:50%;width:0}.cropper-center:after,.cropper-center:before{background-color:#eee;content:" ";display:block;position:absolute}.cropper-center:before{height:1px;left:-3px;top:0;width:7px}.cropper-center:after{height:7px;left:0;top:-3px;width:1px}.cropper-face,.cropper-line,.cropper-point{display:block;height:100%;opacity:.1;position:absolute;width:100%}.cropper-face{background-color:#fff;left:0;top:0}.cropper-line{background-color:#39f}.cropper-line.line-e{cursor:ew-resize;right:-3px;top:0;width:5px}.cropper-line.line-n{cursor:ns-resize;height:5px;left:0;top:-3px}.cropper-line.line-w{cursor:ew-resize;left:-3px;top:0;width:5px}.cropper-line.line-s{bottom:-3px;cursor:ns-resize;height:5px;left:0}.cropper-point{background-color:#39f;height:5px;opacity:.75;width:5px}.cropper-point.point-e{cursor:ew-resize;margin-top:-3px;right:-3px;top:50%}.cropper-point.point-n{cursor:ns-resize;left:50%;margin-left:-3px;top:-3px}.cropper-point.point-w{cursor:ew-resize;left:-3px;margin-top:-3px;top:50%}.cropper-point.point-s{bottom:-3px;cursor:s-resize;left:50%;margin-left:-3px}.cropper-point.point-ne{cursor:nesw-resize;right:-3px;top:-3px}.cropper-point.point-nw{cursor:nwse-resize;left:-3px;top:-3px}.cropper-point.point-sw{bottom:-3px;cursor:nesw-resize;left:-3px}.cropper-point.point-se{bottom:-3px;cursor:nwse-resize;height:20px;opacity:1;right:-3px;width:20px}@media (min-width:768px){.cropper-point.point-se{height:15px;width:15px}}@media (min-width:992px){.cropper-point.point-se{height:10px;width:10px}}@media (min-width:1200px){.cropper-point.point-se{height:5px;opacity:.75;width:5px}}.cropper-point.point-se:before{background-color:#39f;bottom:-50%;content:" ";display:block;height:200%;opacity:0;position:absolute;right:-50%;width:200%}.cropper-invisible{opacity:0}.cropper-bg{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAQMAAAAlPW0iAAAAA3NCSVQICAjb4U/gAAAABlBMVEXMzMz////TjRV2AAAACXBIWXMAAArrAAAK6wGCiw1aAAAAHHRFWHRTb2Z0d2FyZQBBZG9iZSBGaXJld29ya3MgQ1M26LyyjAAAABFJREFUCJlj+M/AgBVhF/0PAH6/D/HkDxOGAAAAAElFTkSuQmCC")}.cropper-hide{display:block;height:0;position:absolute;width:0}.cropper-hidden{display:none!important}.cropper-move{cursor:move}.cropper-crop{cursor:crosshair}.cropper-disabled .cropper-drag-box,.cropper-disabled .cropper-face,.cropper-disabled .cropper-line,.cropper-disabled .cropper-point{cursor:not-allowed}',"",{version:3,sources:["/Users/taike/Desktop/taike_web/icutter-web/node_modules/cropperjs/dist/cropper.css"],names:[],mappings:"AAAA;;;;;;;;GAQG,AAEH,mBACE,cAAe,AACf,YAAa,AACb,cAAe,AACf,kBAAmB,AACnB,sBAAuB,AACvB,kBAAmB,AACnB,yBAA0B,AAC1B,sBAAuB,AACvB,qBAAsB,AACtB,gBAAkB,CACnB,AAED,uBACE,cAAe,AACf,YAAa,AACb,uBAAwB,AACxB,0BAA4B,AAC5B,yBAA2B,AAC3B,uBAAyB,AACzB,sBAAwB,AACxB,UAAY,CACb,AAED,qFAKE,SAAU,AACV,OAAQ,AACR,kBAAmB,AACnB,QAAS,AACT,KAAO,CACR,AAED,kCAEE,eAAiB,CAClB,AAED,kBACE,sBAAuB,AACvB,SAAW,CACZ,AAED,eACE,sBAAuB,AACvB,UAAa,CACd,AAED,kBACE,cAAe,AACf,YAAa,AACb,uBAAwB,AACxB,mCAAwC,AACxC,gBAAiB,AACjB,UAAY,CACb,AAED,gBACE,qBAAsB,AACtB,cAAe,AACf,WAAa,AACb,iBAAmB,CACpB,AAED,yBACE,wBAAyB,AACzB,qBAAsB,AACtB,iBAAuB,AACvB,OAAQ,AACR,cAAoB,AACpB,UAAY,CACb,AAED,yBACE,sBAAuB,AACvB,uBAAwB,AACxB,YAAa,AACb,eAAqB,AACrB,MAAO,AACP,eAAsB,CACvB,AAED,gBACE,cAAe,AACf,SAAU,AACV,SAAU,AACV,YAAc,AACd,kBAAmB,AACnB,QAAS,AACT,OAAS,CACV,AAED,6CAEE,sBAAuB,AACvB,YAAa,AACb,cAAe,AACf,iBAAmB,CACpB,AAED,uBACE,WAAY,AACZ,UAAW,AACX,MAAO,AACP,SAAW,CACZ,AAED,sBACE,WAAY,AACZ,OAAQ,AACR,SAAU,AACV,SAAW,CACZ,AAED,2CAGE,cAAe,AACf,YAAa,AACb,WAAa,AACb,kBAAmB,AACnB,UAAY,CACb,AAED,cACE,sBAAuB,AACvB,OAAQ,AACR,KAAO,CACR,AAED,cACE,qBAAuB,CACxB,AAED,qBACE,iBAAkB,AAClB,WAAY,AACZ,MAAO,AACP,SAAW,CACZ,AAED,qBACE,iBAAkB,AAClB,WAAY,AACZ,OAAQ,AACR,QAAU,CACX,AAED,qBACE,iBAAkB,AAClB,UAAW,AACX,MAAO,AACP,SAAW,CACZ,AAED,qBACE,YAAa,AACb,iBAAkB,AAClB,WAAY,AACZ,MAAQ,CACT,AAED,eACE,sBAAuB,AACvB,WAAY,AACZ,YAAc,AACd,SAAW,CACZ,AAED,uBACE,iBAAkB,AAClB,gBAAiB,AACjB,WAAY,AACZ,OAAS,CACV,AAED,uBACE,iBAAkB,AAClB,SAAU,AACV,iBAAkB,AAClB,QAAU,CACX,AAED,uBACE,iBAAkB,AAClB,UAAW,AACX,gBAAiB,AACjB,OAAS,CACV,AAED,uBACE,YAAa,AACb,gBAAiB,AACjB,SAAU,AACV,gBAAkB,CACnB,AAED,wBACE,mBAAoB,AACpB,WAAY,AACZ,QAAU,CACX,AAED,wBACE,mBAAoB,AACpB,UAAW,AACX,QAAU,CACX,AAED,wBACE,YAAa,AACb,mBAAoB,AACpB,SAAW,CACZ,AAED,wBACE,YAAa,AACb,mBAAoB,AACpB,YAAa,AACb,UAAW,AACX,WAAY,AACZ,UAAY,CACb,AAED,yBACE,wBACE,YAAa,AACb,UAAY,CACb,CACF,AAED,yBACE,wBACE,YAAa,AACb,UAAY,CACb,CACF,AAED,0BACE,wBACE,WAAY,AACZ,YAAc,AACd,SAAW,CACZ,CACF,AAED,+BACE,sBAAuB,AACvB,YAAa,AACb,YAAa,AACb,cAAe,AACf,YAAa,AACb,UAAW,AACX,kBAAmB,AACnB,WAAY,AACZ,UAAY,CACb,AAED,mBACE,SAAW,CACZ,AAED,YACE,8QAAgR,CACjR,AAED,cACE,cAAe,AACf,SAAU,AACV,kBAAmB,AACnB,OAAS,CACV,AAED,gBACE,sBAAyB,CAC1B,AAED,cACE,WAAa,CACd,AAED,cACE,gBAAkB,CACnB,AAED,qIAIE,kBAAoB,CACrB",file:"cropper.css",sourcesContent:["/*!\n * Cropper.js v1.5.7\n * https://fengyuanchen.github.io/cropperjs\n *\n * Copyright 2015-present Chen Fengyuan\n * Released under the MIT license\n *\n * Date: 2020-05-23T05:22:57.283Z\n */\n\n.cropper-container {\n  direction: ltr;\n  font-size: 0;\n  line-height: 0;\n  position: relative;\n  -ms-touch-action: none;\n  touch-action: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n\n.cropper-container img {\n  display: block;\n  height: 100%;\n  image-orientation: 0deg;\n  max-height: none !important;\n  max-width: none !important;\n  min-height: 0 !important;\n  min-width: 0 !important;\n  width: 100%;\n}\n\n.cropper-wrap-box,\n.cropper-canvas,\n.cropper-drag-box,\n.cropper-crop-box,\n.cropper-modal {\n  bottom: 0;\n  left: 0;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.cropper-wrap-box,\n.cropper-canvas {\n  overflow: hidden;\n}\n\n.cropper-drag-box {\n  background-color: #fff;\n  opacity: 0;\n}\n\n.cropper-modal {\n  background-color: #000;\n  opacity: 0.5;\n}\n\n.cropper-view-box {\n  display: block;\n  height: 100%;\n  outline: 1px solid #39f;\n  outline-color: rgba(51, 153, 255, 0.75);\n  overflow: hidden;\n  width: 100%;\n}\n\n.cropper-dashed {\n  border: 0 dashed #eee;\n  display: block;\n  opacity: 0.5;\n  position: absolute;\n}\n\n.cropper-dashed.dashed-h {\n  border-bottom-width: 1px;\n  border-top-width: 1px;\n  height: calc(100% / 3);\n  left: 0;\n  top: calc(100% / 3);\n  width: 100%;\n}\n\n.cropper-dashed.dashed-v {\n  border-left-width: 1px;\n  border-right-width: 1px;\n  height: 100%;\n  left: calc(100% / 3);\n  top: 0;\n  width: calc(100% / 3);\n}\n\n.cropper-center {\n  display: block;\n  height: 0;\n  left: 50%;\n  opacity: 0.75;\n  position: absolute;\n  top: 50%;\n  width: 0;\n}\n\n.cropper-center::before,\n.cropper-center::after {\n  background-color: #eee;\n  content: ' ';\n  display: block;\n  position: absolute;\n}\n\n.cropper-center::before {\n  height: 1px;\n  left: -3px;\n  top: 0;\n  width: 7px;\n}\n\n.cropper-center::after {\n  height: 7px;\n  left: 0;\n  top: -3px;\n  width: 1px;\n}\n\n.cropper-face,\n.cropper-line,\n.cropper-point {\n  display: block;\n  height: 100%;\n  opacity: 0.1;\n  position: absolute;\n  width: 100%;\n}\n\n.cropper-face {\n  background-color: #fff;\n  left: 0;\n  top: 0;\n}\n\n.cropper-line {\n  background-color: #39f;\n}\n\n.cropper-line.line-e {\n  cursor: ew-resize;\n  right: -3px;\n  top: 0;\n  width: 5px;\n}\n\n.cropper-line.line-n {\n  cursor: ns-resize;\n  height: 5px;\n  left: 0;\n  top: -3px;\n}\n\n.cropper-line.line-w {\n  cursor: ew-resize;\n  left: -3px;\n  top: 0;\n  width: 5px;\n}\n\n.cropper-line.line-s {\n  bottom: -3px;\n  cursor: ns-resize;\n  height: 5px;\n  left: 0;\n}\n\n.cropper-point {\n  background-color: #39f;\n  height: 5px;\n  opacity: 0.75;\n  width: 5px;\n}\n\n.cropper-point.point-e {\n  cursor: ew-resize;\n  margin-top: -3px;\n  right: -3px;\n  top: 50%;\n}\n\n.cropper-point.point-n {\n  cursor: ns-resize;\n  left: 50%;\n  margin-left: -3px;\n  top: -3px;\n}\n\n.cropper-point.point-w {\n  cursor: ew-resize;\n  left: -3px;\n  margin-top: -3px;\n  top: 50%;\n}\n\n.cropper-point.point-s {\n  bottom: -3px;\n  cursor: s-resize;\n  left: 50%;\n  margin-left: -3px;\n}\n\n.cropper-point.point-ne {\n  cursor: nesw-resize;\n  right: -3px;\n  top: -3px;\n}\n\n.cropper-point.point-nw {\n  cursor: nwse-resize;\n  left: -3px;\n  top: -3px;\n}\n\n.cropper-point.point-sw {\n  bottom: -3px;\n  cursor: nesw-resize;\n  left: -3px;\n}\n\n.cropper-point.point-se {\n  bottom: -3px;\n  cursor: nwse-resize;\n  height: 20px;\n  opacity: 1;\n  right: -3px;\n  width: 20px;\n}\n\n@media (min-width: 768px) {\n  .cropper-point.point-se {\n    height: 15px;\n    width: 15px;\n  }\n}\n\n@media (min-width: 992px) {\n  .cropper-point.point-se {\n    height: 10px;\n    width: 10px;\n  }\n}\n\n@media (min-width: 1200px) {\n  .cropper-point.point-se {\n    height: 5px;\n    opacity: 0.75;\n    width: 5px;\n  }\n}\n\n.cropper-point.point-se::before {\n  background-color: #39f;\n  bottom: -50%;\n  content: ' ';\n  display: block;\n  height: 200%;\n  opacity: 0;\n  position: absolute;\n  right: -50%;\n  width: 200%;\n}\n\n.cropper-invisible {\n  opacity: 0;\n}\n\n.cropper-bg {\n  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAQMAAAAlPW0iAAAAA3NCSVQICAjb4U/gAAAABlBMVEXMzMz////TjRV2AAAACXBIWXMAAArrAAAK6wGCiw1aAAAAHHRFWHRTb2Z0d2FyZQBBZG9iZSBGaXJld29ya3MgQ1M26LyyjAAAABFJREFUCJlj+M/AgBVhF/0PAH6/D/HkDxOGAAAAAElFTkSuQmCC');\n}\n\n.cropper-hide {\n  display: block;\n  height: 0;\n  position: absolute;\n  width: 0;\n}\n\n.cropper-hidden {\n  display: none !important;\n}\n\n.cropper-move {\n  cursor: move;\n}\n\n.cropper-crop {\n  cursor: crosshair;\n}\n\n.cropper-disabled .cropper-drag-box,\n.cropper-disabled .cropper-face,\n.cropper-disabled .cropper-line,\n.cropper-disabled .cropper-point {\n  cursor: not-allowed;\n}\n"],sourceRoot:""}])}});
//# sourceMappingURL=0.d3dc2102.chunk.js.map